=================================================
Punto de venta adaptado a la legislación española
=================================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:58ee25e2b87c19728b5e42bf5406d8c09d1493ed61256017e38088e9e3bcda09
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--spain-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-spain/tree/16.0/l10n_es_pos
    :alt: OCA/l10n-spain
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-spain-16-0/l10n-spain-16-0-l10n_es_pos
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-spain&target_branch=16.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

* Adapta el terminal punto de venta a la legislación Española (no se permite la
  emisión de tiquets, todo deben ser facturas o facturas simplificadas con
  numeración)
* Adapta el ticket de venta a la factura simplificada, añadiendo una secuencia
  correlativa y el NIF del emisor.
* Incluye los datos del cliente (nombre, NIF y dirección) si hay uno asignado.
* Chequea que no se realice una factura simplificada con valor
  superior a 3.000 euros (la cantidad es configurable por TPV).

**Table of contents**

.. contents::
   :local:

Installation
============

Antes de instalar el módulo, podemos definir el relleno y el prefijo automático
en *Configuración > Parámetros del sistema*:

- `l10n_es_pos.simplified_invoice_sequence.padding` (o 4 cifras por defecto)
- `l10n_es_pos.simplified_invoice_sequence.prefix` (nombre del TPV más este
  valor)

Al instalarse el módulo, se define una secuencia para factura simplificada por
cada TPV existente.

Configuration
=============

Para activar la factura simplificada en un TPV, iremos a
*Punto de Venta > Configuración > Punto de Venta* y escogeremos uno de la
lista. En la sección *Facturación y recibos* activaremos la opción
*Secuencia de Factura Simplificada*. Podemos configurar el límite a partir del
cual no se considera factura simplificada, que por defecto es 3.000,00 €.

Si entramos en la configuración del TPV en modo debug, podremos también
configurar la sequencia asociada al TPV.

`Ver enlace de la AEAT <https://www.agenciatributaria.es/AEAT.internet/Inicio/_Segmentos_/Empresas_y_profesionales/Empresas/IVA/Obligaciones_de_facturacion/Tipos_de_factura.shtml>`_

Known issues / Roadmap
======================

* No se comprueba el límite en operaciones separadas para un mismo cliente, algo
  que Hacienda proscribe.
* El soporte para usuarios concurrentes sobre una misma sesión es limitado y solo es
  fiable si ambos puestos están online. En el caso de que cualquiera de ellos estuviese
  offline, se correría el riesgo de solapar la secuencia de factura simplificada. Se
  recomienda que en estos casos se añada mejor una configuración de punto de venta
  adicional.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-spain/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-spain/issues/new?body=module:%20l10n_es_pos%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Tecnativa
* Aselcis Consulting
* Acysos S.L.

Contributors
~~~~~~~~~~~~

* `Antiun <https://www.antiun.com>`_:

  * Endika Iglesias <endikaig@antiun.com>

* `Aselcis <https://www.aselcis.com>`_:

  * David Gómez <david.gomez@aselcis.com>
  * Miguel Paraíso <miguel.paraiso@aselcis.com>

* `Acysos <https://www.acysos.com>`_:

  * Ignacio Ibeas <ignacio@acysos.com>

* `Tecnativa <https://www.tecnativa.com>`_:

  * David Vidal
  * Pedro M. Baeza
  * Antonio Espinosa
  * Rafael Blasco
  * Carlos Roca
  * João Marques

* `Sygel <https://www.sygel.es>`_:

  * Manuel Regidor

* `Factor Libre <https://factorlibre.com/>`_:

  * Daniel Duque <daniel.duque@factorlibre.com>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/l10n-spain <https://github.com/OCA/l10n-spain/tree/16.0/l10n_es_pos>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
