====================
Delivery CTT Express
====================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--spain-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-spain/tree/12.0/delivery_cttexpress
    :alt: OCA/l10n-spain
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-spain-12-0/l10n-spain-12-0-delivery_cttexpress
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/189/12.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5| 

Este módulo integra la API de CTT Express con Odoo.

**Table of contents**

.. contents::
   :local:

Installation
============

Este módulo necesita la librería python `zeep` y depende igualmente de los
módulos de OCA/delivery-carrier `delivery_package_number` y `delivery_state`.

La API de CTT Express no provee métodos de cálculo de precio, de modo que para poder
calcular los costes de envío sería recomendable instalar el módulo
`delivery_price_method`.

Configuration
=============

Para configurar tus servicios CTT Express, debes ir a:

#. Inventario/Ventas > Configuración > Métodos de envío y crear uno nuevo.
#. Escoger CTT Express como proveedor.
#. Configurar las credenciales suministradas por CTT Express: contrato, agencia,
   código de cliente, usuario y contraseña.
#. Configurar el formato de etiqueta deseado:
   
   - Single: Formato PDF térmica.
   - MULTI1: Formato folio 1 etiqueta por folio.
   - MULTI3: Folio en vertical de tres cuerpos adhesivos.
   - MULTI4: Folio en horizontal de cuatro cuerpos adhesivos.
#. Configurar el servicio deseado.
#. Si quisiésemos varios métodos de envío con varios servicios, podemos duplicar el
   métodos de envío y escoger ese nuevo.

Usage
=====

Como con otros módulos que implementan APIs externas de métodos de envío, las
expedeciones se generan al validar un albarán cuyo transportista sea el del
proveedor implementado en este módulo.

En caso de que se borrase el adjunto de la etiqueta, se puede generar de nuevo
desde el propio albarán pulsando el botón *Etiqueta CTT Express*. Esta quedará adjunta
al documento.

Si se desea cancelar la expedición, como con otros transportistas, iremos a la pestaña
de *Información adicional* y pulsaremos el botón *Cancelar envío* que encontraremos
junto al número de seguimiento en el partado de *Información de envío*.

Para imprimir el manifiesto de envíos entre fechas concretas:

#. Vamos a *Inventario > Informes > Manifiest CTT Express*.
#. En el asistente, configuramos el formato (Excel o PDF) y las fechas a abarcar.
#. Podemos filtrar métodos de envío si tuviésemos distintas cuentas o pulsar
   *Generar manifiesto* para obtener el archivo o archivos.

Para hacer una solicitud de recogida programada:

#. Vamos al método de envío a cuya cuenta queremos programar la recogida y pinchamos
   en el botón de *Solicitud de recogida*.
#. En el asistente, seleccionamos la fecha y las horas mínima y máxima.
#. Al pulsar el botón *Solicitar recogida* se generará el código de recogida, que
   podemos copiar y conservar por si hubiese cualquier incidencia con ésta.

Known issues / Roadmap
======================

* Se utiliza el Sistema Ibérico, que es una API cuyos envíos están restringidos
  a España, Portugal y Andorra. En el futuro, si la API se sigue desarrollando,
  se podrán implementar las condiciones que permitan otros destinos.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-spain/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-spain/issues/new?body=module:%20delivery_cttexpress%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Tecnativa

Contributors
~~~~~~~~~~~~

* `Tecnativa <https://www.tecnativa.com>`_:

  * David Vidal

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/l10n-spain <https://github.com/OCA/l10n-spain/tree/12.0/delivery_cttexpress>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
