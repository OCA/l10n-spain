(function(){/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <http://feross.org>
 @license  MIT
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(Q){var E=0;return function(){return E<Q.length?{done:!1,value:Q[E++]}:{done:!0}}};$jscomp.arrayIterator=function(Q){return{next:$jscomp.arrayIteratorImpl(Q)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(Q,E,C){if(Q==Array.prototype||Q==Object.prototype)return Q;Q[E]=C.value;return Q};$jscomp.getGlobal=function(Q){Q=["object"==typeof globalThis&&globalThis,Q,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var E=0;E<Q.length;++E){var C=Q[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(Q,E){var C=$jscomp.propertyToPolyfillSymbol[E];if(null==C)return Q[E];C=Q[C];return void 0!==C?C:Q[E]};
$jscomp.polyfill=function(Q,E,C,u){E&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(Q,E,C,u):$jscomp.polyfillUnisolated(Q,E,C,u))};$jscomp.polyfillUnisolated=function(Q,E,C,u){C=$jscomp.global;Q=Q.split(".");for(u=0;u<Q.length-1;u++){var I=Q[u];if(!(I in C))return;C=C[I]}Q=Q[Q.length-1];u=C[Q];E=E(u);E!=u&&null!=E&&$jscomp.defineProperty(C,Q,{configurable:!0,writable:!0,value:E})};
$jscomp.polyfillIsolated=function(Q,E,C,u){var I=Q.split(".");Q=1===I.length;u=I[0];u=!Q&&u in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var V=0;V<I.length-1;V++){var q=I[V];if(!(q in u))return;u=u[q]}I=I[I.length-1];C=$jscomp.IS_SYMBOL_NATIVE&&"es6"===C?u[I]:null;E=E(C);null!=E&&(Q?$jscomp.defineProperty($jscomp.polyfills,I,{configurable:!0,writable:!0,value:E}):E!==C&&(void 0===$jscomp.propertyToPolyfillSymbol[I]&&($jscomp.propertyToPolyfillSymbol[I]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(I):
$jscomp.POLYFILL_PREFIX+I),$jscomp.defineProperty(u,$jscomp.propertyToPolyfillSymbol[I],{configurable:!0,writable:!0,value:E})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(Q){if(Q)return Q;var E=function(I,V){this.$jscomp$symbol$id_=I;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:V})};E.prototype.toString=function(){return this.$jscomp$symbol$id_};var C=0,u=function(I){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new E("jscomp_symbol_"+(I||"")+"_"+C++,I)};return u},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(Q){if(Q)return Q;Q=Symbol("Symbol.iterator");for(var E="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),C=0;C<E.length;C++){var u=$jscomp.global[E[C]];"function"===typeof u&&"function"!=typeof u.prototype[Q]&&$jscomp.defineProperty(u.prototype,Q,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return Q},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(Q){return Q?Q:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(Q){Q={next:Q};Q[Symbol.iterator]=function(){return this};return Q};$jscomp.createTemplateTagFirstArg=function(Q){return Q.raw=Q};$jscomp.createTemplateTagFirstArgWithRaw=function(Q,E){Q.raw=E;return Q};$jscomp.makeIterator=function(Q){var E="undefined"!=typeof Symbol&&Symbol.iterator&&Q[Symbol.iterator];return E?E.call(Q):$jscomp.arrayIterator(Q)};
$jscomp.arrayFromIterator=function(Q){for(var E,C=[];!(E=Q.next()).done;)C.push(E.value);return C};$jscomp.arrayFromIterable=function(Q){return Q instanceof Array?Q:$jscomp.arrayFromIterator($jscomp.makeIterator(Q))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(Q){var E=function(){};E.prototype=Q;return new E};
$jscomp.getConstructImplementation=function(){function Q(){function C(){}new C;Reflect.construct(C,[],function(){});return new C instanceof C}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(Q())return Reflect.construct;var E=Reflect.construct;return function(C,u,I){C=E(C,u);I&&Reflect.setPrototypeOf(C,I.prototype);return C}}return function(C,u,I){void 0===I&&(I=C);I=$jscomp.objectCreate(I.prototype||Object.prototype);return Function.prototype.apply.call(C,I,u)||
I}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var Q={a:!0},E={};try{return E.__proto__=Q,E.a}catch(C){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(Q,E){Q.__proto__=E;if(Q.__proto__!==E)throw new TypeError(Q+" is not extensible");return Q}:null;
$jscomp.inherits=function(Q,E){Q.prototype=$jscomp.objectCreate(E.prototype);Q.prototype.constructor=Q;if($jscomp.setPrototypeOf){var C=$jscomp.setPrototypeOf;C(Q,E)}else for(C in E)if("prototype"!=C)if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(E,C);u&&Object.defineProperty(Q,C,u)}else Q[C]=E[C];Q.superClass_=E.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(Q){if(!(Q instanceof Object))throw new TypeError("Iterator result "+Q+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(Q){this.yieldResult=Q};
$jscomp.generator.Context.prototype.throw_=function(Q){this.abruptCompletion_={exception:Q,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(Q){this.abruptCompletion_={return:Q};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(Q){this.abruptCompletion_={jumpTo:Q};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(Q,E){this.nextAddress=E;return{value:Q}};
$jscomp.generator.Context.prototype.yieldAll=function(Q,E){Q=$jscomp.makeIterator(Q);var C=Q.next();$jscomp.generator.ensureIteratorResultIsObject_(C);if(C.done)this.yieldResult=C.value,this.nextAddress=E;else return this.yieldAllIterator_=Q,this.yield(C.value,E)};$jscomp.generator.Context.prototype.jumpTo=function(Q){this.nextAddress=Q};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(Q,E){this.catchAddress_=Q;void 0!=E&&(this.finallyAddress_=E)};$jscomp.generator.Context.prototype.setFinallyBlock=function(Q){this.catchAddress_=0;this.finallyAddress_=Q||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(Q,E){this.nextAddress=Q;this.catchAddress_=E||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(Q){this.catchAddress_=Q||0;Q=this.abruptCompletion_.exception;this.abruptCompletion_=null;return Q};$jscomp.generator.Context.prototype.enterFinallyBlock=function(Q,E,C){C?this.finallyContexts_[C]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=Q||0;this.finallyAddress_=E||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(Q,E){E=this.finallyContexts_.splice(E||0)[0];if(E=this.abruptCompletion_=this.abruptCompletion_||E){if(E.isException)return this.jumpToErrorHandler_();void 0!=E.jumpTo&&this.finallyAddress_<E.jumpTo?(this.nextAddress=E.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=Q};$jscomp.generator.Context.prototype.forIn=function(Q){return new $jscomp.generator.Context.PropertyIterator(Q)};
$jscomp.generator.Context.PropertyIterator=function(Q){this.object_=Q;this.properties_=[];for(var E in Q)this.properties_.push(E);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var Q=this.properties_.pop();if(Q in this.object_)return Q}return null};$jscomp.generator.Engine_=function(Q){this.context_=new $jscomp.generator.Context;this.program_=Q};
$jscomp.generator.Engine_.prototype.next_=function(Q){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,Q,this.context_.next_);this.context_.next_(Q);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(Q){this.context_.start_();var E=this.context_.yieldAllIterator_;if(E)return this.yieldAllStep_("return"in E?E["return"]:function(C){return{value:C,done:!0}},Q,this.context_.return);this.context_.return(Q);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(Q){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],Q,this.context_.next_);this.context_.throw_(Q);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(Q,E,C){try{var u=Q.call(this.context_.yieldAllIterator_,E);$jscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var I=u.value}catch(V){return this.context_.yieldAllIterator_=null,this.context_.throw_(V),this.nextStep_()}this.context_.yieldAllIterator_=null;C.call(this.context_,I);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var Q=this.program_(this.context_);if(Q)return this.context_.stop_(),{value:Q.value,done:!1}}catch(E){this.context_.yieldResult=void 0,this.context_.throw_(E)}this.context_.stop_();if(this.context_.abruptCompletion_){Q=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(Q.isException)throw Q.exception;return{value:Q.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(Q){this.next=function(E){return Q.next_(E)};this.throw=function(E){return Q.throw_(E)};this.return=function(E){return Q.return_(E)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(Q,E){E=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(E));$jscomp.setPrototypeOf&&Q.prototype&&$jscomp.setPrototypeOf(E,Q.prototype);return E};
$jscomp.asyncExecutePromiseGenerator=function(Q){function E(u){return Q.next(u)}function C(u){return Q.throw(u)}return new Promise(function(u,I){function V(q){q.done?u(q.value):Promise.resolve(q.value).then(E,C).then(V,I)}V(Q.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(Q){return $jscomp.asyncExecutePromiseGenerator(Q())};$jscomp.asyncExecutePromiseGeneratorProgram=function(Q){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(Q)))};
$jscomp.polyfill("Reflect",function(Q){return Q?Q:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(Q){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(Q){if(Q)return Q;if($jscomp.setPrototypeOf){var E=$jscomp.setPrototypeOf;return function(C,u){try{return E(C,u),!0}catch(I){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Promise",function(Q){function E(){this.batch_=null}function C(q){return q instanceof I?q:new I(function(f,k){f(q)})}if(Q&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return Q;E.prototype.asyncExecute=function(q){if(null==this.batch_){this.batch_=[];var f=this;this.asyncExecuteFunction(function(){f.executeBatch_()})}this.batch_.push(q)};
var u=$jscomp.global.setTimeout;E.prototype.asyncExecuteFunction=function(q){u(q,0)};E.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var q=this.batch_;this.batch_=[];for(var f=0;f<q.length;++f){var k=q[f];q[f]=null;try{k()}catch(d){this.asyncThrow_(d)}}}this.batch_=null};E.prototype.asyncThrow_=function(q){this.asyncExecuteFunction(function(){throw q;})};var I=function(q){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var f=this.createResolveAndReject_();
try{q(f.resolve,f.reject)}catch(k){f.reject(k)}};I.prototype.createResolveAndReject_=function(){function q(d){return function(g){k||(k=!0,d.call(f,g))}}var f=this,k=!1;return{resolve:q(this.resolveTo_),reject:q(this.reject_)}};I.prototype.resolveTo_=function(q){if(q===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(q instanceof I)this.settleSameAsPromise_(q);else{a:switch(typeof q){case "object":var f=null!=q;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(q):
this.fulfill_(q)}};I.prototype.resolveToNonPromiseObj_=function(q){var f=void 0;try{f=q.then}catch(k){this.reject_(k);return}"function"==typeof f?this.settleSameAsThenable_(f,q):this.fulfill_(q)};I.prototype.reject_=function(q){this.settle_(2,q)};I.prototype.fulfill_=function(q){this.settle_(1,q)};I.prototype.settle_=function(q,f){if(0!=this.state_)throw Error("Cannot settle("+q+", "+f+"): Promise already settled in state"+this.state_);this.state_=q;this.result_=f;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};I.prototype.scheduleUnhandledRejectionCheck_=function(){var q=this;u(function(){if(q.notifyUnhandledRejection_()){var f=$jscomp.global.console;"undefined"!==typeof f&&f.error(q.result_)}},1)};I.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var q=$jscomp.global.CustomEvent,f=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof q?q=new q("unhandledrejection",{cancelable:!0}):
"function"===typeof f?q=new f("unhandledrejection",{cancelable:!0}):(q=$jscomp.global.document.createEvent("CustomEvent"),q.initCustomEvent("unhandledrejection",!1,!0,q));q.promise=this;q.reason=this.result_;return k(q)};I.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var q=0;q<this.onSettledCallbacks_.length;++q)V.asyncExecute(this.onSettledCallbacks_[q]);this.onSettledCallbacks_=null}};var V=new E;I.prototype.settleSameAsPromise_=function(q){var f=this.createResolveAndReject_();
q.callWhenSettled_(f.resolve,f.reject)};I.prototype.settleSameAsThenable_=function(q,f){var k=this.createResolveAndReject_();try{q.call(f,k.resolve,k.reject)}catch(d){k.reject(d)}};I.prototype.then=function(q,f){function k(A,W){return"function"==typeof A?function(F){try{d(A(F))}catch(H){g(H)}}:W}var d,g,t=new I(function(A,W){d=A;g=W});this.callWhenSettled_(k(q,d),k(f,g));return t};I.prototype.catch=function(q){return this.then(void 0,q)};I.prototype.callWhenSettled_=function(q,f){function k(){switch(d.state_){case 1:q(d.result_);
break;case 2:f(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?V.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};I.resolve=C;I.reject=function(q){return new I(function(f,k){k(q)})};I.race=function(q){return new I(function(f,k){for(var d=$jscomp.makeIterator(q),g=d.next();!g.done;g=d.next())C(g.value).callWhenSettled_(f,k)})};I.all=function(q){var f=$jscomp.makeIterator(q),k=f.next();return k.done?C([]):new I(function(d,
g){function t(F){return function(H){A[F]=H;W--;0==W&&d(A)}}var A=[],W=0;do A.push(void 0),W++,C(k.value).callWhenSettled_(t(A.length-1),g),k=f.next();while(!k.done)})};return I},"es6","es3");$jscomp.checkStringArgs=function(Q,E,C){if(null==Q)throw new TypeError("The 'this' value for String.prototype."+C+" must not be null or undefined");if(E instanceof RegExp)throw new TypeError("First argument to String.prototype."+C+" must not be a regular expression");return Q+""};
$jscomp.polyfill("String.prototype.repeat",function(Q){return Q?Q:function(E){var C=$jscomp.checkStringArgs(this,null,"repeat");if(0>E||1342177279<E)throw new RangeError("Invalid count value");E|=0;for(var u="";E;)if(E&1&&(u+=C),E>>>=1)C+=C;return u}},"es6","es3");$jscomp.stringPadding=function(Q,E){Q=void 0!==Q?String(Q):" ";return 0<E&&Q?Q.repeat(Math.ceil(E/Q.length)).substring(0,E):""};
$jscomp.polyfill("String.prototype.padStart",function(Q){return Q?Q:function(E,C){var u=$jscomp.checkStringArgs(this,null,"padStart");return $jscomp.stringPadding(C,E-u.length)+u}},"es8","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");$jscomp.owns=function(Q,E){return Object.prototype.hasOwnProperty.call(Q,E)};
$jscomp.polyfill("Object.entries",function(Q){return Q?Q:function(E){var C=[],u;for(u in E)$jscomp.owns(E,u)&&C.push([u,E[u]]);return C}},"es8","es3");$jscomp.polyfill("Array.prototype.fill",function(Q){return Q?Q:function(E,C,u){var I=this.length||0;0>C&&(C=Math.max(0,I+C));if(null==u||u>I)u=I;u=Number(u);0>u&&(u=Math.max(0,I+u));for(C=Number(C||0);C<u;C++)this[C]=E;return this}},"es6","es3");$jscomp.typedArrayFill=function(Q){return Q?Q:Array.prototype.fill};
$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.iteratorFromArray=function(Q,E){Q instanceof String&&(Q+="");var C=0,u=!1,I={next:function(){if(!u&&C<Q.length){var V=C++;return{value:E(V,Q[V]),done:!1}}u=!0;return{done:!0,value:void 0}}};I[Symbol.iterator]=function(){return I};return I};
$jscomp.polyfill("Array.prototype.values",function(Q){return Q?Q:function(){return $jscomp.iteratorFromArray(this,function(E,C){return C})}},"es8","es3");
$jscomp.polyfill("Array.from",function(Q){return Q?Q:function(E,C,u){C=null!=C?C:function(f){return f};var I=[],V="undefined"!=typeof Symbol&&Symbol.iterator&&E[Symbol.iterator];if("function"==typeof V){E=V.call(E);for(var q=0;!(V=E.next()).done;)I.push(C.call(u,V.value,q++))}else for(V=E.length,q=0;q<V;q++)I.push(C.call(u,E[q],q));return I}},"es6","es3");
$jscomp.polyfill("Array.prototype.keys",function(Q){return Q?Q:function(){return $jscomp.iteratorFromArray(this,function(E){return E})}},"es6","es3");$jscomp.polyfill("Array.prototype.entries",function(Q){return Q?Q:function(){return $jscomp.iteratorFromArray(this,function(E,C){return[E,C]})}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var Q={},E=Object.create(new $jscomp.global.Proxy(Q,{get:function(C,u,I){return C==Q&&"q"==u&&I==E}}));return!0===E.q}catch(C){return!1}};
$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(Q){function E(){if(!Q||!Object.seal)return!1;try{var d=Object.seal({}),g=Object.seal({}),t=new Q([[d,2],[g,3]]);if(2!=t.get(d)||3!=t.get(g))return!1;t.delete(d);t.set(g,4);return!t.has(d)&&4==t.get(g)}catch(A){return!1}}function C(){}function u(d){var g=typeof d;return"object"===g&&null!==d||"function"===g}function I(d){if(!$jscomp.owns(d,q)){var g=new C;$jscomp.defineProperty(d,q,{value:g})}}function V(d){if(!$jscomp.ISOLATE_POLYFILLS){var g=Object[d];g&&(Object[d]=
function(t){if(t instanceof C)return t;Object.isExtensible(t)&&I(t);return g(t)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(Q&&$jscomp.ES6_CONFORMANCE)return Q}else if(E())return Q;var q="$jscomp_hidden_"+Math.random();V("freeze");V("preventExtensions");V("seal");var f=0,k=function(d){this.id_=(f+=Math.random()+1).toString();if(d){d=$jscomp.makeIterator(d);for(var g;!(g=d.next()).done;)g=g.value,this.set(g[0],g[1])}};k.prototype.set=function(d,g){if(!u(d))throw Error("Invalid WeakMap key");
I(d);if(!$jscomp.owns(d,q))throw Error("WeakMap key fail: "+d);d[q][this.id_]=g;return this};k.prototype.get=function(d){return u(d)&&$jscomp.owns(d,q)?d[q][this.id_]:void 0};k.prototype.has=function(d){return u(d)&&$jscomp.owns(d,q)&&$jscomp.owns(d[q],this.id_)};k.prototype.delete=function(d){return u(d)&&$jscomp.owns(d,q)&&$jscomp.owns(d[q],this.id_)?delete d[q][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(Q){function E(){if($jscomp.ASSUME_NO_NATIVE_MAP||!Q||"function"!=typeof Q||!Q.prototype.entries||"function"!=typeof Object.seal)return!1;try{var k=Object.seal({x:4}),d=new Q($jscomp.makeIterator([[k,"s"]]));if("s"!=d.get(k)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var g=d.entries(),t=g.next();if(t.done||t.value[0]!=k||"s"!=t.value[1])return!1;t=g.next();return t.done||4!=t.value[0].x||"t"!=t.value[1]||!g.next().done?!1:!0}catch(A){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(Q&&$jscomp.ES6_CONFORMANCE)return Q}else if(E())return Q;var C=new WeakMap,u=function(k){this.data_={};this.head_=q();this.size=0;if(k){k=$jscomp.makeIterator(k);for(var d;!(d=k.next()).done;)d=d.value,this.set(d[0],d[1])}};u.prototype.set=function(k,d){k=0===k?0:k;var g=I(this,k);g.list||(g.list=this.data_[g.id]=[]);g.entry?g.entry.value=d:(g.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:k,value:d},g.list.push(g.entry),
this.head_.previous.next=g.entry,this.head_.previous=g.entry,this.size++);return this};u.prototype.delete=function(k){k=I(this,k);return k.entry&&k.list?(k.list.splice(k.index,1),k.list.length||delete this.data_[k.id],k.entry.previous.next=k.entry.next,k.entry.next.previous=k.entry.previous,k.entry.head=null,this.size--,!0):!1};u.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=q();this.size=0};u.prototype.has=function(k){return!!I(this,k).entry};u.prototype.get=function(k){return(k=
I(this,k).entry)&&k.value};u.prototype.entries=function(){return V(this,function(k){return[k.key,k.value]})};u.prototype.keys=function(){return V(this,function(k){return k.key})};u.prototype.values=function(){return V(this,function(k){return k.value})};u.prototype.forEach=function(k,d){for(var g=this.entries(),t;!(t=g.next()).done;)t=t.value,k.call(d,t[1],t[0],this)};u.prototype[Symbol.iterator]=u.prototype.entries;var I=function(k,d){var g=d&&typeof d;"object"==g||"function"==g?C.has(d)?g=C.get(d):
(g=""+ ++f,C.set(d,g)):g="p_"+d;var t=k.data_[g];if(t&&$jscomp.owns(k.data_,g))for(k=0;k<t.length;k++){var A=t[k];if(d!==d&&A.key!==A.key||d===A.key)return{id:g,list:t,index:k,entry:A}}return{id:g,list:t,index:-1,entry:void 0}},V=function(k,d){var g=k.head_;return $jscomp.iteratorPrototype(function(){if(g){for(;g.head!=k.head_;)g=g.previous;for(;g.next!=g.head;)return g=g.next,{done:!1,value:d(g)};g=null}return{done:!0,value:void 0}})},q=function(){var k={};return k.previous=k.next=k.head=k},f=0;
return u},"es6","es3");$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(Q,E){for(var C=1;C<arguments.length;C++){var u=arguments[C];if(u)for(var I in u)$jscomp.owns(u,I)&&(Q[I]=u[I])}return Q};$jscomp.polyfill("Object.setPrototypeOf",function(Q){return Q||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.polyfill("String.prototype.startsWith",function(Q){return Q?Q:function(E,C){var u=$jscomp.checkStringArgs(this,E,"startsWith");E+="";var I=u.length,V=E.length;C=Math.max(0,Math.min(C|0,u.length));for(var q=0;q<V&&C<I;)if(u[C++]!=E[q++])return!1;return q>=V}},"es6","es3");
(function(Q,E){"object"===typeof exports&&"object"===typeof module?module.exports=E():"function"===typeof define&&define.amd?define([],E):"object"===typeof exports?exports.tbai=E():Q.tbai=E()})(window,function(){return function(Q){function E(u){if(C[u])return C[u].exports;var I=C[u]={i:u,l:!1,exports:{}};Q[u].call(I.exports,I,I.exports,E);I.l=!0;return I.exports}var C={};E.m=Q;E.c=C;E.d=function(u,I,V){E.o(u,I)||Object.defineProperty(u,I,{enumerable:!0,get:V})};E.r=function(u){"undefined"!==typeof Symbol&&
Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})};E.t=function(u,I){I&1&&(u=E(u));if(I&8||I&4&&"object"===typeof u&&u&&u.__esModule)return u;var V=Object.create(null);E.r(V);Object.defineProperty(V,"default",{enumerable:!0,value:u});if(I&2&&"string"!=typeof u)for(var q in u)E.d(V,q,function(f){return u[f]}.bind(null,q));return V};E.n=function(u){var I=u&&u.__esModule?function(){return u["default"]}:function(){return u};
E.d(I,"a",I);return I};E.o=function(u,I){return Object.prototype.hasOwnProperty.call(u,I)};E.p="";return E(E.s=84)}([function(Q,E,C){function u(p,T,aa){return!1===p instanceof Object?aa:T in p?p[T]:aa}function I(p,T,aa,ma){T=void 0===T?0:T;aa=void 0===aa?p.byteLength-T:aa;ma=void 0===ma?!1:ma;var sa="";p=$jscomp.makeIterator(new Uint8Array(p,T,aa));for(T=p.next();!T.done;T=p.next())T=T.value.toString(16).toUpperCase(),1===T.length&&(sa+="0"),sa+=T,ma&&(sa+=" ");return sa.trim()}function V(p,T,aa,
ma){return!1===T instanceof ArrayBuffer?(p.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1):0===T.byteLength?(p.error="Wrong parameter: inputBuffer has zero length",!1):0>aa?(p.error="Wrong parameter: inputOffset less than zero",!1):0>ma?(p.error="Wrong parameter: inputLength less than zero",!1):0>T.byteLength-aa-ma?(p.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0}function q(p,T){var aa=0;if(1===p.length)return p[0];for(var ma=
p.length-1;0<=ma;ma--)aa+=p[p.length-1-ma]*Math.pow(2,T*ma);return aa}function f(p,T,aa){var ma=void 0===aa?-1:aa;aa=p;for(var sa=Math.pow(2,T),Ca=1;8>Ca;Ca++){if(p<sa){if(0>ma)p=new ArrayBuffer(Ca),ma=Ca;else{if(ma<Ca)break;p=new ArrayBuffer(ma)}sa=new Uint8Array(p);for(--Ca;0<=Ca;Ca--){var Ta=Math.pow(2,Ca*T);sa[ma-Ca-1]=Math.floor(aa/Ta);aa-=sa[ma-Ca-1]*Ta}return p}sa*=Math.pow(2,T)}return new ArrayBuffer(0)}function k(p){for(var T=[],aa=0;aa<arguments.length;++aa)T[aa-0]=arguments[aa];var ma=
0;aa=0;for(var sa=$jscomp.makeIterator(T),Ca=sa.next();!Ca.done;Ca=sa.next())ma+=Ca.value.byteLength;ma=new ArrayBuffer(ma);sa=new Uint8Array(ma);T=$jscomp.makeIterator(T);for(Ca=T.next();!Ca.done;Ca=T.next())Ca=Ca.value,sa.set(new Uint8Array(Ca),aa),aa+=Ca.byteLength;return ma}function d(p){for(var T=[],aa=0;aa<arguments.length;++aa)T[aa-0]=arguments[aa];var ma=0;aa=0;for(var sa=$jscomp.makeIterator(T),Ca=sa.next();!Ca.done;Ca=sa.next())ma+=Ca.value.length;Ca=new ArrayBuffer(ma);ma=new Uint8Array(Ca);
T=$jscomp.makeIterator(T);for(Ca=T.next();!Ca.done;Ca=T.next())Ca=Ca.value,ma.set(Ca,aa),aa+=Ca.length;return ma}function g(){var p=new Uint8Array(this.valueHex);if(2<=this.valueHex.byteLength){var T=0===p[0]&&0===(p[1]&128);(255===p[0]&&p[1]&128||T)&&this.warnings.push("Needlessly long format")}T=new ArrayBuffer(this.valueHex.byteLength);T=new Uint8Array(T);for(var aa=0;aa<this.valueHex.byteLength;aa++)T[aa]=0;T[0]=p[0]&128;T=q(T,8);aa=new ArrayBuffer(this.valueHex.byteLength);aa=new Uint8Array(aa);
for(var ma=0;ma<this.valueHex.byteLength;ma++)aa[ma]=p[ma];aa[0]&=127;return q(aa,8)-T}function t(p,T){if(p.byteLength!==T.byteLength)return!1;p=new Uint8Array(p);T=new Uint8Array(T);for(var aa=0;aa<p.length;aa++)if(p[aa]!==T[aa])return!1;return!0}function A(p,T){p=p.toString(10);if(T<p.length)return"";T-=p.length;for(var aa=Array(T),ma=0;ma<T;ma++)aa[ma]="0";return aa.join("").concat(p)}function W(){if("undefined"===typeof BigInt)throw Error("BigInt is not defined. Your environment doesn't implement BigInt.");
}function F(p,T,aa){var ma=T,sa=new J({},Object),Ca=new m;if(!1===V(Ca,p,T,aa))return sa.error=Ca.error,{offset:-1,result:sa};if(0===(new Uint8Array(p,T,aa)).length)return sa.error="Zero buffer length",{offset:-1,result:sa};T=sa.idBlock.fromBER(p,T,aa);sa.warnings.concat(sa.idBlock.warnings);if(-1===T)return sa.error=sa.idBlock.error,{offset:-1,result:sa};aa-=sa.idBlock.blockLength;T=sa.lenBlock.fromBER(p,T,aa);sa.warnings.concat(sa.lenBlock.warnings);if(-1===T)return sa.error=sa.lenBlock.error,{offset:-1,
result:sa};aa-=sa.lenBlock.blockLength;if(!1===sa.idBlock.isConstructed&&!0===sa.lenBlock.isIndefiniteForm)return sa.error="Indefinite length form used for primitive encoding form",{offset:-1,result:sa};Ca=J;switch(sa.idBlock.tagClass){case 1:if(37<=sa.idBlock.tagNumber&&!1===sa.idBlock.isHexOnly)return sa.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:sa};switch(sa.idBlock.tagNumber){case 0:if(!0===sa.idBlock.isConstructed&&0<sa.lenBlock.length)return sa.error=
"Type [UNIVERSAL 0] is reserved",{offset:-1,result:sa};Ca=Z;break;case 1:Ca=ea;break;case 2:Ca=xa;break;case 3:Ca=O;break;case 4:Ca=D;break;case 5:Ca=r;break;case 6:Ca=X;break;case 10:Ca=ua;break;case 12:Ca=la;break;case 13:Ca=Sa;break;case 14:Ca=Na;break;case 15:return sa.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:sa};case 16:Ca=ia;break;case 17:Ca=na;break;case 18:Ca=wa;break;case 19:Ca=ya;break;case 20:Ca=b;break;case 21:Ca=R;break;case 22:Ca=ba;break;case 23:Ca=Oa;
break;case 24:Ca=Pa;break;case 25:Ca=ra;break;case 26:Ca=oa;break;case 27:Ca=Da;break;case 28:Ca=gb;break;case 29:Ca=Fa;break;case 30:Ca=Ra;break;case 31:Ca=ab;break;case 32:Ca=fb;break;case 33:Ca=mb;break;case 34:Ca=rb;break;default:var Ta=!0===sa.idBlock.isConstructed?new M:new y;Ta.idBlock=sa.idBlock;Ta.lenBlock=sa.lenBlock;Ta.warnings=sa.warnings;sa=Ta}break;default:Ca=!0===sa.idBlock.isConstructed?M:y}sa instanceof Ca||(Ca=new Ca,Ca.idBlock=sa.idBlock,Ca.lenBlock=sa.lenBlock,Ca.warnings=sa.warnings,
Ca.valueBeforeDecode=sa.valueBeforeDecode.slice(0),sa=Ca);T=sa.fromBER(p,T,!0===sa.lenBlock.isIndefiniteForm?aa:sa.lenBlock.length);sa.valueBeforeDecode=p.slice(ma,ma+sa.blockLength);return{offset:T,result:sa}}function H(p){return 0===p.byteLength?(p=new J({},Object),p.error="Input buffer has zero length",{offset:-1,result:p}):F(p,0,p.byteLength)}function x(p,T,aa){if(aa instanceof Za){for(var ma=0;ma<aa.value.length;ma++)if(!0===x(p,T,aa.value[ma]).verified)return{verified:!0,result:p};p={verified:!1,
result:{error:"Wrong values for Choice type"}};aa.hasOwnProperty("name")&&(p.name=aa.name);return p}if(aa instanceof bb)return aa.hasOwnProperty("name")&&(p[aa.name]=T),{verified:!0,result:p};if(!1===p instanceof Object)return{verified:!1,result:{error:"Wrong root object"}};if(!1===T instanceof Object)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!1===aa instanceof Object||!1==="idBlock"in aa||!1==="fromBER"in aa.idBlock||!1==="toBER"in aa.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
ma=aa.idBlock.toBER(!1);if(0===ma.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===aa.idBlock.fromBER(ma,0,ma.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===aa.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(aa.idBlock.tagClass!==T.idBlock.tagClass)return{verified:!1,result:p};if(!1===aa.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
if(aa.idBlock.tagNumber!==T.idBlock.tagNumber)return{verified:!1,result:p};if(!1===aa.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(aa.idBlock.isConstructed!==T.idBlock.isConstructed)return{verified:!1,result:p};if(!1==="isHexOnly"in aa.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(aa.idBlock.isHexOnly!==T.idBlock.isHexOnly)return{verified:!1,result:p};if(!0===aa.idBlock.isHexOnly){if(!1==="valueHex"in aa.idBlock)return{verified:!1,
result:{error:"Wrong ASN.1 schema"}};ma=new Uint8Array(aa.idBlock.valueHex);var sa=new Uint8Array(T.idBlock.valueHex);if(ma.length!==sa.length)return{verified:!1,result:p};for(var Ca=0;Ca<ma.length;Ca++)if(ma[Ca]!==sa[1])return{verified:!1,result:p}}aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(p[aa.name]=T));if(!0===aa.idBlock.isConstructed){ma=0;sa={verified:!1};Ca=aa.valueBlock.value.length;0<Ca&&aa.valueBlock.value[0]instanceof $a&&(Ca=T.valueBlock.value.length);
if(0===Ca)return{verified:!0,result:p};if(0===T.valueBlock.value.length&&0!==aa.valueBlock.value.length){T=!0;for(ma=0;ma<aa.valueBlock.value.length;ma++)T=T&&(aa.valueBlock.value[ma].optional||!1);if(!0===T)return{verified:!0,result:p};aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&delete p[aa.name]);p.error="Inconsistent object length";return{verified:!1,result:p}}for(var Ta=0;Ta<Ca;Ta++)if(Ta-ma>=T.valueBlock.value.length){if(!1===aa.valueBlock.value[Ta].optional)return T=
{verified:!1,result:p},p.error="Inconsistent length between ASN.1 data and schema",aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete p[aa.name],T.name=aa.name)),T}else if(aa.valueBlock.value[0]instanceof $a){sa=x(p,T.valueBlock.value[Ta],aa.valueBlock.value[0].value);if(!1===sa.verified)if(!0===aa.valueBlock.value[0].optional)ma++;else return aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&delete p[aa.name]),sa;if("name"in
aa.valueBlock.value[0]&&0<aa.valueBlock.value[0].name.length){var ib="local"in aa.valueBlock.value[0]&&!0===aa.valueBlock.value[0].local?T:p;"undefined"===typeof ib[aa.valueBlock.value[0].name]&&(ib[aa.valueBlock.value[0].name]=[]);ib[aa.valueBlock.value[0].name].push(T.valueBlock.value[Ta])}}else if(sa=x(p,T.valueBlock.value[Ta-ma],aa.valueBlock.value[Ta]),!1===sa.verified)if(!0===aa.valueBlock.value[Ta].optional)ma++;else return aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),
""!==aa.name&&delete p[aa.name]),sa;return!1===sa.verified?(T={verified:!1,result:p},aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete p[aa.name],T.name=aa.name)),T):{verified:!0,result:p}}return"primitiveSchema"in aa&&"valueHex"in T.valueBlock?(T=H(T.valueBlock.valueHex),-1===T.offset?(T={verified:!1,result:T.result},aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete p[aa.name],T.name=aa.name)),T):x(p,T.result,aa.primitiveSchema)):
{verified:!0,result:p}}C.d(E,"r",function(){return y});C.d(E,"g",function(){return M});C.d(E,"d",function(){return ea});C.d(E,"v",function(){return ia});C.d(E,"w",function(){return na});C.d(E,"n",function(){return r});C.d(E,"q",function(){return D});C.d(E,"b",function(){return O});C.d(E,"m",function(){return xa});C.d(E,"h",function(){return ua});C.d(E,"p",function(){return X});C.d(E,"A",function(){return la});C.d(E,"c",function(){return Ra});C.d(E,"z",function(){return gb});C.d(E,"o",function(){return wa});
C.d(E,"s",function(){return ya});C.d(E,"x",function(){return b});C.d(E,"B",function(){return R});C.d(E,"l",function(){return ba});C.d(E,"k",function(){return ra});C.d(E,"C",function(){return oa});C.d(E,"i",function(){return Da});C.d(E,"e",function(){return Fa});C.d(E,"y",function(){return Oa});C.d(E,"j",function(){return Pa});C.d(E,"f",function(){return Za});C.d(E,"a",function(){return bb});C.d(E,"u",function(){return $a});C.d(E,"t",function(){return Cb});C.d(E,"E",function(){return H});C.d(E,"D",
function(){return x});var z=[new Uint8Array([1])],m=function(p){p=void 0===p?{}:p;this.blockLength=u(p,"blockLength",0);this.error=u(p,"error","");this.warnings=u(p,"warnings",[]);this.valueBeforeDecode="valueBeforeDecode"in p?p.valueBeforeDecode.slice(0):new ArrayBuffer(0)};m.blockName=function(){return"baseBlock"};m.prototype.toJSON=function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:I(this.valueBeforeDecode,
0,this.valueBeforeDecode.byteLength)}};Q=function(p){var T=function(aa){aa=void 0===aa?{}:aa;var ma=p.call(this,aa)||this;ma.isHexOnly=u(aa,"isHexOnly",!1);ma.valueHex="valueHex"in aa?aa.valueHex.slice(0):new ArrayBuffer(0);return ma};$jscomp.inherits(T,p);T.blockName=function(){return"hexBlock"};T.prototype.fromBER=function(aa,ma,sa){if(!1===V(this,aa,ma,sa))return-1;if(0===(new Uint8Array(aa,ma,sa)).length)return this.warnings.push("Zero buffer length"),ma;this.valueHex=aa.slice(ma,ma+sa);this.blockLength=
sa;return ma+sa};T.prototype.toBER=function(aa){aa=void 0===aa?!1:aa;return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===aa?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)};T.prototype.toJSON=function(){var aa={};try{aa=p.prototype.toJSON.call(this)}catch(ma){}aa.blockName=this.constructor.blockName();aa.isHexOnly=this.isHexOnly;aa.valueHex=I(this.valueHex,0,this.valueHex.byteLength);return aa};return T};var P=Q(m),l=function(p){p=void 0===
p?{}:p;var T=P.call(this)||this;"idBlock"in p?(T.isHexOnly=u(p.idBlock,"isHexOnly",!1),T.valueHex=u(p.idBlock,"valueHex",new ArrayBuffer(0)),T.tagClass=u(p.idBlock,"tagClass",-1),T.tagNumber=u(p.idBlock,"tagNumber",-1),T.isConstructed=u(p.idBlock,"isConstructed",!1)):(T.tagClass=-1,T.tagNumber=-1,T.isConstructed=!1);return T};$jscomp.inherits(l,P);l.blockName=function(){return"identificationBlock"};l.prototype.toBER=function(p){p=void 0===p?!1:p;var T=0;switch(this.tagClass){case 1:T|=0;break;case 2:T|=
64;break;case 3:T|=128;break;case 4:T|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}this.isConstructed&&(T|=32);if(31>this.tagNumber&&!this.isHexOnly){var aa=new ArrayBuffer(1);var ma=new Uint8Array(aa);p||(ma[0]=T|this.tagNumber&31);return aa}if(!1===this.isHexOnly){aa=f(this.tagNumber,7);var sa=new Uint8Array(aa),Ca=aa.byteLength;aa=new ArrayBuffer(Ca+1);ma=new Uint8Array(aa);ma[0]=T|31;if(!p){for(p=0;p<Ca-1;p++)ma[p+1]=sa[p]|128;ma[Ca]=sa[Ca-1]}return aa}aa=new ArrayBuffer(this.valueHex.byteLength+
1);ma=new Uint8Array(aa);ma[0]=T|31;if(!1===p){sa=new Uint8Array(this.valueHex);for(p=0;p<sa.length-1;p++)ma[p+1]=sa[p]|128;ma[this.valueHex.byteLength]=sa[sa.length-1]}return aa};l.prototype.fromBER=function(p,T,aa){if(!1===V(this,p,T,aa))return-1;var ma=new Uint8Array(p,T,aa);if(0===ma.length)return this.error="Zero buffer length",-1;switch(ma[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error=
"Unknown tag class",-1}this.isConstructed=32===(ma[0]&32);this.isHexOnly=!1;p=ma[0]&31;if(31!==p)this.tagNumber=p,this.blockLength=1;else{p=1;this.valueHex=new ArrayBuffer(255);var sa=255;for(aa=new Uint8Array(this.valueHex);ma[p]&128;){aa[p-1]=ma[p]&127;p++;if(p>=ma.length)return this.error="End of input reached before message was fully decoded",-1;if(p===sa){sa+=255;var Ca=new ArrayBuffer(sa);Ca=new Uint8Array(Ca);for(var Ta=0;Ta<aa.length;Ta++)Ca[Ta]=aa[Ta];this.valueHex=new ArrayBuffer(sa);aa=
new Uint8Array(this.valueHex)}}this.blockLength=p+1;aa[p-1]=ma[p]&127;ma=new ArrayBuffer(p);ma=new Uint8Array(ma);for(sa=0;sa<p;sa++)ma[sa]=aa[sa];this.valueHex=new ArrayBuffer(p);aa=new Uint8Array(this.valueHex);aa.set(ma);9>=this.blockLength?this.tagNumber=q(aa,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error=
"Constructed encoding used for primitive type",-1}return T+this.blockLength};l.prototype.toJSON=function(){var p={};try{p=P.prototype.toJSON.call(this)}catch(T){}p.blockName=this.constructor.blockName();p.tagClass=this.tagClass;p.tagNumber=this.tagNumber;p.isConstructed=this.isConstructed;return p};var e=function(p){p=void 0===p?{}:p;var T=m.call(this)||this;"lenBlock"in p?(T.isIndefiniteForm=u(p.lenBlock,"isIndefiniteForm",!1),T.longFormUsed=u(p.lenBlock,"longFormUsed",!1),T.length=u(p.lenBlock,
"length",0)):(T.isIndefiniteForm=!1,T.longFormUsed=!1,T.length=0);return T};$jscomp.inherits(e,m);e.blockName=function(){return"lengthBlock"};e.prototype.fromBER=function(p,T,aa){if(!1===V(this,p,T,aa))return-1;p=new Uint8Array(p,T,aa);if(0===p.length)return this.error="Zero buffer length",-1;if(255===p[0])return this.error="Length block 0xFF is reserved by standard",-1;this.isIndefiniteForm=128===p[0];if(!0===this.isIndefiniteForm)return this.blockLength=1,T+this.blockLength;this.longFormUsed=!!(p[0]&
128);if(!1===this.longFormUsed)return this.length=p[0],this.blockLength=1,T+this.blockLength;aa=p[0]&127;if(8<aa)return this.error="Too big integer",-1;if(aa+1>p.length)return this.error="End of input reached before message was fully decoded",-1;for(var ma=new Uint8Array(aa),sa=0;sa<aa;sa++)ma[sa]=p[sa+1];0===ma[aa-1]&&this.warnings.push("Needlessly long encoded length");this.length=q(ma,8);this.longFormUsed&&127>=this.length&&this.warnings.push("Unnecessary usage of long length form");this.blockLength=
aa+1;return T+this.blockLength};e.prototype.toBER=function(p){p=void 0===p?!1:p;127<this.length&&(this.longFormUsed=!0);if(this.isIndefiniteForm){var T=new ArrayBuffer(1);!1===p&&(p=new Uint8Array(T),p[0]=128);return T}if(!0===this.longFormUsed){var aa=f(this.length,8);if(127<aa.byteLength)return this.error="Too big length",new ArrayBuffer(0);T=new ArrayBuffer(aa.byteLength+1);if(!0===p)return T;var ma=new Uint8Array(aa);p=new Uint8Array(T);p[0]=aa.byteLength|128;for(var sa=0;sa<aa.byteLength;sa++)p[sa+
1]=ma[sa];return T}T=new ArrayBuffer(1);!1===p&&(p=new Uint8Array(T),p[0]=this.length);return T};e.prototype.toJSON=function(){var p={};try{p=m.prototype.toJSON.call(this)}catch(T){}p.blockName=this.constructor.blockName();p.isIndefiniteForm=this.isIndefiniteForm;p.longFormUsed=this.longFormUsed;p.length=this.length;return p};var w=function(p){p=void 0===p?{}:p;return m.call(this,p)||this};$jscomp.inherits(w,m);w.blockName=function(){return"valueBlock"};w.prototype.fromBER=function(p,T,aa){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');
};w.prototype.toBER=function(p){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');};var J=function(p,T){p=void 0===p?{}:p;T=void 0===T?w:T;var aa=m.call(this,p)||this;"name"in p&&(aa.name=p.name);"optional"in p&&(aa.optional=p.optional);"primitiveSchema"in p&&(aa.primitiveSchema=p.primitiveSchema);aa.idBlock=new l(p);aa.lenBlock=new e(p);aa.valueBlock=new T(p);return aa};$jscomp.inherits(J,m);J.blockName=function(){return"BaseBlock"};J.prototype.fromBER=
function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};J.prototype.toBER=function(p){p=void 0===p?!1:p;var T=this.idBlock.toBER(p);var aa=this.valueBlock.toBER(!0);
this.lenBlock.length=aa.byteLength;aa=this.lenBlock.toBER(p);T=k(T,aa);aa=!1===p?this.valueBlock.toBER(p):new ArrayBuffer(this.lenBlock.length);T=k(T,aa);!0===this.lenBlock.isIndefiniteForm&&(aa=new ArrayBuffer(2),!1===p&&(p=new Uint8Array(aa),p[0]=0,p[1]=0),T=k(T,aa));return T};J.prototype.toJSON=function(){var p={};try{p=m.prototype.toJSON.call(this)}catch(T){}p.idBlock=this.idBlock.toJSON();p.lenBlock=this.lenBlock.toJSON();p.valueBlock=this.valueBlock.toJSON();"name"in this&&(p.name=this.name);
"optional"in this&&(p.optional=this.optional);"primitiveSchema"in this&&(p.primitiveSchema=this.primitiveSchema.toJSON());return p};J.prototype.toString=function(){return this.constructor.blockName()+" : "+I(this.valueBlock.valueHex)};var h=function(p){p=void 0===p?{}:p;var T=w.call(this,p)||this;T.valueHex="valueHex"in p?p.valueHex.slice(0):new ArrayBuffer(0);T.isHexOnly=u(p,"isHexOnly",!0);return T};$jscomp.inherits(h,w);h.prototype.fromBER=function(p,T,aa){if(!1===V(this,p,T,aa))return-1;p=new Uint8Array(p,
T,aa);if(0===p.length)return this.warnings.push("Zero buffer length"),T;this.valueHex=new ArrayBuffer(p.length);for(var ma=new Uint8Array(this.valueHex),sa=0;sa<p.length;sa++)ma[sa]=p[sa];this.blockLength=aa;return T+aa};h.prototype.toBER=function(p){return this.valueHex.slice(0)};h.blockName=function(){return"PrimitiveValueBlock"};h.prototype.toJSON=function(){var p={};try{p=w.prototype.toJSON.call(this)}catch(T){}p.valueHex=I(this.valueHex,0,this.valueHex.byteLength);p.isHexOnly=this.isHexOnly;
return p};var y=function(p){p=void 0===p?{}:p;p=J.call(this,p,h)||this;p.idBlock.isConstructed=!1;return p};$jscomp.inherits(y,J);y.blockName=function(){return"PRIMITIVE"};var G=function(p){p=void 0===p?{}:p;var T=w.call(this,p)||this;T.value=u(p,"value",[]);T.isIndefiniteForm=u(p,"isIndefiniteForm",!1);return T};$jscomp.inherits(G,w);G.prototype.fromBER=function(p,T,aa){var ma=aa;if(!1===V(this,p,T,aa))return-1;if(0===(new Uint8Array(p,T,aa)).length)return this.warnings.push("Zero buffer length"),
T;for(var sa=T;0<(!0===this.isIndefiniteForm?1:aa);){var Ca=F(p,sa,aa);if(-1===Ca.offset)return this.error=Ca.result.error,this.warnings.concat(Ca.result.warnings),-1;sa=Ca.offset;this.blockLength+=Ca.result.blockLength;aa-=Ca.result.blockLength;this.value.push(Ca.result);if(!0===this.isIndefiniteForm&&Ca.result.constructor.blockName()===Z.blockName())break}!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Z.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded"));
this.valueBeforeDecode=p.slice(T,T+ma);return sa};G.prototype.toBER=function(p){p=void 0===p?!1:p;for(var T=new ArrayBuffer(0),aa=0;aa<this.value.length;aa++){var ma=this.value[aa].toBER(p);T=k(T,ma)}return T};G.blockName=function(){return"ConstructedValueBlock"};G.prototype.toJSON=function(){var p={};try{p=w.prototype.toJSON.call(this)}catch(aa){}p.isIndefiniteForm=this.isIndefiniteForm;p.value=[];for(var T=0;T<this.value.length;T++)p.value.push(this.value[T].toJSON());return p};var M=function(p){p=
void 0===p?{}:p;p=J.call(this,p,G)||this;p.idBlock.isConstructed=!0;return p};$jscomp.inherits(M,J);M.blockName=function(){return"CONSTRUCTED"};M.prototype.fromBER=function(p,T,aa){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=
this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};M.prototype.toString=function(){for(var p=[],T=$jscomp.makeIterator(this.valueBlock.value),aa=T.next();!aa.done;aa=T.next())p.push(aa.value.toString().split("\n").map(function(ma){return"  "+ma}).join("\n"));T=3===this.idBlock.tagClass?"["+this.idBlock.tagNumber+"]":this.constructor.blockName();return p.length?T+" :\n"+p.join("\n"):T+" :"};var S=function(p){p=void 0===p?{}:p;return w.call(this,
p)||this};$jscomp.inherits(S,w);S.prototype.fromBER=function(p,T,aa){return T};S.prototype.toBER=function(p){return new ArrayBuffer(0)};S.blockName=function(){return"EndOfContentValueBlock"};var Z=function(p){p=void 0===p?{}:p;p=J.call(this,p,S)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=0;return p};$jscomp.inherits(Z,J);Z.blockName=function(){return"EndOfContent"};var ca=function(p){p=void 0===p?{}:p;var T=w.call(this,p)||this;T.value=u(p,"value",!1);T.isHexOnly=u(p,"isHexOnly",!1);"valueHex"in
p?T.valueHex=p.valueHex.slice(0):(T.valueHex=new ArrayBuffer(1),!0===T.value&&((new Uint8Array(T.valueHex))[0]=255));return T};$jscomp.inherits(ca,w);ca.prototype.fromBER=function(p,T,aa){if(!1===V(this,p,T,aa))return-1;p=new Uint8Array(p,T,aa);1<aa&&this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=!0;this.valueHex=new ArrayBuffer(p.length);for(var ma=new Uint8Array(this.valueHex),sa=0;sa<p.length;sa++)ma[sa]=p[sa];0!==g.call(this)?this.value=!0:this.value=!1;this.blockLength=
aa;return T+aa};ca.prototype.toBER=function(p){return this.valueHex};ca.blockName=function(){return"BooleanValueBlock"};ca.prototype.toJSON=function(){var p={};try{p=w.prototype.toJSON.call(this)}catch(T){}p.value=this.value;p.isHexOnly=this.isHexOnly;p.valueHex=I(this.valueHex,0,this.valueHex.byteLength);return p};var ea=function(p){p=void 0===p?{}:p;p=J.call(this,p,ca)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=1;return p};$jscomp.inherits(ea,J);ea.blockName=function(){return"BOOLEAN"};ea.prototype.toString=
function(){return this.constructor.blockName()+" : "+this.valueBlock.value};var ia=function(p){p=void 0===p?{}:p;p=M.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=16;return p};$jscomp.inherits(ia,M);ia.blockName=function(){return"SEQUENCE"};var na=function(p){p=void 0===p?{}:p;p=M.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=17;return p};$jscomp.inherits(na,M);na.blockName=function(){return"SET"};var r=function(p){p=void 0===p?{}:p;p=J.call(this,p,m)||this;p.idBlock.tagClass=
1;p.idBlock.tagNumber=5;return p};$jscomp.inherits(r,J);r.blockName=function(){return"NULL"};r.prototype.fromBER=function(p,T,aa){0<this.lenBlock.length&&this.warnings.push("Non-zero length of value block for Null type");0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);this.blockLength+=aa;return T+aa>p.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",
-1):T+aa};r.prototype.toBER=function(p){p=void 0===p?!1:p;var T=new ArrayBuffer(2);if(!0===p)return T;p=new Uint8Array(T);p[0]=5;p[1]=0;return T};r.prototype.toString=function(){return""+this.constructor.blockName()};var n=Q(G),v=function(p){p=void 0===p?{}:p;var T=n.call(this,p)||this;T.isConstructed=u(p,"isConstructed",!1);return T};$jscomp.inherits(v,n);v.prototype.fromBER=function(p,T,aa){if(!0===this.isConstructed){this.isHexOnly=!1;p=G.prototype.fromBER.call(this,p,T,aa);if(-1===p)return p;
for(aa=0;aa<this.value.length;aa++){T=this.value[aa].constructor.blockName();if(T===Z.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1;if(T!==D.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,p=n.prototype.fromBER.call(this,p,T,aa),this.blockLength=aa;return p};v.prototype.toBER=function(p){p=void 0===p?!1:p;if(!0===this.isConstructed)return G.prototype.toBER.call(this,
p);var T=new ArrayBuffer(this.valueHex.byteLength);return!0===p||0===this.valueHex.byteLength?T:T=this.valueHex.slice(0)};v.blockName=function(){return"OctetStringValueBlock"};v.prototype.toJSON=function(){var p={};try{p=n.prototype.toJSON.call(this)}catch(T){}p.isConstructed=this.isConstructed;p.isHexOnly=this.isHexOnly;p.valueHex=I(this.valueHex,0,this.valueHex.byteLength);return p};var D=function(p){p=void 0===p?{}:p;p=J.call(this,p,v)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=4;return p};
$jscomp.inherits(D,J);D.prototype.fromBER=function(p,T,aa){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(0===aa)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),T;if(!this.valueBlock.isConstructed){var ma=p.slice(T,T+aa);try{var sa=H(ma);-1!==sa.offset&&sa.offset===aa&&(this.valueBlock.value=[sa.result])}catch(Ca){}}return J.prototype.fromBER.call(this,
p,T,aa)};D.blockName=function(){return"OCTET STRING"};D.prototype.isEqual=function(p){return!1===p instanceof D||JSON.stringify(this)!==JSON.stringify(p)?!1:!0};D.prototype.toString=function(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?M.prototype.toString.call(this):this.constructor.blockName()+" : "+I(this.valueBlock.valueHex)};var U=Q(G),N=function(p){p=void 0===p?{}:p;var T=U.call(this,p)||this;T.unusedBits=u(p,"unusedBits",0);T.isConstructed=u(p,
"isConstructed",!1);T.blockLength=T.valueHex.byteLength;return T};$jscomp.inherits(N,U);N.prototype.fromBER=function(p,T,aa){if(0===aa)return T;if(!0===this.isConstructed){T=G.prototype.fromBER.call(this,p,T,aa);if(-1===T)return T;for(aa=0;aa<this.value.length;aa++){var ma=this.value[aa].constructor.blockName();if(ma===Z.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;if(ma!==O.blockName())return this.error=
"BIT STRING may consists of BIT STRINGs only",-1;if(0<this.unusedBits&&0<this.value[aa].valueBlock.unusedBits)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=this.value[aa].valueBlock.unusedBits;if(7<this.unusedBits)return this.error="Unused bits for BitString must be in range 0-7",-1}return T}if(!1===V(this,p,T,aa))return-1;ma=new Uint8Array(p,T,aa);this.unusedBits=ma[0];if(7<this.unusedBits)return this.error="Unused bits for BitString must be in range 0-7",
-1;if(!this.unusedBits){p=p.slice(T+1,T+aa);try{var sa=H(p);-1!==sa.offset&&sa.offset===aa-1&&(this.value=[sa.result])}catch(Ca){}}this.valueHex=new ArrayBuffer(ma.length-1);sa=new Uint8Array(this.valueHex);for(p=0;p<aa-1;p++)sa[p]=ma[p+1];this.blockLength=ma.length;return T+aa};N.prototype.toBER=function(p){p=void 0===p?!1:p;if(!0===this.isConstructed)return G.prototype.toBER.call(this,p);if(!0===p)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);
p=new Uint8Array(this.valueHex);var T=new ArrayBuffer(this.valueHex.byteLength+1),aa=new Uint8Array(T);aa[0]=this.unusedBits;for(var ma=0;ma<this.valueHex.byteLength;ma++)aa[ma+1]=p[ma];return T};N.blockName=function(){return"BitStringValueBlock"};N.prototype.toJSON=function(){var p={};try{p=U.prototype.toJSON.call(this)}catch(T){}p.unusedBits=this.unusedBits;p.isConstructed=this.isConstructed;p.isHexOnly=this.isHexOnly;p.valueHex=I(this.valueHex,0,this.valueHex.byteLength);return p};var O=function(p){p=
void 0===p?{}:p;p=J.call(this,p,N)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=3;return p};$jscomp.inherits(O,J);O.blockName=function(){return"BIT STRING"};O.prototype.fromBER=function(p,T,aa){if(0===aa)return T;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return J.prototype.fromBER.call(this,p,T,aa)};O.prototype.isEqual=function(p){return!1===p instanceof O||JSON.stringify(this)!==JSON.stringify(p)?!1:!0};O.prototype.toString=
function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return M.prototype.toString.call(this);var p=[],T=new Uint8Array(this.valueBlock.valueHex);T=$jscomp.makeIterator(T);for(var aa=T.next();!aa.done;aa=T.next())p.push(aa.value.toString(2).padStart(8,"0"));return this.constructor.blockName()+" : "+p.join("")};var K=Q(w),pa=function(p){p=void 0===p?{}:p;var T=K.call(this,p)||this;"value"in p&&(T.valueDec=p.value);return T};$jscomp.inherits(pa,K);pa.prototype.fromDER=
function(p,T,aa,ma){ma=void 0===ma?0:ma;p=this.fromBER(p,T,aa);if(-1===p)return p;T=new Uint8Array(this._valueHex);0===T[0]&&0!==(T[1]&128)?(ma=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(ma)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=ma.slice(0)):0!==ma&&this._valueHex.byteLength<ma&&(1<ma-this._valueHex.byteLength&&(ma=this._valueHex.byteLength+1),aa=new ArrayBuffer(ma),(new Uint8Array(aa)).set(T,ma-this._valueHex.byteLength),this._valueHex=
aa.slice(0));return p};pa.prototype.toDER=function(p){p=void 0===p?!1:p;var T=new Uint8Array(this._valueHex);switch(!0){case 0!==(T[0]&128):var aa=new ArrayBuffer(this._valueHex.byteLength+1),ma=new Uint8Array(aa);ma[0]=0;ma.set(T,1);this._valueHex=aa.slice(0);break;case 0===T[0]&&0===(T[1]&128):T=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(T)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=T.slice(0)}return this.toBER(p)};pa.prototype.fromBER=function(p,
T,aa){p=K.prototype.fromBER.call(this,p,T,aa);if(-1===p)return p;this.blockLength=aa;return T+aa};pa.prototype.toBER=function(p){return this.valueHex.slice(0)};pa.blockName=function(){return"IntegerValueBlock"};pa.prototype.toJSON=function(){var p={};try{p=K.prototype.toJSON.call(this)}catch(T){}p.valueDec=this.valueDec;return p};pa.prototype.toString=function(){function p(Ya,eb){var pb=new Uint8Array([0]);Ya=new Uint8Array(Ya);var Xa=new Uint8Array(eb);eb=Ya.slice(0);Ya=eb.length-1;Xa=Xa.slice(0);
for(var ub=Xa.length-1,Ab,cb=0,sb=ub<Ya?Ya:ub;0<=sb;sb--,cb++){switch(!0){case cb<Xa.length:Ab=eb[Ya-cb]+Xa[ub-cb]+pb[0];break;default:Ab=eb[Ya-cb]+pb[0]}pb[0]=Ab/10;switch(!0){case cb>=eb.length:eb=d(new Uint8Array([Ab%10]),eb);break;default:eb[Ya-cb]=Ab%10}}0<pb[0]&&(eb=d(pb,eb));return eb.slice(0)}function T(Ya){if(Ya>=z.length)for(var eb=z.length;eb<=Ya;eb++){for(var pb=new Uint8Array([0]),Xa=z[eb-1].slice(0),ub=Xa.length-1;0<=ub;ub--){var Ab=new Uint8Array([(Xa[ub]<<1)+pb[0]]);pb[0]=Ab[0]/10;
Xa[ub]=Ab[0]%10}0<pb[0]&&(Xa=d(pb,Xa));z.push(Xa)}return z[Ya]}function aa(Ya,eb){var pb=0;Ya=new Uint8Array(Ya);var Xa=new Uint8Array(eb);eb=Ya.slice(0);Ya=eb.length-1;for(var ub=Xa.slice(0),Ab=ub.length-1,cb=0,sb=Ab;0<=sb;sb--,cb++)switch(Xa=eb[Ya-cb]-ub[Ab-cb]-pb,!0){case 0>Xa:pb=1;eb[Ya-cb]=Xa+10;break;default:pb=0,eb[Ya-cb]=Xa}if(0<pb)for(ub=Ya-Ab+1;0<=ub;ub--,cb++)if(Xa=eb[Ya-cb]-pb,0>Xa)pb=1,eb[Ya-cb]=Xa+10;else{eb[Ya-cb]=Xa;break}return eb.slice()}for(var ma=8*this._valueHex.byteLength-1,
sa=new Uint8Array(8*this._valueHex.byteLength/3),Ca=0,Ta,ib=new Uint8Array(this._valueHex),Yb="",ic=!1,jc=this._valueHex.byteLength-1;0<=jc;jc--){Ta=ib[jc];for(var xb=0;8>xb;xb++){if(1===(Ta&1))switch(Ca){case ma:sa=aa(T(Ca),sa);Yb="-";break;default:sa=p(sa,T(Ca))}Ca++;Ta>>=1}}for(ma=0;ma<sa.length;ma++)sa[ma]&&(ic=!0),ic&&(Yb+="0123456789".charAt(sa[ma]));!1===ic&&(Yb+="0");return Yb};$jscomp.global.Object.defineProperties(pa.prototype,{valueHex:{configurable:!0,enumerable:!0,set:function(p){this._valueHex=
p.slice(0);4<=p.byteLength?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,0<p.byteLength&&(this._valueDec=g.call(this)))},get:function(){return this._valueHex}},valueDec:{configurable:!0,enumerable:!0,set:function(p){this._valueDec=p;this.isHexOnly=!1;a:{for(var T=0>p?-1*p:p,aa=128,ma=1;8>ma;ma++){if(T<=aa){if(0>p){p=f(aa-T,8,ma);(new Uint8Array(p))[0]|=128;break a}p=f(T,8,ma);T=new Uint8Array(p);if(T[0]&128){aa=p.slice(0);ma=new Uint8Array(aa);
p=new ArrayBuffer(p.byteLength+1);T=new Uint8Array(p);for(var sa=0;sa<aa.byteLength;sa++)T[sa+1]=ma[sa];T[0]=0}break a}aa*=Math.pow(2,8)}p=new ArrayBuffer(0)}this._valueHex=p},get:function(){return this._valueDec}}});var xa=function(p){p=void 0===p?{}:p;p=J.call(this,p,pa)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=2;return p};$jscomp.inherits(xa,J);xa.blockName=function(){return"INTEGER"};xa.prototype.isEqual=function(p){return p instanceof xa?this.valueBlock.isHexOnly&&p.valueBlock.isHexOnly?
t(this.valueBlock.valueHex,p.valueBlock.valueHex):this.valueBlock.isHexOnly===p.valueBlock.isHexOnly?this.valueBlock.valueDec===p.valueBlock.valueDec:!1:p instanceof ArrayBuffer?t(this.valueBlock.valueHex,p):!1};xa.prototype.convertToDER=function(){var p=new xa({valueHex:this.valueBlock.valueHex});p.valueBlock.toDER();return p};xa.prototype.convertFromDER=function(){var p=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,T=new xa({valueHex:this.valueBlock.valueHex});
T.valueBlock.fromDER(T.valueBlock.valueHex,0,T.valueBlock.valueHex.byteLength,p);return T};xa.prototype.toString=function(){W();var p=I(this.valueBlock.valueHex);p=BigInt("0x"+p);return this.constructor.blockName()+" : "+p.toString()};var ua=function(p){p=void 0===p?{}:p;p=xa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=10;return p};$jscomp.inherits(ua,xa);ua.blockName=function(){return"ENUMERATED"};var za=Q(m),ta=function(p){p=void 0===p?{}:p;var T=za.call(this,p)||this;T.valueDec=
u(p,"valueDec",-1);T.isFirstSid=u(p,"isFirstSid",!1);return T};$jscomp.inherits(ta,za);ta.blockName=function(){return"sidBlock"};ta.prototype.fromBER=function(p,T,aa){if(0===aa)return T;if(!1===V(this,p,T,aa))return-1;p=new Uint8Array(p,T,aa);this.valueHex=new ArrayBuffer(aa);for(var ma=new Uint8Array(this.valueHex),sa=0;sa<aa&&(ma[sa]=p[sa]&127,this.blockLength++,0!==(p[sa]&128));sa++);aa=new ArrayBuffer(this.blockLength);sa=new Uint8Array(aa);for(var Ca=0;Ca<this.blockLength;Ca++)sa[Ca]=ma[Ca];
this.valueHex=aa.slice(0);ma=new Uint8Array(this.valueHex);if(0!==(p[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===ma[0]&&this.warnings.push("Needlessly long format of SID encoding");8>=this.blockLength?this.valueDec=q(ma,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return T+this.blockLength};ta.prototype.toBER=function(p){p=void 0===p?!1:p;if(this.isHexOnly){if(!0===p)return new ArrayBuffer(this.valueHex.byteLength);
var T=new Uint8Array(this.valueHex);var aa=new ArrayBuffer(this.blockLength);p=new Uint8Array(aa);for(var ma=0;ma<this.blockLength-1;ma++)p[ma]=T[ma]|128;p[this.blockLength-1]=T[this.blockLength-1];return aa}T=f(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);aa=new ArrayBuffer(T.byteLength);if(!1===p){ma=new Uint8Array(T);p=new Uint8Array(aa);for(var sa=0;sa<T.byteLength-1;sa++)p[sa]=ma[sa]|128;p[T.byteLength-1]=ma[T.byteLength-1]}return aa};
ta.prototype.toString=function(){if(!0===this.isHexOnly)var p=I(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var T=this.valueDec;39>=this.valueDec?p="0.":79>=this.valueDec?(p="1.",T-=40):(p="2.",T-=80);p+=T.toString()}else p=this.valueDec.toString();return p};ta.prototype.toJSON=function(){var p={};try{p=za.prototype.toJSON.call(this)}catch(T){}p.valueDec=this.valueDec;p.isFirstSid=this.isFirstSid;return p};$jscomp.global.Object.defineProperties(ta.prototype,{valueBigInt:{configurable:!0,
enumerable:!0,set:function(p){W();for(p=BigInt(p).toString(2);p.length%7;)p="0"+p;for(var T=new Uint8Array(p.length/7),aa=0;aa<T.length;aa++)T[aa]=parseInt(p.slice(7*aa,7*aa+7),2)+(aa+1<T.length?128:0);this.fromBER(T.buffer,0,T.length)}}});var c=function(p){p=void 0===p?{}:p;var T=w.call(this,p)||this;T.fromString(u(p,"value",""));return T};$jscomp.inherits(c,w);c.prototype.fromBER=function(p,T,aa){for(;0<aa;){var ma=new ta;T=ma.fromBER(p,T,aa);if(-1===T){this.blockLength=0;this.error=ma.error;break}0===
this.value.length&&(ma.isFirstSid=!0);this.blockLength+=ma.blockLength;aa-=ma.blockLength;this.value.push(ma)}return T};c.prototype.toBER=function(p){p=void 0===p?!1:p;for(var T=new ArrayBuffer(0),aa=0;aa<this.value.length;aa++){var ma=this.value[aa].toBER(p);if(0===ma.byteLength)return this.error=this.value[aa].error,new ArrayBuffer(0);T=k(T,ma)}return T};c.prototype.fromString=function(p){this.value=[];var T=0,aa=!1;do{var ma=p.indexOf(".",T);var sa=-1===ma?p.substr(T):p.substr(T,ma-T);T=ma+1;if(aa){aa=
this.value[0];var Ca=0;switch(aa.valueDec){case 0:break;case 1:Ca=40;break;case 2:Ca=80;break;default:return this.value=[],!1}sa=parseInt(sa,10);if(isNaN(sa))break;aa.valueDec=sa+Ca;aa=!1}else{Ca=new ta;if(sa>Number.MAX_SAFE_INTEGER)W(),Ca.valueBigInt=BigInt(sa);else if(Ca.valueDec=parseInt(sa,10),isNaN(Ca.valueDec))break;0===this.value.length&&(aa=Ca.isFirstSid=!0);this.value.push(Ca)}}while(-1!==ma);return!0};c.prototype.toString=function(){for(var p="",T,aa=0;aa<this.value.length;aa++){T=this.value[aa].isHexOnly;
var ma=this.value[aa].toString();0!==aa&&(p+=".");T?(ma="{"+ma+"}",p=this.value[aa].isFirstSid?"2.{"+ma+" - 80}":p+ma):p+=ma}return p};c.blockName=function(){return"ObjectIdentifierValueBlock"};c.prototype.toJSON=function(){var p={};try{p=w.prototype.toJSON.call(this)}catch(aa){}p.value=this.toString();p.sidArray=[];for(var T=0;T<this.value.length;T++)p.sidArray.push(this.value[T].toJSON());return p};var X=function(p){p=void 0===p?{}:p;p=J.call(this,p,c)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=
6;return p};$jscomp.inherits(X,J);X.blockName=function(){return"OBJECT IDENTIFIER"};X.prototype.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.toString()};var ka=Q(m),ja=function(p){p=void 0===p?{}:p;p=ka.call(this,p)||this;p.isHexOnly=!0;p.value="";return p};$jscomp.inherits(ja,ka);ja.blockName=function(){return"Utf8StringValueBlock"};ja.prototype.toJSON=function(){var p={};try{p=ka.prototype.toJSON.call(this)}catch(T){}p.value=this.value;return p};var la=function(p){p=
void 0===p?{}:p;var T=J.call(this,p,ja)||this;"value"in p&&T.fromString(p.value);T.idBlock.tagClass=1;T.idBlock.tagNumber=12;return T};$jscomp.inherits(la,J);la.blockName=function(){return"UTF8String"};la.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);
0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};la.prototype.fromBuffer=function(p){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(p));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(T){this.warnings.push('Error during "decodeURIComponent": '+T+", using raw string")}};la.prototype.fromString=function(p){var T=unescape(encodeURIComponent(p)),
aa=T.length;this.valueBlock.valueHex=new ArrayBuffer(aa);for(var ma=new Uint8Array(this.valueBlock.valueHex),sa=0;sa<aa;sa++)ma[sa]=T.charCodeAt(sa);this.valueBlock.value=p};la.prototype.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};var Ba=Q(m),Ha=function(p){p=void 0===p?{}:p;var T=Ba.call(this,p)||this;T.valueDec=u(p,"valueDec",-1);return T};$jscomp.inherits(Ha,Ba);Ha.blockName=function(){return"relativeSidBlock"};Ha.prototype.fromBER=function(p,T,aa){if(0===
aa)return T;if(!1===V(this,p,T,aa))return-1;p=new Uint8Array(p,T,aa);this.valueHex=new ArrayBuffer(aa);for(var ma=new Uint8Array(this.valueHex),sa=0;sa<aa&&(ma[sa]=p[sa]&127,this.blockLength++,0!==(p[sa]&128));sa++);aa=new ArrayBuffer(this.blockLength);sa=new Uint8Array(aa);for(var Ca=0;Ca<this.blockLength;Ca++)sa[Ca]=ma[Ca];this.valueHex=aa.slice(0);ma=new Uint8Array(this.valueHex);if(0!==(p[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===
ma[0]&&this.warnings.push("Needlessly long format of SID encoding");8>=this.blockLength?this.valueDec=q(ma,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return T+this.blockLength};Ha.prototype.toBER=function(p){p=void 0===p?!1:p;if(this.isHexOnly){if(!0===p)return new ArrayBuffer(this.valueHex.byteLength);var T=new Uint8Array(this.valueHex);var aa=new ArrayBuffer(this.blockLength);p=new Uint8Array(aa);for(var ma=0;ma<this.blockLength-1;ma++)p[ma]=T[ma]|128;p[this.blockLength-
1]=T[this.blockLength-1];return aa}T=f(this.valueDec,7);if(0===T.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);aa=new ArrayBuffer(T.byteLength);if(!1===p){ma=new Uint8Array(T);p=new Uint8Array(aa);for(var sa=0;sa<T.byteLength-1;sa++)p[sa]=ma[sa]|128;p[T.byteLength-1]=ma[T.byteLength-1]}return aa};Ha.prototype.toString=function(){return!0===this.isHexOnly?I(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString()};Ha.prototype.toJSON=function(){var p={};
try{p=Ba.prototype.toJSON.call(this)}catch(T){}p.valueDec=this.valueDec;return p};var Ma=function(p){p=void 0===p?{}:p;var T=w.call(this,p)||this;T.fromString(u(p,"value",""));return T};$jscomp.inherits(Ma,w);Ma.prototype.fromBER=function(p,T,aa){for(;0<aa;){var ma=new Ha;T=ma.fromBER(p,T,aa);if(-1===T){this.blockLength=0;this.error=ma.error;break}this.blockLength+=ma.blockLength;aa-=ma.blockLength;this.value.push(ma)}return T};Ma.prototype.toBER=function(p){p=void 0===p?!1:p;for(var T=new ArrayBuffer(0),
aa=0;aa<this.value.length;aa++){var ma=this.value[aa].toBER(p);if(0===ma.byteLength)return this.error=this.value[aa].error,new ArrayBuffer(0);T=k(T,ma)}return T};Ma.prototype.fromString=function(p){this.value=[];var T=0;do{var aa=p.indexOf(".",T);var ma=-1===aa?p.substr(T):p.substr(T,aa-T);T=aa+1;var sa=new Ha;sa.valueDec=parseInt(ma,10);if(isNaN(sa.valueDec))break;this.value.push(sa)}while(-1!==aa);return!0};Ma.prototype.toString=function(){for(var p="",T,aa=0;aa<this.value.length;aa++){T=this.value[aa].isHexOnly;
var ma=this.value[aa].toString();0!==aa&&(p+=".");T&&(ma="{"+ma+"}");p+=ma}return p};Ma.blockName=function(){return"RelativeObjectIdentifierValueBlock"};Ma.prototype.toJSON=function(){var p={};try{p=w.prototype.toJSON.call(this)}catch(aa){}p.value=this.toString();p.sidArray=[];for(var T=0;T<this.value.length;T++)p.sidArray.push(this.value[T].toJSON());return p};var Sa=function(p){p=void 0===p?{}:p;p=J.call(this,p,Ma)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=13;return p};$jscomp.inherits(Sa,
J);Sa.blockName=function(){return"RelativeObjectIdentifier"};var Ka=Q(m),Ia=function(p){p=void 0===p?{}:p;p=Ka.call(this,p)||this;p.isHexOnly=!0;p.value="";return p};$jscomp.inherits(Ia,Ka);Ia.blockName=function(){return"BmpStringValueBlock"};Ia.prototype.toJSON=function(){var p={};try{p=Ka.prototype.toJSON.call(this)}catch(T){}p.value=this.value;return p};var Ra=function(p){p=void 0===p?{}:p;var T=J.call(this,p,Ia)||this;"value"in p&&T.fromString(p.value);T.idBlock.tagClass=1;T.idBlock.tagNumber=
30;return T};$jscomp.inherits(Ra,J);Ra.blockName=function(){return"BMPString"};Ra.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=
this.valueBlock.blockLength);return p};Ra.prototype.fromBuffer=function(p){p=p.slice(0);for(var T=new Uint8Array(p),aa=0;aa<T.length;aa+=2){var ma=T[aa];T[aa]=T[aa+1];T[aa+1]=ma}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(p))};Ra.prototype.fromString=function(p){var T=p.length;this.valueBlock.valueHex=new ArrayBuffer(2*T);for(var aa=new Uint8Array(this.valueBlock.valueHex),ma=0;ma<T;ma++){var sa=f(p.charCodeAt(ma),8);sa=new Uint8Array(sa);if(!(2<sa.length))for(var Ca=2-sa.length,
Ta=sa.length-1;0<=Ta;Ta--)aa[2*ma+Ta+Ca]=sa[Ta]}this.valueBlock.value=p};Ra.prototype.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};var db=Q(m),Va=function(p){p=void 0===p?{}:p;p=db.call(this,p)||this;p.isHexOnly=!0;p.value="";return p};$jscomp.inherits(Va,db);Va.blockName=function(){return"UniversalStringValueBlock"};Va.prototype.toJSON=function(){var p={};try{p=db.prototype.toJSON.call(this)}catch(T){}p.value=this.value;return p};var gb=function(p){p=void 0===
p?{}:p;var T=J.call(this,p,Va)||this;"value"in p&&T.fromString(p.value);T.idBlock.tagClass=1;T.idBlock.tagNumber=28;return T};$jscomp.inherits(gb,J);gb.blockName=function(){return"UniversalString"};gb.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===
this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};gb.prototype.fromBuffer=function(p){p=p.slice(0);for(var T=new Uint8Array(p),aa=0;aa<T.length;aa+=4)T[aa]=T[aa+3],T[aa+1]=T[aa+2],T[aa+2]=0,T[aa+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(p))};gb.prototype.fromString=function(p){var T=p.length;this.valueBlock.valueHex=new ArrayBuffer(4*T);for(var aa=new Uint8Array(this.valueBlock.valueHex),
ma=0;ma<T;ma++){var sa=f(p.charCodeAt(ma),8);sa=new Uint8Array(sa);if(!(4<sa.length))for(var Ca=4-sa.length,Ta=sa.length-1;0<=Ta;Ta--)aa[4*ma+Ta+Ca]=sa[Ta]}this.valueBlock.value=p};gb.prototype.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};var nb=Q(m),da=function(p){p=void 0===p?{}:p;p=nb.call(this,p)||this;p.value="";p.isHexOnly=!0;return p};$jscomp.inherits(da,nb);da.blockName=function(){return"SimpleStringValueBlock"};da.prototype.toJSON=function(){var p=
{};try{p=nb.prototype.toJSON.call(this)}catch(T){}p.value=this.value;return p};var fa=function(p){p=void 0===p?{}:p;var T=J.call(this,p,da)||this;"value"in p&&T.fromString(p.value);return T};$jscomp.inherits(fa,J);fa.blockName=function(){return"SIMPLESTRING"};fa.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&
(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};fa.prototype.fromBuffer=function(p){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(p))};fa.prototype.fromString=function(p){var T=p.length;this.valueBlock.valueHex=new ArrayBuffer(T);for(var aa=new Uint8Array(this.valueBlock.valueHex),ma=0;ma<T;ma++)aa[ma]=p.charCodeAt(ma);
this.valueBlock.value=p};fa.prototype.toString=function(){return this.constructor.blockName()+" : "+this.valueBlock.value};var wa=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=18;return p};$jscomp.inherits(wa,fa);wa.blockName=function(){return"NumericString"};var ya=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=19;return p};$jscomp.inherits(ya,fa);ya.blockName=function(){return"PrintableString"};var b=
function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=20;return p};$jscomp.inherits(b,fa);b.blockName=function(){return"TeletexString"};var R=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=21;return p};$jscomp.inherits(R,fa);R.blockName=function(){return"VideotexString"};var ba=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=22;return p};$jscomp.inherits(ba,fa);ba.blockName=
function(){return"IA5String"};var ra=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=25;return p};$jscomp.inherits(ra,fa);ra.blockName=function(){return"GraphicString"};var oa=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=26;return p};$jscomp.inherits(oa,fa);oa.blockName=function(){return"VisibleString"};var Da=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=
27;return p};$jscomp.inherits(Da,fa);Da.blockName=function(){return"GeneralString"};var Fa=function(p){p=void 0===p?{}:p;p=fa.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=29;return p};$jscomp.inherits(Fa,fa);Fa.blockName=function(){return"CharacterString"};var Oa=function(p){p=void 0===p?{}:p;var T=oa.call(this,p)||this;T.year=0;T.month=0;T.day=0;T.hour=0;T.minute=0;T.second=0;if("value"in p){T.fromString(p.value);T.valueBlock.valueHex=new ArrayBuffer(p.value.length);for(var aa=new Uint8Array(T.valueBlock.valueHex),
ma=0;ma<p.value.length;ma++)aa[ma]=p.value.charCodeAt(ma)}"valueDate"in p&&(T.fromDate(p.valueDate),T.valueBlock.valueHex=T.toBuffer());T.idBlock.tagClass=1;T.idBlock.tagNumber=23;return T};$jscomp.inherits(Oa,oa);Oa.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);
0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return p};Oa.prototype.fromBuffer=function(p){this.fromString(String.fromCharCode.apply(null,new Uint8Array(p)))};Oa.prototype.toBuffer=function(){for(var p=this.toString(),T=new ArrayBuffer(p.length),aa=new Uint8Array(T),ma=0;ma<p.length;ma++)aa[ma]=p.charCodeAt(ma);return T};Oa.prototype.fromDate=function(p){this.year=p.getUTCFullYear();
this.month=p.getUTCMonth()+1;this.day=p.getUTCDate();this.hour=p.getUTCHours();this.minute=p.getUTCMinutes();this.second=p.getUTCSeconds()};Oa.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};Oa.prototype.fromString=function(p){p=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(p);if(null===p)this.error="Wrong input string for convertion";else{var T=parseInt(p[1],10);this.year=50<=T?1900+T:2E3+T;this.month=parseInt(p[2],
10);this.day=parseInt(p[3],10);this.hour=parseInt(p[4],10);this.minute=parseInt(p[5],10);this.second=parseInt(p[6],10)}};Oa.prototype.toString=function(){var p=Array(7);p[0]=A(2E3>this.year?this.year-1900:this.year-2E3,2);p[1]=A(this.month,2);p[2]=A(this.day,2);p[3]=A(this.hour,2);p[4]=A(this.minute,2);p[5]=A(this.second,2);p[6]="Z";return p.join("")};Oa.blockName=function(){return"UTCTime"};Oa.prototype.toJSON=function(){var p={};try{p=oa.prototype.toJSON.call(this)}catch(T){}p.year=this.year;p.month=
this.month;p.day=this.day;p.hour=this.hour;p.minute=this.minute;p.second=this.second;return p};var Pa=function(p){p=void 0===p?{}:p;var T=oa.call(this,p)||this;T.year=0;T.month=0;T.day=0;T.hour=0;T.minute=0;T.second=0;T.millisecond=0;if("value"in p){T.fromString(p.value);T.valueBlock.valueHex=new ArrayBuffer(p.value.length);for(var aa=new Uint8Array(T.valueBlock.valueHex),ma=0;ma<p.value.length;ma++)aa[ma]=p.value.charCodeAt(ma)}"valueDate"in p&&(T.fromDate(p.valueDate),T.valueBlock.valueHex=T.toBuffer());
T.idBlock.tagClass=1;T.idBlock.tagNumber=24;return T};$jscomp.inherits(Pa,oa);Pa.prototype.fromBER=function(p,T,aa){p=this.valueBlock.fromBER(p,T,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===p)return this.error=this.valueBlock.error,p;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=
this.valueBlock.blockLength);return p};Pa.prototype.fromBuffer=function(p){this.fromString(String.fromCharCode.apply(null,new Uint8Array(p)))};Pa.prototype.toBuffer=function(){for(var p=this.toString(),T=new ArrayBuffer(p.length),aa=new Uint8Array(T),ma=0;ma<p.length;ma++)aa[ma]=p.charCodeAt(ma);return T};Pa.prototype.fromDate=function(p){this.year=p.getUTCFullYear();this.month=p.getUTCMonth()+1;this.day=p.getUTCDate();this.hour=p.getUTCHours();this.minute=p.getUTCMinutes();this.second=p.getUTCSeconds();
this.millisecond=p.getUTCMilliseconds()};Pa.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};Pa.prototype.fromString=function(p){var T=!1,aa=0,ma=0,sa=0;if("Z"===p[p.length-1])p=p.substr(0,p.length-1),T=!0;else{var Ca=new Number(p[p.length-1]);if(isNaN(Ca.valueOf()))throw Error("Wrong input string for convertion");}if(T){if(-1!==p.indexOf("+"))throw Error("Wrong input string for convertion");if(-1!==p.indexOf("-"))throw Error("Wrong input string for convertion");
}else{Ca=1;var Ta=p.indexOf("+");-1===Ta&&(Ta=p.indexOf("-"),Ca=-1);if(-1!==Ta){var ib=p.substr(Ta+1);p=p.substr(0,Ta);if(2!==ib.length&&4!==ib.length)throw Error("Wrong input string for convertion");Ta=new Number(ib.substr(0,2));if(isNaN(Ta.valueOf()))throw Error("Wrong input string for convertion");ma=Ca*Ta;if(4===ib.length){Ta=new Number(ib.substr(2,2));if(isNaN(Ta.valueOf()))throw Error("Wrong input string for convertion");sa=Ca*Ta}}}ib=p.indexOf(".");-1===ib&&(ib=p.indexOf(","));if(-1!==ib){aa=
new Number("0"+p.substr(ib));if(isNaN(aa.valueOf()))throw Error("Wrong input string for convertion");aa=aa.valueOf();p=p.substr(0,ib)}switch(!0){case 8===p.length:Ca=/(\d{4})(\d{2})(\d{2})/ig;if(-1!==ib)throw Error("Wrong input string for convertion");break;case 10===p.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})/ig;-1!==ib&&(aa*=60,this.minute=Math.floor(aa),aa=60*(aa-this.minute),this.second=Math.floor(aa),aa=1E3*(aa-this.second),this.millisecond=Math.floor(aa));break;case 12===p.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig;
-1!==ib&&(aa*=60,this.second=Math.floor(aa),aa=1E3*(aa-this.second),this.millisecond=Math.floor(aa));break;case 14===p.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig;-1!==ib&&(this.millisecond=Math.floor(1E3*aa));break;default:throw Error("Wrong input string for convertion");}aa=Ca.exec(p);if(null===aa)throw Error("Wrong input string for convertion");for(p=1;p<aa.length;p++)switch(p){case 1:this.year=parseInt(aa[p],10);break;case 2:this.month=parseInt(aa[p],10);break;case 3:this.day=parseInt(aa[p],
10);break;case 4:this.hour=parseInt(aa[p],10)+ma;break;case 5:this.minute=parseInt(aa[p],10)+sa;break;case 6:this.second=parseInt(aa[p],10);break;default:throw Error("Wrong input string for convertion");}!1===T&&(T=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond),this.year=T.getUTCFullYear(),this.month=T.getUTCMonth(),this.day=T.getUTCDay(),this.hour=T.getUTCHours(),this.minute=T.getUTCMinutes(),this.second=T.getUTCSeconds(),this.millisecond=T.getUTCMilliseconds())};
Pa.prototype.toString=function(){var p=[];p.push(A(this.year,4));p.push(A(this.month,2));p.push(A(this.day,2));p.push(A(this.hour,2));p.push(A(this.minute,2));p.push(A(this.second,2));0!==this.millisecond&&(p.push("."),p.push(A(this.millisecond,3)));p.push("Z");return p.join("")};Pa.blockName=function(){return"GeneralizedTime"};Pa.prototype.toJSON=function(){var p={};try{p=oa.prototype.toJSON.call(this)}catch(T){}p.year=this.year;p.month=this.month;p.day=this.day;p.hour=this.hour;p.minute=this.minute;
p.second=this.second;p.millisecond=this.millisecond;return p};var ab=function(p){p=void 0===p?{}:p;p=la.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=31;return p};$jscomp.inherits(ab,la);ab.blockName=function(){return"DATE"};var fb=function(p){p=void 0===p?{}:p;p=la.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=32;return p};$jscomp.inherits(fb,la);fb.blockName=function(){return"TimeOfDay"};var mb=function(p){p=void 0===p?{}:p;p=la.call(this,p)||this;p.idBlock.tagClass=
1;p.idBlock.tagNumber=33;return p};$jscomp.inherits(mb,la);mb.blockName=function(){return"DateTime"};var rb=function(p){p=void 0===p?{}:p;p=la.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=34;return p};$jscomp.inherits(rb,la);rb.blockName=function(){return"Duration"};var Na=function(p){p=void 0===p?{}:p;p=la.call(this,p)||this;p.idBlock.tagClass=1;p.idBlock.tagNumber=14;return p};$jscomp.inherits(Na,la);Na.blockName=function(){return"TIME"};var Za=function(p){p=void 0===p?{}:p;this.value=
u(p,"value",[]);this.optional=u(p,"optional",!1)},bb=function(p){p=void 0===p?{}:p;this.name=u(p,"name","");this.optional=u(p,"optional",!1)},$a=function(p){p=void 0===p?{}:p;this.name=u(p,"name","");this.optional=u(p,"optional",!1);this.value=u(p,"value",new bb);this.local=u(p,"local",!1)},Cb=function(p){p=void 0===p?{}:p;this.data=u(p,"data",new ArrayBuffer(0))};Cb.prototype.fromBER=function(p,T,aa){this.data=p.slice(T,aa);return T+aa};Cb.prototype.toBER=function(p){return this.data}},function(Q,
E,C){function u(x,z,m){return!1===x instanceof Object?m:z in x?x[z]:m}function I(x,z,m,P){z=void 0===z?0:z;m=void 0===m?x.byteLength-z:m;P=void 0===P?!1:P;var l="";x=$jscomp.makeIterator(new Uint8Array(x,z,m));for(z=x.next();!z.done;z=x.next())z=z.value.toString(16).toUpperCase(),1===z.length&&(l+="0"),l+=z,P&&(l+=" ");return l.trim()}function V(x,z){var m=0;if(1===x.length)return x[0];for(var P=x.length-1;0<=P;P--)m+=x[x.length-1-P]*Math.pow(2,z*P);return m}function q(x,z,m){var P=void 0===m?-1:
m;m=x;for(var l=Math.pow(2,z),e=1;8>e;e++){if(x<l){if(0>P)x=new ArrayBuffer(e),P=e;else{if(P<e)break;x=new ArrayBuffer(P)}l=new Uint8Array(x);for(--e;0<=e;e--){var w=Math.pow(2,e*z);l[P-e-1]=Math.floor(m/w);m-=l[P-e-1]*w}return x}l*=Math.pow(2,z)}return new ArrayBuffer(0)}function f(x){for(var z=[],m=0;m<arguments.length;++m)z[m-0]=arguments[m];var P=0;m=0;for(var l=$jscomp.makeIterator(z),e=l.next();!e.done;e=l.next())P+=e.value.byteLength;P=new ArrayBuffer(P);l=new Uint8Array(P);z=$jscomp.makeIterator(z);
for(e=z.next();!e.done;e=z.next())e=e.value,l.set(new Uint8Array(e),m),m+=e.byteLength;return P}function k(x,z){if(x.byteLength!==z.byteLength)return!1;x=new Uint8Array(x);z=new Uint8Array(z);for(var m=0;m<x.length;m++)if(x[m]!==z[m])return!1;return!0}function d(x,z,m,P){m=void 0===m?!1:m;var l=0,e=0,w=0,J="";z=(void 0===z?0:z)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(void 0===P?0:P){for(var h=P=0;h<
x.length;h++)if(0!==x.charCodeAt(h)){P=h;break}x=x.slice(P)}for(;l<x.length;){var y=x.charCodeAt(l++);l>=x.length&&(e=1);var G=x.charCodeAt(l++);l>=x.length&&(w=1);h=x.charCodeAt(l++);P=y>>2;y=(y&3)<<4|G>>4;G=(G&15)<<2|h>>6;h&=63;1===e?G=h=64:1===w&&(h=64);J=m?64===G?J+(""+z.charAt(P)+z.charAt(y)):64===h?J+(""+z.charAt(P)+z.charAt(y)+z.charAt(G)):J+(""+z.charAt(P)+z.charAt(y)+z.charAt(G)+z.charAt(h)):J+(""+z.charAt(P)+z.charAt(y)+z.charAt(G)+z.charAt(h))}return J}function g(x,z,m){function P(S){for(var Z=
0;64>Z;Z++)if(l.charAt(Z)===S)return Z;return 64}m=void 0===m?!1:m;var l=(void 0===z?0:z)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=0;for(z="";e<x.length;){var w=P(x.charAt(e++)),J=e>=x.length?0:P(x.charAt(e++)),h=e>=x.length?0:P(x.charAt(e++)),y=e>=x.length?0:P(x.charAt(e++)),G=((64===J?0:J)&15)<<4|(64===h?0:h)>>2,M=((64===h?0:h)&3)<<6|(64===y?0:y);z+=String.fromCharCode((64===w?0:w)<<2|(64===J?0:J)>>
4);64!==h&&(z+=String.fromCharCode(G));64!==y&&(z+=String.fromCharCode(M))}if(m){x=-1;for(m=z.length-1;0<=m;m--)if(0!==z.charCodeAt(m)){x=m;break}z=-1!==x?z.slice(0,x+1):""}return z}function t(x){var z="";x=new Uint8Array(x);x=$jscomp.makeIterator(x);for(var m=x.next();!m.done;m=x.next())z+=String.fromCharCode(m.value);return z}function A(x){for(var z=x.length,m=new ArrayBuffer(z),P=new Uint8Array(m),l=0;l<z;l++)P[l]=x.charCodeAt(l);return m}function W(x){var z=Math.log(x)/H;x=Math.floor(z);z=Math.round(z);
return x===z?x:z}function F(x,z){z=$jscomp.makeIterator(z);for(var m=z.next();!m.done;m=z.next())delete x[m.value]}C.d(E,"e",function(){return u});C.d(E,"b",function(){return I});C.d(E,"k",function(){return V});C.d(E,"l",function(){return q});C.d(E,"j",function(){return f});C.d(E,"f",function(){return k});C.d(E,"i",function(){return d});C.d(E,"d",function(){return g});C.d(E,"a",function(){return t});C.d(E,"h",function(){return A});C.d(E,"g",function(){return W});C.d(E,"c",function(){return F});var H=
Math.log(2)},function(Q,E,C){(function(u,I){function V(r,n){for(var v=1;v<arguments.length;++v);v=arguments[0];for(var D=1;D<arguments.length;D++){var U=arguments[D],N;for(N in U)U.hasOwnProperty(N)&&(v[N]=U[N])}return v}function q(r){return function(n){n.localName=r.localName||n.name;n.namespaceURI=r.namespaceURI||n.namespaceURI||null;n.prefix=r.prefix||n.prefix||null;n.parser=r.parser||n.parser;n.target!==n&&(n.items=V({},n.items));n.target=n}}function f(r){r=void 0===r?{}:r;return function(n,v){var D=
n.constructor;D.items||(D.items={});D.target!==D&&(D.items=V({},D.items));D.target=n;D.items[v]=r.parser?{parser:r.parser,required:r.required||!1,maxOccurs:r.maxOccurs||1E9,minOccurs:void 0===r.minOccurs?0:r.minOccurs,noRoot:r.noRoot||!1}:{namespaceURI:r.namespaceURI||null,required:r.required||!1,prefix:r.prefix||null,defaultValue:r.defaultValue,converter:r.converter,noRoot:r.noRoot||!1};r.localName=r.localName||r.parser&&r.parser.localName||v;D.items[v].namespaceURI=r.namespaceURI||r.parser&&r.parser.namespaceURI||
null;D.items[v].prefix=r.prefix||r.parser&&r.parser.prefix||null;D.items[v].localName=r.localName;D.items[v].type="element";g(n,v,r)}}function k(r){r=void 0===r?{required:!1,namespaceURI:null}:r;return function(n,v){var D=n.constructor;r.localName||(r.localName=v);D.items||(D.items={});D.target!==D&&(D.items=V({},D.items));D.target=n;D.items[v]=r;D.items[v].type="attribute";g(n,v,r)}}function d(r){r=void 0===r?{required:!1}:r;return function(n,v){var D=n.constructor;D.items||(D.items={});D.target!==
D&&(D.items=V({},D.items));D.target=n;D.items[v]=r;D.items[v].type="content";g(n,v,r)}}function g(r,n,v){var D="_"+n;Object.defineProperty(r,D,{writable:!0,enumerable:!1});Object.defineProperty(r,n,{set:function(U){this[D]!==U&&(this.element=null,this[D]=U)},get:function(){if(void 0===this[D]){var U=v.defaultValue;v.parser&&(U=new v.parser,U.localName=v.localName);this[D]=U}return this[D]}})}function t(r,n){for(var v=1;v<arguments.length;++v);v=r;for(var D=/[^%](%\d+)/g,U,N=[];U=D.exec(v);)N.push({arg:U[1],
index:U.index});for(D=N.length-1;0<=D;D--){var O=N[D];U=O.arg.substring(1);O=O.index+1;v=v.substring(0,O)+arguments[+U]+v.substring(O+1+U.length)}return v=v.replace("%%","%")}function A(r,n){var v=null==r.ownerDocument?r:r.ownerDocument,D=document.createNSResolver(null==r.ownerDocument?r.documentElement:r.ownerDocument.documentElement);r=v.evaluate(n,r,D,XPathResult.ANY_TYPE,null);for(n=[];v=r.iterateNext();)n.push(v);return n}function W(r){r=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return(new DOMParser).parseFromString(r,
"application/xml")}function F(r,n){return(r=S(r,n))&&0<r.length?r[0]:null}function H(r,n){n=void 0===n?{}:n;if(m(r)){r.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==r.namespaceURI&&!n[r.prefix||""]&&(n[r.prefix?r.prefix:""]=r.namespaceURI);for(var v=0;v<r.childNodes.length;v++){var D=r.childNodes.item(v);D&&D.nodeType===y.Element&&H(D,n)}}}function x(r){var n={};H(r,n);return n}function z(r,n){for(var v=1;v<arguments.length;++v);v=arguments[0];for(var D=1;D<arguments.length;D++){var U=arguments[D],
N;for(N in U)U.hasOwnProperty(N)&&(v[N]=U[N])}return v}function m(r){return r&&r.nodeType===y.Element}function P(r){return r&&r.nodeType===y.Document}C.d(E,"a",function(){return"application/xml"});C.d(E,"b",function(){return h});C.d(E,"c",function(){return na});C.d(E,"d",function(){return W});C.d(E,"e",function(){return x});C.d(E,"f",function(){return w});C.d(E,"g",function(){return k});C.d(E,"h",function(){return Z});C.d(E,"i",function(){return f});C.d(E,"j",function(){return ia});C.d(E,"k",function(){return d});
C.d(E,"l",function(){return q});C.d(E,"m",function(){return e});C.d(E,"n",function(){return y});C.d(E,"o",function(){return ca});C.d(E,"p",function(){return ea});C.d(E,"q",function(){return z});C.d(E,"r",function(){return P});C.d(E,"s",function(){return m});var l=function(r){this.items=[];r&&(this.items=r)};l.prototype.Item=function(r){return this.items[r]||null};l.prototype.Add=function(r){this.items.push(r)};l.prototype.Pop=function(){return this.items.pop()};l.prototype.RemoveAt=function(r){this.items=
this.items.filter(function(n,v){return v!==r})};l.prototype.Clear=function(){this.items=[]};l.prototype.GetIterator=function(){return this.items};l.prototype.ForEach=function(r){this.GetIterator().forEach(r)};l.prototype.Map=function(r){return new l(this.GetIterator().map(r))};l.prototype.Filter=function(r){return new l(this.GetIterator().filter(r))};l.prototype.Sort=function(r){return new l(this.GetIterator().sort(r))};l.prototype.Every=function(r){return this.GetIterator().every(r)};l.prototype.Some=
function(r){return this.GetIterator().some(r)};l.prototype.IsEmpty=function(){return 0===this.Count};$jscomp.global.Object.defineProperties(l.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});var e=function(r,n){for(var v=1;v<arguments.length;++v);this.prefix="XMLJS";this.code=r;this.name=this.constructor.name;arguments[0]=J[r];v=t.apply(this,arguments);for(var D=""+this.prefix,U=r+"";4>U.length;)U="0"+U;this.message=D+U+": "+v;this.stack=Error(this.message).stack},
w;(function(r){r[r.NONE=0]="NONE";r[r.NULL_REFERENCE=1]="NULL_REFERENCE";r[r.NULL_PARAM=2]="NULL_PARAM";r[r.DECORATOR_NULL_PARAM=3]="DECORATOR_NULL_PARAM";r[r.COLLECTION_LIMIT=4]="COLLECTION_LIMIT";r[r.METHOD_NOT_IMPLEMENTED=5]="METHOD_NOT_IMPLEMENTED";r[r.METHOD_NOT_SUPPORTED=6]="METHOD_NOT_SUPPORTED";r[r.PARAM_REQUIRED=7]="PARAM_REQUIRED";r[r.CONVERTER_UNSUPPORTED=8]="CONVERTER_UNSUPPORTED";r[r.ELEMENT_MALFORMED=9]="ELEMENT_MALFORMED";r[r.ELEMENT_MISSING=10]="ELEMENT_MISSING";r[r.ATTRIBUTE_MISSING=
11]="ATTRIBUTE_MISSING";r[r.CONTENT_MISSING=12]="CONTENT_MISSING";r[r.CRYPTOGRAPHIC=13]="CRYPTOGRAPHIC";r[r.CRYPTOGRAPHIC_NO_MODULE=14]="CRYPTOGRAPHIC_NO_MODULE";r[r.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM=15]="CRYPTOGRAPHIC_UNKNOWN_TRANSFORM";r[r.ALGORITHM_NOT_SUPPORTED=16]="ALGORITHM_NOT_SUPPORTED";r[r.ALGORITHM_WRONG_NAME=17]="ALGORITHM_WRONG_NAME";r[r.XML_EXCEPTION=18]="XML_EXCEPTION"})(w||(w={}));var J={};J[w.NONE]="No description";J[w.NULL_REFERENCE]="Null reference";J[w.NULL_PARAM]="'%1' has empty '%2' object";
J[w.DECORATOR_NULL_PARAM]="Decorator '%1' has empty '%2' parameter";J[w.COLLECTION_LIMIT]="Collection of '%1' in element '%2' has wrong amount of items";J[w.METHOD_NOT_IMPLEMENTED]="Method is not implemented";J[w.METHOD_NOT_SUPPORTED]="Method is not supported";J[w.PARAM_REQUIRED]="Required parameter is missing '%1'";J[w.CONVERTER_UNSUPPORTED]="Converter is not supported";J[w.ELEMENT_MALFORMED]="Malformed element '%1'";J[w.ELEMENT_MISSING]="Element '%1' is missing in '%2'";J[w.ATTRIBUTE_MISSING]="Attribute '%1' is missing in '%2'";
J[w.CONTENT_MISSING]="Content is missing in '%1'";J[w.CRYPTOGRAPHIC]="Cryptographic error: %1";J[w.CRYPTOGRAPHIC_NO_MODULE]="WebCrypto module is not found";J[w.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM]="Unknown transform %1";J[w.ALGORITHM_NOT_SUPPORTED]="Algorithm is not supported '%1'";J[w.ALGORITHM_WRONG_NAME]="Algorithm wrong name in use '%1'";J[w.XML_EXCEPTION]="XML exception: %1";var h=function(){};h.ToString=function(r,n){n=void 0===n?"utf8":n;r=new Uint8Array(r);switch(n.toLowerCase()){case "utf8":return this.ToUtf8String(r);
case "binary":return this.ToBinary(r);case "hex":return this.ToHex(r);case "base64":return this.ToBase64(r);case "base64url":return this.ToBase64Url(r);default:throw new e(w.CONVERTER_UNSUPPORTED);}};h.FromString=function(r,n){switch((void 0===n?"utf8":n).toLowerCase()){case "utf8":return this.FromUtf8String(r);case "binary":return this.FromBinary(r);case "hex":return this.FromHex(r);case "base64":return this.FromBase64(r);case "base64url":return this.FromBase64Url(r);default:throw new e(w.CONVERTER_UNSUPPORTED);
}};h.ToBase64=function(r){if("undefined"!==typeof btoa)return r=this.ToString(r,"binary"),btoa(r);if("undefined"!==typeof u)return u.from(r).toString("base64");throw new e(w.CONVERTER_UNSUPPORTED);};h.FromBase64=function(r){r=r.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,"");if("undefined"!==typeof atob)return this.FromBinary(atob(r));if("undefined"!==typeof u)return new Uint8Array(u.from(r,"base64"));throw new e(w.CONVERTER_UNSUPPORTED);};h.FromBase64Url=function(r){return this.FromBase64(this.Base64Padding(r.replace(/\-/g,
"+").replace(/_/g,"/")))};h.ToBase64Url=function(r){return this.ToBase64(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};h.FromUtf8String=function(r){r=unescape(encodeURIComponent(r));for(var n=new Uint8Array(r.length),v=0;v<r.length;v++)n[v]=r.charCodeAt(v);return n};h.ToUtf8String=function(r){r=String.fromCharCode.apply(null,r);return decodeURIComponent(escape(r))};h.FromBinary=function(r){for(var n=r.length,v=new Uint8Array(n),D=0;D<n;D++)v[D]=r.charCodeAt(D);return v};h.ToBinary=function(r){for(var n=
"",v=0;v<r.length;v++)n+=String.fromCharCode(r[v]);return n};h.ToHex=function(r){for(var n=[],v=0;v<r.length;v++){var D=r[v].toString(16);n.push(1===D.length?"0"+D:D)}return n.join("")};h.FromHex=function(r){for(var n=new Uint8Array(r.length/2),v=0;v<r.length;v+=2){var D=r.slice(v,v+2);n[v/2]=parseInt(D,16)}return n};h.ToDateTime=function(r){return new Date(r)};h.FromDateTime=function(r){return r.toISOString()};h.Base64Padding=function(r){var n=4-r.length%4;if(4>n)for(var v=0;v<n;v++)r+="=";return r};
var y;(function(r){r[r.None=0]="None";r[r.Element=1]="Element";r[r.Attribute=2]="Attribute";r[r.Text=3]="Text";r[r.CDATA=4]="CDATA";r[r.EntityReference=5]="EntityReference";r[r.Entity=6]="Entity";r[r.ProcessingInstruction=7]="ProcessingInstruction";r[r.Comment=8]="Comment";r[r.Document=9]="Document";r[r.DocumentType=10]="DocumentType";r[r.DocumentFragment=11]="DocumentFragment";r[r.Notation=12]="Notation";r[r.Whitespace=13]="Whitespace";r[r.SignificantWhitespace=14]="SignificantWhitespace";r[r.EndElement=
15]="EndElement";r[r.EndEntity=16]="EndEntity";r[r.XmlDeclaration=17]="XmlDeclaration"})(y||(y={}));var G=function(r,n){throw Error("Not implemented");};if("undefined"===typeof self){var M=C(67);G=C(71);I.XMLSerializer=M.XMLSerializer;I.DOMParser=M.DOMParser;I.DOMImplementation=M.DOMImplementation;I.document=(new DOMImplementation).createDocument("http://www.w3.org/1999/xhtml","html",null)}else I=self;var S="undefined"!==typeof self?A:G,Z={get:function(r){if(r)return h.ToBase64(r)},set:function(r){return h.FromBase64(r)}},
ca={get:function(r){return r?r.toString():"0"},set:function(r){return Number(r)}},ea=function(r){r=void 0===r?{}:r;this.prefix=this.GetStatic().prefix||null;this.localName=this.GetStatic().localName;this.namespaceURI=this.GetStatic().namespaceURI;if(r){r=$jscomp.makeIterator(Object.entries(r));for(var n=r.next();!n.done;n=r.next()){var v=$jscomp.makeIterator(n.value);n=v.next().value;v=v.next().value;void 0!==v&&(this[n]=v)}}};ea.LoadXml=function(r){var n=new this;n.LoadXml(r);return n};ea.GetElement=
function(r,n,v){v=void 0===v?!0:v;var D=r.getElementsByTagName(n);if(v&&0===D.length)throw new e(w.ELEMENT_MISSING,n,r.localName);return D[0]||null};ea.GetAttribute=function(r,n,v,D){D=void 0===D?!0:D;if(r.hasAttribute(n))return r.getAttribute(n);if(D)throw new e(w.ATTRIBUTE_MISSING,n,r.localName);return v};ea.GetElementById=function(r,n){if(null==r||null==n)return null;var v=null;P(r)&&(v=r.getElementById(n));null==v&&(v=F(r,"//*[@Id='"+n+"']"),null==v&&(v=F(r,"//*[@ID='"+n+"']"),null==v&&(v=F(r,
"//*[@id='"+n+"']"))));return v};ea.CreateDocument=function(r,n,v){n=void 0===n?null:n;v=void 0===v?null:v;var D="",U="",N="";v&&(D=v+":",U=":"+v);n&&(N=" xmlns"+U+'="'+n+'"');r=""+D+(void 0===r?"xml_root":r);return(new DOMParser).parseFromString("<"+r+N+"></"+r+">","application/xml")};ea.GetChildren=function(r,n,v){r=P(r)?r.documentElement:r;for(var D=[],U=0;U<r.childNodes.length;U++){var N=r.childNodes[U];!m(N)||N.localName!==n||N.namespaceURI!==v&&v||D.push(N)}return D};ea.GetFirstChild=function(r,
n,v){r=P(r)?r.documentElement:r;for(var D=0;D<r.childNodes.length;D++){var U=r.childNodes[D];if(m(U)&&U.localName===n&&(U.namespaceURI===v||!v))return U}return null};ea.GetChild=function(r,n,v,D){D=void 0===D?!0:D;for(var U=0;U<r.childNodes.length;U++){var N=r.childNodes[U];if(m(N)&&N.localName===n&&(N.namespaceURI===v||!v))return N}if(D)throw new e(w.ELEMENT_MISSING,n,r.localName);return null};ea.prototype.HasChanged=function(){var r=this.GetStatic();if(r.items)for(var n in r.items)if(r.items.hasOwnProperty(n)){var v=
this[n];if(r.items[n].parser&&v&&v.HasChanged())return!0}return null===this.element};ea.prototype.GetXml=function(r){if(!r&&!this.HasChanged())return this.element||null;r=this.CreateDocument();var n=this.CreateElement(),v=this.GetStatic(),D=this.localName;if(v.items)for(var U in v.items)if(v.items.hasOwnProperty(U)){var N=this[U],O=v.items[U];switch(O.type){case "content":var K=O.converter?O.converter.get(N):N;if(O.required&&(null===K||void 0===K))throw new e(w.CONTENT_MISSING,D);if(O.defaultValue!==
N||O.required)n.textContent=K;break;case "attribute":K=O.converter?O.converter.get(N):N;if(O.required&&(null===K||void 0===K))throw new e(w.ATTRIBUTE_MISSING,O.localName,D);if(O.defaultValue!==N||O.required)O.namespaceURI?n.setAttributeNS(O.namespaceURI,O.localName,K):n.setAttribute(O.localName,K);break;case "element":K=null;if(O.parser){if(O.required&&!N||O.minOccurs&&!N.Count)throw new e(w.ELEMENT_MISSING,N.localName,D);N&&(K=N.GetXml(void 0===N.element&&(O.required||N.Count)))}else{var pa=O.converter?
O.converter.get(N):N;if(O.required&&void 0===pa)throw new e(w.ELEMENT_MISSING,O.localName,D);if(N!==O.defaultValue||O.required)if(K=O.namespaceURI?r.createElementNS(O.namespaceURI,(O.prefix?O.prefix+":":"")+O.localName):r.createElement((O.prefix?O.prefix+":":"")+O.localName),Array.isArray(pa)){pa=$jscomp.makeIterator(pa);for(var xa=pa.next();!xa.done;xa=pa.next())xa=xa.value,xa=xa instanceof ea?xa.GetXml(!0):xa,null!==xa&&K.appendChild(xa)}else pa instanceof ea?K.appendChild(pa.GetXml(!0)):K.textContent=
pa}if(K)if(O.noRoot){pa=[];for(xa=0;xa<K.childNodes.length;xa++){var ua=K.childNodes.item(xa);m(ua)&&pa.push(ua)}if(pa.length<O.minOccurs||pa.length>O.maxOccurs)throw new e(w.COLLECTION_LIMIT,N.localName,v.localName);pa.forEach(function(za){return n.appendChild(za.cloneNode(!0))})}else{if(K.childNodes.length<O.minOccurs||K.childNodes.length>O.maxOccurs)throw new e(w.COLLECTION_LIMIT,N.localName,v.localName);n.appendChild(K)}}}this.OnGetXml(n);return this.element=n};ea.prototype.LoadXml=function(r){r=
"string"===typeof r?W(r).documentElement:r;if(!r)throw new e(w.PARAM_REQUIRED,"element");var n=this.GetStatic(),v=this.localName;if(r.localName!==v||r.namespaceURI!=this.NamespaceURI)throw new e(w.ELEMENT_MALFORMED,v);if(n.items)for(var D in n.items)if(n.items.hasOwnProperty(D)){var U=n.items[D];switch(U.type){case "content":if(U.required&&!r.textContent)throw new e(w.CONTENT_MISSING,v);r.textContent?(U=U.converter?U.converter.set(r.textContent):r.textContent,this[D]=U):this[D]=U.defaultValue;break;
case "attribute":if(!U.localName)throw new e(w.PARAM_REQUIRED,"localName");if(U.namespaceURI){var N=r.hasAttributeNS.bind(r,U.namespaceURI,U.localName);var O=r.getAttributeNS.bind(r,U.namespaceURI,U.localName)}else N=r.hasAttribute.bind(r,U.localName),O=r.getAttribute.bind(r,U.localName);if(U.required&&!N())throw new e(w.ATTRIBUTE_MISSING,U.localName,v);N()?(U=U.converter?U.converter.set(O()):O(),this[D]=U):this[D]=U.defaultValue;break;case "element":if(U.noRoot){if(!U.parser)throw new e(w.XML_EXCEPTION,
"Schema for '"+U.localName+"' with flag noRoot must have 'parser'");N=new U.parser;if(!(N instanceof ia))throw new e(w.XML_EXCEPTION,"Schema for '"+U.localName+"' with flag noRoot must have 'parser' like instance of XmlCollection");N.OnLoadXml(r);delete N.element;if(N.Count<U.minOccurs||N.Count>U.maxOccurs)throw new e(w.COLLECTION_LIMIT,U.parser.localName,v);this[D]=N}else{N=null;for(O=0;O<r.childNodes.length;O++){var K=r.childNodes.item(O);if(m(K)&&K.localName===U.localName&&K.namespaceURI==U.namespaceURI){N=
K;break}}if(U.required&&!N)throw new e(w.ELEMENT_MISSING,U.parser?U.parser.localName:U.localName,v);U.parser?N&&(O=new U.parser,O.localName=U.localName,O.namespaceURI=U.namespaceURI,this[D]=O,O.LoadXml(N)):N?(U=U.converter?U.converter.set(N.textContent):N.textContent,this[D]=U):this[D]=U.defaultValue}}}this.OnLoadXml(r);this.prefix=r.prefix||"";this.element=r};ea.prototype.toString=function(){var r=this.GetXml();return r?(new XMLSerializer).serializeToString(r):""};ea.prototype.GetElement=function(r,
n){n=void 0===n?!0:n;if(!this.element)throw new e(w.NULL_PARAM,this.localName);return ea.GetElement(this.element,r,n)};ea.prototype.GetChildren=function(r,n){if(!this.element)throw new e(w.NULL_PARAM,this.localName);return ea.GetChildren(this.element,r,n||this.NamespaceURI||void 0)};ea.prototype.GetChild=function(r,n){n=void 0===n?!0:n;if(!this.element)throw new e(w.NULL_PARAM,this.localName);return ea.GetChild(this.element,r,this.NamespaceURI||void 0,n)};ea.prototype.GetFirstChild=function(r,n){if(!this.element)throw new e(w.NULL_PARAM,
this.localName);return ea.GetFirstChild(this.element,r,n)};ea.prototype.GetAttribute=function(r,n,v){v=void 0===v?!0:v;if(!this.element)throw new e(w.NULL_PARAM,this.localName);return ea.GetAttribute(this.element,r,n,v)};ea.prototype.IsEmpty=function(){return void 0===this.Element};ea.prototype.OnLoadXml=function(r){};ea.prototype.GetStatic=function(){return this.constructor};ea.prototype.GetPrefix=function(){return this.Prefix?this.prefix+":":""};ea.prototype.OnGetXml=function(r){};ea.prototype.CreateElement=
function(r,n,v,D){v=void 0===v?null:v;D=void 0===D?null:D;r||(r=this.CreateDocument());n=n||this.localName;v=v||this.NamespaceURI;D=D||this.prefix;n=(D?D+":":"")+n;v=v?r.createElementNS(v,n):r.createElement(n);r.importNode(v,!0);return v};ea.prototype.CreateDocument=function(){return ea.CreateDocument(this.localName,this.NamespaceURI,this.Prefix)};$jscomp.global.Object.defineProperties(ea.prototype,{Element:{configurable:!0,enumerable:!0,get:function(){return this.element}},Prefix:{configurable:!0,
enumerable:!0,get:function(){return this.prefix},set:function(r){this.prefix=r}},LocalName:{configurable:!0,enumerable:!0,get:function(){return this.localName}},NamespaceURI:{configurable:!0,enumerable:!0,get:function(){return this.namespaceURI||null}}});var ia=function(){var r=ea.apply(this,arguments)||this;r.MaxOccurs=Number.MAX_VALUE;r.MinOccurs=0;r.items=[];return r};$jscomp.inherits(ia,ea);ia.prototype.HasChanged=function(){var r=ea.prototype.HasChanged.call(this),n=this.Some(function(v){return v.HasChanged()});
return r||n};ia.prototype.Item=function(r){return this.items[r]||null};ia.prototype.Add=function(r){this.items.push(r);this.element=null};ia.prototype.Pop=function(){this.element=null;return this.items.pop()};ia.prototype.RemoveAt=function(r){this.items=this.items.filter(function(n,v){return v!==r});this.element=null};ia.prototype.Clear=function(){this.items=[];this.element=null};ia.prototype.GetIterator=function(){return this.items};ia.prototype.ForEach=function(r){this.GetIterator().forEach(r)};
ia.prototype.Map=function(r){return new l(this.GetIterator().map(r))};ia.prototype.Filter=function(r){return new l(this.GetIterator().filter(r))};ia.prototype.Sort=function(r){return new l(this.GetIterator().sort(r))};ia.prototype.Every=function(r){return this.GetIterator().every(r)};ia.prototype.Some=function(r){return this.GetIterator().some(r)};ia.prototype.IsEmpty=function(){return 0===this.Count};ia.prototype.OnGetXml=function(r){for(var n=$jscomp.makeIterator(this.GetIterator()),v=n.next();!v.done;v=
n.next())(v=v.value.GetXml())&&r.appendChild(v)};ia.prototype.OnLoadXml=function(r){var n=this.GetStatic();if(!n.parser)throw new e(w.XML_EXCEPTION,n.localName+" doesn't have required 'parser' in @XmlElement");for(var v=0;v<r.childNodes.length;v++){var D=r.childNodes.item(v);if(m(D)&&D.localName===n.parser.localName&&D.namespaceURI==n.namespaceURI){var U=new n.parser;U.LoadXml(D);this.Add(U)}}};$jscomp.global.Object.defineProperties(ia.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});
var na=function(){return l.apply(this,arguments)||this};$jscomp.inherits(na,l);na.prototype.Add=function(r){r.prefix=r.prefix||"";r.namespace=r.namespace||"";l.prototype.Add.call(this,r)};na.prototype.GetPrefix=function(r,n){n=void 0===n?this.Count-1:n;var v=this.Count-1;r=r||"";for(n>v&&(n=v);0<=n;n--)if(v=this.items[n],v.prefix===r)return v;return null};na.prototype.GetNamespace=function(r,n){n=void 0===n?this.Count-1:n;var v=this.Count-1;r=r||"";for(n>v&&(n=v);0<=n;n--)if(v=this.items[n],v.namespace===
r)return v;return null}}).call(this,C(6).Buffer,C(18))},function(Q,E,C){C.d(E,"a",function(){return V});var u=C(0),I=C(1),V=function(q){q=void 0===q?{}:q;this.algorithmId=Object(I.e)(q,"algorithmId",V.defaultValues("algorithmId"));"algorithmParams"in q&&(this.algorithmParams=Object(I.e)(q,"algorithmParams",V.defaultValues("algorithmParams")));"schema"in q&&this.fromSchema(q.schema)};V.defaultValues=function(q){switch(q){case "algorithmId":return"";case "algorithmParams":return new u.a;default:throw Error("Invalid member name for AlgorithmIdentifier class: "+
q);}};V.compareWithDefault=function(q,f){switch(q){case "algorithmId":return""===f;case "algorithmParams":return f instanceof u.a;default:throw Error("Invalid member name for AlgorithmIdentifier class: "+q);}};V.schema=function(q){q=void 0===q?{}:q;q=Object(I.e)(q,"names",{});return new u.v({name:q.blockName||"",optional:q.optional||!1,value:[new u.p({name:q.algorithmIdentifier||""}),new u.a({name:q.algorithmParams||"",optional:!0})]})};V.prototype.fromSchema=function(q){Object(I.c)(q,["algorithm",
"params"]);q=u.D(q,q,V.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===q.verified)throw Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=q.result.algorithm.valueBlock.toString();"params"in q.result&&(this.algorithmParams=q.result.params)};V.prototype.toSchema=function(){var q=[];q.push(new u.p({value:this.algorithmId}));"algorithmParams"in this&&!1===this.algorithmParams instanceof u.a&&q.push(this.algorithmParams);
return new u.v({value:q})};V.prototype.toJSON=function(){var q={algorithmId:this.algorithmId};"algorithmParams"in this&&!1===this.algorithmParams instanceof u.a&&(q.algorithmParams=this.algorithmParams.toJSON());return q};V.prototype.isEqual=function(q){return!1===q instanceof V||this.algorithmId!==q.algorithmId?!1:"algorithmParams"in this?"algorithmParams"in q?JSON.stringify(this.algorithmParams)===JSON.stringify(q.algorithmParams):!1:"algorithmParams"in q?!1:!0}},function(Q,E,C){(function(u,I){function V(l,
e,w){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof I&&"undefined"===typeof window){if("undefined"===typeof I[u.pid])I[u.pid]={};else if("object"!==typeof I[u.pid])throw Error("Name global."+u.pid+" already exists and it is not an object");if("undefined"===typeof I[u.pid].pkijs)I[u.pid].pkijs={};else if("object"!==typeof I[u.pid].pkijs)throw Error("Name global."+u.pid+".pkijs already exists and it is not an object");I[u.pid].pkijs.engine={name:l,crypto:e,subtle:w}}else P.name!==l&&(P=
{name:l,crypto:e,subtle:w})}function q(){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof I&&"undefined"===typeof window){try{var l=I[u.pid].pkijs.engine}catch(e){throw Error('Please call "setEngine" before call to "getEngine"');}return l}return P}function f(){var l=q();if(null!==l.subtle)return l.subtle}function k(l){return q().subtle.getRandomValues(l)}function d(l){return q().subtle.getOIDByAlgorithm(l)}function g(l){if(0!==l.byteLength%2)return new ArrayBuffer(0);var e=l.byteLength/
2,w=new ArrayBuffer(e);(new Uint8Array(w)).set(new Uint8Array(l,0,e));w=new x.m({valueHex:w});var J=new ArrayBuffer(e);(new Uint8Array(J)).set(new Uint8Array(l,e,e));l=new x.m({valueHex:J});return(new x.v({value:[w.convertToDER(),l.convertToDER()]})).toBER(!1)}function t(l){var e=!1,w="";l=l.trim();for(var J=0;J<l.length;J++)32===l.charCodeAt(J)?!1===e&&(e=!0):(e&&(w+=" ",e=!1),w+=l[J]);return w.toLowerCase()}function A(l){if(!1===l instanceof x.v||2!==l.valueBlock.value.length||!1===l.valueBlock.value[0]instanceof
x.m||!1===l.valueBlock.value[1]instanceof x.m)return new ArrayBuffer(0);var e=l.valueBlock.value[0].convertFromDER();l=l.valueBlock.value[1].convertFromDER();switch(!0){case e.valueBlock.valueHex.byteLength<l.valueBlock.valueHex.byteLength:if(1!==l.valueBlock.valueHex.byteLength-e.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");var w=l.valueBlock.valueHex.byteLength;e=new Uint8Array(e.valueBlock.valueHex);w=new ArrayBuffer(w);var J=new Uint8Array(w);J.set(e,1);J[0]=0;
return Object(z.j)(w,l.valueBlock.valueHex);case e.valueBlock.valueHex.byteLength>l.valueBlock.valueHex.byteLength:if(1!==e.valueBlock.valueHex.byteLength-l.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");w=e.valueBlock.valueHex.byteLength;l=new Uint8Array(l.valueBlock.valueHex);w=new ArrayBuffer(w);J=new Uint8Array(w);J.set(l,1);J[0]=0;return Object(z.j)(e.valueBlock.valueHex,w);default:if(e.valueBlock.valueHex.byteLength%2){w=e.valueBlock.valueHex.byteLength+1;J=new Uint8Array(e.valueBlock.valueHex);
e=new ArrayBuffer(w);var h=new Uint8Array(e);h.set(J,1);h[0]=0;l=new Uint8Array(l.valueBlock.valueHex);w=new ArrayBuffer(w);J=new Uint8Array(w);J.set(l,1);J[0]=0;return Object(z.j)(e,w)}}return Object(z.j)(e.valueBlock.valueHex,l.valueBlock.valueHex)}function W(l){return q().subtle.getAlgorithmByOID(l)}function F(l,e,w,J){switch(l.toUpperCase()){case "SHA-1":case "SHA-256":case "SHA-384":case "SHA-512":break;default:return Promise.reject("Unknown hash function: "+l)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');
if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===J instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');if(255<w)return Promise.reject('Please set "Counter" variable to value less or equal to 255');var h=new ArrayBuffer(4),y=new Uint8Array(h);y[0]=0;y[1]=0;y[2]=0;y[3]=w;y=new ArrayBuffer(0);var G=f();if("undefined"===typeof G)return Promise.reject("Unable to create WebCrypto object");y=Object(z.j)(y,e);y=Object(z.j)(y,h);y=Object(z.j)(y,
J);return G.digest({name:l},y).then(function(M){return{counter:w,result:M}})}function H(l,e,w,J){var h=0,y=1,G=[];switch(l.toUpperCase()){case "SHA-1":h=160;break;case "SHA-256":h=256;break;case "SHA-384":h=384;break;case "SHA-512":h=512;break;default:return Promise.reject("Unknown hash function: "+l)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===J instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');
h=w/h;0<Math.floor(h)&&(y=Math.floor(h),0<h-y&&y++);for(h=1;h<=y;h++)G.push(F(l,e,h,J));return Promise.all(G).then(function(M){for(var S=new ArrayBuffer(0),Z=1,ca=!0;ca;){ca=!1;for(var ea=$jscomp.makeIterator(M),ia=ea.next();!ia.done;ia=ea.next())if(ia=ia.value,ia.counter===Z){S=Object(z.j)(S,ia.result);ca=!0;break}Z++}w>>=3;if(S.byteLength>w){M=new ArrayBuffer(w);Z=new Uint8Array(M);S=new Uint8Array(S);for(ca=0;ca<w;ca++)Z[ca]=S[ca];return M}return S})}C.d(E,"i",function(){return V});C.d(E,"e",function(){return q});
C.d(E,"d",function(){return f});C.d(E,"g",function(){return k});C.d(E,"f",function(){return d});C.d(E,"a",function(){return g});C.d(E,"j",function(){return t});C.d(E,"b",function(){return A});C.d(E,"c",function(){return W});C.d(E,"h",function(){return H});var x=C(0),z=C(1),m=C(36),P={name:"none",crypto:null,subtle:null};(function(){if("undefined"!==typeof self&&"crypto"in self){var l="webcrypto",e=self.crypto;if("webkitSubtle"in self.crypto){try{var w=self.crypto.webkitSubtle}catch(J){w=self.crypto.subtle}l=
"safari"}"subtle"in self.crypto&&(w=self.crypto.subtle);P="undefined"===typeof w?{name:l,crypto:e,subtle:null}:{name:l,crypto:e,subtle:new m.a({name:l,crypto:self.crypto,subtle:w})}}V(P.name,P.crypto,P.subtle)})()}).call(this,C(32),C(18))},function(Q,E){Q.exports={options:{usePureJavaScript:!1}}},function(Q,E,C){(function(u){function I(){try{var n=new Uint8Array(1);n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===n.foo()&&"function"===typeof n.subarray&&0===n.subarray(1,
1).byteLength}catch(v){return!1}}function V(n,v){if((q.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<v)throw new RangeError("Invalid typed array length");q.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(v),n.__proto__=q.prototype):(null===n&&(n=new q(v)),n.length=v);return n}function q(n,v,D){if(!(q.TYPED_ARRAY_SUPPORT||this instanceof q))return new q(n,v,D);if("number"===typeof n){if("string"===typeof v)throw Error("If encoding is specified then the first argument must be a string");return d(this,n)}return f(this,
n,v,D)}function f(n,v,D,U){if("number"===typeof v)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&v instanceof ArrayBuffer){v.byteLength;if(0>D||v.byteLength<D)throw new RangeError("'offset' is out of bounds");if(v.byteLength<D+(U||0))throw new RangeError("'length' is out of bounds");v=void 0===D&&void 0===U?new Uint8Array(v):void 0===U?new Uint8Array(v,D):new Uint8Array(v,D,U);q.TYPED_ARRAY_SUPPORT?(n=v,n.__proto__=q.prototype):n=g(n,v);return n}if("string"===
typeof v){U=n;n=D;if("string"!==typeof n||""===n)n="utf8";if(!q.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');D=W(v,n)|0;U=V(U,D);v=U.write(v,n);v!==D&&(U=U.slice(0,v));return U}return t(n,v)}function k(n){if("number"!==typeof n)throw new TypeError('"size" argument must be a number');if(0>n)throw new RangeError('"size" argument must not be negative');}function d(n,v){k(v);n=V(n,0>v?0:A(v)|0);if(!q.TYPED_ARRAY_SUPPORT)for(var D=0;D<v;++D)n[D]=0;return n}function g(n,
v){var D=0>v.length?0:A(v.length)|0;n=V(n,D);for(var U=0;U<D;U+=1)n[U]=v[U]&255;return n}function t(n,v){if(q.isBuffer(v)){var D=A(v.length)|0;n=V(n,D);if(0===n.length)return n;v.copy(n,0,0,D);return n}if(v){if("undefined"!==typeof ArrayBuffer&&v.buffer instanceof ArrayBuffer||"length"in v)return(D="number"!==typeof v.length)||(D=v.length,D=D!==D),D?V(n,0):g(n,v);if("Buffer"===v.type&&ia(v.data))return g(n,v.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
}function A(n){if(n>=(q.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(q.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return n|0}function W(n,v){if(q.isBuffer(n))return n.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!==typeof n&&(n=""+n);var D=n.length;if(0===D)return 0;for(var U=!1;;)switch(v){case "ascii":case "latin1":case "binary":return D;
case "utf8":case "utf-8":case void 0:return G(n).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*D;case "hex":return D>>>1;case "base64":return S(n).length;default:if(U)return G(n).length;v=(""+v).toLowerCase();U=!0}}function F(n,v,D){var U=!1;if(void 0===v||0>v)v=0;if(v>this.length)return"";if(void 0===D||D>this.length)D=this.length;if(0>=D)return"";D>>>=0;v>>>=0;if(D<=v)return"";for(n||(n="utf8");;)switch(n){case "hex":n=v;v=D;D=this.length;if(!n||0>n)n=0;if(!v||0>v||v>D)v=
D;U="";for(D=n;D<v;++D)n=U,U=this[D],U=16>U?"0"+U.toString(16):U.toString(16),U=n+U;return U;case "utf8":case "utf-8":return m(this,v,D);case "ascii":n="";for(D=Math.min(this.length,D);v<D;++v)n+=String.fromCharCode(this[v]&127);return n;case "latin1":case "binary":n="";for(D=Math.min(this.length,D);v<D;++v)n+=String.fromCharCode(this[v]);return n;case "base64":return v=0===v&&D===this.length?ca.fromByteArray(this):ca.fromByteArray(this.slice(v,D)),v;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":v=
this.slice(v,D);D="";for(n=0;n<v.length;n+=2)D+=String.fromCharCode(v[n]+256*v[n+1]);return D;default:if(U)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();U=!0}}function H(n,v,D){var U=n[v];n[v]=n[D];n[D]=U}function x(n,v,D,U,N){if(0===n.length)return-1;"string"===typeof D?(U=D,D=0):2147483647<D?D=2147483647:-2147483648>D&&(D=-2147483648);D=+D;isNaN(D)&&(D=N?0:n.length-1);0>D&&(D=n.length+D);if(D>=n.length){if(N)return-1;D=n.length-1}else if(0>D)if(N)D=0;else return-1;"string"===
typeof v&&(v=q.from(v,U));if(q.isBuffer(v))return 0===v.length?-1:z(n,v,D,U,N);if("number"===typeof v)return v&=255,q.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?N?Uint8Array.prototype.indexOf.call(n,v,D):Uint8Array.prototype.lastIndexOf.call(n,v,D):z(n,[v],D,U,N);throw new TypeError("val must be string, number or Buffer");}function z(n,v,D,U,N){function O(ua,za){return 1===K?ua[za]:ua.readUInt16BE(za*K)}var K=1,pa=n.length,xa=v.length;if(void 0!==U&&(U=String(U).toLowerCase(),
"ucs2"===U||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(2>n.length||2>v.length)return-1;K=2;pa/=2;xa/=2;D/=2}if(N)for(U=-1;D<pa;D++)if(O(n,D)===O(v,-1===U?0:D-U)){if(-1===U&&(U=D),D-U+1===xa)return U*K}else-1!==U&&(D-=D-U),U=-1;else for(D+xa>pa&&(D=pa-xa);0<=D;D--){pa=!0;for(U=0;U<xa;U++)if(O(n,D+U)!==O(v,U)){pa=!1;break}if(pa)return D}return-1}function m(n,v,D){D=Math.min(n.length,D);for(var U=[];v<D;){var N=n[v],O=null,K=239<N?4:223<N?3:191<N?2:1;if(v+K<=D)switch(K){case 1:128>N&&(O=N);break;
case 2:var pa=n[v+1];128===(pa&192)&&(N=(N&31)<<6|pa&63,127<N&&(O=N));break;case 3:pa=n[v+1];var xa=n[v+2];128===(pa&192)&&128===(xa&192)&&(N=(N&15)<<12|(pa&63)<<6|xa&63,2047<N&&(55296>N||57343<N)&&(O=N));break;case 4:pa=n[v+1];xa=n[v+2];var ua=n[v+3];128===(pa&192)&&128===(xa&192)&&128===(ua&192)&&(N=(N&15)<<18|(pa&63)<<12|(xa&63)<<6|ua&63,65535<N&&1114112>N&&(O=N))}null===O?(O=65533,K=1):65535<O&&(O-=65536,U.push(O>>>10&1023|55296),O=56320|O&1023);U.push(O);v+=K}n=U.length;if(n<=na)U=String.fromCharCode.apply(String,
U);else{D="";for(v=0;v<n;)D+=String.fromCharCode.apply(String,U.slice(v,v+=na));U=D}return U}function P(n,v,D){if(0!==n%1||0>n)throw new RangeError("offset is not uint");if(n+v>D)throw new RangeError("Trying to access beyond buffer length");}function l(n,v,D,U,N,O){if(!q.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>N||v<O)throw new RangeError('"value" argument is out of bounds');if(D+U>n.length)throw new RangeError("Index out of range");}function e(n,v,D,U){0>
v&&(v=65535+v+1);for(var N=0,O=Math.min(n.length-D,2);N<O;++N)n[D+N]=(v&255<<8*(U?N:1-N))>>>8*(U?N:1-N)}function w(n,v,D,U){0>v&&(v=4294967295+v+1);for(var N=0,O=Math.min(n.length-D,4);N<O;++N)n[D+N]=v>>>8*(U?N:3-N)&255}function J(n,v,D,U,N,O){if(D+U>n.length)throw new RangeError("Index out of range");if(0>D)throw new RangeError("Index out of range");}function h(n,v,D,U,N){N||J(n,v,D,4,3.4028234663852886E38,-3.4028234663852886E38);ea.write(n,v,D,U,23,4);return D+4}function y(n,v,D,U,N){N||J(n,v,D,
8,1.7976931348623157E308,-1.7976931348623157E308);ea.write(n,v,D,U,52,8);return D+8}function G(n,v){v=v||Infinity;for(var D,U=n.length,N=null,O=[],K=0;K<U;++K){D=n.charCodeAt(K);if(55295<D&&57344>D){if(!N){if(56319<D){-1<(v-=3)&&O.push(239,191,189);continue}else if(K+1===U){-1<(v-=3)&&O.push(239,191,189);continue}N=D;continue}if(56320>D){-1<(v-=3)&&O.push(239,191,189);N=D;continue}D=(N-55296<<10|D-56320)+65536}else N&&-1<(v-=3)&&O.push(239,191,189);N=null;if(128>D){if(0>--v)break;O.push(D)}else if(2048>
D){if(0>(v-=2))break;O.push(D>>6|192,D&63|128)}else if(65536>D){if(0>(v-=3))break;O.push(D>>12|224,D>>6&63|128,D&63|128)}else if(1114112>D){if(0>(v-=4))break;O.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw Error("Invalid code point");}return O}function M(n){for(var v=[],D=0;D<n.length;++D)v.push(n.charCodeAt(D)&255);return v}function S(n){var v=ca,D=v.toByteArray;n=(n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")).replace(r,"");if(2>n.length)n="";else for(;0!==n.length%4;)n+="=";return D.call(v,
n)}function Z(n,v,D,U){for(var N=0;N<U&&!(N+D>=v.length||N>=n.length);++N)v[N+D]=n[N];return N}var ca=C(64),ea=C(65),ia=C(66);E.Buffer=q;E.SlowBuffer=function(n){+n!=n&&(n=0);return q.alloc(+n)};E.INSPECT_MAX_BYTES=50;q.TYPED_ARRAY_SUPPORT=void 0!==u.TYPED_ARRAY_SUPPORT?u.TYPED_ARRAY_SUPPORT:I();E.kMaxLength=q.TYPED_ARRAY_SUPPORT?2147483647:1073741823;q.poolSize=8192;q._augment=function(n){n.__proto__=q.prototype;return n};q.from=function(n,v,D){return f(null,n,v,D)};q.TYPED_ARRAY_SUPPORT&&(q.prototype.__proto__=
Uint8Array.prototype,q.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&q[Symbol.species]===q&&Object.defineProperty(q,Symbol.species,{value:null,configurable:!0}));q.alloc=function(n,v,D){k(n);n=0>=n?V(null,n):void 0!==v?"string"===typeof D?V(null,n).fill(v,D):V(null,n).fill(v):V(null,n);return n};q.allocUnsafe=function(n){return d(null,n)};q.allocUnsafeSlow=function(n){return d(null,n)};q.isBuffer=function(n){return!(null==n||!n._isBuffer)};q.compare=function(n,v){if(!q.isBuffer(n)||
!q.isBuffer(v))throw new TypeError("Arguments must be Buffers");if(n===v)return 0;for(var D=n.length,U=v.length,N=0,O=Math.min(D,U);N<O;++N)if(n[N]!==v[N]){D=n[N];U=v[N];break}return D<U?-1:U<D?1:0};q.isEncoding=function(n){switch(String(n).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};q.concat=function(n,v){if(!ia(n))throw new TypeError('"list" argument must be an Array of Buffers');
if(0===n.length)return q.alloc(0);var D;if(void 0===v)for(D=v=0;D<n.length;++D)v+=n[D].length;v=q.allocUnsafe(v);var U=0;for(D=0;D<n.length;++D){var N=n[D];if(!q.isBuffer(N))throw new TypeError('"list" argument must be an Array of Buffers');N.copy(v,U);U+=N.length}return v};q.byteLength=W;q.prototype._isBuffer=!0;q.prototype.swap16=function(){var n=this.length;if(0!==n%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var v=0;v<n;v+=2)H(this,v,v+1);return this};q.prototype.swap32=
function(){var n=this.length;if(0!==n%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var v=0;v<n;v+=4)H(this,v,v+3),H(this,v+1,v+2);return this};q.prototype.swap64=function(){var n=this.length;if(0!==n%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var v=0;v<n;v+=8)H(this,v,v+7),H(this,v+1,v+6),H(this,v+2,v+5),H(this,v+3,v+4);return this};q.prototype.toString=function(){var n=this.length|0;return 0===n?"":0===arguments.length?m(this,0,n):F.apply(this,
arguments)};q.prototype.equals=function(n){if(!q.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:0===q.compare(this,n)};q.prototype.inspect=function(){var n="",v=E.INSPECT_MAX_BYTES;0<this.length&&(n=this.toString("hex",0,v).match(/.{2}/g).join(" "),this.length>v&&(n+=" ... "));return"<Buffer "+n+">"};q.prototype.compare=function(n,v,D,U,N){if(!q.isBuffer(n))throw new TypeError("Argument must be a Buffer");void 0===v&&(v=0);void 0===D&&(D=n?n.length:0);void 0===U&&
(U=0);void 0===N&&(N=this.length);if(0>v||D>n.length||0>U||N>this.length)throw new RangeError("out of range index");if(U>=N&&v>=D)return 0;if(U>=N)return-1;if(v>=D)return 1;v>>>=0;D>>>=0;U>>>=0;N>>>=0;if(this===n)return 0;var O=N-U,K=D-v,pa=Math.min(O,K);U=this.slice(U,N);n=n.slice(v,D);for(v=0;v<pa;++v)if(U[v]!==n[v]){O=U[v];K=n[v];break}return O<K?-1:K<O?1:0};q.prototype.includes=function(n,v,D){return-1!==this.indexOf(n,v,D)};q.prototype.indexOf=function(n,v,D){return x(this,n,v,D,!0)};q.prototype.lastIndexOf=
function(n,v,D){return x(this,n,v,D,!1)};q.prototype.write=function(n,v,D,U){if(void 0===v)U="utf8",D=this.length,v=0;else if(void 0===D&&"string"===typeof v)U=v,D=this.length,v=0;else if(isFinite(v))v|=0,isFinite(D)?(D|=0,void 0===U&&(U="utf8")):(U=D,D=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var N=this.length-v;if(void 0===D||D>N)D=N;if(0<n.length&&(0>D||0>v)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");
U||(U="utf8");for(N=!1;;)switch(U){case "hex":a:{v=Number(v)||0;U=this.length-v;D?(D=Number(D),D>U&&(D=U)):D=U;U=n.length;if(0!==U%2)throw new TypeError("Invalid hex string");D>U/2&&(D=U/2);for(U=0;U<D;++U){N=parseInt(n.substr(2*U,2),16);if(isNaN(N)){n=U;break a}this[v+U]=N}n=U}return n;case "utf8":case "utf-8":return Z(G(n,this.length-v),this,v,D);case "ascii":return Z(M(n),this,v,D);case "latin1":case "binary":return Z(M(n),this,v,D);case "base64":return Z(S(n),this,v,D);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":U=
n;N=this.length-v;for(var O=[],K=0;K<U.length&&!(0>(N-=2));++K){var pa=U.charCodeAt(K);n=pa>>8;pa%=256;O.push(pa);O.push(n)}return Z(O,this,v,D);default:if(N)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase();N=!0}};q.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var na=4096;q.prototype.slice=function(n,v){var D=this.length;n=~~n;v=void 0===v?D:~~v;0>n?(n+=D,0>n&&(n=0)):n>D&&(n=D);0>v?(v+=D,0>v&&(v=0)):v>D&&(v=D);v<n&&(v=n);if(q.TYPED_ARRAY_SUPPORT)v=
this.subarray(n,v),v.__proto__=q.prototype;else{D=v-n;v=new q(D,void 0);for(var U=0;U<D;++U)v[U]=this[U+n]}return v};q.prototype.readUIntLE=function(n,v,D){n|=0;v|=0;D||P(n,v,this.length);D=this[n];for(var U=1,N=0;++N<v&&(U*=256);)D+=this[n+N]*U;return D};q.prototype.readUIntBE=function(n,v,D){n|=0;v|=0;D||P(n,v,this.length);D=this[n+--v];for(var U=1;0<v&&(U*=256);)D+=this[n+--v]*U;return D};q.prototype.readUInt8=function(n,v){v||P(n,1,this.length);return this[n]};q.prototype.readUInt16LE=function(n,
v){v||P(n,2,this.length);return this[n]|this[n+1]<<8};q.prototype.readUInt16BE=function(n,v){v||P(n,2,this.length);return this[n]<<8|this[n+1]};q.prototype.readUInt32LE=function(n,v){v||P(n,4,this.length);return(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};q.prototype.readUInt32BE=function(n,v){v||P(n,4,this.length);return 16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};q.prototype.readIntLE=function(n,v,D){n|=0;v|=0;D||P(n,v,this.length);D=this[n];for(var U=1,N=0;++N<v&&(U*=256);)D+=
this[n+N]*U;D>=128*U&&(D-=Math.pow(2,8*v));return D};q.prototype.readIntBE=function(n,v,D){n|=0;v|=0;D||P(n,v,this.length);D=v;for(var U=1,N=this[n+--D];0<D&&(U*=256);)N+=this[n+--D]*U;N>=128*U&&(N-=Math.pow(2,8*v));return N};q.prototype.readInt8=function(n,v){v||P(n,1,this.length);return this[n]&128?-1*(255-this[n]+1):this[n]};q.prototype.readInt16LE=function(n,v){v||P(n,2,this.length);n=this[n]|this[n+1]<<8;return n&32768?n|4294901760:n};q.prototype.readInt16BE=function(n,v){v||P(n,2,this.length);
n=this[n+1]|this[n]<<8;return n&32768?n|4294901760:n};q.prototype.readInt32LE=function(n,v){v||P(n,4,this.length);return this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};q.prototype.readInt32BE=function(n,v){v||P(n,4,this.length);return this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};q.prototype.readFloatLE=function(n,v){v||P(n,4,this.length);return ea.read(this,n,!0,23,4)};q.prototype.readFloatBE=function(n,v){v||P(n,4,this.length);return ea.read(this,n,!1,23,4)};q.prototype.readDoubleLE=function(n,
v){v||P(n,8,this.length);return ea.read(this,n,!0,52,8)};q.prototype.readDoubleBE=function(n,v){v||P(n,8,this.length);return ea.read(this,n,!1,52,8)};q.prototype.writeUIntLE=function(n,v,D,U){n=+n;v|=0;D|=0;U||l(this,n,v,D,Math.pow(2,8*D)-1,0);U=1;var N=0;for(this[v]=n&255;++N<D&&(U*=256);)this[v+N]=n/U&255;return v+D};q.prototype.writeUIntBE=function(n,v,D,U){n=+n;v|=0;D|=0;U||l(this,n,v,D,Math.pow(2,8*D)-1,0);U=D-1;var N=1;for(this[v+U]=n&255;0<=--U&&(N*=256);)this[v+U]=n/N&255;return v+D};q.prototype.writeUInt8=
function(n,v,D){n=+n;v|=0;D||l(this,n,v,1,255,0);q.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));this[v]=n&255;return v+1};q.prototype.writeUInt16LE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,2,65535,0);q.TYPED_ARRAY_SUPPORT?(this[v]=n&255,this[v+1]=n>>>8):e(this,n,v,!0);return v+2};q.prototype.writeUInt16BE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,2,65535,0);q.TYPED_ARRAY_SUPPORT?(this[v]=n>>>8,this[v+1]=n&255):e(this,n,v,!1);return v+2};q.prototype.writeUInt32LE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,4,4294967295,
0);q.TYPED_ARRAY_SUPPORT?(this[v+3]=n>>>24,this[v+2]=n>>>16,this[v+1]=n>>>8,this[v]=n&255):w(this,n,v,!0);return v+4};q.prototype.writeUInt32BE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,4,4294967295,0);q.TYPED_ARRAY_SUPPORT?(this[v]=n>>>24,this[v+1]=n>>>16,this[v+2]=n>>>8,this[v+3]=n&255):w(this,n,v,!1);return v+4};q.prototype.writeIntLE=function(n,v,D,U){n=+n;v|=0;U||(U=Math.pow(2,8*D-1),l(this,n,v,D,U-1,-U));U=0;var N=1,O=0;for(this[v]=n&255;++U<D&&(N*=256);)0>n&&0===O&&0!==this[v+U-1]&&(O=1),this[v+
U]=(n/N>>0)-O&255;return v+D};q.prototype.writeIntBE=function(n,v,D,U){n=+n;v|=0;U||(U=Math.pow(2,8*D-1),l(this,n,v,D,U-1,-U));U=D-1;var N=1,O=0;for(this[v+U]=n&255;0<=--U&&(N*=256);)0>n&&0===O&&0!==this[v+U+1]&&(O=1),this[v+U]=(n/N>>0)-O&255;return v+D};q.prototype.writeInt8=function(n,v,D){n=+n;v|=0;D||l(this,n,v,1,127,-128);q.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));0>n&&(n=255+n+1);this[v]=n&255;return v+1};q.prototype.writeInt16LE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,2,32767,-32768);q.TYPED_ARRAY_SUPPORT?
(this[v]=n&255,this[v+1]=n>>>8):e(this,n,v,!0);return v+2};q.prototype.writeInt16BE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,2,32767,-32768);q.TYPED_ARRAY_SUPPORT?(this[v]=n>>>8,this[v+1]=n&255):e(this,n,v,!1);return v+2};q.prototype.writeInt32LE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,4,2147483647,-2147483648);q.TYPED_ARRAY_SUPPORT?(this[v]=n&255,this[v+1]=n>>>8,this[v+2]=n>>>16,this[v+3]=n>>>24):w(this,n,v,!0);return v+4};q.prototype.writeInt32BE=function(n,v,D){n=+n;v|=0;D||l(this,n,v,4,2147483647,
-2147483648);0>n&&(n=4294967295+n+1);q.TYPED_ARRAY_SUPPORT?(this[v]=n>>>24,this[v+1]=n>>>16,this[v+2]=n>>>8,this[v+3]=n&255):w(this,n,v,!1);return v+4};q.prototype.writeFloatLE=function(n,v,D){return h(this,n,v,!0,D)};q.prototype.writeFloatBE=function(n,v,D){return h(this,n,v,!1,D)};q.prototype.writeDoubleLE=function(n,v,D){return y(this,n,v,!0,D)};q.prototype.writeDoubleBE=function(n,v,D){return y(this,n,v,!1,D)};q.prototype.copy=function(n,v,D,U){D||(D=0);U||0===U||(U=this.length);v>=n.length&&
(v=n.length);v||(v=0);0<U&&U<D&&(U=D);if(U===D||0===n.length||0===this.length)return 0;if(0>v)throw new RangeError("targetStart out of bounds");if(0>D||D>=this.length)throw new RangeError("sourceStart out of bounds");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length);n.length-v<U-D&&(U=n.length-v+D);var N=U-D;if(this===n&&D<v&&v<U)for(U=N-1;0<=U;--U)n[U+v]=this[U+D];else if(1E3>N||!q.TYPED_ARRAY_SUPPORT)for(U=0;U<N;++U)n[U+v]=this[U+D];else Uint8Array.prototype.set.call(n,
this.subarray(D,D+N),v);return N};q.prototype.fill=function(n,v,D,U){if("string"===typeof n){"string"===typeof v?(U=v,v=0,D=this.length):"string"===typeof D&&(U=D,D=this.length);if(1===n.length){var N=n.charCodeAt(0);256>N&&(n=N)}if(void 0!==U&&"string"!==typeof U)throw new TypeError("encoding must be a string");if("string"===typeof U&&!q.isEncoding(U))throw new TypeError("Unknown encoding: "+U);}else"number"===typeof n&&(n&=255);if(0>v||this.length<v||this.length<D)throw new RangeError("Out of range index");
if(D<=v)return this;v>>>=0;D=void 0===D?this.length:D>>>0;n||(n=0);if("number"===typeof n)for(U=v;U<D;++U)this[U]=n;else for(n=q.isBuffer(n)?n:G((new q(n,U)).toString()),N=n.length,U=0;U<D-v;++U)this[U+v]=n[U%N];return this};var r=/[^+\/0-9A-Za-z-_]/g}).call(this,C(18))},function(Q,E,C){(function(u,I,V,q){function f(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw Error("Only 8, 16, 24, or 32 bits supported: "+e);}function k(e){this.data="";this.read=0;if("string"===typeof e)this.data=e;else if(t.isArrayBuffer(e)||
t.isArrayBufferView(e))if("undefined"!==typeof q&&e instanceof q)this.data=e.toString("binary");else{e=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,e)}catch(J){for(var w=0;w<e.length;++w)this.putByte(e[w])}}else if(e instanceof k||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)this.data=e.data,this.read=e.read;this._constructedStringLength=0}var d=C(5),g=C(74),t=Q.exports=d.util=d.util||{};(function(){if("undefined"!==typeof u&&u.nextTick&&!u.browser)t.nextTick=
u.nextTick,t.setImmediate="function"===typeof I?I:t.nextTick;else if("function"===typeof I)t.setImmediate=function(){return I.apply(void 0,arguments)},t.nextTick=function(G){return I(G)};else{t.setImmediate=function(G){setTimeout(G,0)};if("undefined"!==typeof window&&"function"===typeof window.postMessage){var e=[];t.setImmediate=function(G){e.push(G);1===e.length&&window.postMessage("forge.setImmediate","*")};window.addEventListener("message",function(G){G.source===window&&"forge.setImmediate"===
G.data&&(G.stopPropagation(),G=e.slice(),e.length=0,G.forEach(function(M){M()}))},!0)}if("undefined"!==typeof MutationObserver){var w=Date.now(),J=!0,h=document.createElement("div");e=[];(new MutationObserver(function(){var G=e.slice();e.length=0;G.forEach(function(M){M()})})).observe(h,{attributes:!0});var y=t.setImmediate;t.setImmediate=function(G){15<Date.now()-w?(w=Date.now(),y(G)):(e.push(G),1===e.length&&h.setAttribute("a",J=!J))}}t.nextTick=t.setImmediate}})();t.isNodejs="undefined"!==typeof u&&
u.versions&&u.versions.node;V=t.isNodejs?V:"undefined"===typeof self?window:self;t.globalScope=V;t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer};t.isArrayBufferView=function(e){return e&&t.isArrayBuffer(e.buffer)&&void 0!==e.byteLength};t.ByteBuffer=k;t.ByteStringBuffer=k;t.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=
e;4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()};t.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};t.ByteStringBuffer.prototype.fillWithByte=function(e,w){e=String.fromCharCode(e);for(var J=this.data;0<w;)w&1&&(J+=e),w>>>=1,0<w&&(e+=e);this.data=J;this._optimizeConstructedString(w);
return this};t.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};t.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(t.encodeUtf8(e))};t.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};t.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&
255))};t.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};t.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=
function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};t.ByteStringBuffer.prototype.putInt=function(e,w){f(w);var J="";do w-=8,J+=String.fromCharCode(e>>w&255);while(0<w);return this.putBytes(J)};t.ByteStringBuffer.prototype.putSignedInt=function(e,w){0>e&&(e+=2<<w-1);return this.putInt(e,w)};t.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};t.ByteStringBuffer.prototype.getByte=
function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};t.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};t.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};t.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};t.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};t.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^
this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};t.ByteStringBuffer.prototype.getInt=function(e){f(e);var w=0;do w=(w<<8)+this.data.charCodeAt(this.read++),e-=8;while(0<e);return w};t.ByteStringBuffer.prototype.getSignedInt=function(e){var w=this.getInt(e);e=2<<e-2;w>=e&&(w-=e<<1);return w};t.ByteStringBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var w=this.data.slice(this.read,this.read+
e);this.read+=e}else 0===e?w="":(w=0===this.read?this.data:this.data.slice(this.read),this.clear());return w};t.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};t.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};t.ByteStringBuffer.prototype.setAt=function(e,w){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(w)+this.data.substr(this.read+e+1);return this};t.ByteStringBuffer.prototype.last=
function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var e=t.createBuffer(this.data);e.read=this.read;return e};t.ByteStringBuffer.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),this.read=0);return this};t.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};t.ByteStringBuffer.prototype.truncate=function(e){e=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,e);this.read=
0;return this};t.ByteStringBuffer.prototype.toHex=function(){for(var e="",w=this.read;w<this.data.length;++w){var J=this.data.charCodeAt(w);16>J&&(e+="0");e+=J.toString(16)}return e};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.DataBuffer=function(e,w){w=w||{};this.read=w.readOffset||0;this.growSize=w.growSize||1024;var J=t.isArrayBuffer(e),h=t.isArrayBufferView(e);J||h?(this.data=J?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),this.write=
"writeOffset"in w?w.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in w&&(this.write=w.writeOffset))};t.DataBuffer.prototype.length=function(){return this.write-this.read};t.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()};t.DataBuffer.prototype.accommodate=function(e,w){if(this.length()>=e)return this;w=Math.max(w||this.growSize,e);e=new Uint8Array(this.data.buffer,this.data.byteOffset,
this.data.byteLength);w=new Uint8Array(this.length()+w);w.set(e);this.data=new DataView(w.buffer);return this};t.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};t.DataBuffer.prototype.fillWithByte=function(e,w){this.accommodate(w);for(var J=0;J<w;++J)this.data.setUint8(e);return this};t.DataBuffer.prototype.putBytes=function(e,w){if(t.isArrayBufferView(e)){w=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e=w.byteLength-w.byteOffset;
this.accommodate(e);var J=new Uint8Array(this.data.buffer,this.write);J.set(w);this.write+=e;return this}if(t.isArrayBuffer(e))return w=new Uint8Array(e),this.accommodate(w.byteLength),J=new Uint8Array(this.data.buffer),J.set(w,this.write),this.write+=w.byteLength,this;if(e instanceof t.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&t.isArrayBufferView(e.data))return w=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(w.byteLength),J=new Uint8Array(e.data.byteLength,
this.write),J.set(w),this.write+=w.byteLength,this;e instanceof t.ByteStringBuffer&&(e=e.data,w="binary");w=w||"binary";if("string"===typeof e){if("hex"===w)return this.accommodate(Math.ceil(e.length/2)),w=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(e,w,this.write),this;if("base64"===w)return this.accommodate(3*Math.ceil(e.length/4)),w=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(e,w,this.write),this;"utf8"===w&&(e=t.encodeUtf8(e),
w="binary");if("binary"===w||"raw"===w)return this.accommodate(e.length),w=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(w),this;if("utf16"===w)return this.accommodate(2*e.length),w=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(w),this;throw Error("Invalid encoding: "+w);}throw Error("Invalid parameter: "+e);};t.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};t.DataBuffer.prototype.putString=function(e){return this.putBytes(e,
"utf16")};t.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};t.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};t.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};t.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,
e,!0);this.write+=2;return this};t.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,!0);this.write+=3;return this};t.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,!0);this.write+=4;return this};t.DataBuffer.prototype.putInt=function(e,w){f(w);this.accommodate(w/8);do w-=8,this.data.setInt8(this.write++,e>>w&255);while(0<w);return this};t.DataBuffer.prototype.putSignedInt=
function(e,w){f(w);this.accommodate(w/8);0>e&&(e+=2<<w-1);return this.putInt(e,w)};t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};t.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};t.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};t.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};
t.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);this.read+=2;return e};t.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;this.read+=3;return e};t.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);this.read+=4;return e};t.DataBuffer.prototype.getInt=function(e){f(e);var w=0;do w=(w<<8)+this.data.getInt8(this.read++),e-=8;while(0<e);return w};t.DataBuffer.prototype.getSignedInt=
function(e){var w=this.getInt(e);e=2<<e-2;w>=e&&(w-=e<<1);return w};t.DataBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var w=this.data.slice(this.read,this.read+e);this.read+=e}else 0===e?w="":(w=0===this.read?this.data:this.data.slice(this.read),this.clear());return w};t.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};t.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+
e)};t.DataBuffer.prototype.setAt=function(e,w){this.data.setUint8(e,w);return this};t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)};t.DataBuffer.prototype.compact=function(){if(0<this.read){var e=new Uint8Array(this.data.buffer,this.read),w=new Uint8Array(e.byteLength);w.set(e);this.data=new DataView(w);this.write-=this.read;this.read=0}return this};t.DataBuffer.prototype.clear=function(){this.data=
new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};t.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};t.DataBuffer.prototype.toHex=function(){for(var e="",w=this.read;w<this.data.byteLength;++w){var J=this.data.getUint8(w);16>J&&(e+="0");e+=J.toString(16)}return e};t.DataBuffer.prototype.toString=function(e){var w=new Uint8Array(this.data,this.read,this.length());e=e||"utf8";if("binary"===e||"raw"===
e)return t.binary.raw.encode(w);if("hex"===e)return t.binary.hex.encode(w);if("base64"===e)return t.binary.base64.encode(w);if("utf8"===e)return t.text.utf8.decode(w);if("utf16"===e)return t.text.utf16.decode(w);throw Error("Invalid encoding: "+e);};t.createBuffer=function(e,w){void 0!==e&&"utf8"===(w||"raw")&&(e=t.encodeUtf8(e));return new t.ByteBuffer(e)};t.fillString=function(e,w){for(var J="";0<w;)w&1&&(J+=e),w>>>=1,0<w&&(e+=e);return J};t.xorBytes=function(e,w,J){for(var h="",y,G="",M=0,S=0;0<
J;--J,++M)y=e.charCodeAt(M)^w.charCodeAt(M),10<=S&&(h+=G,G="",S=0),G+=String.fromCharCode(y),++S;return h+G};t.hexToBytes=function(e){var w="",J=0;e.length&1&&(J=1,w+=String.fromCharCode(parseInt(e[0],16)));for(;J<e.length;J+=2)w+=String.fromCharCode(parseInt(e.substr(J,2),16));return w};t.bytesToHex=function(e){return t.createBuffer(e).toHex()};t.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};
var A=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];t.encode64=function(e,w){for(var J="",h="",y,G,M,S=0;S<e.length;)y=e.charCodeAt(S++),G=e.charCodeAt(S++),M=e.charCodeAt(S++),J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(y>>2),J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((y&
3)<<4|G>>4),isNaN(G)?J+="==":(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((G&15)<<2|M>>6),J+=isNaN(M)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(M&63)),w&&J.length>w&&(h+=J.substr(0,w)+"\r\n",J=J.substr(w));return h+J};t.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var w="",J,h,y,G,M=0;M<e.length;)J=A[e.charCodeAt(M++)-43],h=A[e.charCodeAt(M++)-43],y=A[e.charCodeAt(M++)-43],G=A[e.charCodeAt(M++)-43],w+=String.fromCharCode(J<<
2|h>>4),64!==y&&(w+=String.fromCharCode((h&15)<<4|y>>2),64!==G&&(w+=String.fromCharCode((y&3)<<6|G)));return w};t.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};t.decodeUtf8=function(e){return decodeURIComponent(escape(e))};t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:g.encode,decode:g.decode}};t.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};t.binary.raw.decode=function(e,w,J){var h=w;h||(h=new Uint8Array(e.length));for(var y=J=J||0,G=0;G<e.length;++G)h[y++]=
e.charCodeAt(G);return w?y-J:h};t.binary.hex.encode=t.bytesToHex;t.binary.hex.decode=function(e,w,J){var h=w;h||(h=new Uint8Array(Math.ceil(e.length/2)));J=J||0;var y=0,G=J;e.length&1&&(y=1,h[G++]=parseInt(e[0],16));for(;y<e.length;y+=2)h[G++]=parseInt(e.substr(y,2),16);return w?G-J:h};t.binary.base64.encode=function(e,w){for(var J="",h="",y,G,M,S=0;S<e.byteLength;)y=e[S++],G=e[S++],M=e[S++],J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(y>>2),J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((y&
3)<<4|G>>4),isNaN(G)?J+="==":(J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((G&15)<<2|M>>6),J+=isNaN(M)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(M&63)),w&&J.length>w&&(h+=J.substr(0,w)+"\r\n",J=J.substr(w));return h+J};t.binary.base64.decode=function(e,w,J){var h=w;h||(h=new Uint8Array(3*Math.ceil(e.length/4)));e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");J=J||0;for(var y,G,M,S,Z=0,ca=J;Z<e.length;)y=A[e.charCodeAt(Z++)-43],G=A[e.charCodeAt(Z++)-
43],M=A[e.charCodeAt(Z++)-43],S=A[e.charCodeAt(Z++)-43],h[ca++]=y<<2|G>>4,64!==M&&(h[ca++]=(G&15)<<4|M>>2,64!==S&&(h[ca++]=(M&3)<<6|S));return w?ca-J:h.subarray(0,ca)};t.binary.base58.encode=function(e,w){return t.binary.baseN.encode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",w)};t.binary.base58.decode=function(e,w){return t.binary.baseN.decode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",w)};t.text={utf8:{},utf16:{}};t.text.utf8.encode=function(e,w,J){e=t.encodeUtf8(e);
var h=w;h||(h=new Uint8Array(e.length));for(var y=J=J||0,G=0;G<e.length;++G)h[y++]=e.charCodeAt(G);return w?y-J:h};t.text.utf8.decode=function(e){return t.decodeUtf8(String.fromCharCode.apply(null,e))};t.text.utf16.encode=function(e,w,J){var h=w;h||(h=new Uint8Array(2*e.length));for(var y=new Uint16Array(h.buffer),G=J=J||0,M=J,S=0;S<e.length;++S)y[M++]=e.charCodeAt(S),G+=2;return w?G-J:h};t.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};t.deflate=function(e,
w,J){w=t.decode64(e.deflate(t.encode64(w)).rval);J&&(e=2,w.charCodeAt(1)&32&&(e=6),w=w.substring(e,w.length-4));return w};t.inflate=function(e,w,J){e=e.inflate(t.encode64(w)).rval;return null===e?null:t.decode64(e)};var W=function(e,w,J){if(!e)throw Error("WebStorage not available.");null===J?e=e.removeItem(w):(J=t.encode64(JSON.stringify(J)),e=e.setItem(w,J));if("undefined"!==typeof e&&!0!==e.rval)throw w=Error(e.error.message),w.id=e.error.id,w.name=e.error.name,w;},F=function(e,w){if(!e)throw Error("WebStorage not available.");
w=e.getItem(w);if(e.init)if(null===w.rval){if(w.error)throw e=Error(w.error.message),e.id=w.error.id,e.name=w.error.name,e;w=null}else w=w.rval;null!==w&&(w=JSON.parse(t.decode64(w)));return w},H=function(e,w,J,h){var y=F(e,w);null===y&&(y={});y[J]=h;W(e,w,y)},x=function(e,w,J){e=F(e,w);null!==e&&(e=J in e?e[J]:null);return e},z=function(e,w,J){var h=F(e,w);if(null!==h&&J in h){delete h[J];J=!0;for(var y in h){J=!1;break}J&&(h=null);W(e,w,h)}},m=function(e,w){W(e,w,null)},P=function(e,w,J){var h=
null;"undefined"===typeof J&&(J=["web","flash"]);var y=!1,G=null,M;for(M in J){var S=J[M];try{if("flash"===S||"both"===S){if(null===w[0])throw Error("Flash local storage not available.");h=e.apply(this,w);y="flash"===S}if("web"===S||"both"===S)w[0]=localStorage,h=e.apply(this,w),y=!0}catch(Z){G=Z}if(y)break}if(!y)throw G;return h};t.setItem=function(e,w,J,h,y){P(H,arguments,y)};t.getItem=function(e,w,J,h){return P(x,arguments,h)};t.removeItem=function(e,w,J,h){P(z,arguments,h)};t.clearItems=function(e,
w,J){P(m,arguments,J)};t.parseUrl=function(e){var w=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;w.lastIndex=0;w=w.exec(e);if(e=null===w?null:{full:e,scheme:w[1],host:w[2],port:w[3],path:w[4]})e.fullHost=e.host,e.port?80!==e.port&&"http"===e.scheme?e.fullHost+=":"+e.port:443!==e.port&&"https"===e.scheme&&(e.fullHost+=":"+e.port):"http"===e.scheme?e.port=80:"https"===e.scheme&&(e.port=443),e.full=e.scheme+"://"+e.fullHost;return e};var l=null;t.getQueryVariables=function(e){var w=function(J){var h={};
J=J.split("&");for(var y=0;y<J.length;y++){var G=J[y].indexOf("=");if(0<G){var M=J[y].substring(0,G);G=J[y].substring(G+1)}else M=J[y],G=null;M in h||(h[M]=[]);M in Object.prototype||null===G||h[M].push(unescape(G))}return h};"undefined"===typeof e?(null===l&&(l="undefined"!==typeof window&&window.location&&window.location.search?w(window.location.search.substring(1)):{}),e=l):e=w(e);return e};t.parseFragment=function(e){var w=e,J="",h=e.indexOf("?");0<h&&(w=e.substring(0,h),J=e.substring(h+1));e=
w.split("/");0<e.length&&""===e[0]&&e.shift();h=""===J?{}:t.getQueryVariables(J);return{pathString:w,queryString:J,path:e,query:h}};t.makeRequest=function(e){var w=t.parseFragment(e),J={path:w.pathString,query:w.queryString,getPath:function(h){return"undefined"===typeof h?w.path:w.path[h]},getQuery:function(h,y){"undefined"===typeof h?h=w.query:(h=w.query[h])&&"undefined"!==typeof y&&(h=h[y]);return h},getQueryLast:function(h,y){return(h=J.getQuery(h))?h[h.length-1]:y}};return J};t.makeLink=function(e,
w,J){e=jQuery.isArray(e)?e.join("/"):e;w=jQuery.param(w||{});J=J||"";return e+(0<w.length?"?"+w:"")+(0<J.length?"#"+J:"")};t.isEmpty=function(e){for(var w in e)if(e.hasOwnProperty(w))return!1;return!0};t.format=function(e){var w=/%./g,J,h,y=0,G=[];for(h=0;J=w.exec(e);)switch(h=e.substring(h,w.lastIndex-2),0<h.length&&G.push(h),h=w.lastIndex,J=J[0][1],J){case "s":case "o":y<arguments.length?G.push(arguments[y++ +1]):G.push("<?>");break;case "%":G.push("%");break;default:G.push("<%"+J+"?>")}G.push(e.substring(h));
return G.join("")};t.formatNumber=function(e,w,J,h){var y=isNaN(w=Math.abs(w))?2:w;w=void 0===J?",":J;h=void 0===h?".":h;J=0>e?"-":"";var G=parseInt(e=Math.abs(+e||0).toFixed(y),10)+"",M=3<G.length?G.length%3:0;return J+(M?G.substr(0,M)+h:"")+G.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+h)+(y?w+Math.abs(e-G).toFixed(y).slice(2):"")};t.formatSize=function(e){return e=1073741824<=e?t.formatNumber(e/1073741824,2,".","")+" GiB":1048576<=e?t.formatNumber(e/1048576,2,".","")+" MiB":1024<=e?t.formatNumber(e/
1024,0)+" KiB":t.formatNumber(e,0)+" bytes"};t.bytesFromIP=function(e){return-1!==e.indexOf(".")?t.bytesFromIPv4(e):-1!==e.indexOf(":")?t.bytesFromIPv6(e):null};t.bytesFromIPv4=function(e){e=e.split(".");if(4!==e.length)return null;for(var w=t.createBuffer(),J=0;J<e.length;++J){var h=parseInt(e[J],10);if(isNaN(h))return null;w.putByte(h)}return w.getBytes()};t.bytesFromIPv6=function(e){var w=0;e=e.split(":").filter(function(M){0===M.length&&++w;return!0});for(var J=2*(8-e.length+w),h=t.createBuffer(),
y=0;8>y;++y)if(e[y]&&0!==e[y].length){var G=t.hexToBytes(e[y]);2>G.length&&h.putByte(0);h.putBytes(G)}else h.fillWithByte(0,J),J=0;return h.getBytes()};t.bytesToIP=function(e){return 4===e.length?t.bytesToIPv4(e):16===e.length?t.bytesToIPv6(e):null};t.bytesToIPv4=function(e){if(4!==e.length)return null;for(var w=[],J=0;J<e.length;++J)w.push(e.charCodeAt(J));return w.join(".")};t.bytesToIPv6=function(e){if(16!==e.length)return null;for(var w=[],J=[],h=0,y=0;y<e.length;y+=2){for(var G=t.bytesToHex(e[y]+
e[y+1]);"0"===G[0]&&"0"!==G;)G=G.substr(1);if("0"===G){var M=J[J.length-1],S=w.length;M&&S===M.end+1?(M.end=S,M.end-M.start>J[h].end-J[h].start&&(h=J.length-1)):J.push({start:S,end:S})}w.push(G)}0<J.length&&(e=J[h],0<e.end-e.start&&(w.splice(e.start,e.end-e.start+1,""),0===e.start&&w.unshift(""),7===e.end&&w.push("")));return w.join(":")};t.estimateCores=function(e,w){function J(M,S,Z){if(0===S){var ca=Math.floor(M.reduce(function(ea,ia){return ea+ia},0)/M.length);t.cores=Math.max(1,ca);URL.revokeObjectURL(G);
return w(null,t.cores)}h(Z,function(ea,ia){M.push(y(Z,ia));J(M,S-1,Z)})}function h(M,S){for(var Z=[],ca=[],ea=0;ea<M;++ea){var ia=new Worker(G);ia.addEventListener("message",function(na){ca.push(na.data);if(ca.length===M){for(na=0;na<M;++na)Z[na].terminate();S(null,ca)}});Z.push(ia)}for(ea=0;ea<M;++ea)Z[ea].postMessage(ea)}function y(M,S){for(var Z=[],ca=0;ca<M;++ca)for(var ea=S[ca],ia=Z[ca]=[],na=0;na<M;++na)if(ca!==na){var r=S[na];(ea.st>r.st&&ea.st<r.et||r.st>ea.st&&r.st<ea.et)&&ia.push(na)}return Z.reduce(function(n,
v){return Math.max(n,v.length)},0)}"function"===typeof e&&(w=e,e={});e=e||{};if("cores"in t&&!e.update)return w(null,t.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return t.cores=navigator.hardwareConcurrency,w(null,t.cores);if("undefined"===typeof Worker)return t.cores=1,w(null,t.cores);if("undefined"===typeof Blob)return t.cores=2,w(null,t.cores);var G=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(M){M=
Date.now();for(var S=M+4;Date.now()<S;);self.postMessage({st:M,et:S})})}.toString(),")()"],{type:"application/javascript"}));J([],5,16)}}).call(this,C(32),C(72).setImmediate,C(18),C(6).Buffer)},function(Q,E,C){C.d(E,"a",function(){return V});var u=C(0),I=C(1),V=function(q){q=void 0===q?{}:q;this.type=Object(I.e)(q,"type",V.defaultValues("type"));this.values=Object(I.e)(q,"values",V.defaultValues("values"));"schema"in q&&this.fromSchema(q.schema)};V.defaultValues=function(q){switch(q){case "type":return"";
case "values":return[];default:throw Error("Invalid member name for Attribute class: "+q);}};V.compareWithDefault=function(q,f){switch(q){case "type":return""===f;case "values":return 0===f.length;default:throw Error("Invalid member name for Attribute class: "+q);}};V.schema=function(q){q=void 0===q?{}:q;q=Object(I.e)(q,"names",{});return new u.v({name:q.blockName||"",value:[new u.p({name:q.type||""}),new u.w({name:q.setName||"",value:[new u.u({name:q.values||"",value:new u.a})]})]})};V.prototype.fromSchema=
function(q){Object(I.c)(q,["type","values"]);q=u.D(q,q,V.schema({names:{type:"type",values:"values"}}));if(!1===q.verified)throw Error("Object's schema was not verified against input data for Attribute");this.type=q.result.type.valueBlock.toString();this.values=q.result.values};V.prototype.toSchema=function(){return new u.v({value:[new u.p({value:this.type}),new u.w({value:this.values})]})};V.prototype.toJSON=function(){return{type:this.type,values:Array.from(this.values,function(q){return q.toJSON()})}}},
function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(3),q=function(f){f=void 0===f?{}:f;this.contentType=Object(I.e)(f,"contentType",q.defaultValues("contentType"));this.contentEncryptionAlgorithm=Object(I.e)(f,"contentEncryptionAlgorithm",q.defaultValues("contentEncryptionAlgorithm"));if("encryptedContent"in f&&(this.encryptedContent=f.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){for(var k=
new u.q({idBlock:{isConstructed:!0},isConstructed:!0}),d=0,g=this.encryptedContent.valueBlock.valueHex.byteLength;0<g;){for(var t=new Uint8Array(this.encryptedContent.valueBlock.valueHex,d,d+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-d:1024),A=new ArrayBuffer(t.length),W=new Uint8Array(A),F=0;F<W.length;F++)W[F]=t[F];k.valueBlock.value.push(new u.q({valueHex:A}));g-=t.length;d+=t.length}this.encryptedContent=k}"schema"in f&&this.fromSchema(f.schema)};
q.defaultValues=function(f){switch(f){case "contentType":return"";case "contentEncryptionAlgorithm":return new V.a;case "encryptedContent":return new u.q;default:throw Error("Invalid member name for EncryptedContentInfo class: "+f);}};q.compareWithDefault=function(f,k){switch(f){case "contentType":return""===k;case "contentEncryptionAlgorithm":return""===k.algorithmId&&!1==="algorithmParams"in k;case "encryptedContent":return k.isEqual(q.defaultValues(f));default:throw Error("Invalid member name for EncryptedContentInfo class: "+
f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,"names",{});return new u.v({name:f.blockName||"",value:[new u.p({name:f.contentType||""}),V.a.schema(f.contentEncryptionAlgorithm||{}),new u.f({value:[new u.g({name:f.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new u.u({value:new u.q})]}),new u.r({name:f.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,["contentType","contentEncryptionAlgorithm","encryptedContent"]);
f=u.D(f,f,q.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=f.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=new V.a({schema:f.result.contentEncryptionAlgorithm});"encryptedContent"in f.result&&(this.encryptedContent=f.result.encryptedContent,
this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)};q.prototype.toSchema=function(){var f={isIndefiniteForm:!1},k=[];k.push(new u.p({value:this.contentType}));k.push(this.contentEncryptionAlgorithm.toSchema());if("encryptedContent"in this){f.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var d=this.encryptedContent;d.idBlock.tagClass=3;d.idBlock.tagNumber=0;d.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;k.push(d)}return new u.v({lenBlock:f,
value:k})};q.prototype.toJSON=function(){var f={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};"encryptedContent"in this&&(f.encryptedContent=this.encryptedContent.toJSON());return f}},function(Q,E,C){C.d(E,"a",function(){return d});var u=C(0),I=C(1),V=C(4),q=C(3),f=C(12),k=C(27),d=function(g){g=void 0===g?{}:g;this.algorithm=Object(I.e)(g,"algorithm",d.defaultValues("algorithm"));this.subjectPublicKey=Object(I.e)(g,"subjectPublicKey",d.defaultValues("subjectPublicKey"));
"parsedKey"in g&&(this.parsedKey=Object(I.e)(g,"parsedKey",d.defaultValues("parsedKey")));"schema"in g&&this.fromSchema(g.schema);"json"in g&&this.fromJSON(g.json)};d.defaultValues=function(g){switch(g){case "algorithm":return new q.a;case "subjectPublicKey":return new u.b;default:throw Error("Invalid member name for PublicKeyInfo class: "+g);}};d.schema=function(g){g=void 0===g?{}:g;g=Object(I.e)(g,"names",{});return new u.v({name:g.blockName||"",value:[q.a.schema(g.algorithm||{}),new u.b({name:g.subjectPublicKey||
""})]})};d.prototype.fromSchema=function(g){Object(I.c)(g,["algorithm","subjectPublicKey"]);g=u.D(g,g,d.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===g.verified)throw Error("Object's schema was not verified against input data for PublicKeyInfo");this.algorithm=new q.a({schema:g.result.algorithm});this.subjectPublicKey=g.result.subjectPublicKey;switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&
this.algorithm.algorithmParams.constructor.blockName()===u.p.blockName())try{this.parsedKey=new f.a({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(t){}break;case "1.2.840.113549.1.1.1":if(g=u.E(this.subjectPublicKey.valueBlock.valueHex),-1!==g.offset)try{this.parsedKey=new k.a({schema:g.result})}catch(t){}}};d.prototype.toSchema=function(){return new u.v({value:[this.algorithm.toSchema(),this.subjectPublicKey]})};d.prototype.toJSON=
function(){if(!1==="parsedKey"in this)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};var g={};switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":g.kty="EC";break;case "1.2.840.113549.1.1.1":g.kty="RSA"}for(var t=this.parsedKey.toJSON(),A=$jscomp.makeIterator(Object.keys(t)),W=A.next();!W.done;W=A.next())W=W.value,g[W]=t[W];return g};d.prototype.fromJSON=function(g){if("kty"in g){switch(g.kty.toUpperCase()){case "EC":this.parsedKey=new f.a({json:g});
this.algorithm=new q.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.p({value:this.parsedKey.namedCurve})});break;case "RSA":this.parsedKey=new k.a({json:g});this.algorithm=new q.a({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new u.n});break;default:throw Error('Invalid value for "kty" parameter: '+g.kty);}this.subjectPublicKey=new u.b({valueHex:this.parsedKey.toSchema().toBER(!1)})}};d.prototype.importKey=function(g){var t=Promise.resolve(),A=this;if("undefined"===typeof g)return Promise.reject("Need to provide publicKey input parameter");
var W=Object(V.d)();if("undefined"===typeof W)return Promise.reject("Unable to create WebCrypto object");t=t.then(function(){return W.exportKey("spki",g)});return t=t.then(function(F){F=u.E(F);try{A.fromSchema(F.result)}catch(H){return Promise.reject("Error during initializing object from schema")}},function(F){return Promise.reject("Error during exporting public key: "+F)})}},function(Q,E,C){Q.exports=C(5);C(19);C(75);C(15);C(37);C(60);C(33);C(77);C(25);C(79);C(62);C(80);C(59);C(39);C(21);C(55);
C(57);C(81);C(50);C(56);C(53);C(42);C(13);C(54);C(82);C(83);C(49);C(7)},function(Q,E,C){C.d(E,"a",function(){return V});var u=C(0),I=C(1),V=function(q){q=void 0===q?{}:q;this.x=Object(I.e)(q,"x",V.defaultValues("x"));this.y=Object(I.e)(q,"y",V.defaultValues("y"));this.namedCurve=Object(I.e)(q,"namedCurve",V.defaultValues("namedCurve"));"schema"in q&&this.fromSchema(q.schema);"json"in q&&this.fromJSON(q.json)};V.defaultValues=function(q){switch(q){case "x":case "y":return new ArrayBuffer(0);case "namedCurve":return"";
default:throw Error("Invalid member name for ECCPublicKey class: "+q);}};V.compareWithDefault=function(q,f){switch(q){case "x":case "y":return Object(I.f)(f,V.defaultValues(q));case "namedCurve":return""===f;default:throw Error("Invalid member name for ECCPublicKey class: "+q);}};V.schema=function(q){return new u.t};V.prototype.fromSchema=function(q){if(!1===q instanceof ArrayBuffer)throw Error("Object's schema was not verified against input data for ECPublicKey");if(4!==(new Uint8Array(q))[0])throw Error("Object's schema was not verified against input data for ECPublicKey");
switch(this.namedCurve){case "1.2.840.10045.3.1.7":var f=32;break;case "1.3.132.0.34":f=48;break;case "1.3.132.0.35":f=66;break;default:throw Error("Incorrect curve OID: "+this.namedCurve);}if(q.byteLength!==2*f+1)throw Error("Object's schema was not verified against input data for ECPublicKey");this.x=q.slice(1,f+1);this.y=q.slice(1+f,2*f+1)};V.prototype.toSchema=function(){return new u.t({data:Object(I.j)((new Uint8Array([4])).buffer,this.x,this.y)})};V.prototype.toJSON=function(){var q="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":q=
"P-256";break;case "1.3.132.0.34":q="P-384";break;case "1.3.132.0.35":q="P-521"}return{crv:q,x:Object(I.i)(Object(I.a)(this.x),!0,!0,!1),y:Object(I.i)(Object(I.a)(this.y),!0,!0,!1)}};V.prototype.fromJSON=function(q){var f=0;if("crv"in q)switch(q.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";f=32;break;case "P-384":this.namedCurve="1.3.132.0.34";f=48;break;case "P-521":this.namedCurve="1.3.132.0.35",f=66}else throw Error('Absent mandatory parameter "crv"');if("x"in q){var k=
Object(I.h)(Object(I.d)(q.x,!0));if(k.byteLength<f){this.x=new ArrayBuffer(f);var d=new Uint8Array(this.x);k=new Uint8Array(k);d.set(k,1)}else this.x=k.slice(0,f)}else throw Error('Absent mandatory parameter "x"');if("y"in q)q=Object(I.h)(Object(I.d)(q.y,!0)),q.byteLength<f?(this.y=new ArrayBuffer(f),f=new Uint8Array(this.y),q=new Uint8Array(q),f.set(q,1)):this.y=q.slice(0,f);else throw Error('Absent mandatory parameter "y"');}},function(Q,E,C){var u=C(5);C(19);C(52);C(53);C(7);(function(){u.random&&
u.random.getBytes?Q.exports=u.random:function(I){function V(){var F=u.prng.create(q);F.getBytes=function(H,x){return F.generate(H,x)};F.getBytesSync=function(H){return F.generate(H)};return F}var q={},f=Array(4),k=u.util.createBuffer();q.formatKey=function(F){var H=u.util.createBuffer(F);F=Array(4);F[0]=H.getInt32();F[1]=H.getInt32();F[2]=H.getInt32();F[3]=H.getInt32();return u.aes._expandKey(F,!1)};q.formatSeed=function(F){var H=u.util.createBuffer(F);F=Array(4);F[0]=H.getInt32();F[1]=H.getInt32();
F[2]=H.getInt32();F[3]=H.getInt32();return F};q.cipher=function(F,H){u.aes._updateBlock(F,H,f,!1);k.putInt32(f[0]);k.putInt32(f[1]);k.putInt32(f[2]);k.putInt32(f[3]);return k.getBytes()};q.increment=function(F){++F[3];return F};q.md=u.md.sha256;var d=V(),g=null,t=u.util.globalScope,A=t.crypto||t.msCrypto;A&&A.getRandomValues&&(g=function(F){return A.getRandomValues(F)});if(u.options.usePureJavaScript||!u.util.isNodejs&&!g){d.collectInt(+new Date,32);if("undefined"!==typeof navigator){g="";for(var W in navigator)try{"string"==
typeof navigator[W]&&(g+=navigator[W])}catch(F){}d.collect(g);g=null}I&&(I().mousemove(function(F){d.collectInt(F.clientX,16);d.collectInt(F.clientY,16)}),I().keypress(function(F){d.collectInt(F.charCode,8)}))}if(u.random)for(W in d)u.random[W]=d[W];else u.random=d;u.random.createInstance=V;Q.exports=u.random}("undefined"!==typeof jQuery?jQuery:null)})()},function(Q,E,C){C.d(E,"a",function(){return d});var u=C(0),I=C(1),V=C(3),q=C(8),f=C(28),k=C(29),d=function(g){g=void 0===g?{}:g;this.version=Object(I.e)(g,
"version",d.defaultValues("version"));this.privateKeyAlgorithm=Object(I.e)(g,"privateKeyAlgorithm",d.defaultValues("privateKeyAlgorithm"));this.privateKey=Object(I.e)(g,"privateKey",d.defaultValues("privateKey"));"attributes"in g&&(this.attributes=Object(I.e)(g,"attributes",d.defaultValues("attributes")));"parsedKey"in g&&(this.parsedKey=Object(I.e)(g,"parsedKey",d.defaultValues("parsedKey")));"schema"in g&&this.fromSchema(g.schema);"json"in g&&this.fromJSON(g.json)};d.defaultValues=function(g){switch(g){case "version":return 0;
case "privateKeyAlgorithm":return new V.a;case "privateKey":return new u.q;case "attributes":return[];case "parsedKey":return{};default:throw Error("Invalid member name for PrivateKeyInfo class: "+g);}};d.schema=function(g){g=void 0===g?{}:g;g=Object(I.e)(g,"names",{});return new u.v({name:g.blockName||"",value:[new u.m({name:g.version||""}),V.a.schema(g.privateKeyAlgorithm||{}),new u.q({name:g.privateKey||""}),new u.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.u({name:g.attributes||
"",value:q.a.schema()})]})]})};d.prototype.fromSchema=function(g){Object(I.c)(g,["version","privateKeyAlgorithm","privateKey","attributes"]);g=u.D(g,g,d.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===g.verified)throw Error("Object's schema was not verified against input data for PrivateKeyInfo");this.version=g.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new V.a({schema:g.result.privateKeyAlgorithm});
this.privateKey=g.result.privateKey;"attributes"in g.result&&(this.attributes=Array.from(g.result.attributes,function(t){return new q.a({schema:t})}));switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.113549.1.1.1":g=u.E(this.privateKey.valueBlock.valueHex);-1!==g.offset&&(this.parsedKey=new k.a({schema:g.result}));break;case "1.2.840.10045.2.1":"algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof u.p&&(g=u.E(this.privateKey.valueBlock.valueHex),
-1!==g.offset&&(this.parsedKey=new f.a({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:g.result})))}};d.prototype.toSchema=function(){var g=[new u.m({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];"attributes"in this&&g.push(new u.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,function(t){return t.toSchema()})}));return new u.v({value:g})};d.prototype.toJSON=function(){if(!1==="parsedKey"in this){var g=
{version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};"attributes"in this&&(g.attributes=Array.from(this.attributes,function(F){return F.toJSON()}));return g}g={};switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.10045.2.1":g.kty="EC";break;case "1.2.840.113549.1.1.1":g.kty="RSA"}for(var t=this.parsedKey.toJSON(),A=$jscomp.makeIterator(Object.keys(t)),W=A.next();!W.done;W=A.next())W=W.value,g[W]=t[W];return g};d.prototype.fromJSON=
function(g){if("kty"in g){switch(g.kty.toUpperCase()){case "EC":this.parsedKey=new f.a({json:g});this.privateKeyAlgorithm=new V.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.p({value:this.parsedKey.namedCurve})});break;case "RSA":this.parsedKey=new k.a({json:g});this.privateKeyAlgorithm=new V.a({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new u.n});break;default:throw Error('Invalid value for "kty" parameter: '+g.kty);}this.privateKey=new u.q({valueHex:this.parsedKey.toSchema().toBER(!1)})}}},
function(Q,E,C){function u(k,d,g){if(g>d){var t=Error("Too few bytes to parse DER.");t.available=k.length();t.remaining=d;t.requested=g;throw t;}}function I(k,d,g,t){u(k,d,2);var A=k.getByte();d--;var W=A&192,F=A&31;var H=k.length();var x=d;var z=k.getByte();x--;if(128===z)x=void 0;else if(z&128?(z&=127,u(k,x,z),x=k.getInt(z<<3)):x=z,0>x)throw Error("Negative length: "+x);d-=H-k.length();if(void 0!==x&&x>d){if(t.strict)throw g=Error("Too few bytes to read ASN.1 value."),g.available=k.length(),g.remaining=
d,g.requested=x,g;x=d}var m;if(A=32===(A&32)){var P=[];if(void 0===x)for(;;){u(k,d,2);if(k.bytes(2)===String.fromCharCode(0,0)){k.getBytes(2);d-=2;break}H=k.length();P.push(I(k,d,g+1,t));d-=H-k.length()}else for(;0<x;)H=k.length(),P.push(I(k,x,g+1,t)),d-=H-k.length(),x-=H-k.length()}void 0===P&&W===q.Class.UNIVERSAL&&F===q.Type.BITSTRING&&(m=k.bytes(x));if(void 0===P&&t.decodeBitStrings&&W===q.Class.UNIVERSAL&&F===q.Type.BITSTRING&&1<x){z=k.read;var l=d,e=0;F===q.Type.BITSTRING&&(u(k,d,1),e=k.getByte(),
d--);if(0===e)try{H=k.length();var w=I(k,d,g+1,{verbose:t.verbose,strict:!0,decodeBitStrings:!0}),J=H-k.length();d-=J;F==q.Type.BITSTRING&&J++;var h=w.tagClass;J!==x||h!==q.Class.UNIVERSAL&&h!==q.Class.CONTEXT_SPECIFIC||(P=[w])}catch(y){}void 0===P&&(k.read=z,d=l)}if(void 0===P){if(void 0===x){if(t.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");x=d}if(F===q.Type.BMPSTRING)for(P="";0<x;x-=2)u(k,d,2),P+=String.fromCharCode(k.getInt16()),d-=2;else P=k.getBytes(x)}return q.create(W,
F,A,P,void 0===m?null:{bitStringContents:m})}var V=C(5);C(7);C(20);var q=Q.exports=V.asn1=V.asn1||{};q.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};q.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};q.create=function(k,d,g,t,A){if(V.util.isArray(t)){for(var W=[],F=0;F<t.length;++F)void 0!==t[F]&&
W.push(t[F]);t=W}k={tagClass:k,type:d,constructed:g,composed:g||V.util.isArray(t),value:t};A&&"bitStringContents"in A&&(k.bitStringContents=A.bitStringContents,k.original=q.copy(k));return k};q.copy=function(k,d){if(V.util.isArray(k)){var g=[];for(var t=0;t<k.length;++t)g.push(q.copy(k[t],d));return g}if("string"===typeof k)return k;g={tagClass:k.tagClass,type:k.type,constructed:k.constructed,composed:k.composed,value:q.copy(k.value,d)};d&&!d.excludeBitStringContents&&(g.bitStringContents=k.bitStringContents);
return g};q.equals=function(k,d,g){if(V.util.isArray(k)){if(!V.util.isArray(d)||k.length!==d.length)return!1;for(g=0;g<k.length;++g)if(!q.equals(k[g],d[g]))return!1;return!0}if(typeof k!==typeof d)return!1;if("string"===typeof k)return k===d;var t=k.tagClass===d.tagClass&&k.type===d.type&&k.constructed===d.constructed&&k.composed===d.composed&&q.equals(k.value,d.value);g&&g.includeBitStringContents&&(t=t&&k.bitStringContents===d.bitStringContents);return t};q.getBerValueLength=function(k){var d=k.getByte();
if(128!==d)return d&128?k.getInt((d&127)<<3):d};q.fromDer=function(k,d){void 0===d&&(d={strict:!0,decodeBitStrings:!0});"boolean"===typeof d&&(d={strict:d,decodeBitStrings:!0});"strict"in d||(d.strict=!0);"decodeBitStrings"in d||(d.decodeBitStrings=!0);"string"===typeof k&&(k=V.util.createBuffer(k));return I(k,k.length(),0,d)};q.toDer=function(k){var d=V.util.createBuffer(),g=k.tagClass|k.type,t=V.util.createBuffer(),A=!1;"bitStringContents"in k&&(A=!0,k.original&&(A=q.equals(k,k.original)));if(A)t.putBytes(k.bitStringContents);
else if(k.composed)for(k.constructed?g|=32:t.putByte(0),A=0;A<k.value.length;++A)void 0!==k.value[A]&&t.putBuffer(q.toDer(k.value[A]));else if(k.type===q.Type.BMPSTRING)for(A=0;A<k.value.length;++A)t.putInt16(k.value.charCodeAt(A));else k.type===q.Type.INTEGER&&1<k.value.length&&(0===k.value.charCodeAt(0)&&0===(k.value.charCodeAt(1)&128)||255===k.value.charCodeAt(0)&&128===(k.value.charCodeAt(1)&128))?t.putBytes(k.value.substr(1)):t.putBytes(k.value);d.putByte(g);if(127>=t.length())d.putByte(t.length()&
127);else{g=t.length();k="";do k+=String.fromCharCode(g&255),g>>>=8;while(0<g);d.putByte(k.length|128);for(A=k.length-1;0<=A;--A)d.putByte(k.charCodeAt(A))}d.putBuffer(t);return d};q.oidToDer=function(k){k=k.split(".");var d=V.util.createBuffer();d.putByte(40*parseInt(k[0],10)+parseInt(k[1],10));for(var g,t,A,W,F=2;F<k.length;++F){g=!0;t=[];A=parseInt(k[F],10);do W=A&127,A>>>=7,g||(W|=128),t.push(W),g=!1;while(0<A);for(g=t.length-1;0<=g;--g)d.putByte(t[g])}return d};q.derToOid=function(k){"string"===
typeof k&&(k=V.util.createBuffer(k));var d=k.getByte();var g=Math.floor(d/40)+"."+d%40;for(var t=0;0<k.length();)d=k.getByte(),t<<=7,d&128?t+=d&127:(g+="."+(t+d),t=0);return g};q.utcTimeToDate=function(k){var d=new Date,g=parseInt(k.substr(0,2),10);g=50<=g?1900+g:2E3+g;var t=parseInt(k.substr(2,2),10)-1,A=parseInt(k.substr(4,2),10),W=parseInt(k.substr(6,2),10),F=parseInt(k.substr(8,2),10),H=0;if(11<k.length){var x=k.charAt(10),z=10;"+"!==x&&"-"!==x&&(H=parseInt(k.substr(10,2),10),z+=2)}d.setUTCFullYear(g,
t,A);d.setUTCHours(W,F,H,0);z&&(x=k.charAt(z),"+"===x||"-"===x)&&(g=parseInt(k.substr(z+1,2),10),k=parseInt(k.substr(z+4,2),10),k=6E4*(60*g+k),"+"===x?d.setTime(+d-k):d.setTime(+d+k));return d};q.generalizedTimeToDate=function(k){var d=new Date,g=parseInt(k.substr(0,4),10),t=parseInt(k.substr(4,2),10)-1,A=parseInt(k.substr(6,2),10),W=parseInt(k.substr(8,2),10),F=parseInt(k.substr(10,2),10),H=parseInt(k.substr(12,2),10),x=0,z=0,m=!1;"Z"===k.charAt(k.length-1)&&(m=!0);var P=k.length-5,l=k.charAt(P);
if("+"===l||"-"===l)z=parseInt(k.substr(P+1,2),10),P=parseInt(k.substr(P+4,2),10),z=6E4*(60*z+P),"+"===l&&(z*=-1),m=!0;"."===k.charAt(14)&&(x=1E3*parseFloat(k.substr(14),10));m?(d.setUTCFullYear(g,t,A),d.setUTCHours(W,F,H,x),d.setTime(+d+z)):(d.setFullYear(g,t,A),d.setHours(W,F,H,x));return d};q.dateToUtcTime=function(k){if("string"===typeof k)return k;var d="",g=[];g.push((""+k.getUTCFullYear()).substr(2));g.push(""+(k.getUTCMonth()+1));g.push(""+k.getUTCDate());g.push(""+k.getUTCHours());g.push(""+
k.getUTCMinutes());g.push(""+k.getUTCSeconds());for(k=0;k<g.length;++k)2>g[k].length&&(d+="0"),d+=g[k];return d+"Z"};q.dateToGeneralizedTime=function(k){if("string"===typeof k)return k;var d="",g=[];g.push(""+k.getUTCFullYear());g.push(""+(k.getUTCMonth()+1));g.push(""+k.getUTCDate());g.push(""+k.getUTCHours());g.push(""+k.getUTCMinutes());g.push(""+k.getUTCSeconds());for(k=0;k<g.length;++k)2>g[k].length&&(d+="0"),d+=g[k];return d+"Z"};q.integerToDer=function(k){var d=V.util.createBuffer();if(-128<=
k&&128>k)return d.putSignedInt(k,8);if(-32768<=k&&32768>k)return d.putSignedInt(k,16);if(-8388608<=k&&8388608>k)return d.putSignedInt(k,24);if(-2147483648<=k&&2147483648>k)return d.putSignedInt(k,32);d=Error("Integer too large; max is 32-bits.");d.integer=k;throw d;};q.derToInteger=function(k){"string"===typeof k&&(k=V.util.createBuffer(k));var d=8*k.length();if(32<d)throw Error("Integer too large; max is 32-bits.");return k.getSignedInt(d)};q.validate=function(k,d,g,t){var A=!1;if(k.tagClass!==d.tagClass&&
"undefined"!==typeof d.tagClass||k.type!==d.type&&"undefined"!==typeof d.type)t&&(k.tagClass!==d.tagClass&&t.push("["+d.name+'] Expected tag class "'+d.tagClass+'", got "'+k.tagClass+'"'),k.type!==d.type&&t.push("["+d.name+'] Expected type "'+d.type+'", got "'+k.type+'"'));else if(k.constructed===d.constructed||"undefined"===typeof d.constructed){A=!0;if(d.value&&V.util.isArray(d.value))for(var W=0,F=0;A&&F<d.value.length;++F)A=d.value[F].optional||!1,k.value[W]&&((A=q.validate(k.value[W],d.value[F],
g,t))?++W:d.value[F].optional&&(A=!0)),!A&&t&&t.push("["+d.name+'] Tag class "'+d.tagClass+'", type "'+d.type+'" expected value length "'+d.value.length+'", got "'+k.value.length+'"');if(A&&g&&(d.capture&&(g[d.capture]=k.value),d.captureAsn1&&(g[d.captureAsn1]=k),d.captureBitStringContents&&"bitStringContents"in k&&(g[d.captureBitStringContents]=k.bitStringContents),d.captureBitStringValue&&"bitStringContents"in k))if(2>k.bitStringContents.length)g[d.captureBitStringValue]="";else{if(0!==k.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");
g[d.captureBitStringValue]=k.bitStringContents.slice(1)}}else t&&t.push("["+d.name+'] Expected constructed "'+d.constructed+'", got "'+k.constructed+'"');return A};var f=/[^\\u0000-\\u00ff]/;q.prettyPrint=function(k,d,g){var t="";d=d||0;g=g||2;0<d&&(t+="\n");for(var A="",W=0;W<d*g;++W)A+=" ";t+=A+"Tag: ";switch(k.tagClass){case q.Class.UNIVERSAL:t+="Universal:";break;case q.Class.APPLICATION:t+="Application:";break;case q.Class.CONTEXT_SPECIFIC:t+="Context-Specific:";break;case q.Class.PRIVATE:t+=
"Private:"}if(k.tagClass===q.Class.UNIVERSAL)switch(t+=k.type,k.type){case q.Type.NONE:t+=" (None)";break;case q.Type.BOOLEAN:t+=" (Boolean)";break;case q.Type.INTEGER:t+=" (Integer)";break;case q.Type.BITSTRING:t+=" (Bit string)";break;case q.Type.OCTETSTRING:t+=" (Octet string)";break;case q.Type.NULL:t+=" (Null)";break;case q.Type.OID:t+=" (Object Identifier)";break;case q.Type.ODESC:t+=" (Object Descriptor)";break;case q.Type.EXTERNAL:t+=" (External or Instance of)";break;case q.Type.REAL:t+=
" (Real)";break;case q.Type.ENUMERATED:t+=" (Enumerated)";break;case q.Type.EMBEDDED:t+=" (Embedded PDV)";break;case q.Type.UTF8:t+=" (UTF8)";break;case q.Type.ROID:t+=" (Relative Object Identifier)";break;case q.Type.SEQUENCE:t+=" (Sequence)";break;case q.Type.SET:t+=" (Set)";break;case q.Type.PRINTABLESTRING:t+=" (Printable String)";break;case q.Type.IA5String:t+=" (IA5String (ASCII))";break;case q.Type.UTCTIME:t+=" (UTC time)";break;case q.Type.GENERALIZEDTIME:t+=" (Generalized time)";break;case q.Type.BMPSTRING:t+=
" (BMP String)"}else t+=k.type;t=t+"\n"+(A+"Constructed: "+k.constructed+"\n");if(k.composed){var F=0,H="";for(W=0;W<k.value.length;++W)void 0!==k.value[W]&&(F+=1,H+=q.prettyPrint(k.value[W],d+1,g),W+1<k.value.length&&(H+=","));t+=A+"Sub values: "+F+H}else if(t+=A+"Value: ",k.type===q.Type.OID&&(d=q.derToOid(k.value),t+=d,V.pki&&V.pki.oids&&d in V.pki.oids&&(t+=" ("+V.pki.oids[d]+") ")),k.type===q.Type.INTEGER)try{t+=q.derToInteger(k.value)}catch(x){t+="0x"+V.util.bytesToHex(k.value)}else k.type===
q.Type.BITSTRING?(t=1<k.value.length?t+("0x"+V.util.bytesToHex(k.value.slice(1))):t+"(none)",0<k.value.length&&(k=k.value.charCodeAt(0),1==k?t+=" (1 unused bit shown)":1<k&&(t+=" ("+k+" unused bits shown)"))):k.type===q.Type.OCTETSTRING?(f.test(k.value)||(t+="("+k.value+") "),t+="0x"+V.util.bytesToHex(k.value)):t=k.type===q.Type.UTF8?t+V.util.decodeUtf8(k.value):k.type===q.Type.PRINTABLESTRING||k.type===q.Type.IA5String?t+k.value:f.test(k.value)?t+("0x"+V.util.bytesToHex(k.value)):0===k.value.length?
t+"[null]":t+k.value;return t}},function(Q,E,C){E=C(5);Q.exports=E.md=E.md||{};E.md.algorithms=E.md.algorithms||{}},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(3),q=function(f){f=void 0===f?{}:f;this.salt=Object(I.e)(f,"salt",q.defaultValues("salt"));this.iterationCount=Object(I.e)(f,"iterationCount",q.defaultValues("iterationCount"));"keyLength"in f&&(this.keyLength=Object(I.e)(f,"keyLength",q.defaultValues("keyLength")));"prf"in f&&(this.prf=Object(I.e)(f,"prf",q.defaultValues("prf")));
"schema"in f&&this.fromSchema(f.schema)};q.defaultValues=function(f){switch(f){case "salt":return{};case "iterationCount":return-1;case "keyLength":return 0;case "prf":return new V.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.n});default:throw Error("Invalid member name for PBKDF2Params class: "+f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,"names",{});return new u.v({name:f.blockName||"",value:[new u.f({value:[new u.q({name:f.saltPrimitive||""}),V.a.schema(f.saltConstructed||
{})]}),new u.m({name:f.iterationCount||""}),new u.m({name:f.keyLength||"",optional:!0}),V.a.schema(f.prf||{names:{optional:!0}})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,["salt","iterationCount","keyLength","prf"]);f=u.D(f,f,q.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PBKDF2Params");
this.salt=f.result.salt;this.iterationCount=f.result.iterationCount.valueBlock.valueDec;"keyLength"in f.result&&(this.keyLength=f.result.keyLength.valueBlock.valueDec);"prf"in f.result&&(this.prf=new V.a({schema:f.result.prf}))};q.prototype.toSchema=function(){var f=[];f.push(this.salt);f.push(new u.m({value:this.iterationCount}));"keyLength"in this&&q.defaultValues("keyLength")!==this.keyLength&&f.push(new u.m({value:this.keyLength}));"prf"in this&&!1===q.defaultValues("prf").isEqual(this.prf)&&
f.push(this.prf.toSchema());return new u.v({value:f})};q.prototype.toJSON=function(){var f={salt:this.salt.toJSON(),iterationCount:this.iterationCount};"keyLength"in this&&q.defaultValues("keyLength")!==this.keyLength&&(f.keyLength=this.keyLength);"prf"in this&&!1===q.defaultValues("prf").isEqual(this.prf)&&(f.prf=this.prf.toJSON());return f}},function(Q,E){E=function(){return this}();try{E=E||(new Function("return this"))()}catch(C){"object"===typeof window&&(E=window)}Q.exports=E},function(Q,E,
C){function u(x,z){k.cipher.registerAlgorithm(x,function(){return new k.aes.Algorithm(x,z)})}function I(){d=!0;W=[0,1,2,4,8,16,32,64,128,27,54];for(var x=Array(256),z=0;128>z;++z)x[z]=z<<1,x[z+128]=z+128<<1^283;t=Array(256);A=Array(256);F=Array(4);H=Array(4);for(z=0;4>z;++z)F[z]=Array(256),H[z]=Array(256);var m=0,P=0;for(z=0;256>z;++z){var l=P^P<<1^P<<2^P<<3^P<<4;l=l>>8^l&255^99;t[m]=l;A[l]=m;var e=x[l];var w=x[m];var J=x[w];var h=x[J];e^=e<<24^l<<16^l<<8^l;J=(w^J^h)<<24^(m^h)<<16^(m^J^h)<<8^m^w^
h;for(var y=0;4>y;++y)F[y][m]=e,H[y][l]=J,e=e<<24|e>>>8,J=J<<24|J>>>8;0===m?m=P=1:(m=w^x[x[x[w^h]]],P^=x[x[P]])}}function V(x,z){x=x.slice(0);for(var m,P=1,l=x.length,e=g*(l+6+1),w=l;w<e;++w)m=x[w-1],0===w%l?(m=t[m>>>16&255]<<24^t[m>>>8&255]<<16^t[m&255]<<8^t[m>>>24]^W[P]<<24,P++):6<l&&4===w%l&&(m=t[m>>>24]<<24^t[m>>>16&255]<<16^t[m>>>8&255]<<8^t[m&255]),x[w]=x[w-l]^m;if(z){m=H[0];P=H[1];l=H[2];var J=H[3],h=x.slice(0);e=x.length;w=0;for(var y=e-g;w<e;w+=g,y-=g)if(0===w||w===e-g)h[w]=x[y],h[w+1]=x[y+
3],h[w+2]=x[y+2],h[w+3]=x[y+1];else for(var G=0;G<g;++G)z=x[y+G],h[w+(3&-G)]=m[t[z>>>24]]^P[t[z>>>16&255]]^l[t[z>>>8&255]]^J[t[z&255]];x=h}return x}function q(x,z,m,P){var l=x.length/4-1;if(P){var e=H[0];var w=H[1];var J=H[2];var h=H[3];var y=A}else e=F[0],w=F[1],J=F[2],h=F[3],y=t;var G=z[0]^x[0];var M=z[P?3:1]^x[1];var S=z[2]^x[2];z=z[P?1:3]^x[3];for(var Z=3,ca=1;ca<l;++ca){var ea=e[G>>>24]^w[M>>>16&255]^J[S>>>8&255]^h[z&255]^x[++Z];var ia=e[M>>>24]^w[S>>>16&255]^J[z>>>8&255]^h[G&255]^x[++Z];var na=
e[S>>>24]^w[z>>>16&255]^J[G>>>8&255]^h[M&255]^x[++Z];z=e[z>>>24]^w[G>>>16&255]^J[M>>>8&255]^h[S&255]^x[++Z];G=ea;M=ia;S=na}m[0]=y[G>>>24]<<24^y[M>>>16&255]<<16^y[S>>>8&255]<<8^y[z&255]^x[++Z];m[P?3:1]=y[M>>>24]<<24^y[S>>>16&255]<<16^y[z>>>8&255]<<8^y[G&255]^x[++Z];m[2]=y[S>>>24]<<24^y[z>>>16&255]<<16^y[G>>>8&255]<<8^y[M&255]^x[++Z];m[P?1:3]=y[z>>>24]<<24^y[G>>>16&255]<<16^y[M>>>8&255]<<8^y[S&255]^x[++Z]}function f(x){x=x||{};var z="AES-"+(x.mode||"CBC").toUpperCase();var m=x.decrypt?k.cipher.createDecipher(z,
x.key):k.cipher.createCipher(z,x.key);var P=m.start;m.start=function(l,e){var w=null;e instanceof k.util.ByteBuffer&&(w=e,e={});e=e||{};e.output=w;e.iv=l;P.call(m,e)};return m}var k=C(5);C(37);C(48);C(7);Q.exports=k.aes=k.aes||{};k.aes.startEncrypting=function(x,z,m,P){x=f({key:x,output:m,decrypt:!1,mode:P});x.start(z);return x};k.aes.createEncryptionCipher=function(x,z){return f({key:x,output:null,decrypt:!1,mode:z})};k.aes.startDecrypting=function(x,z,m,P){x=f({key:x,output:m,decrypt:!0,mode:P});
x.start(z);return x};k.aes.createDecryptionCipher=function(x,z){return f({key:x,output:null,decrypt:!0,mode:z})};k.aes.Algorithm=function(x,z){d||I();var m=this;m.name=x;m.mode=new z({blockSize:16,cipher:{encrypt:function(P,l){return q(m._w,P,l,!1)},decrypt:function(P,l){return q(m._w,P,l,!0)}}});m._init=!1};k.aes.Algorithm.prototype.initialize=function(x){if(!this._init){var z=x.key;if("string"===typeof z&&(16===z.length||24===z.length||32===z.length))z=k.util.createBuffer(z);else if(k.util.isArray(z)&&
(16===z.length||24===z.length||32===z.length)){var m=z;z=k.util.createBuffer();for(var P=0;P<m.length;++P)z.putByte(m[P])}if(!k.util.isArray(z)){m=z;z=[];var l=m.length();if(16===l||24===l||32===l)for(l>>>=2,P=0;P<l;++P)z.push(m.getInt32())}if(!k.util.isArray(z)||4!==z.length&&6!==z.length&&8!==z.length)throw Error("Invalid key parameter.");m=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=V(z,x.decrypt&&!m);this._init=!0}};k.aes._expandKey=function(x,z){d||I();return V(x,z)};k.aes._updateBlock=
q;u("AES-ECB",k.cipher.modes.ecb);u("AES-CBC",k.cipher.modes.cbc);u("AES-CFB",k.cipher.modes.cfb);u("AES-OFB",k.cipher.modes.ofb);u("AES-CTR",k.cipher.modes.ctr);u("AES-GCM",k.cipher.modes.gcm);var d=!1,g=4,t,A,W,F,H},function(Q,E,C){function u(V,q){I[V]=q;I[q]=V}E=C(5);E.pki=E.pki||{};var I=Q.exports=E.pki.oids=E.oids=E.oids||{};u("1.2.840.113549.1.1.1","rsaEncryption");u("1.2.840.113549.1.1.4","md5WithRSAEncryption");u("1.2.840.113549.1.1.5","sha1WithRSAEncryption");u("1.2.840.113549.1.1.7","RSAES-OAEP");
u("1.2.840.113549.1.1.8","mgf1");u("1.2.840.113549.1.1.9","pSpecified");u("1.2.840.113549.1.1.10","RSASSA-PSS");u("1.2.840.113549.1.1.11","sha256WithRSAEncryption");u("1.2.840.113549.1.1.12","sha384WithRSAEncryption");u("1.2.840.113549.1.1.13","sha512WithRSAEncryption");u("1.3.101.112","EdDSA25519");u("1.2.840.10040.4.3","dsa-with-sha1");u("1.3.14.3.2.7","desCBC");u("1.3.14.3.2.26","sha1");u("2.16.840.1.101.3.4.2.1","sha256");u("2.16.840.1.101.3.4.2.2","sha384");u("2.16.840.1.101.3.4.2.3","sha512");
u("1.2.840.113549.2.5","md5");u("1.2.840.113549.1.7.1","data");u("1.2.840.113549.1.7.2","signedData");u("1.2.840.113549.1.7.3","envelopedData");u("1.2.840.113549.1.7.4","signedAndEnvelopedData");u("1.2.840.113549.1.7.5","digestedData");u("1.2.840.113549.1.7.6","encryptedData");u("1.2.840.113549.1.9.1","emailAddress");u("1.2.840.113549.1.9.2","unstructuredName");u("1.2.840.113549.1.9.3","contentType");u("1.2.840.113549.1.9.4","messageDigest");u("1.2.840.113549.1.9.5","signingTime");u("1.2.840.113549.1.9.6",
"counterSignature");u("1.2.840.113549.1.9.7","challengePassword");u("1.2.840.113549.1.9.8","unstructuredAddress");u("1.2.840.113549.1.9.14","extensionRequest");u("1.2.840.113549.1.9.20","friendlyName");u("1.2.840.113549.1.9.21","localKeyId");u("1.2.840.113549.1.9.22.1","x509Certificate");u("1.2.840.113549.1.12.10.1.1","keyBag");u("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");u("1.2.840.113549.1.12.10.1.3","certBag");u("1.2.840.113549.1.12.10.1.4","crlBag");u("1.2.840.113549.1.12.10.1.5","secretBag");
u("1.2.840.113549.1.12.10.1.6","safeContentsBag");u("1.2.840.113549.1.5.13","pkcs5PBES2");u("1.2.840.113549.1.5.12","pkcs5PBKDF2");u("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");u("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");u("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");u("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");u("1.2.840.113549.2.7",
"hmacWithSHA1");u("1.2.840.113549.2.8","hmacWithSHA224");u("1.2.840.113549.2.9","hmacWithSHA256");u("1.2.840.113549.2.10","hmacWithSHA384");u("1.2.840.113549.2.11","hmacWithSHA512");u("1.2.840.113549.3.7","des-EDE3-CBC");u("2.16.840.1.101.3.4.1.2","aes128-CBC");u("2.16.840.1.101.3.4.1.22","aes192-CBC");u("2.16.840.1.101.3.4.1.42","aes256-CBC");u("2.5.4.3","commonName");u("2.5.4.5","serialName");u("2.5.4.6","countryName");u("2.5.4.7","localityName");u("2.5.4.8","stateOrProvinceName");u("2.5.4.9","streetAddress");
u("2.5.4.10","organizationName");u("2.5.4.11","organizationalUnitName");u("2.5.4.13","description");u("2.5.4.15","businessCategory");u("2.5.4.17","postalCode");u("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");u("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");u("2.16.840.1.113730.1.1","nsCertType");u("2.16.840.1.113730.1.13","nsComment");I["2.5.29.1"]="authorityKeyIdentifier";I["2.5.29.2"]="keyAttributes";I["2.5.29.3"]="certificatePolicies";I["2.5.29.4"]=
"keyUsageRestriction";I["2.5.29.5"]="policyMapping";I["2.5.29.6"]="subtreesConstraint";I["2.5.29.7"]="subjectAltName";I["2.5.29.8"]="issuerAltName";I["2.5.29.9"]="subjectDirectoryAttributes";I["2.5.29.10"]="basicConstraints";I["2.5.29.11"]="nameConstraints";I["2.5.29.12"]="policyConstraints";I["2.5.29.13"]="basicConstraints";u("2.5.29.14","subjectKeyIdentifier");u("2.5.29.15","keyUsage");I["2.5.29.16"]="privateKeyUsagePeriod";u("2.5.29.17","subjectAltName");u("2.5.29.18","issuerAltName");u("2.5.29.19",
"basicConstraints");I["2.5.29.20"]="cRLNumber";I["2.5.29.21"]="cRLReason";I["2.5.29.22"]="expirationDate";I["2.5.29.23"]="instructionCode";I["2.5.29.24"]="invalidityDate";I["2.5.29.25"]="cRLDistributionPoints";I["2.5.29.26"]="issuingDistributionPoint";I["2.5.29.27"]="deltaCRLIndicator";I["2.5.29.28"]="issuingDistributionPoint";I["2.5.29.29"]="certificateIssuer";I["2.5.29.30"]="nameConstraints";u("2.5.29.31","cRLDistributionPoints");u("2.5.29.32","certificatePolicies");I["2.5.29.33"]="policyMappings";
I["2.5.29.34"]="policyConstraints";u("2.5.29.35","authorityKeyIdentifier");I["2.5.29.36"]="policyConstraints";u("2.5.29.37","extKeyUsage");I["2.5.29.46"]="freshestCRL";I["2.5.29.54"]="inhibitAnyPolicy";u("1.3.6.1.4.1.11129.2.4.2","timestampList");u("1.3.6.1.5.5.7.1.1","authorityInfoAccess");u("1.3.6.1.5.5.7.3.1","serverAuth");u("1.3.6.1.5.5.7.3.2","clientAuth");u("1.3.6.1.5.5.7.3.3","codeSigning");u("1.3.6.1.5.5.7.3.4","emailProtection");u("1.3.6.1.5.5.7.3.8","timeStamping")},function(Q,E,C){function u(V){for(var q=
V.name+": ",f=[],k=function(g,t){return" "+t},d=0;d<V.values.length;++d)f.push(V.values[d].replace(/^(\S+\r\n)/,k));q+=f.join(",")+"\r\n";f=0;V=-1;for(d=0;d<q.length;++d,++f)if(65<f&&-1!==V)f=q[V],","===f?(++V,q=q.substr(0,V)+"\r\n "+q.substr(V)):q=q.substr(0,V)+"\r\n"+f+q.substr(V+1),f=d-V-1,V=-1,++d;else if(" "===q[d]||"\t"===q[d]||","===q[d])V=d;return q}var I=C(5);C(7);Q=Q.exports=I.pem=I.pem||{};Q.encode=function(V,q){q=q||{};var f="-----BEGIN "+V.type+"-----\r\n";if(V.procType){var k={name:"Proc-Type",
values:[String(V.procType.version),V.procType.type]};f+=u(k)}V.contentDomain&&(k={name:"Content-Domain",values:[V.contentDomain]},f+=u(k));V.dekInfo&&(k={name:"DEK-Info",values:[V.dekInfo.algorithm]},V.dekInfo.parameters&&k.values.push(V.dekInfo.parameters),f+=u(k));if(V.headers)for(k=0;k<V.headers.length;++k)f+=u(V.headers[k]);V.procType&&(f+="\r\n");f+=I.util.encode64(V.body,q.maxline||64)+"\r\n";return f+="-----END "+V.type+"-----\r\n"};Q.decode=function(V){for(var q=[],f=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,
k=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,g;;){g=f.exec(V);if(!g)break;var t={type:g[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:I.util.decode64(g[3])};q.push(t);if(g[2]){for(var A=g[2].split(d),W=0;g&&W<A.length;){g=A[W].replace(/\s+$/,"");for(var F=W+1;F<A.length;++F){var H=A[F];if(!/\s/.test(H[0]))break;g+=H;W=F}if(g=g.match(k)){F={name:g[1],values:[]};H=g[2].split(",");for(var x=0;x<H.length;++x)F.values.push(H[x].replace(/^\s+/,""));if(t.procType)if(t.contentDomain||
"Content-Domain"!==F.name)if(t.dekInfo||"DEK-Info"!==F.name)t.headers.push(F);else{if(0===F.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');t.dekInfo={algorithm:H[0],parameters:H[1]||null}}else t.contentDomain=H[0]||"";else{if("Proc-Type"!==F.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==F.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');
t.procType={version:H[0],type:H[1]}}}++W}if("ENCRYPTED"===t.procType&&!t.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".');}}if(0===q.length)throw Error("Invalid PEM formatted message.");return q}},function(Q,E,C){C.d(E,"a",function(){return V});var u=C(0),I=C(1),V=function(q){q=void 0===q?{}:q;this.prime=Object(I.e)(q,"prime",V.defaultValues("prime"));this.exponent=Object(I.e)(q,"exponent",V.defaultValues("exponent"));this.coefficient=
Object(I.e)(q,"coefficient",V.defaultValues("coefficient"));"schema"in q&&this.fromSchema(q.schema);"json"in q&&this.fromJSON(q.json)};V.defaultValues=function(q){switch(q){case "prime":return new u.m;case "exponent":return new u.m;case "coefficient":return new u.m;default:throw Error("Invalid member name for OtherPrimeInfo class: "+q);}};V.schema=function(q){q=void 0===q?{}:q;q=Object(I.e)(q,"names",{});return new u.v({name:q.blockName||"",value:[new u.m({name:q.prime||""}),new u.m({name:q.exponent||
""}),new u.m({name:q.coefficient||""})]})};V.prototype.fromSchema=function(q){Object(I.c)(q,["prime","exponent","coefficient"]);q=u.D(q,q,V.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===q.verified)throw Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=q.result.prime.convertFromDER();this.exponent=q.result.exponent.convertFromDER();this.coefficient=q.result.coefficient.convertFromDER()};V.prototype.toSchema=function(){return new u.v({value:[this.prime.convertToDER(),
this.exponent.convertToDER(),this.coefficient.convertToDER()]})};V.prototype.toJSON=function(){return{r:Object(I.i)(Object(I.a)(this.prime.valueBlock.valueHex),!0,!0),d:Object(I.i)(Object(I.a)(this.exponent.valueBlock.valueHex),!0,!0),t:Object(I.i)(Object(I.a)(this.coefficient.valueBlock.valueHex),!0,!0)}};V.prototype.fromJSON=function(q){if("r"in q)this.prime=new u.m({valueHex:Object(I.h)(Object(I.d)(q.r,!0))});else throw Error('Absent mandatory parameter "r"');if("d"in q)this.exponent=new u.m({valueHex:Object(I.h)(Object(I.d)(q.d,
!0))});else throw Error('Absent mandatory parameter "d"');if("t"in q)this.coefficient=new u.m({valueHex:Object(I.h)(Object(I.d)(q.t,!0))});else throw Error('Absent mandatory parameter "t"');}},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(3),q=function(f){f=void 0===f?{}:f;this.hashAlgorithm=Object(I.e)(f,"hashAlgorithm",q.defaultValues("hashAlgorithm"));this.maskGenAlgorithm=Object(I.e)(f,"maskGenAlgorithm",q.defaultValues("maskGenAlgorithm"));this.saltLength=Object(I.e)(f,
"saltLength",q.defaultValues("saltLength"));this.trailerField=Object(I.e)(f,"trailerField",q.defaultValues("trailerField"));"schema"in f&&this.fromSchema(f.schema)};q.defaultValues=function(f){switch(f){case "hashAlgorithm":return new V.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.n});case "maskGenAlgorithm":return new V.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:(new V.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.n})).toSchema()});case "saltLength":return 20;case "trailerField":return 1;
default:throw Error("Invalid member name for RSASSAPSSParams class: "+f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,"names",{});return new u.v({name:f.blockName||"",value:[new u.g({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[V.a.schema(f.hashAlgorithm||{})]}),new u.g({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[V.a.schema(f.maskGenAlgorithm||{})]}),new u.g({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new u.m({name:f.saltLength||""})]}),new u.g({idBlock:{tagClass:3,
tagNumber:3},optional:!0,value:[new u.m({name:f.trailerField||""})]})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);f=u.D(f,f,q.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in
f.result&&(this.hashAlgorithm=new V.a({schema:f.result.hashAlgorithm}));"maskGenAlgorithm"in f.result&&(this.maskGenAlgorithm=new V.a({schema:f.result.maskGenAlgorithm}));"saltLength"in f.result&&(this.saltLength=f.result.saltLength.valueBlock.valueDec);"trailerField"in f.result&&(this.trailerField=f.result.trailerField.valueBlock.valueDec)};q.prototype.toSchema=function(){var f=[];this.hashAlgorithm.isEqual(q.defaultValues("hashAlgorithm"))||f.push(new u.g({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));
this.maskGenAlgorithm.isEqual(q.defaultValues("maskGenAlgorithm"))||f.push(new u.g({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.saltLength!==q.defaultValues("saltLength")&&f.push(new u.g({idBlock:{tagClass:3,tagNumber:2},value:[new u.m({value:this.saltLength})]}));this.trailerField!==q.defaultValues("trailerField")&&f.push(new u.g({idBlock:{tagClass:3,tagNumber:3},value:[new u.m({value:this.trailerField})]}));return new u.v({value:f})};q.prototype.toJSON=function(){var f=
{};this.hashAlgorithm.isEqual(q.defaultValues("hashAlgorithm"))||(f.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(q.defaultValues("maskGenAlgorithm"))||(f.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.saltLength!==q.defaultValues("saltLength")&&(f.saltLength=this.saltLength);this.trailerField!==q.defaultValues("trailerField")&&(f.trailerField=this.trailerField);return f}},function(Q,E,C){(function(u){C.d(E,"a",function(){return I});C.d(E,"b",function(){return f});
var I=function(){};I.isArrayBuffer=function(k){return"[object ArrayBuffer]"===Object.prototype.toString.call(k)};I.toArrayBuffer=function(k){k=this.toUint8Array(k);return k.byteOffset||k.length?k.buffer.slice(k.byteOffset,k.byteOffset+k.length):k.buffer};I.toUint8Array=function(k){return this.toView(k,Uint8Array)};I.toView=function(k,d){if("undefined"!==typeof u&&u.isBuffer(k))return new d(k.buffer,k.byteOffset,k.byteLength);if(this.isArrayBuffer(k))return new d(k);if(this.isArrayBufferView(k))return new d(k.buffer,
k.byteOffset,k.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");};I.isBufferSource=function(k){return this.isArrayBufferView(k)||this.isArrayBuffer(k)};I.isArrayBufferView=function(k){return ArrayBuffer.isView(k)||k&&this.isArrayBuffer(k.buffer)};I.isEqual=function(k,d){k=I.toUint8Array(k);d=I.toUint8Array(d);if(k.length!==d.byteLength)return!1;for(var g=0;g<k.length;g++)if(k[g]!==d[g])return!1;return!0};var V=function(){};V.fromString=function(k){k=
unescape(encodeURIComponent(k));for(var d=new Uint8Array(k.length),g=0;g<k.length;g++)d[g]=k.charCodeAt(g);return d.buffer};V.toString=function(k){k=I.toUint8Array(k);for(var d="",g=0;g<k.length;g++)d+=String.fromCharCode(k[g]);return decodeURIComponent(escape(d))};var q=function(){};q.toString=function(k,d){d=void 0===d?!1:d;k=I.toArrayBuffer(k);for(var g=new DataView(k),t="",A=0;A<k.byteLength;A+=2){var W=g.getUint16(A,d);t+=String.fromCharCode(W)}return t};q.fromString=function(k,d){d=void 0===
d?!1:d;for(var g=new ArrayBuffer(2*k.length),t=new DataView(g),A=0;A<k.length;A++)t.setUint16(2*A,k.charCodeAt(A),d);return g};var f=function(){};f.isHex=function(k){return"string"===typeof k&&/^[a-z0-9]+$/i.test(k)};f.isBase64=function(k){return"string"===typeof k&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(k)};f.isBase64Url=function(k){return"string"===typeof k&&/^[a-zA-Z0-9-_]+$/i.test(k)};f.ToString=function(k,d){d=void 0===d?"utf8":d;k=I.toUint8Array(k);switch(d.toLowerCase()){case "utf8":return this.ToUtf8String(k);
case "binary":return this.ToBinary(k);case "hex":return this.ToHex(k);case "base64":return this.ToBase64(k);case "base64url":return this.ToBase64Url(k);case "utf16le":return q.toString(k,!0);case "utf16":case "utf16be":return q.toString(k);default:throw Error("Unknown type of encoding '"+d+"'");}};f.FromString=function(k,d){d=void 0===d?"utf8":d;if(!k)return new ArrayBuffer(0);switch(d.toLowerCase()){case "utf8":return this.FromUtf8String(k);case "binary":return this.FromBinary(k);case "hex":return this.FromHex(k);
case "base64":return this.FromBase64(k);case "base64url":return this.FromBase64Url(k);case "utf16le":return q.fromString(k,!0);case "utf16":case "utf16be":return q.fromString(k);default:throw Error("Unknown type of encoding '"+d+"'");}};f.ToBase64=function(k){k=I.toUint8Array(k);return"undefined"!==typeof btoa?(k=this.ToString(k,"binary"),btoa(k)):u.from(k).toString("base64")};f.FromBase64=function(k){k=this.formatString(k);if(!k)return new ArrayBuffer(0);if(!f.isBase64(k))throw new TypeError("Argument 'base64Text' is not Base64 encoded");
return"undefined"!==typeof atob?this.FromBinary(atob(k)):(new Uint8Array(u.from(k,"base64"))).buffer};f.FromBase64Url=function(k){k=this.formatString(k);if(!k)return new ArrayBuffer(0);if(!f.isBase64Url(k))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(k.replace(/\-/g,"+").replace(/_/g,"/")))};f.ToBase64Url=function(k){return this.ToBase64(k).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};f.FromUtf8String=function(k,d){d=void 0===
d?f.DEFAULT_UTF8_ENCODING:d;switch(d){case "ascii":return this.FromBinary(k);case "utf8":return V.fromString(k);case "utf16":case "utf16be":return q.fromString(k);case "utf16le":case "usc2":return q.fromString(k,!0);default:throw Error("Unknown type of encoding '"+d+"'");}};f.ToUtf8String=function(k,d){d=void 0===d?f.DEFAULT_UTF8_ENCODING:d;switch(d){case "ascii":return this.ToBinary(k);case "utf8":return V.toString(k);case "utf16":case "utf16be":return q.toString(k);case "utf16le":case "usc2":return q.toString(k,
!0);default:throw Error("Unknown type of encoding '"+d+"'");}};f.FromBinary=function(k){for(var d=k.length,g=new Uint8Array(d),t=0;t<d;t++)g[t]=k.charCodeAt(t);return g.buffer};f.ToBinary=function(k){k=I.toUint8Array(k);for(var d="",g=0;g<k.length;g++)d+=String.fromCharCode(k[g]);return d};f.ToHex=function(k){k=I.toUint8Array(k);for(var d=[],g=k.length,t=0;t<g;t++){var A=k[t].toString(16).padStart(2,"0");d.push(A)}return d.join("")};f.FromHex=function(k){k=this.formatString(k);if(!k)return new ArrayBuffer(0);
if(!f.isHex(k))throw new TypeError("Argument 'hexString' is not HEX encoded");k.length%2&&(k="0"+k);for(var d=new Uint8Array(k.length/2),g=0;g<k.length;g+=2){var t=k.slice(g,g+2);d[g/2]=parseInt(t,16)}return d.buffer};f.ToUtf16String=function(k,d){return q.toString(k,void 0===d?!1:d)};f.FromUtf16String=function(k,d){return q.fromString(k,void 0===d?!1:d)};f.Base64Padding=function(k){var d=4-k.length%4;if(4>d)for(var g=0;g<d;g++)k+="=";return k};f.formatString=function(k){return(null===k||void 0===
k?void 0:k.replace(/[\n\r\t ]/g,""))||""};f.DEFAULT_UTF8_ENCODING="utf8"}).call(this,C(6).Buffer)},function(Q,E,C){var u=C(5);C(16);C(7);(Q.exports=u.hmac=u.hmac||{}).create=function(){var I=null,V=null,q=null,f={start:function(k,d){if(null!==k)if("string"===typeof k)if(k=k.toLowerCase(),k in u.md.algorithms)I=u.md.algorithms[k].create();else throw Error('Unknown hash algorithm "'+k+'"');else I=k;if(null!==d){if("string"===typeof d)d=u.util.createBuffer(d);else if(u.util.isArray(d)){k=d;d=u.util.createBuffer();
for(var g=0;g<k.length;++g)d.putByte(k[g])}var t=d.length();t>I.blockLength&&(I.start(),I.update(d.bytes()),d=I.digest());V=u.util.createBuffer();q=u.util.createBuffer();t=d.length();for(g=0;g<t;++g)k=d.at(g),V.putByte(54^k),q.putByte(92^k);if(t<I.blockLength)for(k=I.blockLength-t,g=0;g<k;++g)V.putByte(54),q.putByte(92);V=V.bytes();q=q.bytes()}I.start();I.update(V)},update:function(k){I.update(k)},getMac:function(){var k=I.digest().bytes();I.start();I.update(q);I.update(k);return I.digest()}};f.digest=
f.getMac;return f}},function(Q,E,C){function u(f,k,d){for(var g,t,A,W,F,H,x,z,m=d.length();64<=m;){t=f.h0;A=f.h1;W=f.h2;F=f.h3;H=f.h4;for(z=0;16>z;++z)g=d.getInt32(),k[z]=g,x=F^A&(W^F),g=(t<<5|t>>>27)+x+H+1518500249+g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;for(;20>z;++z)g=k[z-3]^k[z-8]^k[z-14]^k[z-16],g=g<<1|g>>>31,k[z]=g,x=F^A&(W^F),g=(t<<5|t>>>27)+x+H+1518500249+g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;for(;32>z;++z)g=k[z-3]^k[z-8]^k[z-14]^k[z-16],g=g<<1|g>>>31,k[z]=g,x=A^W^F,g=(t<<5|t>>>27)+x+H+1859775393+
g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;for(;40>z;++z)g=k[z-6]^k[z-16]^k[z-28]^k[z-32],g=g<<2|g>>>30,k[z]=g,x=A^W^F,g=(t<<5|t>>>27)+x+H+1859775393+g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;for(;60>z;++z)g=k[z-6]^k[z-16]^k[z-28]^k[z-32],g=g<<2|g>>>30,k[z]=g,x=A&W|F&(A^W),g=(t<<5|t>>>27)+x+H+2400959708+g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;for(;80>z;++z)g=k[z-6]^k[z-16]^k[z-28]^k[z-32],g=g<<2|g>>>30,k[z]=g,x=A^W^F,g=(t<<5|t>>>27)+x+H+3395469782+g,H=F,F=W,W=(A<<30|A>>>2)>>>0,A=t,t=g;f.h0=f.h0+t|0;f.h1=f.h1+
A|0;f.h2=f.h2+W|0;f.h3=f.h3+F|0;f.h4=f.h4+H|0;m-=64}}var I=C(5);C(16);C(7);Q=Q.exports=I.sha1=I.sha1||{};I.md.sha1=I.md.algorithms.sha1=Q;Q.create=function(){q||(V=String.fromCharCode(128),V+=I.util.fillString(String.fromCharCode(0),64),q=!0);var f=null,k=I.util.createBuffer(),d=Array(80),g={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){g.messageLength=0;g.fullMessageLength=g.messageLength64=[];for(var t=g.messageLengthSize/
4,A=0;A<t;++A)g.fullMessageLength.push(0);k=I.util.createBuffer();f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return g}};g.start();g.update=function(t,A){"utf8"===A&&(t=I.util.encodeUtf8(t));A=t.length;g.messageLength+=A;A=[A/4294967296>>>0,A>>>0];for(var W=g.fullMessageLength.length-1;0<=W;--W)g.fullMessageLength[W]+=A[1],A[1]=A[0]+(g.fullMessageLength[W]/4294967296>>>0),g.fullMessageLength[W]>>>=0,A[0]=A[1]/4294967296>>>0;k.putBytes(t);u(f,d,k);(2048<k.read||0===k.length())&&
k.compact();return g};g.digest=function(){var t=I.util.createBuffer();t.putBytes(k.bytes());t.putBytes(V.substr(0,g.blockLength-(g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize&g.blockLength-1)));for(var A,W,F=8*g.fullMessageLength[0],H=0;H<g.fullMessageLength.length-1;++H)A=8*g.fullMessageLength[H+1],W=A/4294967296>>>0,F+=W,t.putInt32(F>>>0),F=A>>>0;t.putInt32(F);A={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3,h4:f.h4};u(A,d,t);t=I.util.createBuffer();t.putInt32(A.h0);t.putInt32(A.h1);t.putInt32(A.h2);
t.putInt32(A.h3);t.putInt32(A.h4);return t};return g};var V=null,q=!1},function(Q,E,C){C.d(E,"a",function(){return V});var u=C(0),I=C(1),V=function(q){q=void 0===q?{}:q;this.modulus=Object(I.e)(q,"modulus",V.defaultValues("modulus"));this.publicExponent=Object(I.e)(q,"publicExponent",V.defaultValues("publicExponent"));"schema"in q&&this.fromSchema(q.schema);"json"in q&&this.fromJSON(q.json)};V.defaultValues=function(q){switch(q){case "modulus":return new u.m;case "publicExponent":return new u.m;default:throw Error("Invalid member name for RSAPublicKey class: "+
q);}};V.schema=function(q){q=void 0===q?{}:q;q=Object(I.e)(q,"names",{});return new u.v({name:q.blockName||"",value:[new u.m({name:q.modulus||""}),new u.m({name:q.publicExponent||""})]})};V.prototype.fromSchema=function(q){Object(I.c)(q,["modulus","publicExponent"]);q=u.D(q,q,V.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===q.verified)throw Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=q.result.modulus.convertFromDER(256);
this.publicExponent=q.result.publicExponent};V.prototype.toSchema=function(){return new u.v({value:[this.modulus.convertToDER(),this.publicExponent]})};V.prototype.toJSON=function(){return{n:Object(I.i)(Object(I.a)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:Object(I.i)(Object(I.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}};V.prototype.fromJSON=function(q){if("n"in q){var f=Object(I.h)(Object(I.d)(q.n,!0));this.modulus=new u.m({valueHex:f.slice(0,Math.pow(2,Object(I.g)(f.byteLength)))})}else throw Error('Absent mandatory parameter "n"');
if("e"in q)this.publicExponent=new u.m({valueHex:Object(I.h)(Object(I.d)(q.e,!0)).slice(0,3)});else throw Error('Absent mandatory parameter "e"');}},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(12),q=function(f){f=void 0===f?{}:f;this.version=Object(I.e)(f,"version",q.defaultValues("version"));this.privateKey=Object(I.e)(f,"privateKey",q.defaultValues("privateKey"));"namedCurve"in f&&(this.namedCurve=Object(I.e)(f,"namedCurve",q.defaultValues("namedCurve")));"publicKey"in
f&&(this.publicKey=Object(I.e)(f,"publicKey",q.defaultValues("publicKey")));"schema"in f&&this.fromSchema(f.schema);"json"in f&&this.fromJSON(f.json)};q.defaultValues=function(f){switch(f){case "version":return 1;case "privateKey":return new u.q;case "namedCurve":return"";case "publicKey":return new V.a;default:throw Error("Invalid member name for ECCPrivateKey class: "+f);}};q.compareWithDefault=function(f,k){switch(f){case "version":return k===q.defaultValues(f);case "privateKey":return k.isEqual(q.defaultValues(f));
case "namedCurve":return""===k;case "publicKey":return V.a.compareWithDefault("namedCurve",k.namedCurve)&&V.a.compareWithDefault("x",k.x)&&V.a.compareWithDefault("y",k.y);default:throw Error("Invalid member name for ECCPrivateKey class: "+f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,"names",{});return new u.v({name:f.blockName||"",value:[new u.m({name:f.version||""}),new u.q({name:f.privateKey||""}),new u.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.p({name:f.namedCurve||
""})]}),new u.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new u.b({name:f.publicKey||""})]})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,["version","privateKey","namedCurve","publicKey"]);f=u.D(f,f,q.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for ECPrivateKey");this.version=f.result.version.valueBlock.valueDec;this.privateKey=f.result.privateKey;
"namedCurve"in f.result&&(this.namedCurve=f.result.namedCurve.valueBlock.toString());"publicKey"in f.result&&(f={schema:f.result.publicKey.valueBlock.valueHex},"namedCurve"in this&&(f.namedCurve=this.namedCurve),this.publicKey=new V.a(f))};q.prototype.toSchema=function(){var f=[new u.m({value:this.version}),this.privateKey];"namedCurve"in this&&f.push(new u.g({idBlock:{tagClass:3,tagNumber:0},value:[new u.p({value:this.namedCurve})]}));"publicKey"in this&&f.push(new u.g({idBlock:{tagClass:3,tagNumber:1},
value:[new u.b({valueHex:this.publicKey.toSchema().toBER(!1)})]}));return new u.v({value:f})};q.prototype.toJSON=function(){if(!1==="namedCurve"in this||q.compareWithDefault("namedCurve",this.namedCurve))throw Error('Not enough information for making JSON: absent "namedCurve" value');var f="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":f="P-256";break;case "1.3.132.0.34":f="P-384";break;case "1.3.132.0.35":f="P-521"}f={crv:f,d:Object(I.i)(Object(I.a)(this.privateKey.valueBlock.valueHex),!0,
!0,!1)};if("publicKey"in this){var k=this.publicKey.toJSON();f.x=k.x;f.y=k.y}return f};q.prototype.fromJSON=function(f){var k=0;if("crv"in f)switch(f.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";k=32;break;case "P-384":this.namedCurve="1.3.132.0.34";k=48;break;case "P-521":this.namedCurve="1.3.132.0.35",k=66}else throw Error('Absent mandatory parameter "crv"');if("d"in f){var d=Object(I.h)(Object(I.d)(f.d,!0));if(d.byteLength<k){k=new ArrayBuffer(k);var g=new Uint8Array(k);
d=new Uint8Array(d);g.set(d,1);this.privateKey=new u.q({valueHex:k})}else this.privateKey=new u.q({valueHex:d.slice(0,k)})}else throw Error('Absent mandatory parameter "d"');"x"in f&&"y"in f&&(this.publicKey=new V.a({json:f}))}},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(22),q=function(f){f=void 0===f?{}:f;this.version=Object(I.e)(f,"version",q.defaultValues("version"));this.modulus=Object(I.e)(f,"modulus",q.defaultValues("modulus"));this.publicExponent=Object(I.e)(f,"publicExponent",
q.defaultValues("publicExponent"));this.privateExponent=Object(I.e)(f,"privateExponent",q.defaultValues("privateExponent"));this.prime1=Object(I.e)(f,"prime1",q.defaultValues("prime1"));this.prime2=Object(I.e)(f,"prime2",q.defaultValues("prime2"));this.exponent1=Object(I.e)(f,"exponent1",q.defaultValues("exponent1"));this.exponent2=Object(I.e)(f,"exponent2",q.defaultValues("exponent2"));this.coefficient=Object(I.e)(f,"coefficient",q.defaultValues("coefficient"));"otherPrimeInfos"in f&&(this.otherPrimeInfos=
Object(I.e)(f,"otherPrimeInfos",q.defaultValues("otherPrimeInfos")));"schema"in f&&this.fromSchema(f.schema);"json"in f&&this.fromJSON(f.json)};q.defaultValues=function(f){switch(f){case "version":return 0;case "modulus":return new u.m;case "publicExponent":return new u.m;case "privateExponent":return new u.m;case "prime1":return new u.m;case "prime2":return new u.m;case "exponent1":return new u.m;case "exponent2":return new u.m;case "coefficient":return new u.m;case "otherPrimeInfos":return[];default:throw Error("Invalid member name for RSAPrivateKey class: "+
f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,"names",{});return new u.v({name:f.blockName||"",value:[new u.m({name:f.version||""}),new u.m({name:f.modulus||""}),new u.m({name:f.publicExponent||""}),new u.m({name:f.privateExponent||""}),new u.m({name:f.prime1||""}),new u.m({name:f.prime2||""}),new u.m({name:f.exponent1||""}),new u.m({name:f.exponent2||""}),new u.m({name:f.coefficient||""}),new u.v({optional:!0,value:[new u.u({name:f.otherPrimeInfosName||"",value:V.a.schema(f.otherPrimeInfo||
{})})]})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,"version modulus publicExponent privateExponent prime1 prime2 exponent1 exponent2 coefficient otherPrimeInfos".split(" "));f=u.D(f,f,q.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for RSAPrivateKey");
this.version=f.result.version.valueBlock.valueDec;this.modulus=f.result.modulus.convertFromDER(256);this.publicExponent=f.result.publicExponent;this.privateExponent=f.result.privateExponent.convertFromDER(256);this.prime1=f.result.prime1.convertFromDER(128);this.prime2=f.result.prime2.convertFromDER(128);this.exponent1=f.result.exponent1.convertFromDER(128);this.exponent2=f.result.exponent2.convertFromDER(128);this.coefficient=f.result.coefficient.convertFromDER(128);"otherPrimeInfos"in f.result&&
(this.otherPrimeInfos=Array.from(f.result.otherPrimeInfos,function(k){return new V.a({schema:k})}))};q.prototype.toSchema=function(){var f=[];f.push(new u.m({value:this.version}));f.push(this.modulus.convertToDER());f.push(this.publicExponent);f.push(this.privateExponent.convertToDER());f.push(this.prime1.convertToDER());f.push(this.prime2.convertToDER());f.push(this.exponent1.convertToDER());f.push(this.exponent2.convertToDER());f.push(this.coefficient.convertToDER());"otherPrimeInfos"in this&&f.push(new u.v({value:Array.from(this.otherPrimeInfos,
function(k){return k.toSchema()})}));return new u.v({value:f})};q.prototype.toJSON=function(){var f={n:Object(I.i)(Object(I.a)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:Object(I.i)(Object(I.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:Object(I.i)(Object(I.a)(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:Object(I.i)(Object(I.a)(this.prime1.valueBlock.valueHex),!0,!0,!0),q:Object(I.i)(Object(I.a)(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:Object(I.i)(Object(I.a)(this.exponent1.valueBlock.valueHex),
!0,!0,!0),dq:Object(I.i)(Object(I.a)(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:Object(I.i)(Object(I.a)(this.coefficient.valueBlock.valueHex),!0,!0,!0)};"otherPrimeInfos"in this&&(f.oth=Array.from(this.otherPrimeInfos,function(k){return k.toJSON()}));return f};q.prototype.fromJSON=function(f){if("n"in f)this.modulus=new u.m({valueHex:Object(I.h)(Object(I.d)(f.n,!0,!0))});else throw Error('Absent mandatory parameter "n"');if("e"in f)this.publicExponent=new u.m({valueHex:Object(I.h)(Object(I.d)(f.e,
!0,!0))});else throw Error('Absent mandatory parameter "e"');if("d"in f)this.privateExponent=new u.m({valueHex:Object(I.h)(Object(I.d)(f.d,!0,!0))});else throw Error('Absent mandatory parameter "d"');if("p"in f)this.prime1=new u.m({valueHex:Object(I.h)(Object(I.d)(f.p,!0,!0))});else throw Error('Absent mandatory parameter "p"');if("q"in f)this.prime2=new u.m({valueHex:Object(I.h)(Object(I.d)(f.q,!0,!0))});else throw Error('Absent mandatory parameter "q"');if("dp"in f)this.exponent1=new u.m({valueHex:Object(I.h)(Object(I.d)(f.dp,
!0,!0))});else throw Error('Absent mandatory parameter "dp"');if("dq"in f)this.exponent2=new u.m({valueHex:Object(I.h)(Object(I.d)(f.dq,!0,!0))});else throw Error('Absent mandatory parameter "dq"');if("qi"in f)this.coefficient=new u.m({valueHex:Object(I.h)(Object(I.d)(f.qi,!0,!0))});else throw Error('Absent mandatory parameter "qi"');"oth"in f&&(this.otherPrimeInfos=Array.from(f.oth,function(k){return new V.a({json:k})}))}},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(0),I=C(1),V=C(3),
q=function(f){f=void 0===f?{}:f;this.keyDerivationFunc=Object(I.e)(f,"keyDerivationFunc",q.defaultValues("keyDerivationFunc"));this.encryptionScheme=Object(I.e)(f,"encryptionScheme",q.defaultValues("encryptionScheme"));"schema"in f&&this.fromSchema(f.schema)};q.defaultValues=function(f){switch(f){case "keyDerivationFunc":return new V.a;case "encryptionScheme":return new V.a;default:throw Error("Invalid member name for PBES2Params class: "+f);}};q.schema=function(f){f=void 0===f?{}:f;f=Object(I.e)(f,
"names",{});return new u.v({name:f.blockName||"",value:[V.a.schema(f.keyDerivationFunc||{}),V.a.schema(f.encryptionScheme||{})]})};q.prototype.fromSchema=function(f){Object(I.c)(f,["keyDerivationFunc","encryptionScheme"]);f=u.D(f,f,q.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new V.a({schema:f.result.keyDerivationFunc});
this.encryptionScheme=new V.a({schema:f.result.encryptionScheme})};q.prototype.toSchema=function(){return new u.v({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})};q.prototype.toJSON=function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}},function(Q,E,C){function u(q,f){void 0===f&&(f=Object);return f&&"function"===typeof f.freeze?f.freeze(q):q}var I=u({HTML:"text/html",isHTML:function(q){return q===I.HTML},
XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),V=u({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(q){return q===V.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});E.freeze=u;E.MIME_TYPE=I;E.NAMESPACE=V},function(Q,E){function C(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");
}function I(x){if(g===setTimeout)return setTimeout(x,0);if((g===C||!g)&&setTimeout)return g=setTimeout,setTimeout(x,0);try{return g(x,0)}catch(z){try{return g.call(null,x,0)}catch(m){return g.call(this,x,0)}}}function V(x){if(t===clearTimeout)return clearTimeout(x);if((t===u||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(x);try{return t(x)}catch(z){try{return t.call(null,x)}catch(m){return t.call(this,x)}}}function q(){W&&F&&(W=!1,F.length?A=F.concat(A):H=-1,A.length&&f())}function f(){if(!W){var x=
I(q);W=!0;for(var z=A.length;z;){F=A;for(A=[];++H<z;)F&&F[H].run();H=-1;z=A.length}F=null;W=!1;V(x)}}function k(x,z){this.fun=x;this.array=z}function d(){}Q=Q.exports={};try{var g="function"===typeof setTimeout?setTimeout:C}catch(x){g=C}try{var t="function"===typeof clearTimeout?clearTimeout:u}catch(x){t=u}var A=[],W=!1,F,H=-1;Q.nextTick=function(x){var z=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)z[m-1]=arguments[m];A.push(new k(x,z));1!==A.length||W||I(f)};
k.prototype.run=function(){this.fun.apply(null,this.array)};Q.title="browser";Q.browser=!0;Q.env={};Q.argv=[];Q.version="";Q.versions={};Q.on=d;Q.addListener=d;Q.once=d;Q.off=d;Q.removeListener=d;Q.removeAllListeners=d;Q.emit=d;Q.prependListener=d;Q.prependOnceListener=d;Q.listeners=function(x){return[]};Q.binding=function(x){throw Error("process.binding is not supported");};Q.cwd=function(){return"/"};Q.chdir=function(x){throw Error("process.chdir is not supported");};Q.umask=function(){return 0}},
function(Q,E,C){function u(H,x){q.cipher.registerAlgorithm(H,function(){return new q.des.Algorithm(H,x)})}function I(H,x,z,m){var P=32===H.length?3:9;m=3===P?m?[30,-2,-2]:[0,32,2]:m?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l=x[0],e=x[1];x=(l>>>4^e)&252645135;e^=x;l^=x<<4;x=(l>>>16^e)&65535;e^=x;l^=x<<16;x=(e>>>2^l)&858993459;l^=x;e^=x<<2;x=(e>>>8^l)&16711935;l^=x;e^=x<<8;x=(l>>>1^e)&1431655765;e^=x;l^=x<<1;l=l<<1|l>>>31;e=e<<1|e>>>31;for(var w=0;w<P;w+=3){for(var J=m[w+1],h=m[w+2],
y=m[w];y!=J;y+=h){var G=e^H[y],M=(e>>>4|e<<28)^H[y+1];x=l;l=e;e=x^(k[G>>>24&63]|g[G>>>16&63]|A[G>>>8&63]|F[G&63]|f[M>>>24&63]|d[M>>>16&63]|t[M>>>8&63]|W[M&63])}x=l;l=e;e=x}l=l>>>1|l<<31;e=e>>>1|e<<31;x=(l>>>1^e)&1431655765;e^=x;l^=x<<1;x=(e>>>8^l)&16711935;l^=x;e^=x<<8;x=(e>>>2^l)&858993459;l^=x;e^=x<<2;x=(l>>>16^e)&65535;e^=x;l^=x<<16;x=(l>>>4^e)&252645135;z[0]=l^x<<4;z[1]=e^x}function V(H){H=H||{};var x="DES-"+(H.mode||"CBC").toUpperCase();var z=H.decrypt?q.cipher.createDecipher(x,H.key):q.cipher.createCipher(x,
H.key);var m=z.start;z.start=function(P,l){var e=null;l instanceof q.util.ByteBuffer&&(e=l,l={});l=l||{};l.output=e;l.iv=P;m.call(z,l)};return z}var q=C(5);C(37);C(48);C(7);Q.exports=q.des=q.des||{};q.des.startEncrypting=function(H,x,z,m){H=V({key:H,output:z,decrypt:!1,mode:m||(null===x?"ECB":"CBC")});H.start(x);return H};q.des.createEncryptionCipher=function(H,x){return V({key:H,output:null,decrypt:!1,mode:x})};q.des.startDecrypting=function(H,x,z,m){H=V({key:H,output:z,decrypt:!0,mode:m||(null===
x?"ECB":"CBC")});H.start(x);return H};q.des.createDecryptionCipher=function(H,x){return V({key:H,output:null,decrypt:!0,mode:x})};q.des.Algorithm=function(H,x){var z=this;z.name=H;z.mode=new x({blockSize:8,cipher:{encrypt:function(m,P){return I(z._keys,m,P,!1)},decrypt:function(m,P){return I(z._keys,m,P,!0)}}});z._init=!1};q.des.Algorithm.prototype.initialize=function(H){if(!this._init){H=q.util.createBuffer(H.key);if(0===this.name.indexOf("3DES")&&24!==H.length())throw Error("Invalid Triple-DES key size: "+
8*H.length());for(var x=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],z=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],m=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],P=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],
l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],e=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],w=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],J=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],h=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,
33554432,33816576,33554434,33816578,33554434,33816578],y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],G=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],M=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],S=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,
134742032,134746128],Z=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ca=8<H.length()?3:1,ea=[],ia=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],na=0,r,n=0;n<ca;n++){var v=H.getInt32(),D=H.getInt32();r=(v>>>4^D)&252645135;D^=r;v^=r<<4;r=(D>>>-16^v)&65535;v^=r;D^=r<<-16;r=(v>>>2^D)&858993459;D^=r;v^=r<<2;r=(D>>>-16^v)&65535;v^=r;D^=r<<-16;r=(v>>>1^D)&1431655765;D^=r;v^=r<<1;r=(D>>>8^v)&16711935;v^=r;D^=r<<8;r=(v>>>1^D)&1431655765;D^=r;v^=r<<1;r=v<<8|D>>>20&240;v=D<<24|D<<8&16711680|D>>>8&65280|D>>>24&240;D=
r;for(var U=0;U<ia.length;++U){ia[U]?(v=v<<2|v>>>26,D=D<<2|D>>>26):(v=v<<1|v>>>27,D=D<<1|D>>>27);v&=-15;D&=-15;var N=x[v>>>28]|z[v>>>24&15]|m[v>>>20&15]|P[v>>>16&15]|l[v>>>12&15]|e[v>>>8&15]|w[v>>>4&15],O=J[D>>>28]|h[D>>>24&15]|y[D>>>20&15]|G[D>>>16&15]|M[D>>>12&15]|S[D>>>8&15]|Z[D>>>4&15];r=(O>>>16^N)&65535;ea[na++]=N^r;ea[na++]=O^r<<16}}this._keys=ea;this._init=!0}};u("DES-ECB",q.cipher.modes.ecb);u("DES-CBC",q.cipher.modes.cbc);u("DES-CFB",q.cipher.modes.cfb);u("DES-OFB",q.cipher.modes.ofb);u("DES-CTR",
q.cipher.modes.ctr);u("3DES-ECB",q.cipher.modes.ecb);u("3DES-CBC",q.cipher.modes.cbc);u("3DES-CFB",q.cipher.modes.cfb);u("3DES-OFB",q.cipher.modes.ofb);u("3DES-CTR",q.cipher.modes.ctr);var f=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,
4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],k=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,
-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],d=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,
0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],g=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,
8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],t=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,
1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],A=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,
536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],W=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,
2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],F=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,
0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},function(Q,E,C){function u(h,y,G){var M=t.util.createBuffer();y=Math.ceil(y.n.bitLength()/8);if(h.length>y-11)throw M=Error("Message is too long for PKCS#1 v1.5 padding."),M.length=h.length,M.max=y-11,M;M.putByte(0);M.putByte(G);y=y-3-h.length;if(0===G||1===G){G=0===G?0:255;for(var S=0;S<y;++S)M.putByte(G)}else for(;0<y;){var Z=0,ca=t.random.getBytes(y);for(S=0;S<y;++S)G=ca.charCodeAt(S),
0===G?++Z:M.putByte(G);y=Z}M.putByte(0);M.putBytes(h);return M}function I(h,y,G,M){y=Math.ceil(y.n.bitLength()/8);h=t.util.createBuffer(h);var S=h.getByte(),Z=h.getByte();if(0!==S||G&&0!==Z&&1!==Z||!G&&2!=Z||G&&0===Z&&"undefined"===typeof M)throw Error("Encryption block is invalid.");G=0;if(0===Z)for(G=y-3-M,M=0;M<G;++M){if(0!==h.getByte())throw Error("Encryption block is invalid.");}else if(1===Z)for(G=0;1<h.length();){if(255!==h.getByte()){--h.read;break}++G}else if(2===Z)for(G=0;1<h.length();){if(0===
h.getByte()){--h.read;break}++G}if(0!==h.getByte()||G!==y-3-h.length())throw Error("Encryption block is invalid.");return h.getBytes()}function V(h,y,G){function M(){S(h.pBits,function(ea,ia){if(ea)return G(ea);h.p=ia;if(null!==h.q)return Z(ea,h.q);S(h.qBits,Z)})}function S(ea,ia){t.prime.generateProbablePrime(ea,ca,ia)}function Z(ea,ia){if(ea)return G(ea);h.q=ia;0>h.p.compareTo(h.q)&&(ea=h.p,h.p=h.q,h.q=ea);0!==h.p.subtract(A.ONE).gcd(h.e).compareTo(A.ONE)?(h.p=null,M()):0!==h.q.subtract(A.ONE).gcd(h.e).compareTo(A.ONE)?
(h.q=null,S(h.qBits,Z)):(h.p1=h.p.subtract(A.ONE),h.q1=h.q.subtract(A.ONE),h.phi=h.p1.multiply(h.q1),0!==h.phi.gcd(h.e).compareTo(A.ONE)?(h.p=h.q=null,M()):(h.n=h.p.multiply(h.q),h.n.bitLength()!==h.bits?(h.q=null,S(h.qBits,Z)):(ea=h.e.modInverse(h.phi),h.keys={privateKey:x.rsa.setPrivateKey(h.n,h.e,ea,h.p,h.q,ea.mod(h.p1),ea.mod(h.q1),h.q.modInverse(h.p)),publicKey:x.rsa.setPublicKey(h.n,h.e)},G(null,h.keys))))}"function"===typeof y&&(G=y,y={});y=y||{};var ca={algorithm:{name:y.algorithm||"PRIMEINC",
options:{workers:y.workers||2,workLoad:y.workLoad||100,workerScript:y.workerScript}}};"prng"in y&&(ca.prng=y.prng);M()}function q(h){h=h.toString(16);"8"<=h[0]&&(h="00"+h);h=t.util.hexToBytes(h);return 1<h.length&&(0===h.charCodeAt(0)&&0===(h.charCodeAt(1)&128)||255===h.charCodeAt(0)&&128===(h.charCodeAt(1)&128))?h.substr(1):h}function f(h){return 100>=h?27:150>=h?18:200>=h?15:250>=h?12:300>=h?9:350>=h?8:400>=h?7:500>=h?6:600>=h?5:800>=h?4:1250>=h?3:2}function k(h){return"undefined"!==typeof H.globalScope&&
"object"===typeof H.globalScope.crypto&&"object"===typeof H.globalScope.crypto.subtle&&"function"===typeof H.globalScope.crypto.subtle[h]}function d(h){return"undefined"!==typeof H.globalScope&&"object"===typeof H.globalScope.msCrypto&&"object"===typeof H.globalScope.msCrypto.subtle&&"function"===typeof H.globalScope.msCrypto.subtle[h]}function g(h){h=t.util.hexToBytes(h.toString(16));for(var y=new Uint8Array(h.length),G=0;G<h.length;++G)y[G]=h.charCodeAt(G);return y}var t=C(5);C(15);C(35);C(20);
C(55);C(56);C(13);C(7);if("undefined"===typeof A)var A=t.jsbn.BigInteger;var W=t.util.isNodejs?C(40):null,F=t.asn1,H=t.util;t.pki=t.pki||{};Q.exports=t.pki.rsa=t.rsa=t.rsa||{};var x=t.pki,z=[6,4,2,4,2,4,6,2],m={name:"PrivateKeyInfo",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,
constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:F.Class.UNIVERSAL,type:F.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},P={name:"RSAPrivateKey",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",
tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",
tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:F.Class.UNIVERSAL,
type:F.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:F.Class.UNIVERSAL,type:F.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},e=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:F.Class.UNIVERSAL,
type:F.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:F.Class.UNIVERSAL,type:F.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:F.Class.UNIVERSAL,type:F.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:F.Class.UNIVERSAL,type:F.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},w=function(h){if(h.algorithm in x.oids)var y=x.oids[h.algorithm];
else throw y=Error("Unknown message digest algorithm."),y.algorithm=h.algorithm,y;var G=F.oidToDer(y).getBytes();y=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[]);var M=F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[]);M.value.push(F.create(F.Class.UNIVERSAL,F.Type.OID,!1,G));M.value.push(F.create(F.Class.UNIVERSAL,F.Type.NULL,!1,""));h=F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,h.digest().getBytes());y.value.push(M);y.value.push(h);return F.toDer(y).getBytes()},J=function(h,y,G){if(G)return h.modPow(y.e,
y.n);if(!y.p||!y.q)return h.modPow(y.d,y.n);y.dP||(y.dP=y.d.mod(y.p.subtract(A.ONE)));y.dQ||(y.dQ=y.d.mod(y.q.subtract(A.ONE)));y.qInv||(y.qInv=y.q.modInverse(y.p));do G=new A(t.util.bytesToHex(t.random.getBytes(y.n.bitLength()/8)),16);while(0<=G.compareTo(y.n)||!G.gcd(y.n).equals(A.ONE));h=h.multiply(G.modPow(y.e,y.n)).mod(y.n);var M=h.mod(y.p).modPow(y.dP,y.p);for(h=h.mod(y.q).modPow(y.dQ,y.q);0>M.compareTo(h);)M=M.add(y.p);h=M.subtract(h).multiply(y.qInv).mod(y.p).multiply(y.q).add(h);return h=
h.multiply(G.modInverse(y.n)).mod(y.n)};x.rsa.encrypt=function(h,y,G){var M=G,S=Math.ceil(y.n.bitLength()/8);!1!==G&&!0!==G?(M=2===G,G=u(h,y,G)):(G=t.util.createBuffer(),G.putBytes(h));h=new A(G.toHex(),16);y=J(h,y,M).toString(16);M=t.util.createBuffer();for(S-=Math.ceil(y.length/2);0<S;)M.putByte(0),--S;M.putBytes(t.util.hexToBytes(y));return M.getBytes()};x.rsa.decrypt=function(h,y,G,M){var S=Math.ceil(y.n.bitLength()/8);if(h.length!==S)throw y=Error("Encrypted message length is invalid."),y.length=
h.length,y.expected=S,y;h=new A(t.util.createBuffer(h).toHex(),16);if(0<=h.compareTo(y.n))throw Error("Encrypted message is invalid.");h=J(h,y,G).toString(16);var Z=t.util.createBuffer();for(S-=Math.ceil(h.length/2);0<S;)Z.putByte(0),--S;Z.putBytes(t.util.hexToBytes(h));return!1!==M?I(Z.getBytes(),y,G):Z.getBytes()};x.rsa.createKeyPairGenerationState=function(h,y,G){"string"===typeof h&&(h=parseInt(h,10));h=h||2048;G=G||{};var M=G.prng||t.random,S={nextBytes:function(Z){for(var ca=M.getBytesSync(Z.length),
ea=0;ea<Z.length;++ea)Z[ea]=ca.charCodeAt(ea)}};G=G.algorithm||"PRIMEINC";if("PRIMEINC"===G)h={algorithm:G,state:0,bits:h,rng:S,eInt:y||65537,e:new A(null),p:null,q:null,qBits:h>>1,pBits:h-(h>>1),pqState:0,num:null,keys:null},h.e.fromInt(h.eInt);else throw Error("Invalid key generation algorithm: "+G);return h};x.rsa.stepKeyPairGenerationState=function(h,y){"algorithm"in h||(h.algorithm="PRIMEINC");var G=new A(null);G.fromInt(30);for(var M=0,S=function(na,r){return na|r},Z=+new Date,ca,ea=0;null===
h.keys&&(0>=y||ea<y);){if(0===h.state){ca=null===h.p?h.pBits:h.qBits;var ia=ca-1;0===h.pqState?(h.num=new A(ca,h.rng),h.num.testBit(ia)||h.num.bitwiseTo(A.ONE.shiftLeft(ia),S,h.num),h.num.dAddOffset(31-h.num.mod(G).byteValue(),0),M=0,++h.pqState):1===h.pqState?h.num.bitLength()>ca?h.pqState=0:h.num.isProbablePrime(f(h.num.bitLength()))?++h.pqState:h.num.dAddOffset(z[M++%8],0):2===h.pqState?h.pqState=0===h.num.subtract(A.ONE).gcd(h.e).compareTo(A.ONE)?3:0:3===h.pqState&&(h.pqState=0,null===h.p?h.p=
h.num:h.q=h.num,null!==h.p&&null!==h.q&&++h.state,h.num=null)}else 1===h.state?(0>h.p.compareTo(h.q)&&(h.num=h.p,h.p=h.q,h.q=h.num),++h.state):2===h.state?(h.p1=h.p.subtract(A.ONE),h.q1=h.q.subtract(A.ONE),h.phi=h.p1.multiply(h.q1),++h.state):3===h.state?0===h.phi.gcd(h.e).compareTo(A.ONE)?++h.state:(h.p=null,h.q=null,h.state=0):4===h.state?(h.n=h.p.multiply(h.q),h.n.bitLength()===h.bits?++h.state:(h.q=null,h.state=0)):5===h.state&&(ca=h.e.modInverse(h.phi),h.keys={privateKey:x.rsa.setPrivateKey(h.n,
h.e,ca,h.p,h.q,ca.mod(h.p1),ca.mod(h.q1),h.q.modInverse(h.p)),publicKey:x.rsa.setPublicKey(h.n,h.e)});ca=+new Date;ea+=ca-Z;Z=ca}return null!==h.keys};x.rsa.generateKeyPair=function(h,y,G,M){1===arguments.length?"object"===typeof h?(G=h,h=void 0):"function"===typeof h&&(M=h,h=void 0):2===arguments.length?"number"===typeof h?"function"===typeof y?(M=y,y=void 0):"number"!==typeof y&&(G=y,y=void 0):(G=h,M=y,y=h=void 0):3===arguments.length&&("number"===typeof y?"function"===typeof G&&(M=G,G=void 0):
(M=G,G=y,y=void 0));G=G||{};void 0===h&&(h=G.bits||2048);void 0===y&&(y=G.e||65537);if(!t.options.usePureJavaScript&&!G.prng&&256<=h&&16384>=h&&(65537===y||3===y))if(M){if(t.util.isNodejs&&"function"===typeof W.generateKeyPair)return W.generateKeyPair("rsa",{modulusLength:h,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Z,ca,ea){if(Z)return M(Z);M(null,{privateKey:x.privateKeyFromPem(ea),publicKey:x.publicKeyFromPem(ca)})});if(k("generateKey")&&
k("exportKey"))return H.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:h,publicExponent:g(y),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Z){return H.globalScope.crypto.subtle.exportKey("pkcs8",Z.privateKey)}).then(void 0,function(Z){M(Z)}).then(function(Z){Z&&(Z=x.privateKeyFromAsn1(F.fromDer(t.util.createBuffer(Z))),M(null,{privateKey:Z,publicKey:x.setRsaPublicKey(Z.n,Z.e)}))});if(d("generateKey")&&d("exportKey")){var S=H.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",
modulusLength:h,publicExponent:g(y),hash:{name:"SHA-256"}},!0,["sign","verify"]);S.oncomplete=function(Z){Z=H.globalScope.msCrypto.subtle.exportKey("pkcs8",Z.target.result.privateKey);Z.oncomplete=function(ca){ca=x.privateKeyFromAsn1(F.fromDer(t.util.createBuffer(ca.target.result)));M(null,{privateKey:ca,publicKey:x.setRsaPublicKey(ca.n,ca.e)})};Z.onerror=function(ca){M(ca)}};S.onerror=function(Z){M(Z)};return}}else if(t.util.isNodejs&&"function"===typeof W.generateKeyPairSync)return S=W.generateKeyPairSync("rsa",
{modulusLength:h,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:x.privateKeyFromPem(S.privateKey),publicKey:x.publicKeyFromPem(S.publicKey)};S=x.rsa.createKeyPairGenerationState(h,y,G);if(!M)return x.rsa.stepKeyPairGenerationState(S,0),S.keys;V(S,G,M)};x.setRsaPublicKey=x.rsa.setPublicKey=function(h,y){var G={n:h,e:y,encrypt:function(M,S,Z){"string"===typeof S?S=S.toUpperCase():void 0===S&&(S="RSAES-PKCS1-V1_5");if("RSAES-PKCS1-V1_5"===
S)S={encode:function(ca,ea,ia){return u(ca,ea,2).getBytes()}};else if("RSA-OAEP"===S||"RSAES-OAEP"===S)S={encode:function(ca,ea){return t.pkcs1.encode_rsa_oaep(ea,ca,Z)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(S))S={encode:function(ca){return ca}};else if("string"===typeof S)throw Error('Unsupported encryption scheme: "'+S+'".');M=S.encode(M,G,!0);return x.rsa.encrypt(M,G,!0)},verify:function(M,S,Z){"string"===typeof Z?Z=Z.toUpperCase():void 0===Z&&(Z="RSASSA-PKCS1-V1_5");if("RSASSA-PKCS1-V1_5"===
Z)Z={verify:function(ca,ea){ea=I(ea,G,!0);ea=F.fromDer(ea);return ca===ea.value[1].value}};else if("NONE"===Z||"NULL"===Z||null===Z)Z={verify:function(ca,ea){ea=I(ea,G,!0);return ca===ea}};S=x.rsa.decrypt(S,G,!0,!1);return Z.verify(M,S,G.n.bitLength())}};return G};x.setRsaPrivateKey=x.rsa.setPrivateKey=function(h,y,G,M,S,Z,ca,ea){var ia={n:h,e:y,d:G,p:M,q:S,dP:Z,dQ:ca,qInv:ea,decrypt:function(na,r,n){"string"===typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5");na=x.rsa.decrypt(na,ia,!1,
!1);if("RSAES-PKCS1-V1_5"===r)r={decode:I};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={decode:function(v,D){return t.pkcs1.decode_rsa_oaep(D,v,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(r))r={decode:function(v){return v}};else throw Error('Unsupported encryption scheme: "'+r+'".');return r.decode(na,ia,!1)},sign:function(na,r){var n=!1;"string"===typeof r&&(r=r.toUpperCase());if(void 0===r||"RSASSA-PKCS1-V1_5"===r)r={encode:w},n=1;else if("NONE"===r||"NULL"===r||null===r)r={encode:function(){return na}},
n=1;r=r.encode(na,ia.n.bitLength());return x.rsa.encrypt(r,ia,n)}};return ia};x.wrapRsaPrivateKey=function(h){return F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,F.integerToDer(0).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(x.oids.rsaEncryption).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.NULL,!1,"")]),F.create(F.Class.UNIVERSAL,F.Type.OCTETSTRING,!1,F.toDer(h).getBytes())])};x.privateKeyFromAsn1=
function(h){var y={},G=[];F.validate(h,m,y,G)&&(h=F.fromDer(t.util.createBuffer(y.privateKey)));y={};G=[];if(!F.validate(h,P,y,G))throw y=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey."),y.errors=G,y;G=t.util.createBuffer(y.privateKeyModulus).toHex();h=t.util.createBuffer(y.privateKeyPublicExponent).toHex();var M=t.util.createBuffer(y.privateKeyPrivateExponent).toHex();var S=t.util.createBuffer(y.privateKeyPrime1).toHex();var Z=t.util.createBuffer(y.privateKeyPrime2).toHex();
var ca=t.util.createBuffer(y.privateKeyExponent1).toHex();var ea=t.util.createBuffer(y.privateKeyExponent2).toHex();y=t.util.createBuffer(y.privateKeyCoefficient).toHex();return x.setRsaPrivateKey(new A(G,16),new A(h,16),new A(M,16),new A(S,16),new A(Z,16),new A(ca,16),new A(ea,16),new A(y,16))};x.privateKeyToAsn1=x.privateKeyToRSAPrivateKey=function(h){return F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,F.integerToDer(0).getBytes()),F.create(F.Class.UNIVERSAL,
F.Type.INTEGER,!1,q(h.n)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.e)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.d)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.p)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.q)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.dP)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.dQ)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.qInv))])};x.publicKeyFromAsn1=function(h){var y={},G=[];if(F.validate(h,e,y,G)){G=F.derToOid(y.publicKeyOid);
if(G!==x.oids.rsaEncryption)throw y=Error("Cannot read public key. Unknown OID."),y.oid=G,y;h=y.rsaPublicKey}G=[];if(!F.validate(h,l,y,G))throw y=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey."),y.errors=G,y;G=t.util.createBuffer(y.publicKeyModulus).toHex();y=t.util.createBuffer(y.publicKeyExponent).toHex();return x.setRsaPublicKey(new A(G,16),new A(y,16))};x.publicKeyToAsn1=x.publicKeyToSubjectPublicKeyInfo=function(h){return F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,
!0,[F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.OID,!1,F.oidToDer(x.oids.rsaEncryption).getBytes()),F.create(F.Class.UNIVERSAL,F.Type.NULL,!1,"")]),F.create(F.Class.UNIVERSAL,F.Type.BITSTRING,!1,[x.publicKeyToRSAPublicKey(h)])])};x.publicKeyToRSAPublicKey=function(h){return F.create(F.Class.UNIVERSAL,F.Type.SEQUENCE,!0,[F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.n)),F.create(F.Class.UNIVERSAL,F.Type.INTEGER,!1,q(h.e))])}},function(Q,E,C){function u(h,y,G){this.data=
[];null!=h&&("number"==typeof h?this.fromNumber(h,y,G):null==y&&"string"!=typeof h?this.fromString(h,256):this.fromString(h,y))}function I(){return new u(null)}function V(h,y,G,M,S,Z){for(;0<=--Z;){var ca=y*this.data[h++]+G.data[M]+S;S=Math.floor(ca/67108864);G.data[M++]=ca&67108863}return S}function q(h,y,G,M,S,Z){var ca=y&32767;for(y>>=15;0<=--Z;){var ea=this.data[h]&32767,ia=this.data[h++]>>15,na=y*ea+ia*ca;ea=ca*ea+((na&32767)<<15)+G.data[M]+(S&1073741823);S=(ea>>>30)+(na>>>15)+y*ia+(S>>>30);
G.data[M++]=ea&1073741823}return S}function f(h,y,G,M,S,Z){var ca=y&16383;for(y>>=14;0<=--Z;){var ea=this.data[h]&16383,ia=this.data[h++]>>14,na=y*ea+ia*ca;ea=ca*ea+((na&16383)<<14)+G.data[M]+S;S=(ea>>28)+(na>>14)+y*ia;G.data[M++]=ea&268435455}return S}function k(h,y){h=e[h.charCodeAt(y)];return null==h?-1:h}function d(h){var y=I();y.fromInt(h);return y}function g(h){var y=1,G;0!=(G=h>>>16)&&(h=G,y+=16);0!=(G=h>>8)&&(h=G,y+=8);0!=(G=h>>4)&&(h=G,y+=4);0!=(G=h>>2)&&(h=G,y+=2);0!=h>>1&&(y+=1);return y}
function t(h){this.m=h}function A(h){this.m=h;this.mp=h.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<h.DB-15)-1;this.mt2=2*h.t}function W(h,y){return h&y}function F(h,y){return h|y}function H(h,y){return h^y}function x(h,y){return h&~y}function z(){}function m(h){return h}function P(h){this.r2=I();this.q3=I();u.ONE.dlShiftTo(2*h.t,this.r2);this.mu=this.r2.divide(h);this.m=h}function l(){return{nextBytes:function(h){for(var y=0;y<h.length;++y)h[y]=Math.floor(256*Math.random())}}}
E=C(5);Q.exports=E.jsbn=E.jsbn||{};E.jsbn.BigInteger=u;"undefined"===typeof navigator?(u.prototype.am=f,Q=28):"Microsoft Internet Explorer"==navigator.appName?(u.prototype.am=q,Q=30):"Netscape"!=navigator.appName?(u.prototype.am=V,Q=26):(u.prototype.am=f,Q=28);u.prototype.DB=Q;u.prototype.DM=(1<<Q)-1;u.prototype.DV=1<<Q;u.prototype.FV=Math.pow(2,52);u.prototype.F1=52-Q;u.prototype.F2=2*Q-52;var e=[];Q=48;for(E=0;9>=E;++E)e[Q++]=E;Q=97;for(E=10;36>E;++E)e[Q++]=E;Q=65;for(E=10;36>E;++E)e[Q++]=E;t.prototype.convert=
function(h){return 0>h.s||0<=h.compareTo(this.m)?h.mod(this.m):h};t.prototype.revert=function(h){return h};t.prototype.reduce=function(h){h.divRemTo(this.m,null,h)};t.prototype.mulTo=function(h,y,G){h.multiplyTo(y,G);this.reduce(G)};t.prototype.sqrTo=function(h,y){h.squareTo(y);this.reduce(y)};A.prototype.convert=function(h){var y=I();h.abs().dlShiftTo(this.m.t,y);y.divRemTo(this.m,null,y);0>h.s&&0<y.compareTo(u.ZERO)&&this.m.subTo(y,y);return y};A.prototype.revert=function(h){var y=I();h.copyTo(y);
this.reduce(y);return y};A.prototype.reduce=function(h){for(;h.t<=this.mt2;)h.data[h.t++]=0;for(var y=0;y<this.m.t;++y){var G=h.data[y]&32767,M=G*this.mpl+((G*this.mph+(h.data[y]>>15)*this.mpl&this.um)<<15)&h.DM;G=y+this.m.t;for(h.data[G]+=this.m.am(0,M,h,y,0,this.m.t);h.data[G]>=h.DV;)h.data[G]-=h.DV,h.data[++G]++}h.clamp();h.drShiftTo(this.m.t,h);0<=h.compareTo(this.m)&&h.subTo(this.m,h)};A.prototype.mulTo=function(h,y,G){h.multiplyTo(y,G);this.reduce(G)};A.prototype.sqrTo=function(h,y){h.squareTo(y);
this.reduce(y)};u.prototype.copyTo=function(h){for(var y=this.t-1;0<=y;--y)h.data[y]=this.data[y];h.t=this.t;h.s=this.s};u.prototype.fromInt=function(h){this.t=1;this.s=0>h?-1:0;0<h?this.data[0]=h:-1>h?this.data[0]=h+this.DV:this.t=0};u.prototype.fromString=function(h,y){if(16==y)y=4;else if(8==y)y=3;else if(256==y)y=8;else if(2==y)y=1;else if(32==y)y=5;else if(4==y)y=2;else{this.fromRadix(h,y);return}this.s=this.t=0;for(var G=h.length,M=!1,S=0;0<=--G;){var Z=8==y?h[G]&255:k(h,G);0>Z?"-"==h.charAt(G)&&
(M=!0):(M=!1,0==S?this.data[this.t++]=Z:S+y>this.DB?(this.data[this.t-1]|=(Z&(1<<this.DB-S)-1)<<S,this.data[this.t++]=Z>>this.DB-S):this.data[this.t-1]|=Z<<S,S+=y,S>=this.DB&&(S-=this.DB))}8==y&&0!=(h[0]&128)&&(this.s=-1,0<S&&(this.data[this.t-1]|=(1<<this.DB-S)-1<<S));this.clamp();M&&u.ZERO.subTo(this,this)};u.prototype.clamp=function(){for(var h=this.s&this.DM;0<this.t&&this.data[this.t-1]==h;)--this.t};u.prototype.dlShiftTo=function(h,y){var G;for(G=this.t-1;0<=G;--G)y.data[G+h]=this.data[G];for(G=
h-1;0<=G;--G)y.data[G]=0;y.t=this.t+h;y.s=this.s};u.prototype.drShiftTo=function(h,y){for(var G=h;G<this.t;++G)y.data[G-h]=this.data[G];y.t=Math.max(this.t-h,0);y.s=this.s};u.prototype.lShiftTo=function(h,y){var G=h%this.DB,M=this.DB-G,S=(1<<M)-1;h=Math.floor(h/this.DB);var Z=this.s<<G&this.DM,ca;for(ca=this.t-1;0<=ca;--ca)y.data[ca+h+1]=this.data[ca]>>M|Z,Z=(this.data[ca]&S)<<G;for(ca=h-1;0<=ca;--ca)y.data[ca]=0;y.data[h]=Z;y.t=this.t+h+1;y.s=this.s;y.clamp()};u.prototype.rShiftTo=function(h,y){y.s=
this.s;var G=Math.floor(h/this.DB);if(G>=this.t)y.t=0;else{h%=this.DB;var M=this.DB-h,S=(1<<h)-1;y.data[0]=this.data[G]>>h;for(var Z=G+1;Z<this.t;++Z)y.data[Z-G-1]|=(this.data[Z]&S)<<M,y.data[Z-G]=this.data[Z]>>h;0<h&&(y.data[this.t-G-1]|=(this.s&S)<<M);y.t=this.t-G;y.clamp()}};u.prototype.subTo=function(h,y){for(var G=0,M=0,S=Math.min(h.t,this.t);G<S;)M+=this.data[G]-h.data[G],y.data[G++]=M&this.DM,M>>=this.DB;if(h.t<this.t){for(M-=h.s;G<this.t;)M+=this.data[G],y.data[G++]=M&this.DM,M>>=this.DB;
M+=this.s}else{for(M+=this.s;G<h.t;)M-=h.data[G],y.data[G++]=M&this.DM,M>>=this.DB;M-=h.s}y.s=0>M?-1:0;-1>M?y.data[G++]=this.DV+M:0<M&&(y.data[G++]=M);y.t=G;y.clamp()};u.prototype.multiplyTo=function(h,y){var G=this.abs(),M=h.abs(),S=G.t;for(y.t=S+M.t;0<=--S;)y.data[S]=0;for(S=0;S<M.t;++S)y.data[S+G.t]=G.am(0,M.data[S],y,S,0,G.t);y.s=0;y.clamp();this.s!=h.s&&u.ZERO.subTo(y,y)};u.prototype.squareTo=function(h){for(var y=this.abs(),G=h.t=2*y.t;0<=--G;)h.data[G]=0;for(G=0;G<y.t-1;++G){var M=y.am(G,y.data[G],
h,2*G,0,1);(h.data[G+y.t]+=y.am(G+1,2*y.data[G],h,2*G+1,M,y.t-G-1))>=y.DV&&(h.data[G+y.t]-=y.DV,h.data[G+y.t+1]=1)}0<h.t&&(h.data[h.t-1]+=y.am(G,y.data[G],h,2*G,0,1));h.s=0;h.clamp()};u.prototype.divRemTo=function(h,y,G){var M=h.abs();if(!(0>=M.t)){var S=this.abs();if(S.t<M.t)null!=y&&y.fromInt(0),null!=G&&this.copyTo(G);else{null==G&&(G=I());var Z=I(),ca=this.s;h=h.s;var ea=this.DB-g(M.data[M.t-1]);0<ea?(M.lShiftTo(ea,Z),S.lShiftTo(ea,G)):(M.copyTo(Z),S.copyTo(G));M=Z.t;S=Z.data[M-1];if(0!=S){var ia=
S*(1<<this.F1)+(1<M?Z.data[M-2]>>this.F2:0),na=this.FV/ia;ia=(1<<this.F1)/ia;var r=1<<this.F2,n=G.t,v=n-M,D=null==y?I():y;Z.dlShiftTo(v,D);0<=G.compareTo(D)&&(G.data[G.t++]=1,G.subTo(D,G));u.ONE.dlShiftTo(M,D);for(D.subTo(Z,Z);Z.t<M;)Z.data[Z.t++]=0;for(;0<=--v;){var U=G.data[--n]==S?this.DM:Math.floor(G.data[n]*na+(G.data[n-1]+r)*ia);if((G.data[n]+=Z.am(0,U,G,v,0,M))<U)for(Z.dlShiftTo(v,D),G.subTo(D,G);G.data[n]<--U;)G.subTo(D,G)}null!=y&&(G.drShiftTo(M,y),ca!=h&&u.ZERO.subTo(y,y));G.t=M;G.clamp();
0<ea&&G.rShiftTo(ea,G);0>ca&&u.ZERO.subTo(G,G)}}}};u.prototype.invDigit=function(){if(1>this.t)return 0;var h=this.data[0];if(0==(h&1))return 0;var y=h&3;y=y*(2-(h&15)*y)&15;y=y*(2-(h&255)*y)&255;y=y*(2-((h&65535)*y&65535))&65535;y=y*(2-h*y%this.DV)%this.DV;return 0<y?this.DV-y:-y};u.prototype.isEven=function(){return 0==(0<this.t?this.data[0]&1:this.s)};u.prototype.exp=function(h,y){if(4294967295<h||1>h)return u.ONE;var G=I(),M=I(),S=y.convert(this),Z=g(h)-1;for(S.copyTo(G);0<=--Z;)if(y.sqrTo(G,
M),0<(h&1<<Z))y.mulTo(M,S,G);else{var ca=G;G=M;M=ca}return y.revert(G)};u.prototype.toString=function(h){if(0>this.s)return"-"+this.negate().toString(h);if(16==h)h=4;else if(8==h)h=3;else if(2==h)h=1;else if(32==h)h=5;else if(4==h)h=2;else return this.toRadix(h);var y=(1<<h)-1,G,M=!1,S="",Z=this.t,ca=this.DB-Z*this.DB%h;if(0<Z--)for(ca<this.DB&&0<(G=this.data[Z]>>ca)&&(M=!0,S="0123456789abcdefghijklmnopqrstuvwxyz".charAt(G));0<=Z;)ca<h?(G=(this.data[Z]&(1<<ca)-1)<<h-ca,G|=this.data[--Z]>>(ca+=this.DB-
h)):(G=this.data[Z]>>(ca-=h)&y,0>=ca&&(ca+=this.DB,--Z)),0<G&&(M=!0),M&&(S+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(G));return M?S:"0"};u.prototype.negate=function(){var h=I();u.ZERO.subTo(this,h);return h};u.prototype.abs=function(){return 0>this.s?this.negate():this};u.prototype.compareTo=function(h){var y=this.s-h.s;if(0!=y)return y;var G=this.t;y=G-h.t;if(0!=y)return 0>this.s?-y:y;for(;0<=--G;)if(0!=(y=this.data[G]-h.data[G]))return y;return 0};u.prototype.bitLength=function(){return 0>=
this.t?0:this.DB*(this.t-1)+g(this.data[this.t-1]^this.s&this.DM)};u.prototype.mod=function(h){var y=I();this.abs().divRemTo(h,null,y);0>this.s&&0<y.compareTo(u.ZERO)&&h.subTo(y,y);return y};u.prototype.modPowInt=function(h,y){y=256>h||y.isEven()?new t(y):new A(y);return this.exp(h,y)};u.ZERO=d(0);u.ONE=d(1);z.prototype.convert=m;z.prototype.revert=m;z.prototype.mulTo=function(h,y,G){h.multiplyTo(y,G)};z.prototype.sqrTo=function(h,y){h.squareTo(y)};P.prototype.convert=function(h){if(0>h.s||h.t>2*
this.m.t)return h.mod(this.m);if(0>h.compareTo(this.m))return h;var y=I();h.copyTo(y);this.reduce(y);return y};P.prototype.revert=function(h){return h};P.prototype.reduce=function(h){h.drShiftTo(this.m.t-1,this.r2);h.t>this.m.t+1&&(h.t=this.m.t+1,h.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>h.compareTo(this.r2);)h.dAddOffset(1,this.m.t+1);for(h.subTo(this.r2,h);0<=h.compareTo(this.m);)h.subTo(this.m,h)};P.prototype.mulTo=function(h,
y,G){h.multiplyTo(y,G);this.reduce(G)};P.prototype.sqrTo=function(h,y){h.squareTo(y);this.reduce(y)};var w=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],J=67108864/w[w.length-1];u.prototype.chunkSize=
function(h){return Math.floor(Math.LN2*this.DB/Math.log(h))};u.prototype.toRadix=function(h){null==h&&(h=10);if(0==this.signum()||2>h||36<h)return"0";var y=this.chunkSize(h);y=Math.pow(h,y);var G=d(y),M=I(),S=I(),Z="";for(this.divRemTo(G,M,S);0<M.signum();)Z=(y+S.intValue()).toString(h).substr(1)+Z,M.divRemTo(G,M,S);return S.intValue().toString(h)+Z};u.prototype.fromRadix=function(h,y){this.fromInt(0);null==y&&(y=10);for(var G=this.chunkSize(y),M=Math.pow(y,G),S=!1,Z=0,ca=0,ea=0;ea<h.length;++ea){var ia=
k(h,ea);0>ia?"-"==h.charAt(ea)&&0==this.signum()&&(S=!0):(ca=y*ca+ia,++Z>=G&&(this.dMultiply(M),this.dAddOffset(ca,0),ca=Z=0))}0<Z&&(this.dMultiply(Math.pow(y,Z)),this.dAddOffset(ca,0));S&&u.ZERO.subTo(this,this)};u.prototype.fromNumber=function(h,y,G){if("number"==typeof y)if(2>h)this.fromInt(1);else for(this.fromNumber(h,G),this.testBit(h-1)||this.bitwiseTo(u.ONE.shiftLeft(h-1),F,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(y);)this.dAddOffset(2,0),this.bitLength()>h&&this.subTo(u.ONE.shiftLeft(h-
1),this);else{G=[];var M=h&7;G.length=(h>>3)+1;y.nextBytes(G);G[0]=0<M?G[0]&(1<<M)-1:0;this.fromString(G,256)}};u.prototype.bitwiseTo=function(h,y,G){var M,S=Math.min(h.t,this.t);for(M=0;M<S;++M)G.data[M]=y(this.data[M],h.data[M]);if(h.t<this.t){var Z=h.s&this.DM;for(M=S;M<this.t;++M)G.data[M]=y(this.data[M],Z);G.t=this.t}else{Z=this.s&this.DM;for(M=S;M<h.t;++M)G.data[M]=y(Z,h.data[M]);G.t=h.t}G.s=y(this.s,h.s);G.clamp()};u.prototype.changeBit=function(h,y){h=u.ONE.shiftLeft(h);this.bitwiseTo(h,y,
h);return h};u.prototype.addTo=function(h,y){for(var G=0,M=0,S=Math.min(h.t,this.t);G<S;)M+=this.data[G]+h.data[G],y.data[G++]=M&this.DM,M>>=this.DB;if(h.t<this.t){for(M+=h.s;G<this.t;)M+=this.data[G],y.data[G++]=M&this.DM,M>>=this.DB;M+=this.s}else{for(M+=this.s;G<h.t;)M+=h.data[G],y.data[G++]=M&this.DM,M>>=this.DB;M+=h.s}y.s=0>M?-1:0;0<M?y.data[G++]=M:-1>M&&(y.data[G++]=this.DV+M);y.t=G;y.clamp()};u.prototype.dMultiply=function(h){this.data[this.t]=this.am(0,h-1,this,0,0,this.t);++this.t;this.clamp()};
u.prototype.dAddOffset=function(h,y){if(0!=h){for(;this.t<=y;)this.data[this.t++]=0;for(this.data[y]+=h;this.data[y]>=this.DV;)this.data[y]-=this.DV,++y>=this.t&&(this.data[this.t++]=0),++this.data[y]}};u.prototype.multiplyLowerTo=function(h,y,G){var M=Math.min(this.t+h.t,y);G.s=0;for(G.t=M;0<M;)G.data[--M]=0;var S;for(S=G.t-this.t;M<S;++M)G.data[M+this.t]=this.am(0,h.data[M],G,M,0,this.t);for(S=Math.min(h.t,y);M<S;++M)this.am(0,h.data[M],G,M,0,y-M);G.clamp()};u.prototype.multiplyUpperTo=function(h,
y,G){--y;var M=G.t=this.t+h.t-y;for(G.s=0;0<=--M;)G.data[M]=0;for(M=Math.max(y-this.t,0);M<h.t;++M)G.data[this.t+M-y]=this.am(y-M,h.data[M],G,0,0,this.t+M-y);G.clamp();G.drShiftTo(1,G)};u.prototype.modInt=function(h){if(0>=h)return 0;var y=this.DV%h,G=0>this.s?h-1:0;if(0<this.t)if(0==y)G=this.data[0]%h;else for(var M=this.t-1;0<=M;--M)G=(y*G+this.data[M])%h;return G};u.prototype.millerRabin=function(h){var y=this.subtract(u.ONE),G=y.getLowestSetBit();if(0>=G)return!1;for(var M=y.shiftRight(G),S=l(),
Z,ca=0;ca<h;++ca){do Z=new u(this.bitLength(),S);while(0>=Z.compareTo(u.ONE)||0<=Z.compareTo(y));Z=Z.modPow(M,this);if(0!=Z.compareTo(u.ONE)&&0!=Z.compareTo(y)){for(var ea=1;ea++<G&&0!=Z.compareTo(y);)if(Z=Z.modPowInt(2,this),0==Z.compareTo(u.ONE))return!1;if(0!=Z.compareTo(y))return!1}}return!0};u.prototype.clone=function(){var h=I();this.copyTo(h);return h};u.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];
if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]};u.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24};u.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16};u.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this.data[0]?0:1};u.prototype.toByteArray=function(){var h=this.t,y=[];y[0]=this.s;var G=this.DB-h*this.DB%8,M,S=0;if(0<h--)for(G<this.DB&&(M=this.data[h]>>G)!=(this.s&this.DM)>>G&&(y[S++]=
M|this.s<<this.DB-G);0<=h;)if(8>G?(M=(this.data[h]&(1<<G)-1)<<8-G,M|=this.data[--h]>>(G+=this.DB-8)):(M=this.data[h]>>(G-=8)&255,0>=G&&(G+=this.DB,--h)),0!=(M&128)&&(M|=-256),0==S&&(this.s&128)!=(M&128)&&++S,0<S||M!=this.s)y[S++]=M;return y};u.prototype.equals=function(h){return 0==this.compareTo(h)};u.prototype.min=function(h){return 0>this.compareTo(h)?this:h};u.prototype.max=function(h){return 0<this.compareTo(h)?this:h};u.prototype.and=function(h){var y=I();this.bitwiseTo(h,W,y);return y};u.prototype.or=
function(h){var y=I();this.bitwiseTo(h,F,y);return y};u.prototype.xor=function(h){var y=I();this.bitwiseTo(h,H,y);return y};u.prototype.andNot=function(h){var y=I();this.bitwiseTo(h,x,y);return y};u.prototype.not=function(){for(var h=I(),y=0;y<this.t;++y)h.data[y]=this.DM&~this.data[y];h.t=this.t;h.s=~this.s;return h};u.prototype.shiftLeft=function(h){var y=I();0>h?this.rShiftTo(-h,y):this.lShiftTo(h,y);return y};u.prototype.shiftRight=function(h){var y=I();0>h?this.lShiftTo(-h,y):this.rShiftTo(h,
y);return y};u.prototype.getLowestSetBit=function(){for(var h=0;h<this.t;++h)if(0!=this.data[h]){var y=h*this.DB;h=this.data[h];if(0==h)h=-1;else{var G=0;0==(h&65535)&&(h>>=16,G+=16);0==(h&255)&&(h>>=8,G+=8);0==(h&15)&&(h>>=4,G+=4);0==(h&3)&&(h>>=2,G+=2);0==(h&1)&&++G;h=G}return y+h}return 0>this.s?this.t*this.DB:-1};u.prototype.bitCount=function(){for(var h=0,y=this.s&this.DM,G=0;G<this.t;++G){for(var M=this.data[G]^y,S=0;0!=M;)M&=M-1,++S;h+=S}return h};u.prototype.testBit=function(h){var y=Math.floor(h/
this.DB);return y>=this.t?0!=this.s:0!=(this.data[y]&1<<h%this.DB)};u.prototype.setBit=function(h){return this.changeBit(h,F)};u.prototype.clearBit=function(h){return this.changeBit(h,x)};u.prototype.flipBit=function(h){return this.changeBit(h,H)};u.prototype.add=function(h){var y=I();this.addTo(h,y);return y};u.prototype.subtract=function(h){var y=I();this.subTo(h,y);return y};u.prototype.multiply=function(h){var y=I();this.multiplyTo(h,y);return y};u.prototype.divide=function(h){var y=I();this.divRemTo(h,
y,null);return y};u.prototype.remainder=function(h){var y=I();this.divRemTo(h,null,y);return y};u.prototype.divideAndRemainder=function(h){var y=I(),G=I();this.divRemTo(h,y,G);return[y,G]};u.prototype.modPow=function(h,y){var G=h.bitLength(),M=d(1);if(0>=G)return M;var S=18>G?1:48>G?3:144>G?4:768>G?5:6;y=8>G?new t(y):y.isEven()?new P(y):new A(y);var Z=[],ca=3,ea=S-1,ia=(1<<S)-1;Z[1]=y.convert(this);if(1<S)for(G=I(),y.sqrTo(Z[1],G);ca<=ia;)Z[ca]=I(),y.mulTo(G,Z[ca-2],Z[ca]),ca+=2;var na=h.t-1,r=!0,
n=I();for(G=g(h.data[na])-1;0<=na;){if(G>=ea)var v=h.data[na]>>G-ea&ia;else v=(h.data[na]&(1<<G+1)-1)<<ea-G,0<na&&(v|=h.data[na-1]>>this.DB+G-ea);for(ca=S;0==(v&1);)v>>=1,--ca;0>(G-=ca)&&(G+=this.DB,--na);if(r)Z[v].copyTo(M),r=!1;else{for(;1<ca;)y.sqrTo(M,n),y.sqrTo(n,M),ca-=2;0<ca?y.sqrTo(M,n):(ca=M,M=n,n=ca);y.mulTo(n,Z[v],M)}for(;0<=na&&0==(h.data[na]&1<<G);)y.sqrTo(M,n),ca=M,M=n,n=ca,0>--G&&(G=this.DB-1,--na)}return y.revert(M)};u.prototype.modInverse=function(h){var y=h.isEven();if(this.isEven()&&
y||0==h.signum())return u.ZERO;for(var G=h.clone(),M=this.clone(),S=d(1),Z=d(0),ca=d(0),ea=d(1);0!=G.signum();){for(;G.isEven();)G.rShiftTo(1,G),y?(S.isEven()&&Z.isEven()||(S.addTo(this,S),Z.subTo(h,Z)),S.rShiftTo(1,S)):Z.isEven()||Z.subTo(h,Z),Z.rShiftTo(1,Z);for(;M.isEven();)M.rShiftTo(1,M),y?(ca.isEven()&&ea.isEven()||(ca.addTo(this,ca),ea.subTo(h,ea)),ca.rShiftTo(1,ca)):ea.isEven()||ea.subTo(h,ea),ea.rShiftTo(1,ea);0<=G.compareTo(M)?(G.subTo(M,G),y&&S.subTo(ca,S),Z.subTo(ea,Z)):(M.subTo(G,M),
y&&ca.subTo(S,ca),ea.subTo(Z,ea))}if(0!=M.compareTo(u.ONE))return u.ZERO;if(0<=ea.compareTo(h))return ea.subtract(h);if(0>ea.signum())ea.addTo(h,ea);else return ea;return 0>ea.signum()?ea.add(h):ea};u.prototype.pow=function(h){return this.exp(h,new z)};u.prototype.gcd=function(h){var y=0>this.s?this.negate():this.clone();h=0>h.s?h.negate():h.clone();if(0>y.compareTo(h)){var G=y;y=h;h=G}G=y.getLowestSetBit();var M=h.getLowestSetBit();if(0>M)return y;G<M&&(M=G);0<M&&(y.rShiftTo(M,y),h.rShiftTo(M,h));
for(;0<y.signum();)0<(G=y.getLowestSetBit())&&y.rShiftTo(G,y),0<(G=h.getLowestSetBit())&&h.rShiftTo(G,h),0<=y.compareTo(h)?(y.subTo(h,y),y.rShiftTo(1,y)):(h.subTo(y,h),h.rShiftTo(1,h));0<M&&h.lShiftTo(M,h);return h};u.prototype.isProbablePrime=function(h){var y,G=this.abs();if(1==G.t&&G.data[0]<=w[w.length-1]){for(y=0;y<w.length;++y)if(G.data[0]==w[y])return!0;return!1}if(G.isEven())return!1;for(y=1;y<w.length;){for(var M=w[y],S=y+1;S<w.length&&M<J;)M*=w[S++];for(M=G.modInt(M);y<S;)if(0==M%w[y++])return!1}return G.millerRabin(h)}},
function(Q,E,C){function u(H,x,z,m,P,l){var e=[];switch(x.toUpperCase()){case "SHA-1":var w=20;var J=64;break;case "SHA-256":w=32;J=64;break;case "SHA-384":w=48;J=128;break;case "SHA-512":w=64;J=128;break;default:throw Error("Unsupported hashing algorithm");}var h=new Uint8Array(m);m=new ArrayBuffer(2*m.byteLength+2);for(var y=new Uint8Array(m),G=0;G<h.length;G++)y[2*G]=0,y[2*G+1]=h[G];y[y.length-2]=0;y[y.length-1]=0;m=m.slice(0);var M=new ArrayBuffer(J),S=new Uint8Array(M);for(h=0;h<M.byteLength;h++)S[h]=
3;var Z=P.byteLength;G=J*Math.ceil(Z/J);h=new ArrayBuffer(G);y=new Uint8Array(h);P=new Uint8Array(P);for(var ca=0;ca<G;ca++)y[ca]=P[ca%Z];var ea=m.byteLength;P=J*Math.ceil(ea/J);G=new ArrayBuffer(P);ca=new Uint8Array(G);m=new Uint8Array(m);for(var ia=0;ia<P;ia++)ca[ia]=m[ia%ea];var na=new ArrayBuffer(h.byteLength+G.byteLength),r=new Uint8Array(na);r.set(y);r.set(ca,y.length);w=Math.ceil((z>>3)/w);m=Promise.resolve(na);for(h=0;h<=w;h++){m=m.then(function(n){n=new ArrayBuffer(M.byteLength+n.byteLength);
var v=new Uint8Array(n);v.set(S);v.set(r,S.length);return n});for(y=0;y<l;y++)m=m.then(function(n){return H.digest({name:x},new Uint8Array(n))});m=m.then(function(n){for(var v=new ArrayBuffer(J),D=new Uint8Array(v),U=0;U<v.byteLength;U++)D[U]=n[U%n.length];U=Math.ceil(Z/J)+Math.ceil(ea/J);for(var N=[],O=0,K=J,pa=0;pa<U;pa++){var xa=Array.from(new Uint8Array(na.slice(O,O+K)));O+=J;O+J>na.byteLength&&(K=na.byteLength-O);for(var ua=511,za=v.byteLength-1;0<=za;za--)ua>>=8,ua+=D[za]+xa[za],xa[za]=ua&255;
N.push.apply(N,$jscomp.arrayFromIterable(xa))}na=new ArrayBuffer(N.length);r=new Uint8Array(na);r.set(N);e.push.apply(e,$jscomp.arrayFromIterable(new Uint8Array(n)));return na})}return m=m.then(function(){var n=new ArrayBuffer(z>>3);(new Uint8Array(n)).set((new Uint8Array(e)).slice(0,z>>3));return n})}C.d(E,"a",function(){return F});var I=C(0),V=C(1),q=C(4),f=C(10),k=C(14),d=C(3),g=C(9),t=C(23),A=C(17),W=C(30),F=function(H){H=void 0===H?{}:H;this.crypto=Object(V.e)(H,"crypto",{});this.subtle=Object(V.e)(H,
"subtle",{});this.name=Object(V.e)(H,"name","")};F.prototype.importKey=function(H,x,z,m,P){var l=this,e={};x instanceof Uint8Array&&(x=x.buffer);switch(H.toLowerCase()){case "raw":return this.subtle.importKey("raw",x,z,m,P);case "spki":x=I.E(x);if(-1===x.offset)return Promise.reject("Incorrect keyData");H=new f.a;try{H.fromSchema(x.result)}catch(J){return Promise.reject("Incorrect keyData")}switch(z.name.toUpperCase()){case "RSA-PSS":switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="PS1";break;
case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":P=["verify"];e.kty="RSA";e.ext=m;e.key_ops=P;if("1.2.840.113549.1.1.1"!==H.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+H.algorithm.algorithmId);if(!1==="alg"in e)switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg="RS256";
break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}H=H.toJSON();var w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "ECDSA":P=["verify"];case "ECDH":e={kty:"EC",ext:m,key_ops:P};if("1.2.840.10045.2.1"!==H.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+H.algorithm.algorithmId);H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));
for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "RSA-OAEP":e.kty="RSA";e.ext=m;e.key_ops=P;if("safari"===this.name.toLowerCase())e.alg="RSA-OAEP";else switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg="RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));
for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "RSAES-PKCS1-V1_5":e.kty="RSA";e.ext=m;e.key_ops=P;e.alg="PS1";H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;default:return Promise.reject("Incorrect algorithm name: "+z.name.toUpperCase())}break;case "pkcs8":H=new k.a;x=I.E(x);if(-1===x.offset)return Promise.reject("Incorrect keyData");try{H.fromSchema(x.result)}catch(J){return Promise.reject("Incorrect keyData")}if(!1===
"parsedKey"in H)return Promise.reject("Incorrect keyData");switch(z.name.toUpperCase()){case "RSA-PSS":switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="PS1";break;case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":P=["sign"];e.kty="RSA";e.ext=m;e.key_ops=P;if("1.2.840.113549.1.1.1"!==H.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect private key algorithm: "+
H.privateKeyAlgorithm.algorithmId);if(!1==="alg"in e)switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg="RS256";break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "ECDSA":P=["sign"];case "ECDH":e={kty:"EC",ext:m,key_ops:P};if("1.2.840.10045.2.1"!==
H.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect algorithm: "+H.privateKeyAlgorithm.algorithmId);H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "RSA-OAEP":e.kty="RSA";e.ext=m;e.key_ops=P;if("safari"===this.name.toLowerCase())e.alg="RSA-OAEP";else switch(z.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg=
"RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+z.hash.name.toUpperCase())}H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;case "RSAES-PKCS1-V1_5":P=["decrypt"];e.kty="RSA";e.ext=m;e.key_ops=P;e.alg="PS1";H=H.toJSON();w=$jscomp.makeIterator(Object.keys(H));for(x=w.next();!x.done;x=w.next())x=x.value,e[x]=H[x];break;default:return Promise.reject("Incorrect algorithm name: "+z.name.toUpperCase())}break;case "jwk":e=
x;break;default:return Promise.reject("Incorrect format: "+H)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(function(){return l.subtle.importKey("jwk",Object(V.h)(JSON.stringify(e)),z,m,P)}).then(function(J){return J},function(){return l.subtle.importKey("jwk",e,z,m,P)}):this.subtle.importKey("jwk",e,z,m,P)};F.prototype.exportKey=function(H,x){var z=this.subtle.exportKey("jwk",x);"safari"===this.name.toLowerCase()&&(z=z.then(function(m){return m instanceof ArrayBuffer?JSON.parse(Object(V.a)(m)):
m}));switch(H.toLowerCase()){case "raw":return this.subtle.exportKey("raw",x);case "spki":z=z.then(function(m){var P=new f.a;try{P.fromJSON(m)}catch(l){return Promise.reject("Incorrect key data")}return P.toSchema().toBER(!1)});break;case "pkcs8":z=z.then(function(m){var P=new k.a;try{P.fromJSON(m)}catch(l){return Promise.reject("Incorrect key data")}return P.toSchema().toBER(!1)});break;case "jwk":break;default:return Promise.reject("Incorrect format: "+H)}return z};F.prototype.convert=function(H,
x,z,m,P,l){var e=this;switch(H.toLowerCase()){case "raw":switch(x.toLowerCase()){case "raw":return Promise.resolve(z);case "spki":return Promise.resolve().then(function(){return e.importKey("raw",z,m,P,l)}).then(function(w){return e.exportKey("spki",w)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("raw",z,m,P,l)}).then(function(w){return e.exportKey("pkcs8",w)});case "jwk":return Promise.resolve().then(function(){return e.importKey("raw",z,m,P,l)}).then(function(w){return e.exportKey("jwk",
w)});default:return Promise.reject("Incorrect outputFormat: "+x)}case "spki":switch(x.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("spki",z,m,P,l)}).then(function(w){return e.exportKey("raw",w)});case "spki":return Promise.resolve(z);case "pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "jwk":return Promise.resolve().then(function(){return e.importKey("spki",z,m,P,l)}).then(function(w){return e.exportKey("jwk",w)});default:return Promise.reject("Incorrect outputFormat: "+
x)}case "pkcs8":switch(x.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("pkcs8",z,m,P,l)}).then(function(w){return e.exportKey("raw",w)});case "spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "pkcs8":return Promise.resolve(z);case "jwk":return Promise.resolve().then(function(){return e.importKey("pkcs8",z,m,P,l)}).then(function(w){return e.exportKey("jwk",w)});default:return Promise.reject("Incorrect outputFormat: "+x)}case "jwk":switch(x.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("jwk",
z,m,P,l)}).then(function(w){return e.exportKey("raw",w)});case "spki":return Promise.resolve().then(function(){return e.importKey("jwk",z,m,P,l)}).then(function(w){return e.exportKey("spki",w)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("jwk",z,m,P,l)}).then(function(w){return e.exportKey("pkcs8",w)});case "jwk":return Promise.resolve(z);default:return Promise.reject("Incorrect outputFormat: "+x)}default:return Promise.reject("Incorrect inputFormat: "+H)}};F.prototype.encrypt=
function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.encrypt.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.decrypt=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.decrypt.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.sign=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.sign.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.verify=function(H){for(var x=
[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.verify.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.digest=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.digest.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.generateKey=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.generateKey.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.deriveKey=function(H){for(var x=
[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.deriveKey.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.deriveBits=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.deriveBits.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.wrapKey=function(H){for(var x=[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.wrapKey.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.unwrapKey=function(H){for(var x=
[],z=0;z<arguments.length;++z)x[z-0]=arguments[z];return this.subtle.unwrapKey.apply(this.subtle,$jscomp.arrayFromIterable(x))};F.prototype.getRandomValues=function(H){if(!1==="getRandomValues"in this.crypto)throw Error("No support for getRandomValues");return this.crypto.getRandomValues(H)};F.prototype.getAlgorithmByOID=function(H){switch(H){case "1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case "1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case "1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",
hash:{name:"SHA-256"}};case "1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case "1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case "1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case "1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case "1.2.840.10045.2.1":case "1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case "1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case "1.2.840.10045.4.3.3":return{name:"ECDSA",
hash:{name:"SHA-384"}};case "1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case "1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case "1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case "1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case "1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case "2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case "2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case "2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",
length:256};case "2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case "2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case "2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case "2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case "2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case "2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case "2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case "2.16.840.1.101.3.4.1.25":return{name:"AES-KW",
length:192};case "2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case "1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case "1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case "1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case "1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case "1.2.840.113549.1.9.16.3.5":return{name:"DH"};case "1.3.14.3.2.26":return{name:"SHA-1"};case "2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case "2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};
case "2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case "1.2.840.113549.1.5.12":return{name:"PBKDF2"};case "1.2.840.10045.3.1.7":return{name:"P-256"};case "1.3.132.0.34":return{name:"P-384"};case "1.3.132.0.35":return{name:"P-521"}}return{}};F.prototype.getOIDByAlgorithm=function(H){var x="";switch(H.name.toUpperCase()){case "RSAES-PKCS1-V1_5":x="1.2.840.113549.1.1.1";break;case "RSASSA-PKCS1-V1_5":switch(H.hash.name.toUpperCase()){case "SHA-1":x="1.2.840.113549.1.1.5";break;case "SHA-256":x="1.2.840.113549.1.1.11";
break;case "SHA-384":x="1.2.840.113549.1.1.12";break;case "SHA-512":x="1.2.840.113549.1.1.13"}break;case "RSA-PSS":x="1.2.840.113549.1.1.10";break;case "RSA-OAEP":x="1.2.840.113549.1.1.7";break;case "ECDSA":switch(H.hash.name.toUpperCase()){case "SHA-1":x="1.2.840.10045.4.1";break;case "SHA-256":x="1.2.840.10045.4.3.2";break;case "SHA-384":x="1.2.840.10045.4.3.3";break;case "SHA-512":x="1.2.840.10045.4.3.4"}break;case "ECDH":switch(H.kdf.toUpperCase()){case "SHA-1":x="1.3.133.16.840.63.0.2";break;
case "SHA-256":x="1.3.132.1.11.1";break;case "SHA-384":x="1.3.132.1.11.2";break;case "SHA-512":x="1.3.132.1.11.3"}break;case "AES-CBC":switch(H.length){case 128:x="2.16.840.1.101.3.4.1.2";break;case 192:x="2.16.840.1.101.3.4.1.22";break;case 256:x="2.16.840.1.101.3.4.1.42"}break;case "AES-GCM":switch(H.length){case 128:x="2.16.840.1.101.3.4.1.6";break;case 192:x="2.16.840.1.101.3.4.1.26";break;case 256:x="2.16.840.1.101.3.4.1.46"}break;case "AES-CFB":switch(H.length){case 128:x="2.16.840.1.101.3.4.1.4";
break;case 192:x="2.16.840.1.101.3.4.1.24";break;case 256:x="2.16.840.1.101.3.4.1.44"}break;case "AES-KW":switch(H.length){case 128:x="2.16.840.1.101.3.4.1.5";break;case 192:x="2.16.840.1.101.3.4.1.25";break;case 256:x="2.16.840.1.101.3.4.1.45"}break;case "HMAC":switch(H.hash.name.toUpperCase()){case "SHA-1":x="1.2.840.113549.2.7";break;case "SHA-256":x="1.2.840.113549.2.9";break;case "SHA-384":x="1.2.840.113549.2.10";break;case "SHA-512":x="1.2.840.113549.2.11"}break;case "DH":x="1.2.840.113549.1.9.16.3.5";
break;case "SHA-1":x="1.3.14.3.2.26";break;case "SHA-256":x="2.16.840.1.101.3.4.2.1";break;case "SHA-384":x="2.16.840.1.101.3.4.2.2";break;case "SHA-512":x="2.16.840.1.101.3.4.2.3";break;case "PBKDF2":x="1.2.840.113549.1.5.12";break;case "P-256":x="1.2.840.10045.3.1.7";break;case "P-384":x="1.3.132.0.34";break;case "P-521":x="1.3.132.0.35"}return x};F.prototype.getAlgorithmParameters=function(H,x){var z={algorithm:{},usages:[]};switch(H.toUpperCase()){case "RSAES-PKCS1-V1_5":case "RSASSA-PKCS1-V1_5":switch(x.toLowerCase()){case "generatekey":z=
{algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case "verify":case "sign":case "importkey":z={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case "RSA-PSS":switch(x.toLowerCase()){case "sign":case "verify":z={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};
break;case "generatekey":z={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case "importkey":z={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case "RSA-OAEP":switch(x.toLowerCase()){case "encrypt":case "decrypt":z={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case "generatekey":z={algorithm:{name:"RSA-OAEP",
modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "importkey":z={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case "ECDSA":switch(x.toLowerCase()){case "generatekey":z={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case "importkey":z={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};
break;case "verify":case "sign":z={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case "ECDH":switch(x.toLowerCase()){case "exportkey":case "importkey":case "generatekey":z={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case "derivekey":case "derivebits":z={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},
usages:[]}}break;case "AES-CTR":switch(x.toLowerCase()){case "importkey":case "exportkey":case "generatekey":z={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":z={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case "AES-CBC":switch(x.toLowerCase()){case "importkey":case "exportkey":case "generatekey":z=
{algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":z={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case "AES-GCM":switch(x.toLowerCase()){case "importkey":case "exportkey":case "generatekey":z={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};
break;case "decrypt":case "encrypt":z={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case "AES-KW":switch(x.toLowerCase()){case "importkey":case "exportkey":case "generatekey":case "wrapkey":case "unwrapkey":z={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case "HMAC":switch(x.toLowerCase()){case "sign":case "verify":z=
{algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case "importkey":case "exportkey":case "generatekey":z={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case "HKDF":switch(x.toLowerCase()){case "derivekey":z={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case "PBKDF2":switch(x.toLowerCase()){case "derivekey":z=
{algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1E4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}}return z};F.prototype.getHashAlgorithm=function(H){var x="";switch(H.algorithmId){case "1.2.840.10045.4.1":case "1.2.840.113549.1.1.5":x="SHA-1";break;case "1.2.840.10045.4.3.2":case "1.2.840.113549.1.1.11":x="SHA-256";break;case "1.2.840.10045.4.3.3":case "1.2.840.113549.1.1.12":x="SHA-384";break;case "1.2.840.10045.4.3.4":case "1.2.840.113549.1.1.13":x=
"SHA-512";break;case "1.2.840.113549.1.1.10":try{var z=new t.a({schema:H.algorithmParams});if("hashAlgorithm"in z){var m=this.getAlgorithmByOID(z.hashAlgorithm.algorithmId);if(!1==="name"in m)return"";x=m.name}else x="SHA-1"}catch(P){}}return x};F.prototype.encryptEncryptedContentInfo=function(H){var x=this;if(!1===H instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in H)return Promise.reject('Absent mandatory parameter "password"');if(!1==="contentEncryptionAlgorithm"in
H)return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!1==="hmacHashAlgorithm"in H)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!1==="iterationCount"in H)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="contentToEncrypt"in H)return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!1==="contentType"in H)return Promise.reject('Absent mandatory parameter "contentType"');var z=this.getOIDByAlgorithm(H.contentEncryptionAlgorithm);
if(""===z)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');var m=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===m)return Promise.reject("Can not find OID for PBKDF2");var P=this.getOIDByAlgorithm({name:"HMAC",hash:{name:H.hmacHashAlgorithm}});if(""===P)return Promise.reject('Incorrect value for "hmacHashAlgorithm": '+H.hmacHashAlgorithm);var l=Promise.resolve(),e=new ArrayBuffer(16),w=new Uint8Array(e);this.getRandomValues(w);var J=new ArrayBuffer(64),h=new Uint8Array(J);this.getRandomValues(h);
var y=new Uint8Array(H.contentToEncrypt),G=new A.a({salt:new I.q({valueHex:J}),iterationCount:H.iterationCount,prf:new d.a({algorithmId:P,algorithmParams:new I.n})});l=l.then(function(){var M=new Uint8Array(H.password);return x.importKey("raw",M,"PBKDF2",!1,["deriveKey"])},function(M){return Promise.reject(M)});l=l.then(function(M){return x.deriveKey({name:"PBKDF2",hash:{name:H.hmacHashAlgorithm},salt:h,iterations:H.iterationCount},M,H.contentEncryptionAlgorithm,!1,["encrypt"])},function(M){return Promise.reject(M)});
l=l.then(function(M){return x.encrypt({name:H.contentEncryptionAlgorithm.name,iv:w},M,y)},function(M){return Promise.reject(M)});return l=l.then(function(M){var S=new W.a({keyDerivationFunc:new d.a({algorithmId:m,algorithmParams:G.toSchema()}),encryptionScheme:new d.a({algorithmId:z,algorithmParams:new I.q({valueHex:e})})});return new g.a({contentType:H.contentType,contentEncryptionAlgorithm:new d.a({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:S.toSchema()}),encryptedContent:new I.q({valueHex:M})})},
function(M){return Promise.reject(M)})};F.prototype.decryptEncryptedContentInfo=function(H){var x=this;if(!1===H instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in H)return Promise.reject('Absent mandatory parameter "password"');if(!1==="encryptedContentInfo"in H)return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject('Unknown "contentEncryptionAlgorithm": '+
H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var z=Promise.resolve();try{var m=new W.a({schema:H.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{var P=new A.a({schema:m.keyDerivationFunc.algorithmParams})}catch(y){return Promise.reject('Incorrectly encoded "pbkdf2Params"')}var l=this.getAlgorithmByOID(m.encryptionScheme.algorithmId);if(!1==="name"in l)return Promise.reject('Incorrect OID for "contentEncryptionAlgorithm": '+
m.encryptionScheme.algorithmId);var e=new Uint8Array(m.encryptionScheme.algorithmParams.valueBlock.valueHex),w=new Uint8Array(P.salt.valueBlock.valueHex),J=P.iterationCount,h="SHA-1";if("prf"in P){m=this.getAlgorithmByOID(P.prf.algorithmId);if(!1==="name"in m)return Promise.reject("Incorrect OID for HMAC hash algorithm");h=m.hash.name}z=z.then(function(){return x.importKey("raw",H.password,"PBKDF2",!1,["deriveKey"])},function(y){return Promise.reject(y)});z=z.then(function(y){return x.deriveKey({name:"PBKDF2",
hash:{name:h},salt:w,iterations:J},y,l,!1,["decrypt"])},function(y){return Promise.reject(y)});return z=z.then(function(y){var G=new ArrayBuffer(0);if(!1===H.encryptedContentInfo.encryptedContent.idBlock.isConstructed)G=H.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(var M=$jscomp.makeIterator(H.encryptedContentInfo.encryptedContent.valueBlock.value),S=M.next();!S.done;S=M.next())G=Object(V.j)(G,S.value.valueBlock.valueHex);return x.decrypt({name:l.name,iv:e},y,G)},function(y){return Promise.reject(y)})};
F.prototype.stampDataWithPassword=function(H){var x=this;if(!1===H instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in H)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in H)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!1==="salt"in H)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in H)return Promise.reject('Absent mandatory parameter "salt"');
if(!1==="contentToStamp"in H)return Promise.reject('Absent mandatory parameter "contentToStamp"');switch(H.hashAlgorithm.toLowerCase()){case "sha-1":var z=160;break;case "sha-256":z=256;break;case "sha-384":z=384;break;case "sha-512":z=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+H.hashAlgorithm)}var m=Promise.resolve(),P={name:"HMAC",length:z,hash:{name:H.hashAlgorithm}};m=m.then(function(){return u(x,H.hashAlgorithm,z,H.password,H.salt,H.iterationCount)});
m=m.then(function(l){return x.importKey("raw",new Uint8Array(l),P,!1,["sign"])});return m=m.then(function(l){return x.sign(P,l,new Uint8Array(H.contentToStamp))},function(l){return Promise.reject(l)})};F.prototype.verifyDataStampedWithPassword=function(H){var x=this;if(!1===H instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in H)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in H)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');
if(!1==="salt"in H)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in H)return Promise.reject('Absent mandatory parameter "salt"');if(!1==="contentToVerify"in H)return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!1==="signatureToVerify"in H)return Promise.reject('Absent mandatory parameter "signatureToVerify"');switch(H.hashAlgorithm.toLowerCase()){case "sha-1":var z=160;break;case "sha-256":z=256;break;case "sha-384":z=384;break;
case "sha-512":z=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+H.hashAlgorithm)}var m=Promise.resolve(),P={name:"HMAC",length:z,hash:{name:H.hashAlgorithm}};m=m.then(function(){return u(x,H.hashAlgorithm,z,H.password,H.salt,H.iterationCount)});m=m.then(function(l){return x.importKey("raw",new Uint8Array(l),P,!1,["verify"])});return m=m.then(function(l){return x.verify(P,l,new Uint8Array(H.signatureToVerify),new Uint8Array(H.contentToVerify))},function(l){return Promise.reject(l)})};
F.prototype.getSignatureParameters=function(H,x){x=void 0===x?"SHA-1":x;if(""===this.getOIDByAlgorithm({name:x}))return Promise.reject("Unsupported hash algorithm: "+x);var z=new d.a,m=this.getAlgorithmParameters(H.algorithm.name,"sign");m.algorithm.hash.name=x;switch(H.algorithm.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":case "ECDSA":z.algorithmId=this.getOIDByAlgorithm(m.algorithm);break;case "RSA-PSS":switch(x.toUpperCase()){case "SHA-256":m.algorithm.saltLength=32;break;case "SHA-384":m.algorithm.saltLength=
48;break;case "SHA-512":m.algorithm.saltLength=64}H={};if("SHA-1"!==x.toUpperCase()){var P=this.getOIDByAlgorithm({name:x});if(""===P)return Promise.reject("Unsupported hash algorithm: "+x);H.hashAlgorithm=new d.a({algorithmId:P,algorithmParams:new I.n});H.maskGenAlgorithm=new d.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:H.hashAlgorithm.toSchema()})}20!==m.algorithm.saltLength&&(H.saltLength=m.algorithm.saltLength);x=new t.a(H);z.algorithmId="1.2.840.113549.1.1.10";z.algorithmParams=x.toSchema();
break;default:return Promise.reject("Unsupported signature algorithm: "+H.algorithm.name)}return Promise.resolve().then(function(){return{signatureAlgorithm:z,parameters:m}})};F.prototype.signWithPrivateKey=function(H,x,z){return this.sign(z.algorithm,x,new Uint8Array(H)).then(function(m){"ECDSA"===z.algorithm.name&&(m=Object(q.a)(m));return m},function(m){return Promise.reject("Signing error: "+m)})};F.prototype.fillPublicKeyParameters=function(H,x){var z={},m=this.getHashAlgorithm(x);if(""===m)return Promise.reject("Unsupported signature algorithm: "+
x.algorithmId);x=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===x.algorithmId?x.algorithmId:H.algorithm.algorithmId);z.algorithm=this.getAlgorithmParameters(x.name,"importkey");"hash"in z.algorithm.algorithm&&(z.algorithm.algorithm.hash.name=m);if("ECDSA"===x.name){m=!1;!0==="algorithmParams"in H.algorithm&&"idBlock"in H.algorithm.algorithmParams&&1===H.algorithm.algorithmParams.idBlock.tagClass&&6===H.algorithm.algorithmParams.idBlock.tagNumber&&(m=!0);if(!1===m)return Promise.reject("Incorrect type for ECDSA public key parameters");
m=this.getAlgorithmByOID(H.algorithm.algorithmParams.valueBlock.toString());if(!1==="name"in m)return Promise.reject("Unsupported named curve algorithm: "+H.algorithm.algorithmParams.valueBlock.toString());z.algorithm.algorithm.namedCurve=m.name}return z};F.prototype.getPublicKey=function(H,x,z){z=void 0===z?null:z;null===z&&(z=this.fillPublicKeyParameters(H,x));H=H.toSchema().toBER(!1);H=new Uint8Array(H);return this.importKey("spki",H,z.algorithm.algorithm,!0,z.algorithm.usages)};F.prototype.verifyWithPublicKey=
function(H,x,z,m,P){var l=this;P=void 0===P?null:P;var e=Promise.resolve();if(null===P){P=this.getHashAlgorithm(m);if(""===P)return Promise.reject("Unsupported signature algorithm: "+m.algorithmId);e=e.then(function(){return l.getPublicKey(z,m)})}else{var w={},J=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===m.algorithmId?m.algorithmId:z.algorithm.algorithmId);w.algorithm=this.getAlgorithmParameters(J.name,"importkey");"hash"in w.algorithm.algorithm&&(w.algorithm.algorithm.hash.name=P);if("ECDSA"===
J.name){J=!1;!0==="algorithmParams"in z.algorithm&&"idBlock"in z.algorithm.algorithmParams&&1===z.algorithm.algorithmParams.idBlock.tagClass&&6===z.algorithm.algorithmParams.idBlock.tagNumber&&(J=!0);if(!1===J)return Promise.reject("Incorrect type for ECDSA public key parameters");J=this.getAlgorithmByOID(z.algorithm.algorithmParams.valueBlock.toString());if(!1==="name"in J)return Promise.reject("Unsupported named curve algorithm: "+z.algorithm.algorithmParams.valueBlock.toString());w.algorithm.algorithm.namedCurve=
J.name}e=e.then(function(){return l.getPublicKey(z,null,w)})}return e=e.then(function(h){var y=l.getAlgorithmParameters(h.algorithm.name,"verify");"hash"in y.algorithm&&(y.algorithm.hash.name=P);var G=x.valueBlock.valueHex;"ECDSA"===h.algorithm.name&&(G=I.E(G),G=Object(q.b)(G.result));if("RSA-PSS"===h.algorithm.name){try{var M=new t.a({schema:m.algorithmParams})}catch(Z){return Promise.reject(Z)}y.algorithm.saltLength="saltLength"in M?M.saltLength:20;var S="SHA-1";if("hashAlgorithm"in M){S=l.getAlgorithmByOID(M.hashAlgorithm.algorithmId);
if(!1==="name"in S)return Promise.reject("Unrecognized hash algorithm: "+M.hashAlgorithm.algorithmId);S=S.name}y.algorithm.hash.name=S}return l.verify(y.algorithm,h,new Uint8Array(G),new Uint8Array(H))})}},function(Q,E,C){var u=C(5);C(7);Q.exports=u.cipher=u.cipher||{};u.cipher.algorithms=u.cipher.algorithms||{};u.cipher.createCipher=function(I,V){var q=I;"string"===typeof q&&(q=u.cipher.getAlgorithm(q))&&(q=q());if(!q)throw Error("Unsupported algorithm: "+I);return new u.cipher.BlockCipher({algorithm:q,
key:V,decrypt:!1})};u.cipher.createDecipher=function(I,V){var q=I;"string"===typeof q&&(q=u.cipher.getAlgorithm(q))&&(q=q());if(!q)throw Error("Unsupported algorithm: "+I);return new u.cipher.BlockCipher({algorithm:q,key:V,decrypt:!0})};u.cipher.registerAlgorithm=function(I,V){I=I.toUpperCase();u.cipher.algorithms[I]=V};u.cipher.getAlgorithm=function(I){I=I.toUpperCase();return I in u.cipher.algorithms?u.cipher.algorithms[I]:null};Q=u.cipher.BlockCipher=function(I){this.algorithm=I.algorithm;this.mode=
this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this.output=this._input=null;this._op=I.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=I.decrypt;this.algorithm.initialize(I)};Q.prototype.start=function(I){I=I||{};var V={},q;for(q in I)V[q]=I[q];V.decrypt=this._decrypt;this._finish=!1;this._input=u.util.createBuffer();this.output=I.output||u.util.createBuffer();this.mode.start(V)};Q.prototype.update=function(I){for(I&&this._input.putBuffer(I);!this._op.call(this.mode,
this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Q.prototype.finish=function(I){!I||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(q){return I(this.blockSize,q,!1)},this.mode.unpad=function(q){return I(this.blockSize,q,!0)});var V={};V.decrypt=this._decrypt;V.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,V))return!1;this._finish=!0;this.update();return this._decrypt&&this.mode.unpad&&
!this.mode.unpad(this.output,V)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,V)?!1:!0}},function(Q,E,C){function u(){q=String.fromCharCode(128);q+=V.util.fillString(String.fromCharCode(0),64);f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];k=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,
21,6,10,15,21,6,10,15,21,6,10,15,21];d=Array(64);for(var t=0;64>t;++t)d[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));g=!0}function I(t,A,W){for(var F,H,x,z,m,P,l,e=W.length();64<=e;){H=t.h0;x=t.h1;z=t.h2;m=t.h3;for(l=0;16>l;++l)A[l]=W.getInt32Le(),F=m^x&(z^m),F=H+F+d[l]+A[l],P=k[l],H=m,m=z,z=x,x+=F<<P|F>>>32-P;for(;32>l;++l)F=z^m&(x^z),F=H+F+d[l]+A[f[l]],P=k[l],H=m,m=z,z=x,x+=F<<P|F>>>32-P;for(;48>l;++l)F=x^z^m,F=H+F+d[l]+A[f[l]],P=k[l],H=m,m=z,z=x,x+=F<<P|F>>>32-P;for(;64>l;++l)F=z^(x|~m),F=
H+F+d[l]+A[f[l]],P=k[l],H=m,m=z,z=x,x+=F<<P|F>>>32-P;t.h0=t.h0+H|0;t.h1=t.h1+x|0;t.h2=t.h2+z|0;t.h3=t.h3+m|0;e-=64}}var V=C(5);C(16);C(7);Q=Q.exports=V.md5=V.md5||{};V.md.md5=V.md.algorithms.md5=Q;Q.create=function(){g||u();var t=null,A=V.util.createBuffer(),W=Array(16),F={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){F.messageLength=0;F.fullMessageLength=F.messageLength64=[];for(var H=F.messageLengthSize/4,x=0;x<H;++x)F.fullMessageLength.push(0);
A=V.util.createBuffer();t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return F}};F.start();F.update=function(H,x){"utf8"===x&&(H=V.util.encodeUtf8(H));x=H.length;F.messageLength+=x;x=[x/4294967296>>>0,x>>>0];for(var z=F.fullMessageLength.length-1;0<=z;--z)F.fullMessageLength[z]+=x[1],x[1]=x[0]+(F.fullMessageLength[z]/4294967296>>>0),F.fullMessageLength[z]>>>=0,x[0]=x[1]/4294967296>>>0;A.putBytes(H);I(t,W,A);(2048<A.read||0===A.length())&&A.compact();return F};F.digest=function(){var H=
V.util.createBuffer();H.putBytes(A.bytes());H.putBytes(q.substr(0,F.blockLength-(F.fullMessageLength[F.fullMessageLength.length-1]+F.messageLengthSize&F.blockLength-1)));for(var x,z=0,m=F.fullMessageLength.length-1;0<=m;--m)x=8*F.fullMessageLength[m]+z,z=x/4294967296>>>0,H.putInt32Le(x>>>0);x={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};I(x,W,H);H=V.util.createBuffer();H.putInt32Le(x.h0);H.putInt32Le(x.h1);H.putInt32Le(x.h2);H.putInt32Le(x.h3);return H};return F};var q=null,f=null,k=null,d=null,g=!1},function(Q,
E,C){(function(u){var I=C(5);C(25);C(16);C(7);var V=I.pkcs5=I.pkcs5||{},q;I.util.isNodejs&&!I.options.usePureJavaScript&&(q=C(40));Q.exports=I.pbkdf2=V.pbkdf2=function(f,k,d,g,t,A){function W(){if(e>x)return A(null,P);m.start(null,null);m.update(k);m.update(I.util.int32ToBytes(e));w=l=m.digest().getBytes();J=2;F()}function F(){if(J<=d)return m.start(null,null),m.update(l),h=m.digest().getBytes(),w=I.util.xorBytes(w,h,H),l=h,++J,I.util.setImmediate(F);P+=e<x?w:w.substr(0,z);++e;W()}"function"===typeof t&&
(A=t,t=null);if(I.util.isNodejs&&!I.options.usePureJavaScript&&q.pbkdf2&&(null===t||"object"!==typeof t)&&(4<q.pbkdf2Sync.length||!t||"sha1"===t))return"string"!==typeof t&&(t="sha1"),f=u.from(f,"binary"),k=u.from(k,"binary"),A?4===q.pbkdf2Sync.length?q.pbkdf2(f,k,d,g,function(y,G){if(y)return A(y);A(null,G.toString("binary"))}):q.pbkdf2(f,k,d,g,t,function(y,G){if(y)return A(y);A(null,G.toString("binary"))}):4===q.pbkdf2Sync.length?q.pbkdf2Sync(f,k,d,g).toString("binary"):q.pbkdf2Sync(f,k,d,g,t).toString("binary");
if("undefined"===typeof t||null===t)t="sha1";if("string"===typeof t){if(!(t in I.md.algorithms))throw Error("Unknown hash algorithm: "+t);t=I.md[t].create()}var H=t.digestLength;if(g>4294967295*H){f=Error("Derived key is too long.");if(A)return A(f);throw f;}var x=Math.ceil(g/H),z=g-(x-1)*H,m=I.hmac.create();m.start(t,f);var P="",l;if(!A){for(var e=1;e<=x;++e){m.start(null,null);m.update(k);m.update(I.util.int32ToBytes(e));var w=l=m.digest().getBytes();for(var J=2;J<=d;++J){m.start(null,null);m.update(l);
var h=m.digest().getBytes();w=I.util.xorBytes(w,h,H);l=h}P+=e<x?w:w.substr(0,z)}return P}e=1;W()}}).call(this,C(6).Buffer)},function(Q,E){},function(Q,E,C){function u(l,e){"string"===typeof e&&(e={shortName:e});for(var w=null,J,h=0;null===w&&h<l.attributes.length;++h)J=l.attributes[h],e.type&&e.type===J.type?w=J:e.name&&e.name===J.name?w=J:e.shortName&&e.shortName===J.shortName&&(w=J);return w}function I(l){var e=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);l=l.attributes;for(var w=0;w<l.length;++w){var J=
l[w];var h=J.value,y=g.Type.PRINTABLESTRING;"valueTagClass"in J&&(y=J.valueTagClass,y===g.Type.UTF8&&(h=d.util.encodeUtf8(h)));J=g.create(g.Class.UNIVERSAL,g.Type.SET,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(J.type).getBytes()),g.create(g.Class.UNIVERSAL,y,!1,h)])]);e.value.push(J)}return e}function V(l){for(var e,w=0;w<l.length;++w){e=l[w];"undefined"===typeof e.name&&(e.type&&e.type in t.oids?e.name=t.oids[e.type]:e.shortName&&e.shortName in
W&&(e.name=t.oids[W[e.shortName]]));if("undefined"===typeof e.type)if(e.name&&e.name in t.oids)e.type=t.oids[e.name];else throw l=Error("Attribute type not specified."),l.attribute=e,l;"undefined"===typeof e.shortName&&e.name&&e.name in W&&(e.shortName=W[e.name]);if(e.type===A.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=g.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var J=0;J<e.extensions.length;++J)e.value.push(t.certificateExtensionToAsn1(q(e.extensions[J])))}if("undefined"===
typeof e.value)throw l=Error("Attribute value not specified."),l.attribute=e,l;}}function q(l,e){e=e||{};"undefined"===typeof l.name&&l.id&&l.id in t.oids&&(l.name=t.oids[l.id]);if("undefined"===typeof l.id)if(l.name&&l.name in t.oids)l.id=t.oids[l.name];else{var w=Error("Extension ID not specified.");w.extension=l;throw w;}if("undefined"!==typeof l.value)return l;if("keyUsage"===l.name){var J=w=e=0;l.digitalSignature&&(w|=128,e=7);l.nonRepudiation&&(w|=64,e=6);l.keyEncipherment&&(w|=32,e=5);l.dataEncipherment&&
(w|=16,e=4);l.keyAgreement&&(w|=8,e=3);l.keyCertSign&&(w|=4,e=2);l.cRLSign&&(w|=2,e=1);l.encipherOnly&&(w|=1,e=0);l.decipherOnly&&(J|=128,e=7);e=String.fromCharCode(e);0!==J?e+=String.fromCharCode(w)+String.fromCharCode(J):0!==w&&(e+=String.fromCharCode(w));l.value=g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,e)}else if("basicConstraints"===l.name)l.value=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),l.cA&&l.value.value.push(g.create(g.Class.UNIVERSAL,g.Type.BOOLEAN,!1,String.fromCharCode(255))),
"pathLenConstraint"in l&&l.value.value.push(g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(l.pathLenConstraint).getBytes()));else if("extKeyUsage"===l.name)for(J in l.value=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),w=l.value.value,l)!0===l[J]&&(J in A?w.push(g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(A[J]).getBytes())):-1!==J.indexOf(".")&&w.push(g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(J).getBytes())));else if("nsCertType"===l.name)w=e=0,l.client&&(w|=128,
e=7),l.server&&(w|=64,e=6),l.email&&(w|=32,e=5),l.objsign&&(w|=16,e=4),l.reserved&&(w|=8,e=3),l.sslCA&&(w|=4,e=2),l.emailCA&&(w|=2,e=1),l.objCA&&(w|=1,e=0),e=String.fromCharCode(e),0!==w&&(e+=String.fromCharCode(w)),l.value=g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,e);else if("subjectAltName"===l.name||"issuerAltName"===l.name){l.value=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);for(var h=0;h<l.altNames.length;++h){J=l.altNames[h];e=J.value;if(7===J.type&&J.ip){if(e=d.util.bytesFromIP(J.ip),
null===e)throw w=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),w.extension=l,w;}else 8===J.type&&(e=J.oid?g.oidToDer(g.oidToDer(J.oid)):g.oidToDer(e));l.value.value.push(g.create(g.Class.CONTEXT_SPECIFIC,J.type,!1,e))}}else if("nsComment"===l.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(l.comment)||1>l.comment.length||128<l.comment.length)throw Error('Invalid "nsComment" content.');l.value=g.create(g.Class.UNIVERSAL,g.Type.IA5STRING,!1,l.comment)}else if("subjectKeyIdentifier"===l.name&&
e.cert)w=e.cert.generateSubjectKeyIdentifier(),l.subjectKeyIdentifier=w.toHex(),l.value=g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,w.getBytes());else if("authorityKeyIdentifier"===l.name&&e.cert)l.value=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),w=l.value.value,l.keyIdentifier&&(J=!0===l.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():l.keyIdentifier,w.push(g.create(g.Class.CONTEXT_SPECIFIC,0,!1,J))),l.authorityCertIssuer&&(J=[g.create(g.Class.CONTEXT_SPECIFIC,4,!0,[I(!0===
l.authorityCertIssuer?e.cert.issuer:l.authorityCertIssuer)])],w.push(g.create(g.Class.CONTEXT_SPECIFIC,1,!0,J))),l.serialNumber&&(e=d.util.hexToBytes(!0===l.serialNumber?e.cert.serialNumber:l.serialNumber),w.push(g.create(g.Class.CONTEXT_SPECIFIC,2,!1,e)));else if("cRLDistributionPoints"===l.name){l.value=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);w=l.value.value;var y=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]),G=g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<l.altNames.length;++h){J=
l.altNames[h];e=J.value;if(7===J.type&&J.ip){if(e=d.util.bytesFromIP(J.ip),null===e)throw w=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),w.extension=l,w;}else 8===J.type&&(e=J.oid?g.oidToDer(g.oidToDer(J.oid)):g.oidToDer(e));G.value.push(g.create(g.Class.CONTEXT_SPECIFIC,J.type,!1,e))}y.value.push(g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[G]));w.push(y)}if("undefined"===typeof l.value)throw w=Error("Extension value not specified."),w.extension=l,w;return l}function f(l,e){switch(l){case A["RSASSA-PSS"]:return l=
[],void 0!==e.hash.algorithmOid&&l.push(g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(e.hash.algorithmOid).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&l.push(g.create(g.Class.CONTEXT_SPECIFIC,1,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(e.mgf.algorithmOid).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,
!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(e.mgf.hash.algorithmOid).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&l.push(g.create(g.Class.CONTEXT_SPECIFIC,2,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(e.saltLength).getBytes())])),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,l);default:return g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")}}function k(l){return l>=m&&l<P?g.create(g.Class.UNIVERSAL,g.Type.UTCTIME,!1,g.dateToUtcTime(l)):
g.create(g.Class.UNIVERSAL,g.Type.GENERALIZEDTIME,!1,g.dateToGeneralizedTime(l))}var d=C(5);C(19);C(15);C(33);C(16);C(76);C(20);C(21);C(42);C(34);C(7);var g=d.asn1,t=Q.exports=d.pki=d.pki||{},A=t.oids,W={};W.CN=A.commonName;W.commonName="CN";W.C=A.countryName;W.countryName="C";W.L=A.localityName;W.localityName="L";W.ST=A.stateOrProvinceName;W.stateOrProvinceName="ST";W.O=A.organizationName;W.organizationName="O";W.OU=A.organizationalUnitName;W.organizationalUnitName="OU";W.E=A.emailAddress;W.emailAddress=
"E";Q=d.pki.rsa.publicKeyValidator;var F={name:"Certificate",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:g.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"certVersion"}]},
{name:"Certificate.TBSCertificate.serialNumber",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:g.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},
{name:"Certificate.TBSCertificate.issuer",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:g.Class.UNIVERSAL,type:g.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:g.Class.UNIVERSAL,
type:g.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:g.Class.UNIVERSAL,type:g.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:g.Class.UNIVERSAL,type:g.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:g.Class.UNIVERSAL,
type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},Q,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:g.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:g.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",
tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:g.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"certSignatureOid"},
{name:"Certificate.TBSCertificate.signature.parameters",tagClass:g.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},H={name:"rsapss",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:g.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:g.Class.UNIVERSAL,
type:g.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:g.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:g.Class.UNIVERSAL,type:g.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:g.Class.UNIVERSAL,
type:g.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:g.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:g.Class.UNIVERSAL,type:g.Class.INTEGER,
constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:g.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:g.Class.UNIVERSAL,type:g.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},x={name:"CertificationRequest",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",
tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},Q,{name:"CertificationRequestInfo.attributes",tagClass:g.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,
constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:g.Class.UNIVERSAL,type:g.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"csrSignatureOid"},
{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:g.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:g.Class.UNIVERSAL,type:g.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};t.RDNAttributesAsArray=function(l,e){for(var w=[],J,h,y,G=0;G<l.value.length;++G){J=l.value[G];for(var M=0;M<J.value.length;++M)y={},h=J.value[M],y.type=g.derToOid(h.value[0].value),y.value=h.value[1].value,y.valueTagClass=h.value[1].type,
y.type in A&&(y.name=A[y.type],y.name in W&&(y.shortName=W[y.name])),e&&(e.update(y.type),e.update(y.value)),w.push(y)}return w};t.CRIAttributesAsArray=function(l){for(var e=[],w=0;w<l.length;++w){var J=l[w],h=g.derToOid(J.value[0].value);J=J.value[1].value;for(var y=0;y<J.length;++y){var G={};G.type=h;G.value=J[y].value;G.valueTagClass=J[y].type;G.type in A&&(G.name=A[G.type],G.name in W&&(G.shortName=W[G.name]));if(G.type===A.extensionRequest){G.extensions=[];for(var M=0;M<G.value.length;++M)G.extensions.push(t.certificateExtensionFromAsn1(G.value[M]))}e.push(G)}}return e};
var z=function(l,e,w){var J={};if(l!==A["RSASSA-PSS"])return J;w&&(J={hash:{algorithmOid:A.sha1},mgf:{algorithmOid:A.mgf1,hash:{algorithmOid:A.sha1}},saltLength:20});w={};l=[];if(!g.validate(e,H,w,l))throw e=Error("Cannot read RSASSA-PSS parameter block."),e.errors=l,e;void 0!==w.hashOid&&(J.hash=J.hash||{},J.hash.algorithmOid=g.derToOid(w.hashOid));void 0!==w.maskGenOid&&(J.mgf=J.mgf||{},J.mgf.algorithmOid=g.derToOid(w.maskGenOid),J.mgf.hash=J.mgf.hash||{},J.mgf.hash.algorithmOid=g.derToOid(w.maskGenHashOid));
void 0!==w.saltLength&&(J.saltLength=w.saltLength.charCodeAt(0));return J};t.certificateFromPem=function(l,e,w){l=d.pem.decode(l)[0];if("CERTIFICATE"!==l.type&&"X509 CERTIFICATE"!==l.type&&"TRUSTED CERTIFICATE"!==l.type)throw e=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".'),e.headerType=l.type,e;if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
w=g.fromDer(l.body,w);return t.certificateFromAsn1(w,e)};t.certificateToPem=function(l,e){l={type:"CERTIFICATE",body:g.toDer(t.certificateToAsn1(l)).getBytes()};return d.pem.encode(l,{maxline:e})};t.publicKeyFromPem=function(l){l=d.pem.decode(l)[0];if("PUBLIC KEY"!==l.type&&"RSA PUBLIC KEY"!==l.type){var e=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');e.headerType=l.type;throw e;}if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");
l=g.fromDer(l.body);return t.publicKeyFromAsn1(l)};t.publicKeyToPem=function(l,e){l={type:"PUBLIC KEY",body:g.toDer(t.publicKeyToAsn1(l)).getBytes()};return d.pem.encode(l,{maxline:e})};t.publicKeyToRSAPublicKeyPem=function(l,e){l={type:"RSA PUBLIC KEY",body:g.toDer(t.publicKeyToRSAPublicKey(l)).getBytes()};return d.pem.encode(l,{maxline:e})};t.getPublicKeyFingerprint=function(l,e){e=e||{};var w=e.md||d.md.sha1.create();switch(e.type||"RSAPublicKey"){case "RSAPublicKey":l=g.toDer(t.publicKeyToRSAPublicKey(l)).getBytes();
break;case "SubjectPublicKeyInfo":l=g.toDer(t.publicKeyToAsn1(l)).getBytes();break;default:throw Error('Unknown fingerprint type "'+e.type+'".');}w.start();w.update(l);w=w.digest();if("hex"===e.encoding)return w=w.toHex(),e.delimiter?w.match(/.{2}/g).join(e.delimiter):w;if("binary"===e.encoding)return w.getBytes();if(e.encoding)throw Error('Unknown encoding "'+e.encoding+'".');return w};t.certificationRequestFromPem=function(l,e,w){l=d.pem.decode(l)[0];if("CERTIFICATE REQUEST"!==l.type)throw e=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".'),
e.headerType=l.type,e;if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");w=g.fromDer(l.body,w);return t.certificationRequestFromAsn1(w,e)};t.certificationRequestToPem=function(l,e){l={type:"CERTIFICATE REQUEST",body:g.toDer(t.certificationRequestToAsn1(l)).getBytes()};return d.pem.encode(l,{maxline:e})};t.createCertificate=function(){var l={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};l.siginfo.algorithmOid=
null;l.validity={};l.validity.notBefore=new Date;l.validity.notAfter=new Date;l.issuer={};l.issuer.getField=function(e){return u(l.issuer,e)};l.issuer.addField=function(e){V([e]);l.issuer.attributes.push(e)};l.issuer.attributes=[];l.issuer.hash=null;l.subject={};l.subject.getField=function(e){return u(l.subject,e)};l.subject.addField=function(e){V([e]);l.subject.attributes.push(e)};l.subject.attributes=[];l.subject.hash=null;l.extensions=[];l.publicKey=null;l.md=null;l.setSubject=function(e,w){V(e);
l.subject.attributes=e;delete l.subject.uniqueId;w&&(l.subject.uniqueId=w);l.subject.hash=null};l.setIssuer=function(e,w){V(e);l.issuer.attributes=e;delete l.issuer.uniqueId;w&&(l.issuer.uniqueId=w);l.issuer.hash=null};l.setExtensions=function(e){for(var w=0;w<e.length;++w)q(e[w],{cert:l});l.extensions=e};l.getExtension=function(e){"string"===typeof e&&(e={name:e});for(var w=null,J,h=0;null===w&&h<l.extensions.length;++h)J=l.extensions[h],e.id&&J.id===e.id?w=J:e.name&&J.name===e.name&&(w=J);return w};
l.sign=function(e,w){l.md=w||d.md.sha1.create();w=A[l.md.algorithm+"WithRSAEncryption"];if(!w)throw e=Error("Could not compute certificate digest. Unknown message digest algorithm OID."),e.algorithm=l.md.algorithm,e;l.signatureOid=l.siginfo.algorithmOid=w;l.tbsCertificate=t.getTBSCertificate(l);w=g.toDer(l.tbsCertificate);l.md.update(w.getBytes());l.signature=e.sign(l.md)};l.verify=function(e){var w=!1;if(!l.issued(e)){w=l.subject;var J=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");
J.expectedIssuer=e.issuer.attributes;J.actualIssuer=w.attributes;throw J;}J=e.md;if(null===J){if(e.signatureOid in A)switch(A[e.signatureOid]){case "sha1WithRSAEncryption":J=d.md.sha1.create();break;case "md5WithRSAEncryption":J=d.md.md5.create();break;case "sha256WithRSAEncryption":J=d.md.sha256.create();break;case "sha384WithRSAEncryption":J=d.md.sha384.create();break;case "sha512WithRSAEncryption":J=d.md.sha512.create();break;case "RSASSA-PSS":J=d.md.sha256.create()}if(null===J)throw J=Error("Could not compute certificate digest. Unknown signature OID."),
J.signatureOid=e.signatureOid,J;var h=e.tbsCertificate||t.getTBSCertificate(e);h=g.toDer(h);J.update(h.getBytes())}if(null!==J){switch(e.signatureOid){case A.sha1WithRSAEncryption:var y=void 0;break;case A["RSASSA-PSS"]:w=A[e.signatureParameters.mgf.hash.algorithmOid];if(void 0===w||void 0===d.md[w])throw J=Error("Unsupported MGF hash function."),J.oid=e.signatureParameters.mgf.hash.algorithmOid,J.name=w,J;y=A[e.signatureParameters.mgf.algorithmOid];if(void 0===y||void 0===d.mgf[y])throw J=Error("Unsupported MGF function."),
J.oid=e.signatureParameters.mgf.algorithmOid,J.name=y,J;y=d.mgf[y].create(d.md[w].create());w=A[e.signatureParameters.hash.algorithmOid];if(void 0===w||void 0===d.md[w])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:w};y=d.pss.create(d.md[w].create(),y,e.signatureParameters.saltLength)}w=l.publicKey.verify(J.digest().getBytes(),e.signature,y)}return w};l.isIssuer=function(e){var w=!1,J=l.issuer;e=e.subject;if(J.hash&&e.hash)w=J.hash===e.hash;
else if(J.attributes.length===e.attributes.length){w=!0;for(var h,y,G=0;w&&G<J.attributes.length;++G)if(h=J.attributes[G],y=e.attributes[G],h.type!==y.type||h.value!==y.value)w=!1}return w};l.issued=function(e){return e.isIssuer(l)};l.generateSubjectKeyIdentifier=function(){return t.getPublicKeyFingerprint(l.publicKey,{type:"RSAPublicKey"})};l.verifySubjectKeyIdentifier=function(){for(var e=A.subjectKeyIdentifier,w=0;w<l.extensions.length;++w){var J=l.extensions[w];if(J.id===e)return e=l.generateSubjectKeyIdentifier().getBytes(),
d.util.hexToBytes(J.subjectKeyIdentifier)===e}return!1};return l};t.certificateFromAsn1=function(l,e){var w={},J=[];if(!g.validate(l,F,w,J))throw w=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate."),w.errors=J,w;J=g.derToOid(w.publicKeyOid);if(J!==t.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var h=t.createCertificate();h.version=w.certVersion?w.certVersion.charCodeAt(0):0;J=d.util.createBuffer(w.certSerialNumber);h.serialNumber=J.toHex();
h.signatureOid=d.asn1.derToOid(w.certSignatureOid);h.signatureParameters=z(h.signatureOid,w.certSignatureParams,!0);h.siginfo.algorithmOid=d.asn1.derToOid(w.certinfoSignatureOid);h.siginfo.parameters=z(h.siginfo.algorithmOid,w.certinfoSignatureParams,!1);h.signature=w.certSignature;J=[];void 0!==w.certValidity1UTCTime&&J.push(g.utcTimeToDate(w.certValidity1UTCTime));void 0!==w.certValidity2GeneralizedTime&&J.push(g.generalizedTimeToDate(w.certValidity2GeneralizedTime));void 0!==w.certValidity3UTCTime&&
J.push(g.utcTimeToDate(w.certValidity3UTCTime));void 0!==w.certValidity4GeneralizedTime&&J.push(g.generalizedTimeToDate(w.certValidity4GeneralizedTime));if(2<J.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>J.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");h.validity.notBefore=J[0];h.validity.notAfter=J[1];h.tbsCertificate=w.tbsCertificate;
if(e){h.md=null;if(h.signatureOid in A)switch(J=A[h.signatureOid],J){case "sha1WithRSAEncryption":h.md=d.md.sha1.create();break;case "md5WithRSAEncryption":h.md=d.md.md5.create();break;case "sha256WithRSAEncryption":h.md=d.md.sha256.create();break;case "sha384WithRSAEncryption":h.md=d.md.sha384.create();break;case "sha512WithRSAEncryption":h.md=d.md.sha512.create();break;case "RSASSA-PSS":h.md=d.md.sha256.create()}if(null===h.md)throw w=Error("Could not compute certificate digest. Unknown signature OID."),
w.signatureOid=h.signatureOid,w;e=g.toDer(h.tbsCertificate);h.md.update(e.getBytes())}e=d.md.sha1.create();h.issuer.getField=function(y){return u(h.issuer,y)};h.issuer.addField=function(y){V([y]);h.issuer.attributes.push(y)};h.issuer.attributes=t.RDNAttributesAsArray(w.certIssuer,e);w.certIssuerUniqueId&&(h.issuer.uniqueId=w.certIssuerUniqueId);h.issuer.hash=e.digest().toHex();e=d.md.sha1.create();h.subject.getField=function(y){return u(h.subject,y)};h.subject.addField=function(y){V([y]);h.subject.attributes.push(y)};
h.subject.attributes=t.RDNAttributesAsArray(w.certSubject,e);w.certSubjectUniqueId&&(h.subject.uniqueId=w.certSubjectUniqueId);h.subject.hash=e.digest().toHex();h.extensions=w.certExtensions?t.certificateExtensionsFromAsn1(w.certExtensions):[];h.publicKey=t.publicKeyFromAsn1(w.subjectPublicKeyInfo);return h};t.certificateExtensionsFromAsn1=function(l){for(var e=[],w=0;w<l.value.length;++w)for(var J=l.value[w],h=0;h<J.value.length;++h)e.push(t.certificateExtensionFromAsn1(J.value[h]));return e};t.certificateExtensionFromAsn1=
function(l){var e={};e.id=g.derToOid(l.value[0].value);e.critical=!1;l.value[1].type===g.Type.BOOLEAN?(e.critical=0!==l.value[1].value.charCodeAt(0),e.value=l.value[2].value):e.value=l.value[1].value;if(e.id in A)if(e.name=A[e.id],"keyUsage"===e.name){l=g.fromDer(e.value);var w=0,J=0;1<l.value.length&&(w=l.value.charCodeAt(1),J=2<l.value.length?l.value.charCodeAt(2):0);e.digitalSignature=128===(w&128);e.nonRepudiation=64===(w&64);e.keyEncipherment=32===(w&32);e.dataEncipherment=16===(w&16);e.keyAgreement=
8===(w&8);e.keyCertSign=4===(w&4);e.cRLSign=2===(w&2);e.encipherOnly=1===(w&1);e.decipherOnly=128===(J&128)}else if("basicConstraints"===e.name)l=g.fromDer(e.value),e.cA=0<l.value.length&&l.value[0].type===g.Type.BOOLEAN?0!==l.value[0].value.charCodeAt(0):!1,w=null,0<l.value.length&&l.value[0].type===g.Type.INTEGER?w=l.value[0].value:1<l.value.length&&(w=l.value[1].value),null!==w&&(e.pathLenConstraint=g.derToInteger(w));else if("extKeyUsage"===e.name)for(l=g.fromDer(e.value),w=0;w<l.value.length;++w)J=
g.derToOid(l.value[w].value),J in A?e[A[J]]=!0:e[J]=!0;else if("nsCertType"===e.name)l=g.fromDer(e.value),w=0,1<l.value.length&&(w=l.value.charCodeAt(1)),e.client=128===(w&128),e.server=64===(w&64),e.email=32===(w&32),e.objsign=16===(w&16),e.reserved=8===(w&8),e.sslCA=4===(w&4),e.emailCA=2===(w&2),e.objCA=1===(w&1);else if("subjectAltName"===e.name||"issuerAltName"===e.name)for(e.altNames=[],l=g.fromDer(e.value),J=0;J<l.value.length;++J){w=l.value[J];var h={type:w.type,value:w.value};e.altNames.push(h);
switch(w.type){case 7:h.ip=d.util.bytesToIP(w.value);break;case 8:h.oid=g.derToOid(w.value)}}else"subjectKeyIdentifier"===e.name&&(l=g.fromDer(e.value),e.subjectKeyIdentifier=d.util.bytesToHex(l.value));return e};t.certificationRequestFromAsn1=function(l,e){var w={},J=[];if(!g.validate(l,x,w,J))throw w=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest."),w.errors=J,w;J=g.derToOid(w.publicKeyOid);if(J!==t.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");
var h=t.createCertificationRequest();h.version=w.csrVersion?w.csrVersion.charCodeAt(0):0;h.signatureOid=d.asn1.derToOid(w.csrSignatureOid);h.signatureParameters=z(h.signatureOid,w.csrSignatureParams,!0);h.siginfo.algorithmOid=d.asn1.derToOid(w.csrSignatureOid);h.siginfo.parameters=z(h.siginfo.algorithmOid,w.csrSignatureParams,!1);h.signature=w.csrSignature;h.certificationRequestInfo=w.certificationRequestInfo;if(e){h.md=null;if(h.signatureOid in A)switch(J=A[h.signatureOid],J){case "sha1WithRSAEncryption":h.md=
d.md.sha1.create();break;case "md5WithRSAEncryption":h.md=d.md.md5.create();break;case "sha256WithRSAEncryption":h.md=d.md.sha256.create();break;case "sha384WithRSAEncryption":h.md=d.md.sha384.create();break;case "sha512WithRSAEncryption":h.md=d.md.sha512.create();break;case "RSASSA-PSS":h.md=d.md.sha256.create()}if(null===h.md)throw w=Error("Could not compute certification request digest. Unknown signature OID."),w.signatureOid=h.signatureOid,w;e=g.toDer(h.certificationRequestInfo);h.md.update(e.getBytes())}e=
d.md.sha1.create();h.subject.getField=function(y){return u(h.subject,y)};h.subject.addField=function(y){V([y]);h.subject.attributes.push(y)};h.subject.attributes=t.RDNAttributesAsArray(w.certificationRequestInfoSubject,e);h.subject.hash=e.digest().toHex();h.publicKey=t.publicKeyFromAsn1(w.subjectPublicKeyInfo);h.getAttribute=function(y){return u(h,y)};h.addAttribute=function(y){V([y]);h.attributes.push(y)};h.attributes=t.CRIAttributesAsArray(w.certificationRequestInfoAttributes||[]);return h};t.createCertificationRequest=
function(){var l={version:0,signatureOid:null,signature:null,siginfo:{}};l.siginfo.algorithmOid=null;l.subject={};l.subject.getField=function(e){return u(l.subject,e)};l.subject.addField=function(e){V([e]);l.subject.attributes.push(e)};l.subject.attributes=[];l.subject.hash=null;l.publicKey=null;l.attributes=[];l.getAttribute=function(e){return u(l,e)};l.addAttribute=function(e){V([e]);l.attributes.push(e)};l.md=null;l.setSubject=function(e){V(e);l.subject.attributes=e;l.subject.hash=null};l.setAttributes=
function(e){V(e);l.attributes=e};l.sign=function(e,w){l.md=w||d.md.sha1.create();w=A[l.md.algorithm+"WithRSAEncryption"];if(!w)throw e=Error("Could not compute certification request digest. Unknown message digest algorithm OID."),e.algorithm=l.md.algorithm,e;l.signatureOid=l.siginfo.algorithmOid=w;l.certificationRequestInfo=t.getCertificationRequestInfo(l);w=g.toDer(l.certificationRequestInfo);l.md.update(w.getBytes());l.signature=e.sign(l.md)};l.verify=function(){var e=!1,w=l.md;if(null===w){if(l.signatureOid in
A)switch(A[l.signatureOid]){case "sha1WithRSAEncryption":w=d.md.sha1.create();break;case "md5WithRSAEncryption":w=d.md.md5.create();break;case "sha256WithRSAEncryption":w=d.md.sha256.create();break;case "sha384WithRSAEncryption":w=d.md.sha384.create();break;case "sha512WithRSAEncryption":w=d.md.sha512.create();break;case "RSASSA-PSS":w=d.md.sha256.create()}if(null===w)throw w=Error("Could not compute certification request digest. Unknown signature OID."),w.signatureOid=l.signatureOid,w;var J=l.certificationRequestInfo||
t.getCertificationRequestInfo(l);J=g.toDer(J);w.update(J.getBytes())}if(null!==w){switch(l.signatureOid){case A["RSASSA-PSS"]:e=A[l.signatureParameters.mgf.hash.algorithmOid];if(void 0===e||void 0===d.md[e])throw w=Error("Unsupported MGF hash function."),w.oid=l.signatureParameters.mgf.hash.algorithmOid,w.name=e,w;var h=A[l.signatureParameters.mgf.algorithmOid];if(void 0===h||void 0===d.mgf[h])throw w=Error("Unsupported MGF function."),w.oid=l.signatureParameters.mgf.algorithmOid,w.name=h,w;h=d.mgf[h].create(d.md[e].create());
e=A[l.signatureParameters.hash.algorithmOid];if(void 0===e||void 0===d.md[e])throw w=Error("Unsupported RSASSA-PSS hash function."),w.oid=l.signatureParameters.hash.algorithmOid,w.name=e,w;h=d.pss.create(d.md[e].create(),h,l.signatureParameters.saltLength)}e=l.publicKey.verify(w.digest().getBytes(),l.signature,h)}return e};return l};var m=new Date("1950-01-01T00:00:00Z"),P=new Date("2050-01-01T00:00:00Z");t.getTBSCertificate=function(l){var e=k(l.validity.notBefore),w=k(l.validity.notAfter);e=g.create(g.Class.UNIVERSAL,
g.Type.SEQUENCE,!0,[g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(l.version).getBytes())]),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,d.util.hexToBytes(l.serialNumber)),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.siginfo.algorithmOid).getBytes()),f(l.siginfo.algorithmOid,l.siginfo.parameters)]),I(l.issuer),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[e,w]),I(l.subject),t.publicKeyToAsn1(l.publicKey)]);
l.issuer.uniqueId&&e.value.push(g.create(g.Class.CONTEXT_SPECIFIC,1,!0,[g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,String.fromCharCode(0)+l.issuer.uniqueId)]));l.subject.uniqueId&&e.value.push(g.create(g.Class.CONTEXT_SPECIFIC,2,!0,[g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,String.fromCharCode(0)+l.subject.uniqueId)]));0<l.extensions.length&&e.value.push(t.certificateExtensionsToAsn1(l.extensions));return e};t.getCertificationRequestInfo=function(l){var e=g,w=e.create,J=g.Class.UNIVERSAL,
h=g.Type.SEQUENCE,y=g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(l.version).getBytes()),G=I(l.subject),M=t.publicKeyToAsn1(l.publicKey);var S=g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0!==l.attributes.length){l=l.attributes;for(var Z=0;Z<l.length;++Z){var ca=l[Z],ea=ca.value,ia=g.Type.UTF8;"valueTagClass"in ca&&(ia=ca.valueTagClass);ia===g.Type.UTF8&&(ea=d.util.encodeUtf8(ea));var na=!1;"valueConstructed"in ca&&(na=ca.valueConstructed);ca=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,
!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(ca.type).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SET,!0,[g.create(g.Class.UNIVERSAL,ia,na,ea)])]);S.value.push(ca)}}return w.call(e,J,h,!0,[y,G,M,S])};t.distinguishedNameToAsn1=function(l){return I(l)};t.certificateToAsn1=function(l){var e=l.tbsCertificate||t.getTBSCertificate(l);return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[e,g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.signatureOid).getBytes()),
f(l.signatureOid,l.signatureParameters)]),g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,String.fromCharCode(0)+l.signature)])};t.certificateExtensionsToAsn1=function(l){var e=g.create(g.Class.CONTEXT_SPECIFIC,3,!0,[]),w=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);e.value.push(w);for(var J=0;J<l.length;++J)w.value.push(t.certificateExtensionToAsn1(l[J]));return e};t.certificateExtensionToAsn1=function(l){var e=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[]);e.value.push(g.create(g.Class.UNIVERSAL,
g.Type.OID,!1,g.oidToDer(l.id).getBytes()));l.critical&&e.value.push(g.create(g.Class.UNIVERSAL,g.Type.BOOLEAN,!1,String.fromCharCode(255)));var w=l.value;"string"!==typeof l.value&&(w=g.toDer(w).getBytes());e.value.push(g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,w));return e};t.certificationRequestToAsn1=function(l){var e=l.certificationRequestInfo||t.getCertificationRequestInfo(l);return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[e,g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,
g.Type.OID,!1,g.oidToDer(l.signatureOid).getBytes()),f(l.signatureOid,l.signatureParameters)]),g.create(g.Class.UNIVERSAL,g.Type.BITSTRING,!1,String.fromCharCode(0)+l.signature)])};t.createCaStore=function(l){function e(y){w(y);return J.certs[y.hash]||null}function w(y){if(!y.hash){var G=d.md.sha1.create();y.attributes=t.RDNAttributesAsArray(I(y),G);y.hash=G.digest().toHex()}}var J={certs:{},getIssuer:function(y){return e(y.issuer)},addCertificate:function(y){"string"===typeof y&&(y=d.pki.certificateFromPem(y));
w(y.subject);if(!J.hasCertificate(y))if(y.subject.hash in J.certs){var G=J.certs[y.subject.hash];d.util.isArray(G)||(G=[G]);G.push(y);J.certs[y.subject.hash]=G}else J.certs[y.subject.hash]=y},hasCertificate:function(y){"string"===typeof y&&(y=d.pki.certificateFromPem(y));var G=e(y.subject);if(!G)return!1;d.util.isArray(G)||(G=[G]);y=g.toDer(t.certificateToAsn1(y)).getBytes();for(var M=0;M<G.length;++M){var S=g.toDer(t.certificateToAsn1(G[M])).getBytes();if(y===S)return!0}return!1},listAllCertificates:function(){var y=
[],G;for(G in J.certs)if(J.certs.hasOwnProperty(G)){var M=J.certs[G];if(d.util.isArray(M))for(var S=0;S<M.length;++S)y.push(M[S]);else y.push(M)}return y},removeCertificate:function(y){"string"===typeof y&&(y=d.pki.certificateFromPem(y));w(y.subject);if(!J.hasCertificate(y))return null;var G=e(y.subject);if(!d.util.isArray(G)){var M=J.certs[y.subject.hash];delete J.certs[y.subject.hash];return M}for(var S=g.toDer(t.certificateToAsn1(y)).getBytes(),Z=0;Z<G.length;++Z){var ca=g.toDer(t.certificateToAsn1(G[Z])).getBytes();
S===ca&&(M=G[Z],G.splice(Z,1))}0===G.length&&delete J.certs[y.subject.hash];return M}};if(l)for(var h=0;h<l.length;++h)J.addCertificate(l[h]);return J};t.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};t.verifyCertificateChain=
function(l,e,w){"function"===typeof w&&(w={verify:w});w=w||{};e=e.slice(0);var J=e.slice(0),h=w.validityCheckDate;"undefined"===typeof h&&(h=new Date);var y=!0,G=null,M=0;do{var S=e.shift(),Z=null,ca=!1;h&&(h<S.validity.notBefore||h>S.validity.notAfter)&&(G={message:"Certificate is not valid yet or has expired.",error:t.certificateError.certificate_expired,notBefore:S.validity.notBefore,notAfter:S.validity.notAfter,now:h});if(null===G){Z=e[0]||l.getIssuer(S);null===Z&&S.isIssuer(S)&&(ca=!0,Z=S);if(Z){var ea=
Z;d.util.isArray(ea)||(ea=[ea]);for(var ia=!1;!ia&&0<ea.length;){Z=ea.shift();try{ia=Z.verify(S)}catch(r){}}ia||(G={message:"Certificate signature is invalid.",error:t.certificateError.bad_certificate})}null!==G||Z&&!ca||l.hasCertificate(S)||(G={message:"Certificate is not trusted.",error:t.certificateError.unknown_ca})}null===G&&Z&&!S.isIssuer(Z)&&(G={message:"Certificate issuer is invalid.",error:t.certificateError.bad_certificate});if(null===G)for(ea={keyUsage:!0,basicConstraints:!0},ia=0;null===
G&&ia<S.extensions.length;++ia){var na=S.extensions[ia];!na.critical||na.name in ea||(G={message:"Certificate has an unsupported critical extension.",error:t.certificateError.unsupported_certificate})}null!==G||y&&(0!==e.length||Z&&!ca)||(y=S.getExtension("basicConstraints"),S=S.getExtension("keyUsage"),null!==S&&(S.keyCertSign&&null!==y||(G={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",
error:t.certificateError.bad_certificate})),null!==G||null===y||y.cA||(G={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:t.certificateError.bad_certificate}),null===G&&null!==S&&"pathLenConstraint"in y&&M-1>y.pathLenConstraint&&(G={message:"Certificate basicConstraints pathLenConstraint violated.",error:t.certificateError.bad_certificate}));S=null===G?!0:G.error;y=w.verify?w.verify(S,M,J):S;if(!0===y)G=null;else{!0===S&&(G={message:"The application rejected the certificate.",
error:t.certificateError.bad_certificate});if(y||0===y)"object"!==typeof y||d.util.isArray(y)?"string"===typeof y&&(G.error=y):(y.message&&(G.message=y.message),y.error&&(G.error=y.error));throw G;}y=!1;++M}while(0<e.length);return!0}},function(Q,E,C){var u=C(5);C(13);C(7);(Q.exports=u.pss=u.pss||{}).create=function(I){3===arguments.length&&(I={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var V=I.md,q=I.mgf,f=V.digestLength,k=I.salt||null;"string"===typeof k&&(k=u.util.createBuffer(k));
if("saltLength"in I)var d=I.saltLength;else if(null!==k)d=k.length();else throw Error("Salt length not specified or specific salt not given.");if(null!==k&&k.length()!==d)throw Error("Given salt length does not match length of given salt.");var g=I.prng||u.random;return{encode:function(t,A){--A;var W=Math.ceil(A/8);t=t.digest().getBytes();if(W<f+d+2)throw Error("Message is too long to encrypt.");var F=null===k?g.getBytesSync(d):k.bytes();var H=new u.util.ByteBuffer;H.fillWithByte(0,8);H.putBytes(t);
H.putBytes(F);V.start();V.update(H.getBytes());t=V.digest().getBytes();H=new u.util.ByteBuffer;H.fillWithByte(0,W-d-f-2);H.putByte(1);H.putBytes(F);var x=H.getBytes(),z=W-f-1,m=q.generate(t,z);F="";for(H=0;H<z;H++)F+=String.fromCharCode(x.charCodeAt(H)^m.charCodeAt(H));A=65280>>8*W-A&255;F=String.fromCharCode(F.charCodeAt(0)&~A)+F.substr(1);return F+t+String.fromCharCode(188)},verify:function(t,A,W){var F=W-1;W=Math.ceil(F/8);A=A.substr(-W);if(W<f+d+2)throw Error("Inconsistent parameters to PSS signature verification.");
if(188!==A.charCodeAt(W-1))throw Error("Encoded message does not end in 0xBC.");var H=W-f-1,x=A.substr(0,H);A=A.substr(H,f);var z=65280>>8*W-F&255;if(0!==(x.charCodeAt(0)&z))throw Error("Bits beyond keysize not zero as expected.");var m=q.generate(A,H),P="";for(F=0;F<H;F++)P+=String.fromCharCode(x.charCodeAt(F)^m.charCodeAt(F));P=String.fromCharCode(P.charCodeAt(0)&~z)+P.substr(1);W=W-f-d-2;for(F=0;F<W;F++)if(0!==P.charCodeAt(F))throw Error("Leftmost octets not zero as expected");if(1!==P.charCodeAt(W))throw Error("Inconsistent PSS signature, 0x01 marker not found");
W=P.substr(-d);H=new u.util.ByteBuffer;H.fillWithByte(0,8);H.putBytes(t);H.putBytes(W);V.start();V.update(H.getBytes());t=V.digest().getBytes();return A===t}}}},function(Q,E,C){function u(a,B,L,Y){var ha=arguments.length,qa=3>ha?B:null===Y?Y=Object.getOwnPropertyDescriptor(B,L):Y,Aa;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)qa=Reflect.decorate(a,B,L,Y);else for(var Ea=a.length-1;0<=Ea;Ea--)if(Aa=a[Ea])qa=(3>ha?Aa(qa):3<ha?Aa(B,L,qa):Aa(B,L))||qa;return 3<ha&&qa&&Object.defineProperty(B,
L,qa),qa}function I(a,B){return a==B?0:a?B?a.prefix?B.prefix?a.prefix<B.prefix?-1:a.prefix>B.prefix?1:0:1:-1:1:-1}function V(a,B){if(!a.namespaceURI&&B.namespaceURI)return-1;if(!B.namespaceURI&&a.namespaceURI)return 1;a=a.namespaceURI+a.localName;B=B.namespaceURI+B.localName;return a===B?0:a<B?-1:1}function q(a,B,L){L=void 0===L?0:L;if(a.prefix===(B||null))return++L;if(a.attributes)for(var Y=0;Y<a.attributes.length;Y++)if(!f(a.attributes[Y])&&B&&a.attributes[Y].prefix===B)return++L;for(a=a.firstChild;a;a=
a.nextSibling)if(a.nodeType===m.n.Element&&(Y=q(a,B,L),a.nodeType===m.n.Element&&Y))return++L+Y;return L}function f(a){var B=/xmlns:/;return null===a||a.nodeType!==m.n.Attribute||"xmlns"!==a.nodeName&&!B.test(a.nodeName)?!1:!0}function k(a,B){B=new B;B.LoadXml(a.Element);return B}function d(a){switch(a){case "P-256":return"urn:oid:1.2.840.10045.3.1.7";case "P-384":return"urn:oid:1.3.132.0.34";case "P-521":return"urn:oid:1.3.132.0.35"}throw new m.m(m.f.CRYPTOGRAPHIC,"Unknown NamedCurve");}function g(a,
B){if(a.nodeType!==m.n.Element)return null;if(a.hasAttribute("Id")&&a.getAttribute("Id")===B)return a;if(a.childNodes&&a.childNodes.length)for(var L=0;L<a.childNodes.length;L++){var Y=g(a.childNodes[L],B);if(Y)return Y}return null}function t(a,B){B=void 0===B?{}:B;if(Object(m.s)(a)){if(a.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==a.namespaceURI){var L=a.prefix?a.prefix:"";L in B||(B[L]=a.namespaceURI)}for(L=0;L<a.attributes.length;L++){var Y=a.attributes.item(L);if(Y&&"xmlns"===Y.prefix){var ha=
Y.localName?Y.localName:"";ha in B||(B[ha]=Y.value)}}a.parentNode&&t(a.parentNode,B)}}function A(a,B,L,Y){var ha=arguments.length,qa=3>ha?B:null===Y?Y=Object.getOwnPropertyDescriptor(B,L):Y,Aa;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)qa=Reflect.decorate(a,B,L,Y);else for(var Ea=a.length-1;0<=Ea;Ea--)if(Aa=a[Ea])qa=(3>ha?Aa(qa):3<ha?Aa(B,L,qa):Aa(B,L))||qa;return 3<ha&&qa&&Object.defineProperty(B,L,qa),qa}function W(a,B,L,Y){1!==arguments.length||"string"!==z(a)||/\d/.test(a)||
(B=a,a=void 0);a=a||new Date;a instanceof Date||(a=new Date(a));if(isNaN(a))throw TypeError("Invalid date");B=String(se[B]||B||se.default);var ha=B.slice(0,4);if("UTC:"===ha||"GMT:"===ha)B=B.slice(4),L=!0,"GMT:"===ha&&(Y=!0);var qa=L?"getUTC":"get";ha=a[qa+"Date"]();var Aa=a[qa+"Day"](),Ea=a[qa+"Month"](),Ga=a[qa+"FullYear"](),Ja=a[qa+"Hours"](),Qa=a[qa+"Minutes"](),Wa=a[qa+"Seconds"]();qa=a[qa+"Milliseconds"]();var jb=L?0:a.getTimezoneOffset(),kb=H(a),lb=x(a),hb={d:ha,dd:F(ha),ddd:Db.dayNames[Aa],
dddd:Db.dayNames[Aa+7],m:Ea+1,mm:F(Ea+1),mmm:Db.monthNames[Ea],mmmm:Db.monthNames[Ea+12],yy:String(Ga).slice(2),yyyy:Ga,h:Ja%12||12,hh:F(Ja%12||12),H:Ja,HH:F(Ja),M:Qa,MM:F(Qa),s:Wa,ss:F(Wa),l:F(qa,3),L:F(Math.round(qa/10)),t:12>Ja?Db.timeNames[0]:Db.timeNames[1],tt:12>Ja?Db.timeNames[2]:Db.timeNames[3],T:12>Ja?Db.timeNames[4]:Db.timeNames[5],TT:12>Ja?Db.timeNames[6]:Db.timeNames[7],Z:Y?"GMT":L?"UTC":(String(a).match(Gg)||[""]).pop().replace(Hg,""),o:(0<jb?"-":"+")+F(100*Math.floor(Math.abs(jb)/60)+
Math.abs(jb)%60,4),W:kb,N:lb};return B.replace(Ig,function(Zb){return Zb in hb?hb[Zb]:Zb.slice(1,Zb.length-1)})}function F(a,B){B=void 0===B?2:B;for(a=String(a);a.length<B;)a="0"+a;return a}function H(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var B=new Date(a.getFullYear(),0,4);B.setDate(B.getDate()-(B.getDay()+6)%7+3);var L=a.getTimezoneOffset()-B.getTimezoneOffset();a.setHours(a.getHours()-L);a=(a.getTime()-B.getTime())/6048E5;return 1+Math.floor(a)}
function x(a){a=a.getDay();0===a&&(a=7);return a}function z(a){return null===a?"null":void 0===a?"undefined":"object"!==typeof a?typeof a:Array.isArray(a)?"array":{}.toString.call(a).slice(8,-1).toLowerCase()}C.d(E,"a",function(){return m.d});C.d(E,"b",function(){return Bb});var m=C(2),P=C(4),l=C(0),e=C(1),w=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",w.defaultValues("type"));this.value=Object(e.e)(a,"value",w.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};w.defaultValues=
function(a){switch(a){case "type":return"";case "value":return{};default:throw Error("Invalid member name for AttributeTypeAndValue class: "+a);}};w.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.type||""}),new l.a({name:a.value||""})]})};w.blockName=function(){return"AttributeTypeAndValue"};w.prototype.fromSchema=function(a){Object(e.c)(a,["type","typeValue"]);a=l.D(a,a,w.schema({names:{type:"type",value:"typeValue"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=a.result.type.valueBlock.toString();this.value=a.result.typeValue};w.prototype.toSchema=function(){return new l.v({value:[new l.p({value:this.type}),this.value]})};w.prototype.toJSON=function(){var a={type:this.type};0!==Object.keys(this.value).length?a.value=this.value.toJSON():a.value=this.value;return a};w.prototype.isEqual=function(a){var B=[l.A.blockName(),l.c.blockName(),
l.z.blockName(),l.o.blockName(),l.s.blockName(),l.x.blockName(),l.B.blockName(),l.l.blockName(),l.k.blockName(),l.C.blockName(),l.i.blockName(),l.e.blockName()];if(a.constructor.blockName()===w.blockName()){if(this.type!==a.type)return!1;var L=[!1,!1],Y=this.value.constructor.blockName();B=$jscomp.makeIterator(B);for(var ha=B.next();!ha.done;ha=B.next())ha=ha.value,Y===ha&&(L[0]=!0),a.value.constructor.blockName()===ha&&(L[1]=!0);if(L[0]^L[1])return!1;if(L=L[0]&&L[1]){if(L=Object(P.j)(this.value.valueBlock.value),
a=Object(P.j)(a.value.valueBlock.value),0!==L.localeCompare(a))return!1}else if(!1===Object(e.f)(this.value.valueBeforeDecode,a.value.valueBeforeDecode))return!1;return!0}return a instanceof ArrayBuffer?Object(e.f)(this.value.valueBeforeDecode,a):!1};var J=function(a){a=void 0===a?{}:a;this.typesAndValues=Object(e.e)(a,"typesAndValues",J.defaultValues("typesAndValues"));this.valueBeforeDecode=Object(e.e)(a,"valueBeforeDecode",J.defaultValues("valueBeforeDecode"));"schema"in a&&this.fromSchema(a.schema)};
J.defaultValues=function(a){switch(a){case "typesAndValues":return[];case "valueBeforeDecode":return new ArrayBuffer(0);default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};J.compareWithDefault=function(a,B){switch(a){case "typesAndValues":return 0===B.length;case "valueBeforeDecode":return 0===B.byteLength;default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};J.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||
"",value:[new l.u({name:a.repeatedSequence||"",value:new l.w({value:[new l.u({name:a.repeatedSet||"",value:w.schema(a.typeAndValue||{})})]})})]})};J.prototype.fromSchema=function(a){Object(e.c)(a,["RDN","typesAndValues"]);a=l.D(a,a,J.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in a.result&&(this.typesAndValues=Array.from(a.result.typesAndValues,function(B){return new w({schema:B})}));
this.valueBeforeDecode=a.result.RDN.valueBeforeDecode};J.prototype.toSchema=function(){return 0===this.valueBeforeDecode.byteLength?new l.v({value:[new l.w({value:Array.from(this.typesAndValues,function(a){return a.toSchema()})})]}):l.E(this.valueBeforeDecode).result};J.prototype.toJSON=function(){return{typesAndValues:Array.from(this.typesAndValues,function(a){return a.toJSON()})}};J.prototype.isEqual=function(a){if(a instanceof J){if(this.typesAndValues.length!==a.typesAndValues.length)return!1;
for(var B=$jscomp.makeIterator(this.typesAndValues.entries()),L=B.next();!L.done;L=B.next()){L=$jscomp.makeIterator(L.value);var Y=L.next().value;if(!1===L.next().value.isEqual(a.typesAndValues[Y]))return!1}return!0}return a instanceof ArrayBuffer?Object(e.f)(this.valueBeforeDecode,a):!1};var h=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",h.defaultValues("type"));this.value=Object(e.e)(a,"value",h.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};h.defaultValues=function(a){switch(a){case "type":return 9;
case "value":return{};default:throw Error("Invalid member name for GeneralName class: "+a);}};h.compareWithDefault=function(a,B){switch(a){case "type":return B===h.defaultValues(a);case "value":return 0===Object.keys(B).length;default:throw Error("Invalid member name for GeneralName class: "+a);}};h.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var B=l.f,L=new l.g({idBlock:{tagClass:3,tagNumber:0},name:a.blockName||"",value:[new l.p,new l.g({idBlock:{tagClass:3,tagNumber:0},value:[new l.a]})]}),
Y=new l.r({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),ha=new l.r({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),qa=l.g,Aa=a.blockName||"",Ea=a.builtInStandardAttributes||{};var Ga=!1;Ea=void 0===Ea?{}:Ea;Ga=void 0===Ga?!1:Ga;Ea=Object(e.e)(Ea,"names",{});Ga=new l.v({optional:Ga,value:[new l.g({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:Ea.country_name||"",value:[new l.f({value:[new l.o,new l.s]})]}),new l.g({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:Ea.administration_domain_name||
"",value:[new l.f({value:[new l.o,new l.s]})]}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:Ea.network_address||"",isHexOnly:!0}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:Ea.terminal_identifier||"",isHexOnly:!0}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:Ea.private_domain_name||"",value:[new l.f({value:[new l.o,new l.s]})]}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:Ea.organization_name||"",isHexOnly:!0}),new l.r({optional:!0,name:Ea.numeric_user_identifier||
"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new l.g({optional:!0,name:Ea.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new l.r({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new l.g({optional:!0,name:Ea.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new l.u({value:new l.s})]})]});
Ea=!0;Ea=new l.v({optional:void 0===Ea?!1:Ea,value:[new l.s,new l.s]});var Ja=!0;Ja=new l.w({optional:void 0===Ja?!1:Ja,value:[new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new l.a]})]});return new B({value:[L,Y,ha,new qa({idBlock:{tagClass:3,tagNumber:3},name:Aa,value:[Ga,Ea,Ja]}),new l.g({idBlock:{tagClass:3,tagNumber:4},name:a.blockName||"",value:[J.schema(a.directoryName||{})]}),new l.g({idBlock:{tagClass:3,tagNumber:5},
name:a.blockName||"",value:[new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.f({value:[new l.x,new l.s,new l.z,new l.A,new l.c]})]}),new l.g({idBlock:{tagClass:3,tagNumber:1},value:[new l.f({value:[new l.x,new l.s,new l.z,new l.A,new l.c]})]})]}),new l.r({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new l.r({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new l.r({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})};h.prototype.fromSchema=function(a){Object(e.c)(a,
"blockName otherName rfc822Name dNSName x400Address directoryName ediPartyName uniformResourceIdentifier iPAddress registeredID".split(" "));a=l.D(a,a,h.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralName");
this.type=a.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=a.result.blockName;break;case 1:case 2:case 6:a=a.result.blockName;a.idBlock.tagClass=1;a.idBlock.tagNumber=22;a=a.toBER(!1);this.value=l.E(a).result.valueBlock.value;break;case 3:this.value=a.result.blockName;break;case 4:this.value=new J({schema:a.result.directoryName});break;case 5:this.value=a.result.ediPartyName;break;case 7:this.value=new l.q({valueHex:a.result.blockName.valueBlock.valueHex});break;case 8:a=a.result.blockName,
a.idBlock.tagClass=1,a.idBlock.tagNumber=6,a=a.toBER(!1),this.value=l.E(a).result.valueBlock.toString()}};h.prototype.toSchema=function(){switch(this.type){case 0:case 3:case 5:return new l.g({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var a=new l.l({value:this.value});a.idBlock.tagClass=3;a.idBlock.tagNumber=this.type;return a;case 4:return new l.g({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:return a=this.value,a.idBlock.tagClass=
3,a.idBlock.tagNumber=this.type,a;case 8:return a=new l.p({value:this.value}),a.idBlock.tagClass=3,a.idBlock.tagNumber=this.type,a;default:return h.schema()}};h.prototype.toJSON=function(){var a={type:this.type,value:""};if("string"===typeof this.value)a.value=this.value;else try{a.value=this.value.toJSON()}catch(B){}return a};var y=function(a){a=void 0===a?{}:a;this.accessMethod=Object(e.e)(a,"accessMethod",y.defaultValues("accessMethod"));this.accessLocation=Object(e.e)(a,"accessLocation",y.defaultValues("accessLocation"));
"schema"in a&&this.fromSchema(a.schema)};y.defaultValues=function(a){switch(a){case "accessMethod":return"";case "accessLocation":return new h;default:throw Error("Invalid member name for AccessDescription class: "+a);}};y.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.accessMethod||""}),h.schema(a.accessLocation||{})]})};y.prototype.fromSchema=function(a){Object(e.c)(a,["accessMethod","accessLocation"]);a=l.D(a,a,y.schema({names:{accessMethod:"accessMethod",
accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=a.result.accessMethod.valueBlock.toString();this.accessLocation=new h({schema:a.result.accessLocation})};y.prototype.toSchema=function(){return new l.v({value:[new l.p({value:this.accessMethod}),this.accessLocation.toSchema()]})};y.prototype.toJSON=function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}};
var G=C(3),M=function(a){a=void 0===a?{}:a;this.altNames=Object(e.e)(a,"altNames",M.defaultValues("altNames"));"schema"in a&&this.fromSchema(a.schema)};M.defaultValues=function(a){switch(a){case "altNames":return[];default:throw Error("Invalid member name for AltName class: "+a);}};M.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.altNames||"",value:h.schema()})]})};M.prototype.fromSchema=function(a){Object(e.c)(a,["altNames"]);
a=l.D(a,a,M.schema({names:{altNames:"altNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AltName");"altNames"in a.result&&(this.altNames=Array.from(a.result.altNames,function(B){return new h({schema:B})}))};M.prototype.toSchema=function(){return new l.v({value:Array.from(this.altNames,function(a){return a.toSchema()})})};M.prototype.toJSON=function(){return{altNames:Array.from(this.altNames,function(a){return a.toJSON()})}};var S=C(8),Z=C(14);C(9);
var ca=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",ca.defaultValues("type"));this.value=Object(e.e)(a,"value",ca.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};ca.defaultValues=function(a){switch(a){case "type":return 0;case "value":return new Date(0,0,0);default:throw Error("Invalid member name for Time class: "+a);}};ca.schema=function(a,B){a=void 0===a?{}:a;B=void 0===B?!1:B;a=Object(e.e)(a,"names",{});return new l.f({optional:B,value:[new l.y({name:a.utcTimeName||
""}),new l.j({name:a.generalTimeName||""})]})};ca.prototype.fromSchema=function(a){Object(e.c)(a,["utcTimeName","generalTimeName"]);a=l.D(a,a,ca.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Time");"utcTimeName"in a.result&&(this.type=0,this.value=a.result.utcTimeName.toDate());"generalTimeName"in a.result&&(this.type=1,this.value=a.result.generalTimeName.toDate())};ca.prototype.toSchema=
function(){var a={};0===this.type&&(a=new l.y({valueDate:this.value}));1===this.type&&(a=new l.j({valueDate:this.value}));return a};ca.prototype.toJSON=function(){return{type:this.type,value:this.value}};var ea=C(10),ia=function(a){a=void 0===a?{}:a;this.attributes=Object(e.e)(a,"attributes",ia.defaultValues("attributes"));"schema"in a&&this.fromSchema(a.schema)};ia.defaultValues=function(a){switch(a){case "attributes":return[];default:throw Error("Invalid member name for SubjectDirectoryAttributes class: "+
a);}};ia.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.attributes||"",value:S.a.schema()})]})};ia.prototype.fromSchema=function(a){Object(e.c)(a,["attributes"]);a=l.D(a,a,ia.schema({names:{attributes:"attributes"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(a.result.attributes,function(B){return new S.a({schema:B})})};
ia.prototype.toSchema=function(){return new l.v({value:Array.from(this.attributes,function(a){return a.toSchema()})})};ia.prototype.toJSON=function(){return{attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};var na=function(a){a=void 0===a?{}:a;"notBefore"in a&&(this.notBefore=Object(e.e)(a,"notBefore",na.defaultValues("notBefore")));"notAfter"in a&&(this.notAfter=Object(e.e)(a,"notAfter",na.defaultValues("notAfter")));"schema"in a&&this.fromSchema(a.schema)};na.defaultValues=
function(a){switch(a){case "notBefore":return new Date;case "notAfter":return new Date;default:throw Error("Invalid member name for PrivateKeyUsagePeriod class: "+a);}};na.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.r({name:a.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new l.r({name:a.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};na.prototype.fromSchema=function(a){Object(e.c)(a,["notBefore",
"notAfter"]);a=l.D(a,a,na.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in a.result){var B=new l.j;B.fromBuffer(a.result.notBefore.valueBlock.valueHex);this.notBefore=B.toDate()}"notAfter"in a.result&&(B=new l.j({valueHex:a.result.notAfter.valueBlock.valueHex}),B.fromBuffer(a.result.notAfter.valueBlock.valueHex),this.notAfter=B.toDate())};na.prototype.toSchema=
function(){var a=[];"notBefore"in this&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:0},valueHex:(new l.j({valueDate:this.notBefore})).valueBlock.valueHex}));"notAfter"in this&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:1},valueHex:(new l.j({valueDate:this.notAfter})).valueBlock.valueHex}));return new l.v({value:a})};na.prototype.toJSON=function(){var a={};"notBefore"in this&&(a.notBefore=this.notBefore);"notAfter"in this&&(a.notAfter=this.notAfter);return a};var r=function(a){a=void 0===a?{}:
a;this.cA=Object(e.e)(a,"cA",!1);"pathLenConstraint"in a&&(this.pathLenConstraint=Object(e.e)(a,"pathLenConstraint",0));"schema"in a&&this.fromSchema(a.schema)};r.defaultValues=function(a){switch(a){case "cA":return!1;default:throw Error("Invalid member name for BasicConstraints class: "+a);}};r.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.d({optional:!0,name:a.cA||""}),new l.m({optional:!0,name:a.pathLenConstraint||""})]})};r.prototype.fromSchema=
function(a){Object(e.c)(a,["cA","pathLenConstraint"]);a=l.D(a,a,r.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for BasicConstraints");"cA"in a.result&&(this.cA=a.result.cA.valueBlock.value);"pathLenConstraint"in a.result&&(this.pathLenConstraint=a.result.pathLenConstraint.valueBlock.isHexOnly?a.result.pathLenConstraint:a.result.pathLenConstraint.valueBlock.valueDec)};r.prototype.toSchema=function(){var a=
[];this.cA!==r.defaultValues("cA")&&a.push(new l.d({value:this.cA}));"pathLenConstraint"in this&&(this.pathLenConstraint instanceof l.m?a.push(this.pathLenConstraint):a.push(new l.m({value:this.pathLenConstraint})));return new l.v({value:a})};r.prototype.toJSON=function(){var a={};this.cA!==r.defaultValues("cA")&&(a.cA=this.cA);"pathLenConstraint"in this&&(a.pathLenConstraint=this.pathLenConstraint instanceof l.m?this.pathLenConstraint.toJSON():this.pathLenConstraint);return a};var n=function(a){a=
void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",n.defaultValues("distributionPoint")));this.onlyContainsUserCerts=Object(e.e)(a,"onlyContainsUserCerts",n.defaultValues("onlyContainsUserCerts"));this.onlyContainsCACerts=Object(e.e)(a,"onlyContainsCACerts",n.defaultValues("onlyContainsCACerts"));"onlySomeReasons"in a&&(this.onlySomeReasons=Object(e.e)(a,"onlySomeReasons",n.defaultValues("onlySomeReasons")));this.indirectCRL=Object(e.e)(a,"indirectCRL",
n.defaultValues("indirectCRL"));this.onlyContainsAttributeCerts=Object(e.e)(a,"onlyContainsAttributeCerts",n.defaultValues("onlyContainsAttributeCerts"));"schema"in a&&this.fromSchema(a.schema)};n.defaultValues=function(a){switch(a){case "distributionPoint":return[];case "onlyContainsUserCerts":return!1;case "onlyContainsCACerts":return!1;case "onlySomeReasons":return 0;case "indirectCRL":return!1;case "onlyContainsAttributeCerts":return!1;default:throw Error("Invalid member name for IssuingDistributionPoint class: "+
a);}};n.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.f({value:[new l.g({name:a.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new l.u({name:a.distributionPointNames||"",value:h.schema()})]}),new l.g({name:a.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:J.schema().valueBlock.value})]})]}),new l.r({name:a.onlyContainsUserCerts||"",optional:!0,
idBlock:{tagClass:3,tagNumber:1}}),new l.r({name:a.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new l.r({name:a.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new l.r({name:a.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new l.r({name:a.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})};n.prototype.fromSchema=function(a){Object(e.c)(a,"distributionPoint distributionPointNames onlyContainsUserCerts onlyContainsCACerts onlySomeReasons indirectCRL onlyContainsAttributeCerts".split(" "));
a=l.D(a,a,n.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in a.result)switch(!0){case 0===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=
Array.from(a.result.distributionPointNames,function(B){return new h({schema:B})});break;case 1===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new J({schema:new l.v({value:a.result.distributionPoint.valueBlock.value})});break;default:throw Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}");}"onlyContainsUserCerts"in a.result&&(this.onlyContainsUserCerts=0!==(new Uint8Array(a.result.onlyContainsUserCerts.valueBlock.valueHex))[0]);
"onlyContainsCACerts"in a.result&&(this.onlyContainsCACerts=0!==(new Uint8Array(a.result.onlyContainsCACerts.valueBlock.valueHex))[0]);"onlySomeReasons"in a.result&&(this.onlySomeReasons=(new Uint8Array(a.result.onlySomeReasons.valueBlock.valueHex))[0]);"indirectCRL"in a.result&&(this.indirectCRL=0!==(new Uint8Array(a.result.indirectCRL.valueBlock.valueHex))[0]);"onlyContainsAttributeCerts"in a.result&&(this.onlyContainsAttributeCerts=0!==(new Uint8Array(a.result.onlyContainsAttributeCerts.valueBlock.valueHex))[0])};
n.prototype.toSchema=function(){var a=[];if("distributionPoint"in this){if(this.distributionPoint instanceof Array)var B=new l.g({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(L){return L.toSchema()})});else B=this.distributionPoint.toSchema(),B.idBlock.tagClass=3,B.idBlock.tagNumber=1;a.push(new l.g({idBlock:{tagClass:3,tagNumber:0},value:[B]}))}this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:1},
valueHex:(new Uint8Array([255])).buffer}));this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:2},valueHex:(new Uint8Array([255])).buffer}));"onlySomeReasons"in this&&(B=new ArrayBuffer(1),(new Uint8Array(B))[0]=this.onlySomeReasons,a.push(new l.r({idBlock:{tagClass:3,tagNumber:3},valueHex:B})));this.indirectCRL!==n.defaultValues("indirectCRL")&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:4},valueHex:(new Uint8Array([255])).buffer}));
this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:5},valueHex:(new Uint8Array([255])).buffer}));return new l.v({value:a})};n.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(B){return B.toJSON()}):this.distributionPoint.toJSON());this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&(a.onlyContainsUserCerts=
this.onlyContainsUserCerts);this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&(a.onlyContainsCACerts=this.onlyContainsCACerts);"onlySomeReasons"in this&&(a.onlySomeReasons=this.onlySomeReasons);this.indirectCRL!==n.defaultValues("indirectCRL")&&(a.indirectCRL=this.indirectCRL);this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&(a.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts);return a};var v=function(a){a=void 0===a?{}:a;this.names=Object(e.e)(a,
"names",v.defaultValues("names"));"schema"in a&&this.fromSchema(a.schema)};v.defaultValues=function(a){switch(a){case "names":return[];default:throw Error("Invalid member name for GeneralNames class: "+a);}};v.schema=function(a,B){a=void 0===a?{}:a;B=void 0===B?!1:B;a=Object(e.e)(a,"names",{});return new l.v({optional:B,name:a.blockName||"",value:[new l.u({name:a.generalNames||"",value:h.schema()})]})};v.prototype.fromSchema=function(a){Object(e.c)(a,["names","generalNames"]);a=l.D(a,a,v.schema({names:{blockName:"names",
generalNames:"generalNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(a.result.generalNames,function(B){return new h({schema:B})})};v.prototype.toSchema=function(){return new l.v({value:Array.from(this.names,function(a){return a.toSchema()})})};v.prototype.toJSON=function(){return{names:Array.from(this.names,function(a){return a.toJSON()})}};var D=function(a){a=void 0===a?{}:a;this.base=Object(e.e)(a,"base",D.defaultValues("base"));
this.minimum=Object(e.e)(a,"minimum",D.defaultValues("minimum"));"maximum"in a&&(this.maximum=Object(e.e)(a,"maximum",D.defaultValues("maximum")));"schema"in a&&this.fromSchema(a.schema)};D.defaultValues=function(a){switch(a){case "base":return new h;case "minimum":return 0;case "maximum":return 0;default:throw Error("Invalid member name for GeneralSubtree class: "+a);}};D.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[h.schema(a.base||
{}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.m({name:a.minimum||""})]}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new l.m({name:a.maximum||""})]})]})};D.prototype.fromSchema=function(a){Object(e.c)(a,["base","minimum","maximum"]);a=l.D(a,a,D.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new h({schema:a.result.base});
"minimum"in a.result&&(this.minimum=a.result.minimum.valueBlock.isHexOnly?a.result.minimum:a.result.minimum.valueBlock.valueDec);"maximum"in a.result&&(this.maximum=a.result.maximum.valueBlock.isHexOnly?a.result.maximum:a.result.maximum.valueBlock.valueDec)};D.prototype.toSchema=function(){var a=[];a.push(this.base.toSchema());if(0!==this.minimum){var B=this.minimum instanceof l.m?this.minimum:new l.m({value:this.minimum});a.push(new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[B]}))}"maximum"in
this&&(B=this.maximum instanceof l.m?this.maximum:new l.m({value:this.maximum}),a.push(new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[B]})));return new l.v({value:a})};D.prototype.toJSON=function(){var a={base:this.base.toJSON()};0!==this.minimum&&(a.minimum="number"===typeof this.minimum?this.minimum:this.minimum.toJSON());"maximum"in this&&(a.maximum="number"===typeof this.maximum?this.maximum:this.maximum.toJSON());return a};var U=function(a){a=void 0===a?{}:a;"permittedSubtrees"in
a&&(this.permittedSubtrees=Object(e.e)(a,"permittedSubtrees",U.defaultValues("permittedSubtrees")));"excludedSubtrees"in a&&(this.excludedSubtrees=Object(e.e)(a,"excludedSubtrees",U.defaultValues("excludedSubtrees")));"schema"in a&&this.fromSchema(a.schema)};U.defaultValues=function(a){switch(a){case "permittedSubtrees":return[];case "excludedSubtrees":return[];default:throw Error("Invalid member name for NameConstraints class: "+a);}};U.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",
{});return new l.v({name:a.blockName||"",value:[new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.u({name:a.permittedSubtrees||"",value:D.schema()})]}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new l.u({name:a.excludedSubtrees||"",value:D.schema()})]})]})};U.prototype.fromSchema=function(a){Object(e.c)(a,["permittedSubtrees","excludedSubtrees"]);a=l.D(a,a,U.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for NameConstraints");
"permittedSubtrees"in a.result&&(this.permittedSubtrees=Array.from(a.result.permittedSubtrees,function(B){return new D({schema:B})}));"excludedSubtrees"in a.result&&(this.excludedSubtrees=Array.from(a.result.excludedSubtrees,function(B){return new D({schema:B})}))};U.prototype.toSchema=function(){var a=[];"permittedSubtrees"in this&&a.push(new l.g({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,function(B){return B.toSchema()})}));"excludedSubtrees"in this&&a.push(new l.g({idBlock:{tagClass:3,
tagNumber:1},value:Array.from(this.excludedSubtrees,function(B){return B.toSchema()})}));return new l.v({value:a})};U.prototype.toJSON=function(){var a={};"permittedSubtrees"in this&&(a.permittedSubtrees=Array.from(this.permittedSubtrees,function(B){return B.toJSON()}));"excludedSubtrees"in this&&(a.excludedSubtrees=Array.from(this.excludedSubtrees,function(B){return B.toJSON()}));return a};var N=function(a){a=void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",
N.defaultValues("distributionPoint")));"reasons"in a&&(this.reasons=Object(e.e)(a,"reasons",N.defaultValues("reasons")));"cRLIssuer"in a&&(this.cRLIssuer=Object(e.e)(a,"cRLIssuer",N.defaultValues("cRLIssuer")));"schema"in a&&this.fromSchema(a.schema)};N.defaultValues=function(a){switch(a){case "distributionPoint":return[];case "reasons":return new l.b;case "cRLIssuer":return[];default:throw Error("Invalid member name for DistributionPoint class: "+a);}};N.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,
"names",{});return new l.v({name:a.blockName||"",value:[new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.f({value:[new l.g({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.u({name:a.distributionPointNames||"",value:h.schema()})]}),new l.g({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:J.schema().valueBlock.value})]})]}),new l.r({name:a.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new l.g({name:a.cRLIssuer||
"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new l.u({name:a.cRLIssuerNames||"",value:h.schema()})]})]})};N.prototype.fromSchema=function(a){Object(e.c)(a,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);a=l.D(a,a,N.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for DistributionPoint");
"distributionPoint"in a.result&&(0===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(a.result.distributionPointNames,function(B){return new h({schema:B})})),1===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new J({schema:new l.v({value:a.result.distributionPoint.valueBlock.value})})));"reasons"in a.result&&(this.reasons=new l.b({valueHex:a.result.reasons.valueBlock.valueHex}));"cRLIssuer"in a.result&&(this.cRLIssuer=Array.from(a.result.cRLIssuerNames,
function(B){return new h({schema:B})}))};N.prototype.toSchema=function(){var a=[];if("distributionPoint"in this){var B=this.distributionPoint instanceof Array?new l.g({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(L){return L.toSchema()})}):new l.g({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]});a.push(new l.g({idBlock:{tagClass:3,tagNumber:0},value:[B]}))}"reasons"in this&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex}));
"cRLIssuer"in this&&a.push(new l.g({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,function(L){return L.toSchema()})}));return new l.v({value:a})};N.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(B){return B.toJSON()}):this.distributionPoint.toJSON());"reasons"in this&&(a.reasons=this.reasons.toJSON());"cRLIssuer"in this&&(a.cRLIssuer=Array.from(this.cRLIssuer,
function(B){return B.toJSON()}));return a};var O=function(a){a=void 0===a?{}:a;this.distributionPoints=Object(e.e)(a,"distributionPoints",O.defaultValues("distributionPoints"));"schema"in a&&this.fromSchema(a.schema)};O.defaultValues=function(a){switch(a){case "distributionPoints":return[];default:throw Error("Invalid member name for CRLDistributionPoints class: "+a);}};O.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.distributionPoints||
"",value:N.schema()})]})};O.prototype.fromSchema=function(a){Object(e.c)(a,["distributionPoints"]);a=l.D(a,a,O.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(a.result.distributionPoints,function(B){return new N({schema:B})})};O.prototype.toSchema=function(){return new l.v({value:Array.from(this.distributionPoints,function(a){return a.toSchema()})})};
O.prototype.toJSON=function(){return{distributionPoints:Array.from(this.distributionPoints,function(a){return a.toJSON()})}};var K=function(a){a=void 0===a?{}:a;this.policyQualifierId=Object(e.e)(a,"policyQualifierId",K.defaultValues("policyQualifierId"));this.qualifier=Object(e.e)(a,"qualifier",K.defaultValues("qualifier"));"schema"in a&&this.fromSchema(a.schema)};K.defaultValues=function(a){switch(a){case "policyQualifierId":return"";case "qualifier":return new l.a;default:throw Error("Invalid member name for PolicyQualifierInfo class: "+
a);}};K.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.policyQualifierId||""}),new l.a({name:a.qualifier||""})]})};K.prototype.fromSchema=function(a){Object(e.c)(a,["policyQualifierId","qualifier"]);a=l.D(a,a,K.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=
a.result.policyQualifierId.valueBlock.toString();this.qualifier=a.result.qualifier};K.prototype.toSchema=function(){return new l.v({value:[new l.p({value:this.policyQualifierId}),this.qualifier]})};K.prototype.toJSON=function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}};var pa=function(a){a=void 0===a?{}:a;this.policyIdentifier=Object(e.e)(a,"policyIdentifier",pa.defaultValues("policyIdentifier"));"policyQualifiers"in a&&(this.policyQualifiers=Object(e.e)(a,
"policyQualifiers",pa.defaultValues("policyQualifiers")));"schema"in a&&this.fromSchema(a.schema)};pa.defaultValues=function(a){switch(a){case "policyIdentifier":return"";case "policyQualifiers":return[];default:throw Error("Invalid member name for PolicyInformation class: "+a);}};pa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.policyIdentifier||""}),new l.v({optional:!0,value:[new l.u({name:a.policyQualifiers||"",value:K.schema()})]})]})};
pa.prototype.fromSchema=function(a){Object(e.c)(a,["policyIdentifier","policyQualifiers"]);a=l.D(a,a,pa.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=a.result.policyIdentifier.valueBlock.toString();"policyQualifiers"in a.result&&(this.policyQualifiers=Array.from(a.result.policyQualifiers,function(B){return new K({schema:B})}))};
pa.prototype.toSchema=function(){var a=[];a.push(new l.p({value:this.policyIdentifier}));"policyQualifiers"in this&&a.push(new l.v({value:Array.from(this.policyQualifiers,function(B){return B.toSchema()})}));return new l.v({value:a})};pa.prototype.toJSON=function(){var a={policyIdentifier:this.policyIdentifier};"policyQualifiers"in this&&(a.policyQualifiers=Array.from(this.policyQualifiers,function(B){return B.toJSON()}));return a};var xa=function(a){a=void 0===a?{}:a;this.certificatePolicies=Object(e.e)(a,
"certificatePolicies",xa.defaultValues("certificatePolicies"));"schema"in a&&this.fromSchema(a.schema)};xa.defaultValues=function(a){switch(a){case "certificatePolicies":return[];default:throw Error("Invalid member name for CertificatePolicies class: "+a);}};xa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.certificatePolicies||"",value:pa.schema()})]})};xa.prototype.fromSchema=function(a){Object(e.c)(a,["certificatePolicies"]);
a=l.D(a,a,xa.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(a.result.certificatePolicies,function(B){return new pa({schema:B})})};xa.prototype.toSchema=function(){return new l.v({value:Array.from(this.certificatePolicies,function(a){return a.toSchema()})})};xa.prototype.toJSON=function(){return{certificatePolicies:Array.from(this.certificatePolicies,
function(a){return a.toJSON()})}};var ua=function(a){a=void 0===a?{}:a;this.issuerDomainPolicy=Object(e.e)(a,"issuerDomainPolicy",ua.defaultValues("issuerDomainPolicy"));this.subjectDomainPolicy=Object(e.e)(a,"subjectDomainPolicy",ua.defaultValues("subjectDomainPolicy"));"schema"in a&&this.fromSchema(a.schema)};ua.defaultValues=function(a){switch(a){case "issuerDomainPolicy":return"";case "subjectDomainPolicy":return"";default:throw Error("Invalid member name for PolicyMapping class: "+a);}};ua.schema=
function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.issuerDomainPolicy||""}),new l.p({name:a.subjectDomainPolicy||""})]})};ua.prototype.fromSchema=function(a){Object(e.c)(a,["issuerDomainPolicy","subjectDomainPolicy"]);a=l.D(a,a,ua.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMapping");
this.issuerDomainPolicy=a.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=a.result.subjectDomainPolicy.valueBlock.toString()};ua.prototype.toSchema=function(){return new l.v({value:[new l.p({value:this.issuerDomainPolicy}),new l.p({value:this.subjectDomainPolicy})]})};ua.prototype.toJSON=function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}};var za=function(a){a=void 0===a?{}:a;this.mappings=Object(e.e)(a,"mappings",za.defaultValues("mappings"));
"schema"in a&&this.fromSchema(a.schema)};za.defaultValues=function(a){switch(a){case "mappings":return[];default:throw Error("Invalid member name for PolicyMappings class: "+a);}};za.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.mappings||"",value:ua.schema()})]})};za.prototype.fromSchema=function(a){Object(e.c)(a,["mappings"]);a=l.D(a,a,za.schema({names:{mappings:"mappings"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMappings");
this.mappings=Array.from(a.result.mappings,function(B){return new ua({schema:B})})};za.prototype.toSchema=function(){return new l.v({value:Array.from(this.mappings,function(a){return a.toSchema()})})};za.prototype.toJSON=function(){return{mappings:Array.from(this.mappings,function(a){return a.toJSON()})}};var ta=function(a){a=void 0===a?{}:a;"keyIdentifier"in a&&(this.keyIdentifier=Object(e.e)(a,"keyIdentifier",ta.defaultValues("keyIdentifier")));"authorityCertIssuer"in a&&(this.authorityCertIssuer=
Object(e.e)(a,"authorityCertIssuer",ta.defaultValues("authorityCertIssuer")));"authorityCertSerialNumber"in a&&(this.authorityCertSerialNumber=Object(e.e)(a,"authorityCertSerialNumber",ta.defaultValues("authorityCertSerialNumber")));"schema"in a&&this.fromSchema(a.schema)};ta.defaultValues=function(a){switch(a){case "keyIdentifier":return new l.q;case "authorityCertIssuer":return[];case "authorityCertSerialNumber":return new l.m;default:throw Error("Invalid member name for AuthorityKeyIdentifier class: "+
a);}};ta.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.r({name:a.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new l.u({name:a.authorityCertIssuer||"",value:h.schema()})]}),new l.r({name:a.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})};ta.prototype.fromSchema=function(a){Object(e.c)(a,["keyIdentifier","authorityCertIssuer",
"authorityCertSerialNumber"]);a=l.D(a,a,ta.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in a.result&&(this.keyIdentifier=new l.q({valueHex:a.result.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in a.result&&(this.authorityCertIssuer=Array.from(a.result.authorityCertIssuer,
function(B){return new h({schema:B})}));"authorityCertSerialNumber"in a.result&&(this.authorityCertSerialNumber=new l.m({valueHex:a.result.authorityCertSerialNumber.valueBlock.valueHex}))};ta.prototype.toSchema=function(){var a=[];"keyIdentifier"in this&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in this&&a.push(new l.g({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,function(B){return B.toSchema()})}));
"authorityCertSerialNumber"in this&&a.push(new l.r({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex}));return new l.v({value:a})};ta.prototype.toJSON=function(){var a={};"keyIdentifier"in this&&(a.keyIdentifier=this.keyIdentifier.toJSON());"authorityCertIssuer"in this&&(a.authorityCertIssuer=Array.from(this.authorityCertIssuer,function(B){return B.toJSON()}));"authorityCertSerialNumber"in this&&(a.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON());
return a};var c=function(a){a=void 0===a?{}:a;"requireExplicitPolicy"in a&&(this.requireExplicitPolicy=Object(e.e)(a,"requireExplicitPolicy",c.defaultValues("requireExplicitPolicy")));"inhibitPolicyMapping"in a&&(this.inhibitPolicyMapping=Object(e.e)(a,"inhibitPolicyMapping",c.defaultValues("inhibitPolicyMapping")));"schema"in a&&this.fromSchema(a.schema)};c.defaultValues=function(a){switch(a){case "requireExplicitPolicy":return 0;case "inhibitPolicyMapping":return 0;default:throw Error("Invalid member name for PolicyConstraints class: "+
a);}};c.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.r({name:a.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new l.r({name:a.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};c.prototype.fromSchema=function(a){Object(e.c)(a,["requireExplicitPolicy","inhibitPolicyMapping"]);a=l.D(a,a,c.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in a.result){var B=a.result.requireExplicitPolicy;B.idBlock.tagClass=1;B.idBlock.tagNumber=2;B=B.toBER(!1);this.requireExplicitPolicy=l.E(B).result.valueBlock.valueDec}"inhibitPolicyMapping"in a.result&&(a=a.result.inhibitPolicyMapping,a.idBlock.tagClass=1,a.idBlock.tagNumber=2,a=a.toBER(!1),this.inhibitPolicyMapping=l.E(a).result.valueBlock.valueDec)};c.prototype.toSchema=
function(){var a=[];if("requireExplicitPolicy"in this){var B=new l.m({value:this.requireExplicitPolicy});B.idBlock.tagClass=3;B.idBlock.tagNumber=0;a.push(B)}"inhibitPolicyMapping"in this&&(B=new l.m({value:this.inhibitPolicyMapping}),B.idBlock.tagClass=3,B.idBlock.tagNumber=1,a.push(B));return new l.v({value:a})};c.prototype.toJSON=function(){var a={};"requireExplicitPolicy"in this&&(a.requireExplicitPolicy=this.requireExplicitPolicy);"inhibitPolicyMapping"in this&&(a.inhibitPolicyMapping=this.inhibitPolicyMapping);
return a};var X=function(a){a=void 0===a?{}:a;this.keyPurposes=Object(e.e)(a,"keyPurposes",X.defaultValues("keyPurposes"));"schema"in a&&this.fromSchema(a.schema)};X.defaultValues=function(a){switch(a){case "keyPurposes":return[];default:throw Error("Invalid member name for ExtKeyUsage class: "+a);}};X.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.keyPurposes||"",value:new l.p})]})};X.prototype.fromSchema=function(a){Object(e.c)(a,
["keyPurposes"]);a=l.D(a,a,X.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(a.result.keyPurposes,function(B){return B.valueBlock.toString()})};X.prototype.toSchema=function(){return new l.v({value:Array.from(this.keyPurposes,function(a){return new l.p({value:a})})})};X.prototype.toJSON=function(){return{keyPurposes:Array.from(this.keyPurposes)}};var ka=function(a){a=void 0===
a?{}:a;this.accessDescriptions=Object(e.e)(a,"accessDescriptions",ka.defaultValues("accessDescriptions"));"schema"in a&&this.fromSchema(a.schema)};ka.defaultValues=function(a){switch(a){case "accessDescriptions":return[];default:throw Error("Invalid member name for InfoAccess class: "+a);}};ka.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.accessDescriptions||"",value:y.schema()})]})};ka.prototype.fromSchema=function(a){Object(e.c)(a,
["accessDescriptions"]);a=l.D(a,a,ka.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(a.result.accessDescriptions,function(B){return new y({schema:B})})};ka.prototype.toSchema=function(){return new l.v({value:Array.from(this.accessDescriptions,function(a){return a.toSchema()})})};ka.prototype.toJSON=function(){return{accessDescriptions:Array.from(this.accessDescriptions,
function(a){return a.toJSON()})}};var ja=function(a){a=void 0===a?{}:a;this.clear();for(var B=$jscomp.makeIterator(Object.keys(a)),L=B.next();!L.done;L=B.next())switch(L.value){case "length":this.length=a.length;break;case "stub":for(L=0;L<this._view.length;L++)this._view[L]=a.stub;break;case "view":this.fromUint8Array(a.view);break;case "buffer":this.fromArrayBuffer(a.buffer);break;case "string":this.fromString(a.string);break;case "hexstring":this.fromHexString(a.hexstring)}};ja.prototype.clear=
function(){this._buffer=new ArrayBuffer(0);this._view=new Uint8Array(this._buffer)};ja.prototype.fromArrayBuffer=function(a){this.buffer=a};ja.prototype.fromUint8Array=function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)};ja.prototype.fromString=function(a){var B=a.length;this.length=B;for(var L=0;L<B;L++)this.view[L]=a.charCodeAt(L)};ja.prototype.toString=function(a,B){a=void 0===a?0:a;B=void 0===B?this.view.length-a:B;var L="";if(a>=this.view.length||
0>a)a=0;if(B>=this.view.length||0>B)B=this.view.length-a;for(var Y=a;Y<a+B;Y++)L+=String.fromCharCode(this.view[Y]);return L};ja.prototype.fromHexString=function(a){var B=a.length;this.buffer=new ArrayBuffer(B>>1);this.view=new Uint8Array(this.buffer);var L=new Map;L.set("0",0);L.set("1",1);L.set("2",2);L.set("3",3);L.set("4",4);L.set("5",5);L.set("6",6);L.set("7",7);L.set("8",8);L.set("9",9);L.set("A",10);L.set("a",10);L.set("B",11);L.set("b",11);L.set("C",12);L.set("c",12);L.set("D",13);L.set("d",
13);L.set("E",14);L.set("e",14);L.set("F",15);L.set("f",15);for(var Y=0,ha=0,qa=0;qa<B;qa++)qa%2?(ha|=L.get(a.charAt(qa)),this.view[Y]=ha,Y++):ha=L.get(a.charAt(qa))<<4};ja.prototype.toHexString=function(a,B){a=void 0===a?0:a;B=void 0===B?this.view.length-a:B;var L="";if(a>=this.view.length||0>a)a=0;if(B>=this.view.length||0>B)B=this.view.length-a;for(var Y=a;Y<a+B;Y++){var ha=this.view[Y].toString(16).toUpperCase();L=L+(1==ha.length?"0":"")+ha}return L};ja.prototype.copy=function(a,B){a=void 0===
a?0:a;B=void 0===B?this._buffer.byteLength-a:B;if(0===a&&0===this._buffer.byteLength)return new ja;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var L=new ja;L._buffer=this._buffer.slice(a,a+B);L._view=new Uint8Array(L._buffer);return L};ja.prototype.slice=function(a,B){a=void 0===a?0:a;B=void 0===B?this._buffer.byteLength:B;if(0===a&&0===this._buffer.byteLength)return new ja;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var L=new ja;L._buffer=
this._buffer.slice(a,B);L._view=new Uint8Array(L._buffer);return L};ja.prototype.realloc=function(a){var B=new ArrayBuffer(a),L=new Uint8Array(B);a>this._view.length?L.set(this._view):L.set(new Uint8Array(this._buffer,0,a));this._buffer=B.slice(0);this._view=new Uint8Array(this._buffer)};ja.prototype.append=function(a){var B=this._buffer.byteLength,L=a._buffer.byteLength;a=a._view.slice();this.realloc(B+L);this._view.set(a,B)};ja.prototype.insert=function(a,B,L){B=void 0===B?0:B;L=void 0===L?this._buffer.byteLength-
B:L;if(B>this._buffer.byteLength-1)return!1;L>this._buffer.byteLength-B&&(L=this._buffer.byteLength-B);L>a._buffer.byteLength&&(L=a._buffer.byteLength);L==a._buffer.byteLength?this._view.set(a._view,B):this._view.set(a._view.slice(0,L),B);return!0};ja.prototype.isEqual=function(a){if(this._buffer.byteLength!=a._buffer.byteLength)return!1;for(var B=0;B<a._buffer.byteLength;B++)if(this.view[B]!=a.view[B])return!1;return!0};ja.prototype.isEqualView=function(a){if(a.length!=this.view.length)return!1;
for(var B=0;B<a.length;B++)if(this.view[B]!=a[B])return!1;return!0};ja.prototype.findPattern=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));var ha=a.buffer.byteLength;if(ha>L)return-1;for(var qa=[],Aa=0;Aa<ha;Aa++)qa.push(a.view[Aa]);for(a=0;a<=L-ha;a++){Aa=
!0;for(var Ea=Y?B-ha-a:B+a,Ga=0;Ga<ha;Ga++)if(this.view[Ga+Ea]!=qa[Ga]){Aa=!1;break}if(Aa)return Y?B-ha-a:B+ha+a}return-1};ja.prototype.findFirstIn=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));for(var ha={id:-1,position:Y?0:B+L,length:0},qa=0;qa<a.length;qa++){var Aa=
this.findPattern(a[qa],B,L,Y);if(-1!=Aa){var Ea=!1,Ga=a[qa].length;Y?Aa-Ga>=ha.position-ha.length&&(Ea=!0):Aa-Ga<=ha.position-ha.length&&(Ea=!0);Ea&&(ha.position=Aa,ha.id=qa,ha.length=Ga)}}return ha};ja.prototype.findAllIn=function(a,B,L){B=void 0===B?0:B;L=void 0===L?this.buffer.byteLength-B:L;var Y=[];null==B&&(B=0);if(B>this.buffer.byteLength-1)return Y;null==L&&(L=this.buffer.byteLength-B);L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B);B={id:-1,position:B};do{var ha=B.position;B=this.findFirstIn(a,
B.position,L);if(-1==B.id)break;L-=B.position-ha;Y.push({id:B.id,position:B.position})}while(1);return Y};ja.prototype.findAllPatternIn=function(a,B,L){B=void 0===B?0:B;L=void 0===L?this.buffer.byteLength-B:L;null==B&&(B=0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);null==L&&(L=this.buffer.byteLength-B);L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B);var Y=[],ha=a.buffer.byteLength;if(ha>L)return-1;a=Array.from(a.view);for(var qa=0;qa<=L-ha;qa++){for(var Aa=!0,Ea=B+qa,Ga=0;Ga<ha;Ga++)if(this.view[Ga+
Ea]!=a[Ga]){Aa=!1;break}Aa&&(Y.push(B+ha+qa),qa+=ha-1)}return Y};ja.prototype.findFirstNotIn=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));for(var ha={left:{id:-1,position:B},right:{id:-1,position:0},value:new ja},qa=L;0<qa;){ha.right=this.findFirstIn(a,
Y?B-L+qa:B+L-qa,qa,Y);if(-1==ha.right.id){L=qa;B=Y?B-L:ha.left.position;ha.value=new ja;ha.value._buffer=this._buffer.slice(B,B+L);ha.value._view=new Uint8Array(ha.value._buffer);break}if(ha.right.position!=(Y?ha.left.position-a[ha.right.id].buffer.byteLength:ha.left.position+a[ha.right.id].buffer.byteLength)){Y?(B=ha.right.position+a[ha.right.id].buffer.byteLength,L=ha.left.position-ha.right.position-a[ha.right.id].buffer.byteLength):(B=ha.left.position,L=ha.right.position-ha.left.position-a[ha.right.id].buffer.byteLength);
ha.value=new ja;ha.value._buffer=this._buffer.slice(B,B+L);ha.value._view=new Uint8Array(ha.value._buffer);break}ha.left=ha.right;qa-=a[ha.right.id]._buffer.byteLength}Y&&(a=ha.right,ha.right=ha.left,ha.left=a);return ha};ja.prototype.findAllNotIn=function(a,B,L){B=void 0===B?null:B;L=void 0===L?null:L;var Y=[];null==B&&(B=0);if(B>this.buffer.byteLength-1)return Y;null==L&&(L=this.buffer.byteLength-B);L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B);B={left:{id:-1,position:B},right:{id:-1,
position:B},value:new ja};do{var ha=B.right.position;B=this.findFirstNotIn(a,B.right.position,L);L-=B.right.position-ha;Y.push({left:{id:B.left.id,position:B.left.position},right:{id:B.right.id,position:B.right.position},value:B.value})}while(-1!=B.right.id);return Y};ja.prototype.findFirstSequence=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==
L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));var ha=this.skipNotPatterns(a,B,L,Y);if(-1==ha)return{position:-1,value:new ja};a=this.skipPatterns(a,ha,L-(Y?B-ha:ha-B),Y);Y?(B=a,L=ha-a):(B=ha,L=a-ha);Y=new ja;Y._buffer=this._buffer.slice(B,B+L);Y._view=new Uint8Array(Y._buffer);return{position:a,value:Y}};ja.prototype.findAllSequences=function(a,B,L){B=void 0===B?null:B;L=void 0===L?null:L;var Y=[];null==B&&(B=0);if(B>this.buffer.byteLength-1)return Y;null==
L&&(L=this.buffer.byteLength-B);L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B);B={position:B,value:new ja};do{var ha=B.position;B=this.findFirstSequence(a,B.position,L);-1!=B.position&&(L-=B.position-ha,Y.push({position:B.position,value:B.value}))}while(-1!=B.position);return Y};ja.prototype.findPairedPatterns=function(a,B,L,Y){L=void 0===L?null:L;Y=void 0===Y?null:Y;var ha=[];if(a.isEqual(B))return ha;null==L&&(L=0);if(L>this.buffer.byteLength-1)return ha;null==Y&&(Y=this.buffer.byteLength-
L);Y>this.buffer.byteLength-L&&(Y=this.buffer.byteLength-L);var qa=0;a=this.findAllPatternIn(a,L,Y);if(0==a.length)return ha;B=this.findAllPatternIn(B,L,Y);if(0==B.length)return ha;for(;qa<a.length&&0!=B.length;)if(a[0]==B[0])ha.push({left:a[0],right:B[0]}),a.splice(0,1),B.splice(0,1);else{if(a[qa]>B[0])break;for(;a[qa]<B[0]&&!(qa++,qa>=a.length););ha.push({left:a[qa-1],right:B[0]});a.splice(qa-1,1);B.splice(0,1);qa=0}ha.sort(function(Aa,Ea){return Aa.left-Ea.left});return ha};ja.prototype.findPairedArrays=
function(a,B,L,Y){L=void 0===L?null:L;Y=void 0===Y?null:Y;var ha=[];null==L&&(L=0);if(L>this.buffer.byteLength-1)return ha;null==Y&&(Y=this.buffer.byteLength-L);Y>this.buffer.byteLength-L&&(Y=this.buffer.byteLength-L);var qa=0;a=this.findAllIn(a,L,Y);if(0==a.length)return ha;B=this.findAllIn(B,L,Y);if(0==B.length)return ha;for(;qa<a.length&&0!=B.length;)if(a[0].position==B[0].position)ha.push({left:a[0],right:B[0]}),a.splice(0,1),B.splice(0,1);else{if(a[qa].position>B[0].position)break;for(;a[qa].position<
B[0].position&&!(qa++,qa>=a.length););ha.push({left:a[qa-1],right:B[0]});a.splice(qa-1,1);B.splice(0,1);qa=0}ha.sort(function(Aa,Ea){return Aa.left.position-Ea.left.position});return ha};ja.prototype.replacePattern=function(a,B,L,Y,ha){L=void 0===L?null:L;Y=void 0===Y?null:Y;ha=void 0===ha?null:ha;var qa={status:-1,searchPatternPositions:[],replacePatternPositions:[]};null==L&&(L=0);if(L>this.buffer.byteLength-1)return!1;null==Y&&(Y=this.buffer.byteLength-L);Y>this.buffer.byteLength-L&&(Y=this.buffer.byteLength-
L);if(null==ha){if(Y=this.findAllIn([a],L,Y),0==Y.length)return qa}else Y=ha;qa.searchPatternPositions.push.apply(qa.searchPatternPositions,$jscomp.arrayFromIterable(Array.from(Y,function(Qa){return Qa.position})));var Aa=a.buffer.byteLength-B.buffer.byteLength,Ea=new ArrayBuffer(this.view.length-Y.length*Aa),Ga=new Uint8Array(Ea);Ga.set(new Uint8Array(this.buffer,0,L));for(ha=0;ha<Y.length;ha++){var Ja=0==ha?L:Y[ha-1].position;Ga.set(new Uint8Array(this.buffer,Ja,Y[ha].position-a.buffer.byteLength-
Ja),Ja-ha*Aa);Ga.set(B.view,Y[ha].position-a.buffer.byteLength-ha*Aa);qa.replacePatternPositions.push(Y[ha].position-a.buffer.byteLength-ha*Aa)}ha--;Ga.set(new Uint8Array(this.buffer,Y[ha].position,this.buffer.byteLength-Y[ha].position),Y[ha].position-a.buffer.byteLength+B.buffer.byteLength-ha*Aa);this.buffer=Ea;this.view=new Uint8Array(this.buffer);qa.status=1;return qa};ja.prototype.skipPatterns=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:
0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));for(var ha=B,qa=0;qa<a.length;qa++){for(var Aa=a[qa].buffer.byteLength,Ea=Y?ha-Aa:ha,Ga=!0,Ja=0;Ja<Aa;Ja++)if(this.view[Ja+Ea]!=a[qa].view[Ja]){Ga=!1;break}if(Ga)if(qa=-1,Y){if(ha-=Aa,0>=ha)break}else if(ha+=Aa,ha>=B+L)break}return ha};ja.prototype.skipNotPatterns=function(a,B,L,Y){B=void 0===B?null:B;L=void 0===L?null:
L;Y=void 0===Y?!1:Y;null==B&&(B=Y?this.buffer.byteLength:0);B>this.buffer.byteLength&&(B=this.buffer.byteLength);Y?(null==L&&(L=B),L>B&&(L=B)):(null==L&&(L=this.buffer.byteLength-B),L>this.buffer.byteLength-B&&(L=this.buffer.byteLength-B));for(var ha=-1,qa=0;qa<L;qa++){for(var Aa=0;Aa<a.length;Aa++){for(var Ea=a[Aa].buffer.byteLength,Ga=Y?B-qa-Ea:B+qa,Ja=!0,Qa=0;Qa<Ea;Qa++)if(this.view[Qa+Ga]!=a[Aa].view[Qa]){Ja=!1;break}if(Ja){ha=Y?B-qa:B+qa;break}}if(-1!=ha)break}return ha};$jscomp.global.Object.defineProperties(ja.prototype,
{buffer:{configurable:!0,enumerable:!0,set:function(a){this._buffer=a.slice(0);this._view=new Uint8Array(this._buffer)},get:function(){return this._buffer}},view:{configurable:!0,enumerable:!0,set:function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)},get:function(){return this._view}},length:{configurable:!0,enumerable:!0,get:function(){return this._buffer.byteLength},set:function(a){this._buffer=new ArrayBuffer(a);this._view=new Uint8Array(this._buffer)}}});
var la=function(a){a=void 0===a?{}:a;this.stream=new ja;this._length=0;this.backward=!1;this.prevStart=this.prevLength=this.appendBlock=this._start=0;for(var B=$jscomp.makeIterator(Object.keys(a)),L=B.next();!L.done;L=B.next())switch(L.value){case "stream":this.stream=a.stream;break;case "backward":this.backward=a.backward;this._start=this.stream.buffer.byteLength;break;case "length":this._length=a.length;break;case "start":this._start=a.start;break;case "appendBlock":this.appendBlock=a.appendBlock;
break;case "view":this.stream=new ja({view:a.view});break;case "buffer":this.stream=new ja({buffer:a.buffer});break;case "string":this.stream=new ja({string:a.string});break;case "hexstring":this.stream=new ja({hexstring:a.hexstring})}};la.prototype.resetPosition=function(){this._start=this.prevStart;this._length=this.prevLength};la.prototype.findPattern=function(a,B){B=void 0===B?null:B;if(null==B||B>this.length)B=this.length;var L=this.stream.findPattern(a,this.start,this.length,this.backward);
if(-1==L)return L;if(this.backward){if(L<this.start-a.buffer.byteLength-B)return-1}else if(L>this.start+a.buffer.byteLength+B)return-1;return this.start=L};la.prototype.findFirstIn=function(a,B){B=void 0===B?null:B;if(null==B||B>this.length)B=this.length;var L=this.stream.findFirstIn(a,this.start,this.length,this.backward);if(-1==L.id)return L;if(this.backward){if(L.position<this.start-a[L.id].buffer.byteLength-B)return{id:-1,position:this.backward?0:this.start+this.length}}else if(L.position>this.start+
a[L.id].buffer.byteLength+B)return{id:-1,position:this.backward?0:this.start+this.length};this.start=L.position;return L};la.prototype.findAllIn=function(a){return this.stream.findAllIn(a,this.backward?this.start-this.length:this.start,this.length)};la.prototype.findFirstNotIn=function(a,B){B=void 0===B?null:B;if(null==B||B>this._length)B=this._length;var L=this._stream.findFirstNotIn(a,this._start,this._length,this.backward);if(-1==L.left.id&&-1==L.right.id)return L;if(this.backward){if(-1!=L.right.id&&
L.right.position<this._start-a[L.right.id]._buffer.byteLength-B)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ja}}else if(-1!=L.left.id&&L.left.position>this._start+a[L.left.id]._buffer.byteLength+B)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new ja};this.start=this.backward?-1==L.left.id?0:L.left.position:-1==L.right.id?this._start+this._length:L.right.position;return L};la.prototype.findAllNotIn=function(a){return this._stream.findAllNotIn(a,
this.backward?this._start-this._length:this._start,this._length)};la.prototype.findFirstSequence=function(a,B,L){B=void 0===B?null:B;L=void 0===L?null:L;if(null==B||B>this._length)B=this._length;if(null==L||L>B)L=B;a=this._stream.findFirstSequence(a,this._start,B,this.backward);if(0==a.value.buffer.byteLength)return a;if(this.backward){if(a.position<this._start-a.value._buffer.byteLength-L)return{position:-1,value:new ja}}else if(a.position>this._start+a.value._buffer.byteLength+L)return{position:-1,
value:new ja};this.start=a.position;return a};la.prototype.findAllSequences=function(a){return this.stream.findAllSequences(a,this.backward?this.start-this.length:this.start,this.length)};la.prototype.findPairedPatterns=function(a,B,L){L=void 0===L?null:L;if(null==L||L>this.length)L=this.length;var Y=this.stream.findPairedPatterns(a,B,this.backward?this.start-this.length:this.start,this.length);if(Y.length)if(this.backward){if(Y[0].right<this.start-B.buffer.byteLength-L)return[]}else if(Y[0].left>
this.start+a.buffer.byteLength+L)return[];return Y};la.prototype.findPairedArrays=function(a,B,L){L=void 0===L?null:L;if(null==L||L>this.length)L=this.length;var Y=this.stream.findPairedArrays(a,B,this.backward?this.start-this.length:this.start,this.length);if(Y.length)if(this.backward){if(Y[0].right.position<this.start-B[Y[0].right.id].buffer.byteLength-L)return[]}else if(Y[0].left.position>this.start+a[Y[0].left.id].buffer.byteLength+L)return[];return Y};la.prototype.replacePattern=function(a,B){return this.stream.replacePattern(a,
B,this.backward?this.start-this.length:this.start,this.length)};la.prototype.skipPatterns=function(a){return this.start=a=this.stream.skipPatterns(a,this.start,this.length,this.backward)};la.prototype.skipNotPatterns=function(a){a=this.stream.skipNotPatterns(a,this.start,this.length,this.backward);return-1==a?-1:this.start=a};la.prototype.append=function(a){this._start+a._buffer.byteLength>this._stream._buffer.byteLength&&(a._buffer.byteLength>this.appendBlock&&(this.appendBlock=a._buffer.byteLength+
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a._view,this._start);this._length+=2*a._buffer.byteLength;this.start=this._start+a._buffer.byteLength;this.prevLength-=2*a._buffer.byteLength};la.prototype.appendView=function(a){this._start+a.length>this._stream._buffer.byteLength&&(a.length>this.appendBlock&&(this.appendBlock=a.length+1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a,this._start);
this._length+=2*a.length;this.start=this._start+a.length;this.prevLength-=2*a.length};la.prototype.appendChar=function(a){this._start+1>this._stream._buffer.byteLength&&(1>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view[this._start]=a;this._length+=2;this.start=this._start+1;this.prevLength-=2};la.prototype.appendUint16=function(a){this._start+2>this._stream._buffer.byteLength&&(2>this.appendBlock&&(this.appendBlock=
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint16Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[1];this._stream._view[this._start+1]=a[0];this._length+=4;this.start=this._start+2;this.prevLength-=4};la.prototype.appendUint24=function(a){this._start+3>this._stream._buffer.byteLength&&(3>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);
this._stream._view[this._start]=a[2];this._stream._view[this._start+1]=a[1];this._stream._view[this._start+2]=a[0];this._length+=6;this.start=this._start+3;this.prevLength-=6};la.prototype.appendUint32=function(a){this._start+4>this._stream._buffer.byteLength&&(4>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[3];this._stream._view[this._start+1]=a[2];
this._stream._view[this._start+2]=a[1];this._stream._view[this._start+3]=a[0];this._length+=8;this.start=this._start+4;this.prevLength-=8};la.prototype.getBlock=function(a,B){B=void 0===B?!0:B;if(0>=this._length)return[];this._length<a&&(a=this._length);if(this.backward){var L=this._stream._buffer.slice(this._length-a,this._length);var Y=new Uint8Array(L);L=Array(a);for(var ha=0;ha<a;ha++)L[a-1-ha]=Y[ha]}else L=this._stream._buffer.slice(this._start,this._start+a),L=Array.from(new Uint8Array(L));
B&&(this.start+=this.backward?-1*a:a);return L};la.prototype.getUint16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var B=new Uint16Array(1),L=new Uint8Array(B.buffer);L[0]=a[1];L[1]=a[0];return B[0]};la.prototype.getInt16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var B=new Int16Array(1),L=new Uint8Array(B.buffer);L[0]=a[1];L[1]=a[0];return B[0]};la.prototype.getUint24=function(a){a=this.getBlock(3,void 0===a?!0:a);if(3>a.length)return 0;for(var B=
new Uint32Array(1),L=new Uint8Array(B.buffer),Y=3;1<=Y;Y--)L[3-Y]=a[Y-1];return B[0]};la.prototype.getUint32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var B=new Uint32Array(1),L=new Uint8Array(B.buffer),Y=3;0<=Y;Y--)L[3-Y]=a[Y];return B[0]};la.prototype.getInt32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var B=new Int32Array(1),L=new Uint8Array(B.buffer),Y=3;0<=Y;Y--)L[3-Y]=a[Y];return B[0]};$jscomp.global.Object.defineProperties(la.prototype,
{stream:{configurable:!0,enumerable:!0,set:function(a){this._stream=a;this.prevLength=this._length;this._length=a._buffer.byteLength;this.prevStart=this._start;this._start=0},get:function(){return this._stream}},length:{configurable:!0,enumerable:!0,set:function(a){this.prevLength=this._length;this._length=a},get:function(){return this.appendBlock?this.start:this._length}},start:{configurable:!0,enumerable:!0,set:function(a){a>this.stream.buffer.byteLength||(this.prevStart=this._start,this.prevLength=
this._length,this._length-=this.backward?this._start-a:a-this._start,this._start=a)},get:function(){return this._start}},buffer:{configurable:!0,enumerable:!0,get:function(){return this._stream._buffer.slice(0,this._length)}}});var Ba=function(a){a=void 0===a?{}:a;this.version=Object(e.e)(a,"version",Ba.defaultValues("version"));this.logID=Object(e.e)(a,"logID",Ba.defaultValues("logID"));this.timestamp=Object(e.e)(a,"timestamp",Ba.defaultValues("timestamp"));this.extensions=Object(e.e)(a,"extensions",
Ba.defaultValues("extensions"));this.hashAlgorithm=Object(e.e)(a,"hashAlgorithm",Ba.defaultValues("hashAlgorithm"));this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",Ba.defaultValues("signatureAlgorithm"));this.signature=Object(e.e)(a,"signature",Ba.defaultValues("signature"));"schema"in a&&this.fromSchema(a.schema);"stream"in a&&this.fromStream(a.stream)};Ba.defaultValues=function(a){switch(a){case "version":return 0;case "logID":case "extensions":return new ArrayBuffer(0);case "timestamp":return new Date(0);
case "hashAlgorithm":case "signatureAlgorithm":return"";case "signature":return new l.a;default:throw Error("Invalid member name for SignedCertificateTimestamp class: "+a);}};Ba.prototype.fromSchema=function(a){if(!1===a instanceof l.t)throw Error("Object's schema was not verified against input data for SignedCertificateTimestamp");a=new la({stream:new ja({buffer:a.data})});this.fromStream(a)};Ba.prototype.fromStream=function(a){var B=a.getUint16();this.version=a.getBlock(1)[0];if(0===this.version){this.logID=
(new Uint8Array(a.getBlock(32))).buffer.slice(0);this.timestamp=new Date(Object(e.k)(new Uint8Array(a.getBlock(8)),8));var L=a.getUint16();this.extensions=(new Uint8Array(a.getBlock(L))).buffer.slice(0);switch(a.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";
break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}switch(a.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}var Y=a.getUint16();a=(new Uint8Array(a.getBlock(Y))).buffer.slice(0);a=l.E(a);if(-1===a.offset)throw Error("Object's stream was not correct for SignedCertificateTimestamp");
this.signature=a.result;if(B!==47+L+Y)throw Error("Object's stream was not correct for SignedCertificateTimestamp");}};Ba.prototype.toSchema=function(){var a=this.toStream();return new l.t({data:a.stream.buffer})};Ba.prototype.toStream=function(){var a=new la;a.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength);a.appendChar(this.version);a.appendView(new Uint8Array(this.logID));var B=new ArrayBuffer(8);B=new Uint8Array(B);var L=Object(e.l)(this.timestamp.valueOf(),
8);B.set(new Uint8Array(L),8-L.byteLength);a.appendView(B);a.appendUint16(this.extensions.byteLength);this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions));switch(this.hashAlgorithm.toLowerCase()){case "none":B=0;break;case "md5":B=1;break;case "sha1":B=2;break;case "sha224":B=3;break;case "sha256":B=4;break;case "sha384":B=5;break;case "sha512":B=6;break;default:throw Error("Incorrect data for hashAlgorithm: "+this.hashAlgorithm);}a.appendChar(B);switch(this.signatureAlgorithm.toLowerCase()){case "anonymous":B=
0;break;case "rsa":B=1;break;case "dsa":B=2;break;case "ecdsa":B=3;break;default:throw Error("Incorrect data for signatureAlgorithm: "+this.signatureAlgorithm);}a.appendChar(B);B=this.signature.toBER(!1);a.appendUint16(B.byteLength);a.appendView(new Uint8Array(B));return a};Ba.prototype.toJSON=function(){return{version:this.version,logID:Object(e.b)(this.logID),timestamp:this.timestamp,extensions:Object(e.b)(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,
signature:this.signature.toJSON()}};Ba.prototype.verify=function(a,B,L){L=void 0===L?0:L;var Y=this,ha,qa,Aa,Ea,Ga,Ja,Qa,Wa,jb,kb,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hb){ha=Object(e.i)(Object(e.a)(Y.logID));qa=null;Ea=new la;Ga=$jscomp.makeIterator(a);for(Ja=Ga.next();!Ja.done;Ja=Ga.next())if(Qa=Ja.value,Qa.log_id===ha){qa=Qa.key;break}if(null===qa)throw Error("Public key not found for CT with logId: "+ha);Wa=l.E(Object(e.h)(Object(e.d)(qa)));if(-1===Wa.offset)throw Error("Incorrect key value for CT Log with logId: "+
ha);Aa=new ea.a({schema:Wa.result});Ea.appendChar(0);Ea.appendChar(0);jb=new ArrayBuffer(8);kb=new Uint8Array(jb);lb=Object(e.l)(Y.timestamp.valueOf(),8);kb.set(new Uint8Array(lb),8-lb.byteLength);Ea.appendView(kb);Ea.appendUint16(L);0===L&&Ea.appendUint24(B.byteLength);Ea.appendView(new Uint8Array(B));Ea.appendUint16(Y.extensions.byteLength);0!==Y.extensions.byteLength&&Ea.appendView(new Uint8Array(Y.extensions));return hb.return(Object(P.e)().subtle.verifyWithPublicKey(Ea._stream._buffer.slice(0,
Ea._length),{valueBlock:{valueHex:Y.signature.toBER(!1)}},Aa,{algorithmId:""},"SHA-256"))})};var Ha=function(a){a=void 0===a?{}:a;this.timestamps=Object(e.e)(a,"timestamps",Ha.defaultValues("timestamps"));"schema"in a&&this.fromSchema(a.schema)};Ha.defaultValues=function(a){switch(a){case "timestamps":return[];default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+a);}};Ha.compareWithDefault=function(a,B){switch(a){case "timestamps":return 0===B.length;default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+
a);}};Ha.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});!1==="optional"in a&&(a.optional=!1);return new l.q({name:a.blockName||"SignedCertificateTimestampList",optional:a.optional})};Ha.prototype.fromSchema=function(a){if(!1===a instanceof l.q)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");a=new la({stream:new ja({buffer:a.valueBlock.valueHex})});if(a.getUint16()!==a.length)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");
for(;a.length;)this.timestamps.push(new Ba({stream:a}))};Ha.prototype.toSchema=function(){for(var a=new la,B=0,L=[],Y=$jscomp.makeIterator(this.timestamps),ha=Y.next();!ha.done;ha=Y.next())ha=ha.value.toStream(),L.push(ha),B+=ha.stream.buffer.byteLength;a.appendUint16(B);B=$jscomp.makeIterator(L);for(ha=B.next();!ha.done;ha=B.next())a.appendView(ha.value.stream.view);return new l.q({valueHex:a.stream.buffer.slice(0)})};Ha.prototype.toJSON=function(){return{timestamps:Array.from(this.timestamps,function(a){return a.toJSON()})}};
var Ma=function(a){a=void 0===a?{}:a;this.templateID=Object(e.e)(a,"templateID",Ma.defaultValues("templateID"));"templateMajorVersion"in a&&(this.templateMajorVersion=Object(e.e)(a,"templateMajorVersion",Ma.defaultValues("templateMajorVersion")));"templateMinorVersion"in a&&(this.templateMinorVersion=Object(e.e)(a,"templateMinorVersion",Ma.defaultValues("templateMinorVersion")));"schema"in a&&this.fromSchema(a.schema)};Ma.defaultValues=function(a){switch(a){case "templateID":return"";case "templateMajorVersion":case "templateMinorVersion":return 0;
default:throw Error("Invalid member name for CertificateTemplate class: "+a);}};Ma.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.templateID||""}),new l.m({name:a.templateMajorVersion||"",optional:!0}),new l.m({name:a.templateMinorVersion||"",optional:!0})]})};Ma.prototype.fromSchema=function(a){Object(e.c)(a,["templateID","templateMajorVersion","templateMinorVersion"]);a=l.D(a,a,Ma.schema({names:{templateID:"templateID",
templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=a.result.templateID.valueBlock.toString();"templateMajorVersion"in a.result&&(this.templateMajorVersion=a.result.templateMajorVersion.valueBlock.valueDec);"templateMinorVersion"in a.result&&(this.templateMinorVersion=a.result.templateMinorVersion.valueBlock.valueDec)};Ma.prototype.toSchema=
function(){var a=[];a.push(new l.p({value:this.templateID}));"templateMajorVersion"in this&&a.push(new l.m({value:this.templateMajorVersion}));"templateMinorVersion"in this&&a.push(new l.m({value:this.templateMinorVersion}));return new l.v({value:a})};Ma.prototype.toJSON=function(){var a={extnID:this.templateID};"templateMajorVersion"in this&&(a.templateMajorVersion=this.templateMajorVersion);"templateMinorVersion"in this&&(a.templateMinorVersion=this.templateMinorVersion);return a};var Sa=function(a){a=
void 0===a?{}:a;this.certificateIndex=Object(e.e)(a,"certificateIndex",Sa.defaultValues("certificateIndex"));this.keyIndex=Object(e.e)(a,"keyIndex",Sa.defaultValues("keyIndex"));"schema"in a&&this.fromSchema(a.schema)};Sa.defaultValues=function(a){switch(a){case "certificateIndex":case "keyIndex":return 0;default:throw Error("Invalid member name for CAVersion class: "+a);}};Sa.schema=function(a){return new l.m};Sa.prototype.fromSchema=function(a){if(a.constructor.blockName()!==l.m.blockName())throw Error("Object's schema was not verified against input data for CAVersion");
a=a.valueBlock.valueHex.slice(0);var B=new Uint8Array(a);switch(!0){case 4>a.byteLength:var L=new ArrayBuffer(4);(new Uint8Array(L)).set(B,4-a.byteLength);a=L.slice(0);break;case 4<a.byteLength:a=new ArrayBuffer(4),(new Uint8Array(a)).set(B.slice(0,4)),a=a.slice(0)}L=a.slice(0,2);var Y=new Uint8Array(L);B=Y[0];Y[0]=Y[1];Y[1]=B;this.keyIndex=(new Uint16Array(L))[0];a=a.slice(2);L=new Uint8Array(a);B=L[0];L[0]=L[1];L[1]=B;this.certificateIndex=(new Uint16Array(a))[0]};Sa.prototype.toSchema=function(){var a=
new ArrayBuffer(2);(new Uint16Array(a))[0]=this.certificateIndex;var B=new Uint8Array(a),L=B[0];B[0]=B[1];B[1]=L;B=new ArrayBuffer(2);(new Uint16Array(B))[0]=this.keyIndex;var Y=new Uint8Array(B);L=Y[0];Y[0]=Y[1];Y[1]=L;return new l.m({valueHex:Object(e.j)(B,a)})};Sa.prototype.toJSON=function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}};var Ka=function(a){a=void 0===a?{}:a;this.id=Object(e.e)(a,"id",Ka.defaultValues("id"));"type"in a&&(this.type=Object(e.e)(a,"type",Ka.defaultValues("type")));
"schema"in a&&this.fromSchema(a.schema)};Ka.defaultValues=function(a){switch(a){case "id":return"";case "type":return new l.n;default:throw Error("Invalid member name for QCStatement class: "+a);}};Ka.compareWithDefault=function(a,B){switch(a){case "id":return""===B;case "type":return B instanceof l.n;default:throw Error("Invalid member name for QCStatement class: "+a);}};Ka.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.id||
""}),new l.a({name:a.type||"",optional:!0})]})};Ka.prototype.fromSchema=function(a){Object(e.c)(a,["id","type"]);a=l.D(a,a,Ka.schema({names:{id:"id",type:"type"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatement");this.id=a.result.id.valueBlock.toString();"type"in a.result&&(this.type=a.result.type)};Ka.prototype.toSchema=function(){var a=[new l.p({value:this.id})];"type"in this&&a.push(this.type);return new l.v({value:a})};Ka.prototype.toJSON=
function(){var a={id:this.id};"type"in this&&(a.type=this.type.toJSON());return a};var Ia=function(a){a=void 0===a?{}:a;this.values=Object(e.e)(a,"values",Ia.defaultValues("values"));"schema"in a&&this.fromSchema(a.schema)};Ia.defaultValues=function(a){switch(a){case "values":return[];default:throw Error("Invalid member name for QCStatements class: "+a);}};Ia.compareWithDefault=function(a,B){switch(a){case "values":return 0===B.length;default:throw Error("Invalid member name for QCStatements class: "+
a);}};Ia.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.u({name:a.values||"",value:Ka.schema(a.value||{})})]})};Ia.prototype.fromSchema=function(a){Object(e.c)(a,["values"]);a=l.D(a,a,Ia.schema({names:{values:"values"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(a.result.values,function(B){return new Ka({schema:B})})};Ia.prototype.toSchema=function(){return new l.v({value:Array.from(this.values,
function(a){return a.toSchema()})})};Ia.prototype.toJSON=function(){return{extensions:Array.from(this.values,function(a){return a.toJSON()})}};var Ra=function(a){a=void 0===a?{}:a;this.extnID=Object(e.e)(a,"extnID",Ra.defaultValues("extnID"));this.critical=Object(e.e)(a,"critical",Ra.defaultValues("critical"));this.extnValue="extnValue"in a?new l.q({valueHex:a.extnValue}):Ra.defaultValues("extnValue");"parsedValue"in a&&(this.parsedValue=Object(e.e)(a,"parsedValue",Ra.defaultValues("parsedValue")));
"schema"in a&&this.fromSchema(a.schema)};Ra.defaultValues=function(a){switch(a){case "extnID":return"";case "critical":return!1;case "extnValue":return new l.q;case "parsedValue":return{};default:throw Error("Invalid member name for Extension class: "+a);}};Ra.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new l.v({name:a.blockName||"",value:[new l.p({name:a.extnID||""}),new l.d({name:a.critical||"",optional:!0}),new l.q({name:a.extnValue||""})]})};Ra.prototype.fromSchema=
function(a){Object(e.c)(a,["extnID","critical","extnValue"]);a=l.D(a,a,Ra.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extension");this.extnID=a.result.extnID.valueBlock.toString();"critical"in a.result&&(this.critical=a.result.critical.valueBlock.value);this.extnValue=a.result.extnValue;a=l.E(this.extnValue.valueBlock.valueHex);if(-1!==a.offset)switch(this.extnID){case "2.5.29.9":try{this.parsedValue=
new ia({schema:a.result})}catch(B){this.parsedValue=new ia,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case "2.5.29.14":this.parsedValue=a.result;break;case "2.5.29.15":this.parsedValue=a.result;break;case "2.5.29.16":try{this.parsedValue=new na({schema:a.result})}catch(B){this.parsedValue=new na,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case "2.5.29.17":case "2.5.29.18":try{this.parsedValue=new M({schema:a.result})}catch(B){this.parsedValue=
new M,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case "2.5.29.19":try{this.parsedValue=new r({schema:a.result})}catch(B){this.parsedValue=new r,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case "2.5.29.20":case "2.5.29.27":this.parsedValue=a.result;break;case "2.5.29.21":this.parsedValue=a.result;break;case "2.5.29.24":this.parsedValue=a.result;break;case "2.5.29.28":try{this.parsedValue=new n({schema:a.result})}catch(B){this.parsedValue=new n,
this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case "2.5.29.29":try{this.parsedValue=new v({schema:a.result})}catch(B){this.parsedValue=new v,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case "2.5.29.30":try{this.parsedValue=new U({schema:a.result})}catch(B){this.parsedValue=new U,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case "2.5.29.31":case "2.5.29.46":try{this.parsedValue=new O({schema:a.result})}catch(B){this.parsedValue=
new O,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case "2.5.29.32":case "1.3.6.1.4.1.311.21.10":try{this.parsedValue=new xa({schema:a.result})}catch(B){this.parsedValue=new xa,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case "2.5.29.33":try{this.parsedValue=new za({schema:a.result})}catch(B){this.parsedValue=new za,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case "2.5.29.35":try{this.parsedValue=
new ta({schema:a.result})}catch(B){this.parsedValue=new ta,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case "2.5.29.36":try{this.parsedValue=new c({schema:a.result})}catch(B){this.parsedValue=new c,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case "2.5.29.37":try{this.parsedValue=new X({schema:a.result})}catch(B){this.parsedValue=new X,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case "2.5.29.54":this.parsedValue=
a.result;break;case "1.3.6.1.5.5.7.1.1":case "1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ka({schema:a.result})}catch(B){this.parsedValue=new ka,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case "1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new Ha({schema:a.result})}catch(B){this.parsedValue=new Ha,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case "1.3.6.1.4.1.311.20.2":this.parsedValue=a.result;break;case "1.3.6.1.4.1.311.21.2":this.parsedValue=
a.result;break;case "1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Ma({schema:a.result})}catch(B){this.parsedValue=new Ma,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case "1.3.6.1.4.1.311.21.1":try{this.parsedValue=new Sa({schema:a.result})}catch(B){this.parsedValue=new Sa,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case "1.3.6.1.5.5.7.1.3":try{this.parsedValue=new Ia({schema:a.result})}catch(B){this.parsedValue=new Ia,this.parsedValue.parsingError=
"Incorrectly formated QCStatements"}}};Ra.prototype.toSchema=function(){var a=[];a.push(new l.p({value:this.extnID}));this.critical!==Ra.defaultValues("critical")&&a.push(new l.d({value:this.critical}));a.push(this.extnValue);return new l.v({value:a})};Ra.prototype.toJSON=function(){var a={extnID:this.extnID,extnValue:this.extnValue.toJSON()};this.critical!==Ra.defaultValues("critical")&&(a.critical=this.critical);"parsedValue"in this&&"toJSON"in this.parsedValue&&(a.parsedValue=this.parsedValue.toJSON());
return a};var db=function(a){a=void 0===a?{}:a;this.extensions=Object(e.e)(a,"extensions",db.defaultValues("extensions"));"schema"in a&&this.fromSchema(a.schema)};db.defaultValues=function(a){switch(a){case "extensions":return[];default:throw Error("Invalid member name for Extensions class: "+a);}};db.schema=function(a,B){a=void 0===a?{}:a;B=void 0===B?!1:B;a=Object(e.e)(a,"names",{});return new l.v({optional:B,name:a.blockName||"",value:[new l.u({name:a.extensions||"",value:Ra.schema(a.extension||
{})})]})};db.prototype.fromSchema=function(a){Object(e.c)(a,["extensions"]);a=l.D(a,a,db.schema({names:{extensions:"extensions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(a.result.extensions,function(B){return new Ra({schema:B})})};db.prototype.toSchema=function(){return new l.v({value:Array.from(this.extensions,function(a){return a.toSchema()})})};db.prototype.toJSON=function(){return{extensions:Array.from(this.extensions,
function(a){return a.toJSON()})}};var Va=function(a){a=void 0===a?{}:a;this.tbs=Object(e.e)(a,"tbs",Va.defaultValues("tbs"));this.version=Object(e.e)(a,"version",Va.defaultValues("version"));this.serialNumber=Object(e.e)(a,"serialNumber",Va.defaultValues("serialNumber"));this.signature=Object(e.e)(a,"signature",Va.defaultValues("signature"));this.issuer=Object(e.e)(a,"issuer",Va.defaultValues("issuer"));this.notBefore=Object(e.e)(a,"notBefore",Va.defaultValues("notBefore"));this.notAfter=Object(e.e)(a,
"notAfter",Va.defaultValues("notAfter"));this.subject=Object(e.e)(a,"subject",Va.defaultValues("subject"));this.subjectPublicKeyInfo=Object(e.e)(a,"subjectPublicKeyInfo",Va.defaultValues("subjectPublicKeyInfo"));"issuerUniqueID"in a&&(this.issuerUniqueID=Object(e.e)(a,"issuerUniqueID",Va.defaultValues("issuerUniqueID")));"subjectUniqueID"in a&&(this.subjectUniqueID=Object(e.e)(a,"subjectUniqueID",Va.defaultValues("subjectUniqueID")));"extensions"in a&&(this.extensions=Object(e.e)(a,"extensions",Va.defaultValues("extensions")));
this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",Va.defaultValues("signatureAlgorithm"));this.signatureValue=Object(e.e)(a,"signatureValue",Va.defaultValues("signatureValue"));"schema"in a&&this.fromSchema(a.schema)};Va.defaultValues=function(a){switch(a){case "tbs":return new ArrayBuffer(0);case "version":return 0;case "serialNumber":return new l.m;case "signature":return new G.a;case "issuer":return new J;case "notBefore":return new ca;case "notAfter":return new ca;case "subject":return new J;
case "subjectPublicKeyInfo":return new ea.a;case "issuerUniqueID":return new ArrayBuffer(0);case "subjectUniqueID":return new ArrayBuffer(0);case "extensions":return[];case "signatureAlgorithm":return new G.a;case "signatureValue":return new l.b;default:throw Error("Invalid member name for Certificate class: "+a);}};Va.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var B=l.v,L=a.blockName||"";var Y=a.tbsCertificate;Y=void 0===Y?{}:Y;Y=Object(e.e)(Y,"names",{});Y=new l.v({name:Y.blockName||
"tbsCertificate",value:[new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new l.m({name:Y.tbsCertificateVersion||"tbsCertificate.version"})]}),new l.m({name:Y.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),G.a.schema(Y.signature||{names:{blockName:"tbsCertificate.signature"}}),J.schema(Y.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new l.v({name:Y.tbsCertificateValidity||"tbsCertificate.validity",value:[ca.schema(Y.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",
generalTimeName:"tbsCertificate.notBefore"}}),ca.schema(Y.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),J.schema(Y.subject||{names:{blockName:"tbsCertificate.subject"}}),ea.a.schema(Y.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new l.r({name:Y.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new l.r({name:Y.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",
optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[db.schema(Y.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]});return new B({name:L,value:[Y,G.a.schema(a.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new l.b({name:a.signatureValue||"signatureValue"})]})};Va.prototype.fromSchema=function(a){Object(e.c)(a,"tbsCertificate tbsCertificate.extensions tbsCertificate.version tbsCertificate.serialNumber tbsCertificate.signature tbsCertificate.issuer tbsCertificate.notBefore tbsCertificate.notAfter tbsCertificate.subject tbsCertificate.subjectPublicKeyInfo tbsCertificate.issuerUniqueID tbsCertificate.subjectUniqueID signatureAlgorithm signatureValue".split(" "));
a=l.D(a,a,Va.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Certificate");this.tbs=a.result.tbsCertificate.valueBeforeDecode;"tbsCertificate.version"in a.result&&(this.version=a.result["tbsCertificate.version"].valueBlock.valueDec);this.serialNumber=a.result["tbsCertificate.serialNumber"];this.signature=new G.a({schema:a.result["tbsCertificate.signature"]});
this.issuer=new J({schema:a.result["tbsCertificate.issuer"]});this.notBefore=new ca({schema:a.result["tbsCertificate.notBefore"]});this.notAfter=new ca({schema:a.result["tbsCertificate.notAfter"]});this.subject=new J({schema:a.result["tbsCertificate.subject"]});this.subjectPublicKeyInfo=new ea.a({schema:a.result["tbsCertificate.subjectPublicKeyInfo"]});"tbsCertificate.issuerUniqueID"in a.result&&(this.issuerUniqueID=a.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex);"tbsCertificate.subjectUniqueID"in
a.result&&(this.subjectUniqueID=a.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex);"tbsCertificate.extensions"in a.result&&(this.extensions=Array.from(a.result["tbsCertificate.extensions"],function(B){return new Ra({schema:B})}));this.signatureAlgorithm=new G.a({schema:a.result.signatureAlgorithm});this.signatureValue=a.result.signatureValue};Va.prototype.encodeTBS=function(){var a=[];"version"in this&&this.version!==Va.defaultValues("version")&&a.push(new l.g({optional:!0,idBlock:{tagClass:3,
tagNumber:0},value:[new l.m({value:this.version})]}));a.push(this.serialNumber);a.push(this.signature.toSchema());a.push(this.issuer.toSchema());a.push(new l.v({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));a.push(this.subject.toSchema());a.push(this.subjectPublicKeyInfo.toSchema());"issuerUniqueID"in this&&a.push(new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}));"subjectUniqueID"in this&&a.push(new l.r({optional:!0,idBlock:{tagClass:3,tagNumber:2},
valueHex:this.subjectUniqueID}));"extensions"in this&&a.push(new l.g({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new l.v({value:Array.from(this.extensions,function(B){return B.toSchema()})})]}));return new l.v({value:a})};Va.prototype.toSchema=function(a){if(!1===(void 0===a?!1:a)){if(0===this.tbs.length)return Va.schema().value[0];a=l.E(this.tbs).result}else a=this.encodeTBS();return new l.v({value:[a,this.signatureAlgorithm.toSchema(),this.signatureValue]})};Va.prototype.toJSON=function(){var a=
{tbs:Object(e.b)(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"version"in this&&this.version!==Va.defaultValues("version")&&(a.version=this.version);"issuerUniqueID"in
this&&(a.issuerUniqueID=Object(e.b)(this.issuerUniqueID,0,this.issuerUniqueID.byteLength));"subjectUniqueID"in this&&(a.subjectUniqueID=Object(e.b)(this.subjectUniqueID,0,this.subjectUniqueID.byteLength));"extensions"in this&&(a.extensions=Array.from(this.extensions,function(B){return B.toJSON()}));return a};Va.prototype.getPublicKey=function(a){a=void 0===a?null:a;return Object(P.e)().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,a)};Va.prototype.getKeyHash=function(a){a=
void 0===a?"SHA-1":a;var B=Object(P.d)();return"undefined"===typeof B?Promise.reject("Unable to create WebCrypto object"):B.digest({name:a},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))};Va.prototype.sign=function(a,B){var L=this;B=void 0===B?"SHA-1":B;if("undefined"===typeof a)return Promise.reject("Need to provide a private key for signing");var Y=Promise.resolve(),ha,qa=Object(P.e)();Y=Y.then(function(){return qa.subtle.getSignatureParameters(a,B)});Y=Y.then(function(Aa){ha=
Aa.parameters;L.signature=Aa.signatureAlgorithm;L.signatureAlgorithm=Aa.signatureAlgorithm});Y=Y.then(function(){L.tbs=L.encodeTBS().toBER(!1)});Y=Y.then(function(){return qa.subtle.signWithPrivateKey(L.tbs,a,ha)});return Y=Y.then(function(Aa){L.signatureValue=new l.b({valueHex:Aa})})};Va.prototype.verify=function(a){a=void 0===a?null:a;var B={};null!==a?B=a.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(B=this.subjectPublicKeyInfo);return!1===B instanceof ea.a?Promise.reject("Please provide issuer certificate as a parameter"):
Object(P.e)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,B,this.signatureAlgorithm)};C(17);var gb=C(36);C(28);C(12);var nb=Z.a,da=function(a){a=void 0===a?{}:a;return nb.call(this,a)||this};$jscomp.inherits(da,nb);C(22);C(30);C(29);C(27);C(23);var fa=C(24),wa=null,ya=function(){};ya.setEngine=function(a,B){wa={getRandomValues:B.getRandomValues.bind(B),subtle:B.subtle,name:a};Object(P.i)(a,new gb.a({name:a,crypto:B,subtle:B.subtle}),new gb.a({name:a,crypto:B,subtle:B.subtle}))};ya.isNodePlugin=
function(){return"undefined"===typeof self&&"undefined"===typeof window};$jscomp.global.Object.defineProperties(ya,{crypto:{configurable:!0,enumerable:!0,get:function(){if(!wa)throw new m.m(m.f.CRYPTOGRAPHIC_NO_MODULE);return wa}}});ya.isNodePlugin()||ya.setEngine("W3 WebCrypto module",self.crypto);var b=function(){};b.prototype.getAlgorithmName=function(){return this.namespaceURI};var R=function(){return b.apply(this,arguments)||this};$jscomp.inherits(R,b);R.prototype.Digest=function(a){var B=this,
L,Y,ha;return $jscomp.asyncExecutePromiseGeneratorProgram(function(qa){if(1==qa.nextAddress)return"string"===typeof a?L=m.b.FromString(a,"utf8"):ArrayBuffer.isView(a)?L=new Uint8Array(a.buffer):a instanceof ArrayBuffer?L=new Uint8Array(a):(Y=(new XMLSerializer).serializeToString(a),L=m.b.FromString(Y,"utf8")),qa.yield(ya.crypto.subtle.digest(B.algorithm,L),2);ha=qa.yieldResult;return qa.return(new Uint8Array(ha))})};var ba=function(){return b.apply(this,arguments)||this};$jscomp.inherits(ba,b);ba.prototype.Sign=
function(a,B,L){var Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){Y=m.b.FromString(a,"utf8");return ha.return(ya.crypto.subtle.sign(L,B,Y))})};ba.prototype.Verify=function(a,B,L,Y){var ha=this,qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){qa=m.b.FromString(a,"utf8");return Aa.return(ya.crypto.subtle.verify(Y||ha.algorithm,B,L,qa))})};var ra=function(){var a=R.apply(this,arguments)||this;a.algorithm={name:"SHA-1"};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#sha1";
return a};$jscomp.inherits(ra,R);var oa=function(){var a=R.apply(this,arguments)||this;a.algorithm={name:"SHA-256"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha256";return a};$jscomp.inherits(oa,R);var Da=function(){var a=R.apply(this,arguments)||this;a.algorithm={name:"SHA-384"};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#sha384";return a};$jscomp.inherits(Da,R);var Fa=function(){var a=R.apply(this,arguments)||this;a.algorithm={name:"SHA-512"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha512";
return a};$jscomp.inherits(Fa,R);var Oa=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";return a};$jscomp.inherits(Oa,ba);var Pa=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";return a};$jscomp.inherits(Pa,ba);var ab=function(){var a=ba.apply(this,arguments)||this;a.algorithm=
{name:"ECDSA",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";return a};$jscomp.inherits(ab,ba);var fb=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";return a};$jscomp.inherits(fb,ba);var mb=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#hmac-sha1";
return a};$jscomp.inherits(mb,ba);var rb=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha256";return a};$jscomp.inherits(rb,ba);var Na=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha384";return a};$jscomp.inherits(Na,ba);var Za=function(){var a=ba.apply(this,arguments)||this;a.algorithm=
{name:"HMAC",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha512";return a};$jscomp.inherits(Za,ba);var bb=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#rsa-sha1";return a};$jscomp.inherits(bb,ba);var $a=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";
return a};$jscomp.inherits($a,ba);var Cb=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";return a};$jscomp.inherits(Cb,ba);var p=function(){var a=ba.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha512";return a};$jscomp.inherits(p,ba);var T=function(a){var B=ba.call(this)||
this;B.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};B.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#rsa-pss";a&&(B.algorithm.saltLength=a);return B};$jscomp.inherits(T,ba);var aa=function(a){a=T.call(this,a)||this;a.algorithm.hash.name="SHA-1";return a};$jscomp.inherits(aa,T);var ma=function(a){a=T.call(this,a)||this;a.algorithm.hash.name="SHA-256";return a};$jscomp.inherits(ma,T);var sa=function(a){a=T.call(this,a)||this;a.algorithm.hash.name="SHA-384";return a};$jscomp.inherits(sa,T);var Ca=
function(a){a=T.call(this,a)||this;a.algorithm.hash.name="SHA-512";return a};$jscomp.inherits(Ca,T);var Ta=function(){var a=ba.call(this)||this;a.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1";return a};$jscomp.inherits(Ta,ba);var ib=function(){var a=Ta.call(this)||this;a.algorithm.hash.name="SHA-1";a.algorithm.saltLength=20;return a};$jscomp.inherits(ib,Ta);var Yb=function(){var a=Ta.call(this)||this;a.algorithm.hash.name="SHA-256";
a.algorithm.saltLength=32;return a};$jscomp.inherits(Yb,Ta);var ic=function(){var a=Ta.call(this)||this;a.algorithm.hash.name="SHA-384";a.algorithm.saltLength=48;return a};$jscomp.inherits(ic,Ta);var jc=function(){var a=Ta.call(this)||this;a.algorithm.hash.name="SHA-512";a.algorithm.saltLength=64;return a};$jscomp.inherits(jc,Ta);var xb;(function(a){a[a.BeforeDocElement=0]="BeforeDocElement";a[a.InsideDocElement=1]="InsideDocElement";a[a.AfterDocElement=2]="AfterDocElement"})(xb||(xb={}));var Ya=
function(a,B,L){L=void 0===L?new m.c:L;this.propagatedNamespaces=new m.c;this.result=[];this.visibleNamespaces=new m.c;this.inclusiveNamespacesPrefixList=[];this.state=xb.BeforeDocElement;this.withComments=a;this.exclusive=B;this.propagatedNamespaces=L};Ya.prototype.Canonicalize=function(a){if(!a)throw new m.m(m.f.CRYPTOGRAPHIC,"Parameter 1 is not Node");this.WriteNode(a);return this.result.join("")};Ya.prototype.WriteNode=function(a){switch(a.nodeType){case m.n.Document:case m.n.DocumentFragment:this.WriteDocumentNode(a);
break;case m.n.Element:this.WriteElementNode(a);break;case m.n.CDATA:case m.n.SignificantWhitespace:case m.n.Text:m.r(a.parentNode)||this.WriteTextNode(a);break;case m.n.Whitespace:this.state===xb.InsideDocElement&&this.WriteTextNode(a);break;case m.n.Comment:this.WriteCommentNode(a);break;case m.n.ProcessingInstruction:this.WriteProcessingInstructionNode(a);break;case m.n.EntityReference:for(var B=0;B<a.childNodes.length;B++)this.WriteNode(a.childNodes[B]);break;case m.n.Attribute:throw new m.m(m.f.CRYPTOGRAPHIC,
"Attribute node is impossible here");case m.n.EndElement:throw new m.m(m.f.CRYPTOGRAPHIC,"Attribute node is impossible here");case m.n.EndEntity:throw new m.m(m.f.CRYPTOGRAPHIC,"Attribute node is impossible here");}};Ya.prototype.WriteDocumentNode=function(a){this.state=xb.BeforeDocElement;for(a=a.firstChild;null!=a;a=a.nextSibling)this.WriteNode(a)};Ya.prototype.WriteCommentNode=function(a){this.withComments&&(this.state===xb.AfterDocElement?this.result.push(String.fromCharCode(10)+"\x3c!--"):this.result.push("\x3c!--"),
this.result.push(this.NormalizeString(a.nodeValue,m.n.Comment)),this.state===xb.BeforeDocElement?this.result.push("--\x3e"+String.fromCharCode(10)):this.result.push("--\x3e"))};Ya.prototype.WriteTextNode=function(a){this.result.push(this.NormalizeString(a.nodeValue,a.nodeType))};Ya.prototype.WriteProcessingInstructionNode=function(a){var B=a.nodeName||a.tagName;"xml"!==B&&(this.state===xb.AfterDocElement?this.result.push("\n<?"):this.result.push("<?"),this.result.push(B),a.nodeValue&&(this.result.push(" "),
this.result.push(this.NormalizeString(a.nodeValue,m.n.ProcessingInstruction))),this.state===xb.BeforeDocElement?this.result.push("?>\n"):this.result.push("?>"))};Ya.prototype.WriteElementNode=function(a){var B=this.state;this.state===xb.BeforeDocElement&&(this.state=xb.InsideDocElement);this.result.push("<");this.result.push(a.nodeName);var L=this.WriteNamespacesAxis(a);this.WriteAttributesAxis(a);this.result.push(">");for(var Y=a.firstChild;null!=Y;Y=Y.nextSibling)this.WriteNode(Y);this.result.push("</");
this.result.push(a.nodeName);this.result.push(">");B===xb.BeforeDocElement&&(this.state=xb.AfterDocElement);for(;L--;)this.visibleNamespaces.Pop()};Ya.prototype.WriteNamespacesAxis=function(a){for(var B=this,L=[],Y=0,ha=0;ha<a.attributes.length;ha++){var qa=a.attributes[ha];if(f(qa)){if("xmlns"===qa.localName&&!qa.prefix&&!qa.nodeValue){var Aa={prefix:qa.prefix,namespace:qa.nodeValue};L.push(Aa);this.visibleNamespaces.Add(Aa);Y++}Aa=null;var Ea=void 0;if(Ea=/xmlns:([\w\.-]+)/.exec(qa.nodeName))Aa=
Ea[1];Ea=!0;if(this.exclusive&&!this.IsNamespaceInclusive(a,Aa)){var Ga=q(a,Aa);if(1<Ga)Ea=!1;else if(0===Ga)continue}!this.IsNamespaceRendered(Aa,qa.nodeValue)&&Ea&&(qa={prefix:Aa,namespace:qa.nodeValue},L.push(qa),this.visibleNamespaces.Add(qa),Y++)}else qa.prefix&&!this.IsNamespaceRendered(qa.prefix,qa.namespaceURI)&&(qa={prefix:qa.prefix,namespace:qa.namespaceURI},L.push(qa),this.visibleNamespaces.Add(qa),Y++)}this.IsNamespaceRendered(a.prefix,a.namespaceURI)||"http://www.w3.org/2000/xmlns/"===
a.namespaceURI||(a={prefix:a.prefix,namespace:a.namespaceURI},L.push(a),this.visibleNamespaces.Add(a),Y++);L.sort(I);var Ja=null;L.forEach(function(Qa){Qa.prefix!==Ja&&(Ja=Qa.prefix,B.result.push(" xmlns"),Qa.prefix&&B.result.push(":"+Qa.prefix),B.result.push('="'),B.result.push(Qa.namespace),B.result.push('"'))});return Y};Ya.prototype.WriteAttributesAxis=function(a){for(var B=this,L=[],Y=0;Y<a.attributes.length;Y++){var ha=a.attributes[Y];f(ha)||L.push(ha)}L.sort(V);L.forEach(function(qa){null!=
qa&&(B.result.push(" "),B.result.push(qa.nodeName),B.result.push('="'),B.result.push(B.NormalizeString(qa.nodeValue,m.n.Attribute)),B.result.push('"'))})};Ya.prototype.NormalizeString=function(a,B){var L=[];if(a)for(var Y=0;Y<a.length;Y++){var ha=a[Y];"<"!==ha||B!==m.n.Attribute&&!this.IsTextNode(B)?">"===ha&&this.IsTextNode(B)?L.push("&gt;"):"&"!==ha||B!==m.n.Attribute&&!this.IsTextNode(B)?'"'===ha&&B===m.n.Attribute?L.push("&quot;"):"\t"===ha&&B===m.n.Attribute?L.push("&#x9;"):"\n"===ha&&B===m.n.Attribute?
L.push("&#xA;"):"\r"===ha?L.push("&#xD;"):L.push(ha):L.push("&amp;"):L.push("&lt;")}return L.join("")};Ya.prototype.IsTextNode=function(a){switch(a){case m.n.Text:case m.n.CDATA:case m.n.SignificantWhitespace:case m.n.Whitespace:return!0}return!1};Ya.prototype.IsNamespaceInclusive=function(a,B){B=B||null;return a.prefix===B?!1:-1!==this.inclusiveNamespacesPrefixList.indexOf(B||"")};Ya.prototype.IsNamespaceRendered=function(a,B){a=a||"";B=B||"";return!a&&!B||"xml"===a&&"http://www.w3.org/XML/1998/namespace"===
B?!0:(a=this.visibleNamespaces.GetPrefix(a))?a.namespace===B:!1};$jscomp.global.Object.defineProperties(Ya.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.inclusiveNamespacesPrefixList.join(" ")},set:function(a){this.inclusiveNamespacesPrefixList=a.split(" ")}}});var eb=m.p,pb=function(){return eb.apply(this,arguments)||this};$jscomp.inherits(pb,eb);var Xa=pb;Xa=u([Object(m.l)({localName:"xmldsig",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",
prefix:"ds"})],Xa);var ub=m.j,Ab=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(Ab,ub);var cb=Ab;cb=u([Object(m.l)({localName:"xmldsig_collection",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds"})],cb);var sb=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(sb,Xa);var te=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(te,Xa);var kc=te;u([Object(m.g)({localName:"Algorithm",required:!0,defaultValue:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"})],
kc.prototype,"Algorithm",void 0);kc=u([Object(m.l)({localName:"CanonicalizationMethod"})],kc);var ue=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(ue,Xa);var $b=ue;u([Object(m.g)({localName:"Id",defaultValue:""})],$b.prototype,"Id",void 0);u([Object(m.g)({localName:"MimeType",defaultValue:""})],$b.prototype,"MimeType",void 0);u([Object(m.g)({localName:"Encoding",defaultValue:""})],$b.prototype,"Encoding",void 0);$b=u([Object(m.l)({localName:"Object"})],$b);var ve=function(){return cb.apply(this,
arguments)||this};$jscomp.inherits(ve,cb);var ie=ve;ie=u([Object(m.l)({localName:"xmldsig_objects",parser:$b})],ie);var we=function(a){var B=Xa.call(this)||this;a&&(B.Algorithm=a);return B};$jscomp.inherits(we,Xa);var Eb=we;u([Object(m.g)({localName:"Algorithm",required:!0,defaultValue:"http://www.w3.org/2001/04/xmlenc#sha256"})],Eb.prototype,"Algorithm",void 0);Eb=u([Object(m.l)({localName:"DigestMethod"})],Eb);var je=function(){return cb.apply(this,arguments)||this};$jscomp.inherits(je,cb);je.prototype.OnLoadXml=
function(a){for(var B=0;B<a.childNodes.length;B++){var L=a.childNodes.item(B);if(L.nodeType===m.n.Element){var Y=null;switch(L.localName){case "KeyValue":Y=sd;break;case "X509Data":Y=wc;break;case "SPKIData":Y=td}Y&&(Y=new Y,Y.LoadXml(L),this.Add(Y))}}};var xc=je;u([Object(m.g)({localName:"Id",defaultValue:""})],xc.prototype,"Id",void 0);xc=u([Object(m.l)({localName:"KeyInfo"})],xc);var Oc=function(){var a=Xa.apply(this,arguments)||this;a.innerXml=null;return a};$jscomp.inherits(Oc,Xa);Oc.prototype.GetOutput=
function(){throw new m.m(m.f.METHOD_NOT_IMPLEMENTED);};Oc.prototype.LoadInnerXml=function(a){if(!a)throw new m.m(m.f.PARAM_REQUIRED,"node");this.innerXml=a};Oc.prototype.GetInnerXml=function(){return this.innerXml};var yb=Oc;u([Object(m.g)({localName:"Algorithm",defaultValue:""})],yb.prototype,"Algorithm",void 0);u([Object(m.i)({localName:"XPath",defaultValue:""})],yb.prototype,"XPath",void 0);yb=u([Object(m.l)({localName:"Transform"})],yb);var Pc=function(){var a=yb.apply(this,arguments)||this;a.Algorithm=
"http://www.w3.org/2000/09/xmldsig#base64";return a};$jscomp.inherits(Pc,yb);Pc.prototype.GetOutput=function(){if(!this.innerXml)throw new m.m(m.f.PARAM_REQUIRED,"innerXml");return m.b.FromString(this.innerXml.textContent||"","base64")};var Ib=function(){var a=yb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315";a.xmlCanonicalizer=new Ya(!1,!1);return a};$jscomp.inherits(Ib,yb);Ib.prototype.GetOutput=function(){if(!this.innerXml)throw new m.m(m.f.PARAM_REQUIRED,
"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};var Qc=function(){var a=Ib.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments";a.xmlCanonicalizer=new Ya(!0,!1);return a};$jscomp.inherits(Qc,Ib);var lc=function(){var a=yb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature";return a};$jscomp.inherits(lc,yb);lc.prototype.GetOutput=function(){var a;if(!this.innerXml)throw new m.m(m.f.PARAM_REQUIRED,
"innerXml");for(var B=this.innerXml.firstChild,L=[];B;)Object(m.s)(B)&&"Signature"===B.localName&&"http://www.w3.org/2000/09/xmldsig#"===B.namespaceURI&&L.push(B),B=B.nextSibling;B=$jscomp.makeIterator(L);for(L=B.next();!L.done;L=B.next())L=L.value,null===(a=L.parentNode)||void 0===a?void 0:a.removeChild(L);return this.innerXml};var Jb=function(){var a=yb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#";a.xmlCanonicalizer=new Ya(!1,!0);return a};$jscomp.inherits(Jb,
yb);Jb.prototype.LoadXml=function(a){yb.prototype.LoadXml.call(this,a);if(this.Element&&this.Element.childNodes)for(a=0;a<this.Element.childNodes.length;a++){var B=this.Element.childNodes[a];if(B&&1===B.nodeType)switch(B.localName){case "InclusiveNamespaces":this.setInclusiveNamespacesElement(B)}}};Jb.prototype.GetOutput=function(){if(!this.innerXml)throw new m.m(m.f.PARAM_REQUIRED,"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};Jb.prototype.setInclusiveNamespacesElement=function(a){(a=
a.getAttribute("PrefixList"))&&0<a.length&&(this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a)};$jscomp.global.Object.defineProperties(Jb.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.xmlCanonicalizer.InclusiveNamespacesPrefixList},set:function(a){this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a}}});var Rc=function(){var a=Jb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#WithComments";a.xmlCanonicalizer=
new Ya(!0,!0);return a};$jscomp.inherits(Rc,Jb);var Qb=function(){var a=yb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116";return a};$jscomp.inherits(Qb,yb);Qb.prototype.GetOutput=function(){if(!this.innerXml)throw new m.m(m.f.PARAM_REQUIRED,"innerXml");this.Filter(this.innerXml.ownerDocument||this.innerXml,this.XPath)};Qb.prototype.Filter=function(a,B){var L=this;a=a.childNodes;for(var Y=[],ha=0;a&&ha<a.length;ha++){var qa=a.item(ha);Y.push(qa)}Y.forEach(function(Aa){L.Evaluate(Aa,
B)?Aa.parentNode&&Aa.parentNode.removeChild(Aa):L.Filter(Aa,B)})};Qb.prototype.GetEvaluator=function(a){return"undefined"!==typeof self?null==a.ownerDocument?a:a.ownerDocument:C(47)};Qb.prototype.Evaluate=function(a,B){try{var L=this.GetEvaluator(a),Y=L.createNSResolver(this.GetXml().firstChild);return!L.evaluate("boolean("+B+")",a,Y,("undefined"===typeof self?C(47):self).XPathResult.ANY_TYPE,null).booleanValue}catch(ha){return!1}};u([Object(m.i)({localName:"XPath",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",
prefix:"ds",required:!0})],Qb.prototype,"XPath",void 0);var ke=function(){return cb.apply(this,arguments)||this};$jscomp.inherits(ke,cb);ke.prototype.OnLoadXml=function(a){cb.prototype.OnLoadXml.call(this,a);this.items=this.GetIterator().map(function(B){switch(B.Algorithm){case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":return k(B,lc);case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":return k(B,Ib);case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":return k(B,Qc);
case "http://www.w3.org/2001/10/xml-exc-c14n#":return k(B,Jb);case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":return k(B,Rc);case "http://www.w3.org/2000/09/xmldsig#base64":return k(B,Pc);case "http://www.w3.org/TR/1999/REC-xpath-19991116":return k(B,Qb);default:throw new m.m(m.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,B.Algorithm);}})};var yc=ke;yc=u([Object(m.l)({localName:"Transforms",parser:yb})],yc);var xe=function(a){var B=Xa.call(this)||this;B.DigestMethod=new Eb;a&&(B.Uri=a);return B};
$jscomp.inherits(xe,Xa);var Fb=xe;u([Object(m.g)({defaultValue:""})],Fb.prototype,"Id",void 0);u([Object(m.g)({localName:"URI"})],Fb.prototype,"Uri",void 0);u([Object(m.g)({localName:"Type",defaultValue:""})],Fb.prototype,"Type",void 0);u([Object(m.i)({parser:yc})],Fb.prototype,"Transforms",void 0);u([Object(m.i)({required:!0,parser:Eb})],Fb.prototype,"DigestMethod",void 0);u([Object(m.i)({required:!0,localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:m.h})],
Fb.prototype,"DigestValue",void 0);Fb=u([Object(m.l)({localName:"Reference"})],Fb);var ye=function(){return cb.apply(this,arguments)||this};$jscomp.inherits(ye,cb);var ud=ye;ud=u([Object(m.l)({localName:"References",parser:Fb})],ud);var le=function(){return cb.apply(this,arguments)||this};$jscomp.inherits(le,cb);le.prototype.OnLoadXml=function(a){for(var B=0;B<a.childNodes.length;B++){var L=a.childNodes.item(B);if(L.nodeType===m.n.Element&&"HMACOutputLength"!==L.nodeName){var Y=void 0;switch(L.localName){case "RSAPSSParams":Y=
Rb}Y&&(Y=new Y,Y.LoadXml(L),this.Add(Y))}}};var me=le;me=u([Object(m.l)({localName:"Other"})],me);var ze=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(ze,Xa);var zc=ze;u([Object(m.g)({localName:"Algorithm",required:!0,defaultValue:""})],zc.prototype,"Algorithm",void 0);u([Object(m.i)({localName:"HMACOutputLength",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:m.o})],zc.prototype,"HMACOutputLength",void 0);u([Object(m.i)({parser:me,noRoot:!0,minOccurs:0})],
zc.prototype,"Any",void 0);zc=u([Object(m.l)({localName:"SignatureMethod"})],zc);var Ae=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(Ae,Xa);var mc=Ae;u([Object(m.g)({localName:"Id",defaultValue:""})],mc.prototype,"Id",void 0);u([Object(m.i)({parser:kc,required:!0})],mc.prototype,"CanonicalizationMethod",void 0);u([Object(m.i)({parser:zc,required:!0})],mc.prototype,"SignatureMethod",void 0);u([Object(m.i)({parser:ud,minOccurs:1,noRoot:!0})],mc.prototype,"References",void 0);mc=
u([Object(m.l)({localName:"SignedInfo"})],mc);var Be=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(Be,Xa);var Mb=Be;u([Object(m.g)({localName:"Id",defaultValue:""})],Mb.prototype,"Id",void 0);u([Object(m.i)({parser:mc,required:!0})],Mb.prototype,"SignedInfo",void 0);u([Object(m.i)({localName:"SignatureValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0,converter:m.h,defaultValue:null})],Mb.prototype,"SignatureValue",void 0);u([Object(m.i)({parser:xc})],
Mb.prototype,"KeyInfo",void 0);u([Object(m.i)({parser:ie,noRoot:!0})],Mb.prototype,"ObjectList",void 0);Mb=u([Object(m.l)({localName:"Signature"})],Mb);var Ce=m.p,De=function(){return Ce.apply(this,arguments)||this};$jscomp.inherits(De,Ce);var Ac=De;u([Object(m.i)({localName:"X",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",required:!0,converter:m.h})],Ac.prototype,"X",void 0);u([Object(m.i)({localName:"Y",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",
required:!0,converter:m.h})],Ac.prototype,"Y",void 0);Ac=u([Object(m.l)({localName:"PublicKey",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Ac);var Ee=m.p,Fe=function(){return Ee.apply(this,arguments)||this};$jscomp.inherits(Fe,Ee);var Sc=Fe;u([Object(m.g)({localName:"URI",required:!0})],Sc.prototype,"Uri",void 0);Sc=u([Object(m.l)({localName:"NamedCurve",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Sc);var Ge=m.p,He=function(){return Ge.apply(this,
arguments)||this};$jscomp.inherits(He,Ge);var Tc=He;u([Object(m.i)({parser:Sc})],Tc.prototype,"NamedCurve",void 0);Tc=u([Object(m.l)({localName:"DomainParameters",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Tc);var Uc=function(){var a=sb.apply(this,arguments)||this;a.name="ECDSAKeyValue";a.key=null;a.jwk=null;a.keyUsage=null;return a};$jscomp.inherits(Uc,sb);Uc.prototype.importKey=function(a){var B=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==
Y.nextAddress){if("ECDSA"!==a.algorithm.name.toUpperCase())throw new m.m(m.f.ALGORITHM_WRONG_NAME,a.algorithm.name);return Y.yield(ya.crypto.subtle.exportKey("jwk",a),2)}L=Y.yieldResult;B.key=a;B.jwk=L;B.PublicKey=new Ac;B.PublicKey.X=m.b.FromString(L.x,"base64url");B.PublicKey.Y=m.b.FromString(L.y,"base64url");B.DomainParameters||(B.DomainParameters=new Tc);B.DomainParameters.NamedCurve||(B.DomainParameters.NamedCurve=new Sc);B.DomainParameters.NamedCurve.Uri=d(L.crv);B.keyUsage=a.usages;return Y.return(B)})};
Uc.prototype.exportKey=function(a){var B=this,L,Y,ha,qa,Aa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){if(1==Ea.nextAddress){if(B.key)return Ea.return(B.key);L=m.b.ToBase64Url(B.PublicKey.X);Y=m.b.ToBase64Url(B.PublicKey.Y);a:{switch(B.DomainParameters.NamedCurve.Uri){case "urn:oid:1.2.840.10045.3.1.7":var Ga="P-256";break a;case "urn:oid:1.3.132.0.34":Ga="P-384";break a;case "urn:oid:1.3.132.0.35":Ga="P-521";break a}throw new m.m(m.f.CRYPTOGRAPHIC,"Unknown NamedCurve OID");}ha=
Ga;qa={kty:"EC",crv:ha,x:L,y:Y,ext:!0};B.keyUsage=["verify"];return Ea.yield(ya.crypto.subtle.importKey("jwk",qa,{name:"ECDSA",namedCurve:ha},!0,B.keyUsage),2)}Aa=Ea.yieldResult;B.key=Aa;return Ea.return(B.key)})};$jscomp.global.Object.defineProperties(Uc.prototype,{NamedCurve:{configurable:!0,enumerable:!0,get:function(){return d(this.DomainParameters.NamedCurve.Uri)}}});var Bc=Uc;u([Object(m.i)({parser:Tc})],Bc.prototype,"DomainParameters",void 0);u([Object(m.i)({parser:Ac,required:!0})],Bc.prototype,
"PublicKey",void 0);Bc=u([Object(m.l)({localName:"ECDSAKeyValue",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Bc);var ne,Vc=function(){var a=sb.apply(this,arguments)||this;a.key=null;a.jwk=null;a.keyUsage=[];return a};$jscomp.inherits(Vc,sb);Vc.prototype.importKey=function(a){var B=this,L,Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress){L=a.algorithm.name.toUpperCase();if("RSASSA-PKCS1-V1_5"!==L&&"RSA-PSS"!==L)throw new m.m(m.f.ALGORITHM_WRONG_NAME,
a.algorithm.name);B.key=a;return ha.yield(ya.crypto.subtle.exportKey("jwk",a),2)}Y=ha.yieldResult;B.jwk=Y;B.Modulus=m.b.FromBase64Url(Y.n);B.Exponent=m.b.FromBase64Url(Y.e);B.keyUsage=a.usages;return ha.return(B)})};Vc.prototype.exportKey=function(a){var B=this,L,Y,ha,qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){if(B.key)return Aa.return(B.key);if(!B.Modulus)throw new m.m(m.f.CRYPTOGRAPHIC,"RsaKeyValue has no Modulus");L=m.b.ToBase64Url(B.Modulus);if(!B.Exponent)throw new m.m(m.f.CRYPTOGRAPHIC,
"RsaKeyValue has no Exponent");Y=m.b.ToBase64Url(B.Exponent);switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":ha="R";break;case "RSA-PSS":ha="P";break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name);}switch(a.hash.name.toUpperCase()){case "SHA-1":ha+="S1";break;case "SHA-256":ha+="S256";break;case "SHA-384":ha+="S384";break;case "SHA-512":ha+="S512"}qa={kty:"RSA",alg:ha,n:L,e:Y,ext:!0};return Aa.return(ya.crypto.subtle.importKey("jwk",qa,a,!0,B.keyUsage))})};Vc.prototype.LoadXml=function(a){sb.prototype.LoadXml.call(this,
a);this.keyUsage=["verify"]};var Cc=Vc;u([Object(m.i)({localName:"Modulus",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:m.h})],Cc.prototype,"Modulus",void 0);u([Object(m.i)({localName:"Exponent",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:m.h})],Cc.prototype,"Exponent",void 0);Cc=u([Object(m.l)({localName:"RSAKeyValue"})],Cc);var Ie=m.p,Je=function(){return Ie.apply(this,arguments)||this};$jscomp.inherits(Je,Ie);var Wc=
Je;u([Object(m.i)({parser:Eb})],Wc.prototype,"DigestMethod",void 0);u([Object(m.g)({localName:"Algorithm",defaultValue:"http://www.w3.org/2007/05/xmldsig-more#MGF1"})],Wc.prototype,"Algorithm",void 0);Wc=u([Object(m.l)({localName:"MaskGenerationFunction",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Wc);var Rb=ne=function(){var a=m.p,B=function(L){var Y=a.call(this)||this;L&&Y.FromAlgorithm(L);return Y};$jscomp.inherits(B,a);B.FromAlgorithm=function(L){return new ne(L)};B.prototype.FromAlgorithm=
function(L){this.DigestMethod=new Eb;var Y=vb.GetHashAlgorithm(L.hash);this.DigestMethod.Algorithm=Y.namespaceURI;L.saltLength&&(this.SaltLength=L.saltLength)};return B}();u([Object(m.i)({parser:Eb})],Rb.prototype,"DigestMethod",void 0);u([Object(m.i)({parser:Wc})],Rb.prototype,"MGF",void 0);u([Object(m.i)({converter:m.o,prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Rb.prototype,"SaltLength",void 0);u([Object(m.i)({converter:m.o})],Rb.prototype,"TrailerField",void 0);Rb=ne=
u([Object(m.l)({localName:"RSAPSSParams",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Rb);var nc=function(a){var B=sb.call(this)||this;a&&(B.Value=a);return B};$jscomp.inherits(nc,sb);nc.prototype.importKey=function(a){var B=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){switch(L.nextAddress){case 1:switch(a.algorithm.name.toUpperCase()){case "RSA-PSS":case "RSASSA-PKCS1-V1_5":return L.jumpTo(2);case "ECDSA":return L.jumpTo(3);default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,
a.algorithm.name);}case 2:return B.Value=new Cc,L.yield(B.Value.importKey(a),5);case 5:L.jumpTo(4);break;case 3:return B.Value=new Bc,L.yield(B.Value.importKey(a),6);case 6:L.jumpTo(4);break;case 4:return L.return(B)}})};nc.prototype.exportKey=function(a){var B=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){if(!B.Value)throw new m.m(m.f.NULL_REFERENCE);return L.return(B.Value.exportKey(a))})};nc.prototype.OnGetXml=function(a){if(!this.Value)throw new m.m(m.f.CRYPTOGRAPHIC,"KeyValue has empty value");
var B=this.Value.GetXml();B&&a.appendChild(B)};nc.prototype.OnLoadXml=function(a){for(var B=$jscomp.makeIterator([Cc,Bc]),L=B.next();!L.done;L=B.next()){L=L.value;try{var Y=new L;for(L=0;L<a.childNodes.length;L++){var ha=a.childNodes.item(L);if(m.s(ha)){Y.LoadXml(ha);this.value=Y;return}}}catch(qa){}}throw new m.m(m.f.CRYPTOGRAPHIC,"Unsupported KeyValue in use");};$jscomp.global.Object.defineProperties(nc.prototype,{Value:{configurable:!0,enumerable:!0,set:function(a){this.element=null;this.value=
a},get:function(){return this.value}}});var sd=nc;sd=u([Object(m.l)({localName:"KeyValue"})],sd);var Jg={"2.5.4.3":{short:"CN",long:"CommonName"},"2.5.4.6":{short:"C",long:"Country"},"2.5.4.5":{long:"DeviceSerialNumber"},"0.9.2342.19200300.100.1.25":{short:"DC",long:"DomainComponent"},"1.2.840.113549.1.9.1":{short:"E",long:"EMail"},"2.5.4.42":{short:"G",long:"GivenName"},"2.5.4.43":{short:"I",long:"Initials"},"2.5.4.7":{short:"L",long:"Locality"},"2.5.4.10":{short:"O",long:"Organization"},"2.5.4.11":{short:"OU",
long:"OrganizationUnit"},"2.5.4.8":{short:"ST",long:"State"},"2.5.4.9":{short:"Street",long:"StreetAddress"},"2.5.4.4":{short:"SN",long:"SurName"},"2.5.4.12":{short:"T",long:"Title"},"1.2.840.113549.1.9.8":{long:"UnstructuredAddress"},"1.2.840.113549.1.9.2":{long:"UnstructuredName"}},Gb=function(a){this.publicKey=null;a&&(a=new Uint8Array(a),this.LoadRaw(a),this.raw=a)};Gb.prototype.Thumbprint=function(a){a=void 0===a?"SHA-1":a;var B=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){return L.return(ya.crypto.subtle.digest(a,
B.raw))})};Gb.prototype.GetRaw=function(){return this.raw};Gb.prototype.exportKey=function(a){var B=this,L,Y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return L={algorithm:a,usages:["verify"]},"ECDSA"===L.algorithm.name.toUpperCase()&&(L.algorithm.namedCurve=B.simpl.subjectPublicKeyInfo.toJSON().crv),B.isHashedAlgorithm(L.algorithm)&&"string"===typeof L.algorithm.hash&&(L.algorithm.hash={name:L.algorithm.hash}),ha.yield(B.simpl.getPublicKey({algorithm:L}),
2);Y=ha.yieldResult;B.publicKey=Y;return ha.return(Y)})};Gb.prototype.NameToString=function(a,B){B=void 0===B?",":B;var L=[];a.typesAndValues.forEach(function(Y){var ha=Y.type,qa=Jg[ha.toString()];qa=qa?qa.short:null;L.push((qa?qa:ha)+"="+Y.value.valueBlock.value)});return L.join(B+" ")};Gb.prototype.LoadRaw=function(a){this.raw=new Uint8Array(a);a=l.E(this.raw.buffer);this.simpl=new Va({schema:a.result})};Gb.prototype.isHashedAlgorithm=function(a){return!!a.hash};$jscomp.global.Object.defineProperties(Gb.prototype,
{SerialNumber:{configurable:!0,enumerable:!0,get:function(){return this.simpl.serialNumber.valueBlock.toString()}},Issuer:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.issuer)}},Subject:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.subject)}},PublicKey:{configurable:!0,enumerable:!0,get:function(){return this.publicKey}}});var Ke=function(){return Xa.apply(this,arguments)||this};$jscomp.inherits(Ke,Xa);var Dc=Ke;u([Object(m.i)({localName:"X509IssuerName",
namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Dc.prototype,"X509IssuerName",void 0);u([Object(m.i)({localName:"X509SerialNumber",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Dc.prototype,"X509SerialNumber",void 0);Dc=u([Object(m.l)({localName:"X509IssuerSerial"})],Dc);var oc;(function(a){a[a.None=0]="None";a[a.EndCertOnly=1]="EndCertOnly";a[a.ExcludeRoot=2]="ExcludeRoot";a[a.WholeChain=3]="WholeChain"})(oc||(oc={}));var Hb=function(a,
B){B=void 0===B?oc.None:B;var L=sb.call(this)||this;L.x509crl=null;L.SubjectKeyIdList=[];L.key=null;if(a)if(a instanceof Uint8Array)L.AddCertificate(new Gb(a));else if(a instanceof Gb)switch(B){case oc.None:case oc.EndCertOnly:L.AddCertificate(a);break;case oc.ExcludeRoot:L.AddCertificatesChainFrom(a,!1);break;case oc.WholeChain:L.AddCertificatesChainFrom(a,!0)}return L};$jscomp.inherits(Hb,sb);Hb.prototype.importKey=function(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(B){throw new m.m(m.f.METHOD_NOT_SUPPORTED);
})};Hb.prototype.exportKey=function(a){var B=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress){if(!B.Certificates.length)throw new m.m(m.f.NULL_REFERENCE);return Y.yield(B.Certificates[0].exportKey(a),2)}L=Y.yieldResult;B.key=L;return Y.return(L)})};Hb.prototype.AddCertificate=function(a){if(!a)throw new m.m(m.f.PARAM_REQUIRED,"certificate");this.X509CertificateList||(this.X509CertificateList=[]);this.X509CertificateList.push(a)};Hb.prototype.AddIssuerSerial=
function(a,B){if(null==a)throw new m.m(m.f.PARAM_REQUIRED,"issuerName");null==this.IssuerSerialList&&(this.IssuerSerialList=[]);this.IssuerSerialList.push({issuerName:a,serialNumber:B})};Hb.prototype.AddSubjectKeyId=function(a){this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);"string"===typeof a?null!=a&&(a=m.b.FromBase64(a),this.SubjectKeyIdList.push(a)):this.SubjectKeyIdList.push(a)};Hb.prototype.AddSubjectName=function(a){null==this.SubjectNameList&&(this.SubjectNameList=[]);this.SubjectNameList.push(a)};
Hb.prototype.GetXml=function(){var a=this.CreateDocument(),B=this.CreateElement(a),L=this.GetPrefix();null!=this.IssuerSerialList&&0<this.IssuerSerialList.length&&this.IssuerSerialList.forEach(function(ha){var qa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509IssuerSerial"),Aa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509IssuerName");Aa.textContent=ha.issuerName;qa.appendChild(Aa);Aa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SerialNumber");Aa.textContent=
ha.serialNumber;qa.appendChild(Aa);B.appendChild(qa)});null!=this.SubjectKeyIdList&&0<this.SubjectKeyIdList.length&&this.SubjectKeyIdList.forEach(function(ha){var qa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SKI");qa.textContent=m.b.ToBase64(ha);B.appendChild(qa)});null!=this.SubjectNameList&&0<this.SubjectNameList.length&&this.SubjectNameList.forEach(function(ha){var qa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SubjectName");qa.textContent=ha;B.appendChild(qa)});
null!=this.X509CertificateList&&0<this.X509CertificateList.length&&this.X509CertificateList.forEach(function(ha){var qa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509Certificate");qa.textContent=m.b.ToBase64(ha.GetRaw());B.appendChild(qa)});if(null!=this.x509crl){var Y=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509CRL");Y.textContent=m.b.ToBase64(this.x509crl);B.appendChild(Y)}return B};Hb.prototype.LoadXml=function(a){var B=this;sb.prototype.LoadXml.call(this,a);this.IssuerSerialList&&
(this.IssuerSerialList=[]);this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);this.SubjectNameList&&(this.SubjectNameList=[]);this.X509CertificateList&&(this.X509CertificateList=[]);this.x509crl=null;(a=this.GetChildren("X509IssuerSerial"))&&a.forEach(function(L){var Y=Xa.GetChild(L,"X509IssuerName","http://www.w3.org/2000/09/xmldsig#",!0);L=Xa.GetChild(L,"X509SerialNumber","http://www.w3.org/2000/09/xmldsig#",!0);Y&&Y.textContent&&L&&L.textContent&&B.AddIssuerSerial(Y.textContent,L.textContent)});
(a=this.GetChildren("X509SKI"))&&a.forEach(function(L){L.textContent&&(L=m.b.FromBase64(L.textContent),B.AddSubjectKeyId(L))});a=this.GetChildren("X509SubjectName");null!=a&&a.forEach(function(L){L.textContent&&B.AddSubjectName(L.textContent)});(a=this.GetChildren("X509Certificate"))&&a.forEach(function(L){L.textContent&&(L=m.b.FromBase64(L.textContent),B.AddCertificate(new Gb(L)))});(a=this.GetChild("X509CRL",!1))&&a.textContent&&(this.x509crl=m.b.FromBase64(a.textContent))};Hb.prototype.AddCertificatesChainFrom=
function(a,B){throw new m.m(m.f.METHOD_NOT_IMPLEMENTED);};$jscomp.global.Object.defineProperties(Hb.prototype,{Key:{configurable:!0,enumerable:!0,get:function(){return this.key}},Certificates:{configurable:!0,enumerable:!0,get:function(){return this.X509CertificateList}},CRL:{configurable:!0,enumerable:!0,get:function(){return this.x509crl},set:function(a){this.x509crl=a}},IssuerSerials:{configurable:!0,enumerable:!0,get:function(){return this.IssuerSerialList}},SubjectKeyIds:{configurable:!0,enumerable:!0,
get:function(){return this.SubjectKeyIdList}},SubjectNames:{configurable:!0,enumerable:!0,get:function(){return this.SubjectNameList}}});var wc=Hb;wc=u([Object(m.l)({localName:"X509Data"})],wc);var vd=function(){return sb.apply(this,arguments)||this};$jscomp.inherits(vd,sb);vd.prototype.importKey=function(a){var B=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress)return Y.yield(ya.crypto.subtle.exportKey("spki",a),2);L=Y.yieldResult;B.SPKIexp=new Uint8Array(L);
B.Key=a;return Y.return(B)})};vd.prototype.exportKey=function(a){var B=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Y){if(1==Y.nextAddress)return Y.yield(ya.crypto.subtle.importKey("spki",B.SPKIexp,a,!0,["verify"]),2);L=Y.yieldResult;B.Key=L;return Y.return(L)})};var td=vd;u([Object(m.i)({localName:"SPKIexp",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0,converter:m.h})],td.prototype,"SPKIexp",void 0);td=u([Object(m.l)({localName:"SPKIData"})],td);
var wb={};wb["http://www.w3.org/2000/09/xmldsig#rsa-sha1"]=bb;wb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"]=$a;wb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"]=Cb;wb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"]=p;wb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1"]=Oa;wb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"]=Pa;wb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384"]=ab;wb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512"]=fb;wb["http://www.w3.org/2000/09/xmldsig#hmac-sha1"]=
mb;wb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha256"]=rb;wb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha384"]=Na;wb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha512"]=Za;wb["http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1"]=ib;wb["http://www.w3.org/2007/05/xmldsig-more#sha256-rsa-MGF1"]=Yb;wb["http://www.w3.org/2007/05/xmldsig-more#sha384-rsa-MGF1"]=ic;wb["http://www.w3.org/2007/05/xmldsig-more#sha512-rsa-MGF1"]=jc;var Xc={};Xc["http://www.w3.org/2000/09/xmldsig#sha1"]=ra;Xc["http://www.w3.org/2001/04/xmlenc#sha256"]=
oa;Xc["http://www.w3.org/2001/04/xmldsig-more#sha384"]=Da;Xc["http://www.w3.org/2001/04/xmlenc#sha512"]=Fa;var vb=function(){};vb.CreateFromName=function(a){switch(a){case "http://www.w3.org/2000/09/xmldsig#base64":a=new Pc;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":a=new Ib;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":a=new Qc;break;case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":a=new lc;break;case "http://www.w3.org/TR/1999/REC-xpath-19991116":throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,
a);case "http://www.w3.org/TR/1999/REC-xslt-19991116":throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a);case "http://www.w3.org/2001/10/xml-exc-c14n#":a=new Jb;break;case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":a=new Rc;break;case "http://www.w3.org/2002/07/decrypt#XML":throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a);default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a);}return a};vb.CreateSignatureAlgorithm=function(a){var B=wb[a.Algorithm]||null;if(B)return new B;if("http://www.w3.org/2007/05/xmldsig-more#rsa-pss"===
a.Algorithm){var L;a.Any.Some(function(Y){Y instanceof Rb&&(L=Y);return!!L});if(L)switch(L.DigestMethod.Algorithm){case "http://www.w3.org/2000/09/xmldsig#sha1":return new aa(L.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha256":return new ma(L.SaltLength);case "http://www.w3.org/2001/04/xmldsig-more#sha384":return new sa(L.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha512":return new Ca(L.SaltLength)}throw new m.m(m.f.CRYPTOGRAPHIC,"Cannot get params for RSA-PSS algoriithm");}throw Error("signature algorithm '"+
a.Algorithm+"' is not supported");};vb.CreateHashAlgorithm=function(a){var B=Xc[a];if(B)return new B;throw Error("hash algorithm '"+a+"' is not supported");};vb.GetHashAlgorithm=function(a){a="string"===typeof a?{name:a}:a;switch(a.name.toUpperCase()){case "SHA-1":return new ra;case "SHA-256":return new oa;case "SHA-384":return new Da;case "SHA-512":return new Fa;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name);}};vb.GetSignatureAlgorithm=function(a){"string"===typeof a.hash&&(a.hash={name:a.hash});
var B=a.hash.name;if(!B)throw Error("Signing algorithm doesn't have name for hash");switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":switch(B.toUpperCase()){case "SHA-1":B=new bb;break;case "SHA-256":B=new $a;break;case "SHA-384":B=new Cb;break;case "SHA-512":B=new p;break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+B);}break;case "RSA-PSS":var L=a.saltLength;switch(B.toUpperCase()){case "SHA-1":B=L?new aa(L):new ib;break;case "SHA-256":B=L?new ma(L):new Yb;break;case "SHA-384":B=
L?new sa(L):new ic;break;case "SHA-512":B=L?new Ca(L):new jc;break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+B);}a.saltLength=B.algorithm.saltLength;break;case "ECDSA":switch(B.toUpperCase()){case "SHA-1":B=new Oa;break;case "SHA-256":B=new Pa;break;case "SHA-384":B=new ab;break;case "SHA-512":B=new fb;break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+B);}break;case "HMAC":switch(B.toUpperCase()){case "SHA-1":B=new mb;break;case "SHA-256":B=new rb;break;case "SHA-384":B=
new Na;break;case "SHA-512":B=new Za;break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+B);}break;default:throw new m.m(m.f.ALGORITHM_NOT_SUPPORTED,a.name);}return B};var ob=function(a){this.signature=new Mb;a&&a.nodeType===m.n.Document?this.document=a:a&&a.nodeType===m.n.Element&&(a=(new XMLSerializer).serializeToString(a),this.document=(new DOMParser).parseFromString(a,m.a))};ob.prototype.Sign=function(a,B,L,Y){Y=void 0===Y?{}:Y;var ha=this,qa,Aa,Ea,Ga,Ja,Qa,Wa,jb,kb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(lb){switch(lb.nextAddress){case 1:return Object(m.r)(L)?
L=L.documentElement.cloneNode(!0):Object(m.s)(L)&&(L=L.cloneNode(!0)),Ea=m.q({},a),B.algorithm.hash&&(Ea.hash=B.algorithm.hash),qa=vb.GetSignatureAlgorithm(Ea),lb.yield(ha.ApplySignOptions(ha.XmlSignature,a,B,Y),2);case 2:return Aa=ha.XmlSignature.SignedInfo,lb.yield(ha.DigestReferences(L),3);case 3:Aa.SignatureMethod.Algorithm=qa.namespaceURI;if(qa instanceof T)Ga=m.q({},B.algorithm,Ea),"string"===typeof Ga.hash&&(Ga.hash={name:Ga.hash}),Ja=new Rb(Ga),ha.XmlSignature.SignedInfo.SignatureMethod.Any.Add(Ja);
else if("HMAC"===a.name.toUpperCase()){Qa=0;Wa=B.algorithm;switch(Wa.hash.name.toUpperCase()){case "SHA-1":Qa=Wa.length||160;break;case "SHA-256":Qa=Wa.length||256;break;case "SHA-384":Qa=Wa.length||384;break;case "SHA-512":Qa=Wa.length||512}ha.XmlSignature.SignedInfo.SignatureMethod.HMACOutputLength=Qa}jb=ha.TransformSignedInfo(L);return lb.yield(qa.Sign(jb,B,Ea),4);case 4:return kb=lb.yieldResult,ha.Key=B,ha.XmlSignature.SignatureValue=new Uint8Array(kb),Object(m.s)(L)&&(ha.document=L.ownerDocument),
lb.return(ha.XmlSignature)}})};ob.prototype.Verify=function(a){var B=this,L,Y,ha,qa,Aa,Ea;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){switch(Ga.nextAddress){case 1:a&&("algorithm"in a&&"usages"in a&&"type"in a?Y=a:(Y=a.key,L=a.content));if(!L){ha=B.document;if(!ha||!ha.documentElement)throw new m.m(m.f.NULL_PARAM,"SignedXml","document");L=ha.documentElement}return Ga.yield(B.ValidateReferences(L),2);case 2:qa=Ga.yieldResult;if(!qa)return Ga.return(!1);if(Y){Aa=[Y];Ga.jumpTo(4);
break}return Ga.yield(B.GetPublicKeys(),5);case 5:Aa=Ga.yieldResult;case 4:return Ea=Aa,Ga.return(B.ValidateSignatureValue(Ea))}})};ob.prototype.GetXml=function(){return this.signature.GetXml()};ob.prototype.LoadXml=function(a){this.signature=Mb.LoadXml(a)};ob.prototype.toString=function(){var a=this.XmlSignature;if(a.SignedInfo.References&&a.SignedInfo.References.Some(function(L){return L.Transforms&&L.Transforms.Some(function(Y){return Y instanceof lc})})){a=this.document.documentElement.cloneNode(!0);
var B=this.XmlSignature.GetXml();if(!B)throw new m.m(m.f.XML_EXCEPTION,"Cannot get Xml element from Signature");B=B.cloneNode(!0);a.appendChild(B);return(new XMLSerializer).serializeToString(a)}return this.XmlSignature.toString()};ob.prototype.GetPublicKeys=function(){var a=this,B,L,Y,ha,qa,Aa,Ea,Ga,Ja,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Wa){switch(Wa.nextAddress){case 1:B=[],L=$jscomp.makeIterator(a.XmlSignature.KeyInfo.GetIterator()),Y=L.next();case 2:if(Y.done){Wa.jumpTo(4);
break}ha=Y.value;qa=vb.CreateSignatureAlgorithm(a.XmlSignature.SignedInfo.SignatureMethod);if(ha instanceof wc){Wa.jumpTo(5);break}return Wa.yield(ha.exportKey(qa.algorithm),7);case 7:Aa=Wa.yieldResult;B.push(Aa);Wa.jumpTo(3);break;case 5:Ea=$jscomp.makeIterator(ha.Certificates),Ga=Ea.next();case 8:if(Ga.done){Wa.jumpTo(3);break}Ja=Ga.value;return Wa.yield(Ja.exportKey(qa.algorithm),11);case 11:Qa=Wa.yieldResult;B.push(Qa);Ga=Ea.next();Wa.jumpTo(8);break;case 3:Y=L.next();Wa.jumpTo(2);break;case 4:return Wa.return(B)}})};
ob.prototype.GetSignatureNamespaces=function(){var a={};this.XmlSignature.NamespaceURI&&(a[this.XmlSignature.Prefix||""]=this.XmlSignature.NamespaceURI);return a};ob.prototype.CopyNamespaces=function(a,B,L){var Y=this.InjectNamespaces,ha={};t(a,ha);Y.call(this,ha,B,L)};ob.prototype.InjectNamespaces=function(a,B,L){for(var Y in a)L&&""===Y||B.setAttribute("xmlns"+(Y?":"+Y:""),a[Y])};ob.prototype.DigestReference=function(a,B,L){var Y=this,ha,qa,Aa,Ea,Ga,Ja,Qa,Wa,jb,kb,lb,hb,Zb,Le;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ec){if(1==
Ec.nextAddress)return Y.contentHandler?Ec.yield(Y.contentHandler(B,Y),3):Ec.jumpTo(2);2!=Ec.nextAddress&&(ha=Ec.yieldResult)&&(a=Object(m.r)(ha)?ha.documentElement:ha);if(B.Uri&&(B.Uri.indexOf("#xpointer")?"#"===B.Uri[0]&&(qa=B.Uri.substring(1)):(Aa=B.Uri,Aa=Aa.substring(9).replace(/[\r\n\t\s]/g,""),Aa=2>Aa.length||"("!==Aa[0]||")"!==Aa[Aa.length-1]?"":Aa.substring(1,Aa.length-1),6<Aa.length&&0===Aa.indexOf("id(")&&")"===Aa[Aa.length-1]&&(qa=Aa.substring(4,Aa.length-2))),qa)){Ea=null;Ga=[Y.XmlSignature.KeyInfo.GetXml()];
Y.XmlSignature.ObjectList.ForEach(function(Kg){Ga.push(Kg.GetXml())});Ja=$jscomp.makeIterator(Ga);for(Qa=Ja.next();!Qa.done;Qa=Ja.next())if(Wa=Qa.value)if(Ea=g(Wa,qa)){jb=Ea.cloneNode(!0);Object(m.s)(a)&&Y.CopyNamespaces(a,jb,!1);Y.Parent&&(kb=Y.Parent instanceof m.p?Y.Parent.GetXml():Y.Parent,Y.CopyNamespaces(kb,jb,!0));Y.CopyNamespaces(Ea,jb,!1);Y.InjectNamespaces(Y.GetSignatureNamespaces(),jb,!0);a=jb;break}!Ea&&a&&Object(m.s)(a)&&(Ea=m.p.GetElementById(a,qa))&&(lb=Ea.cloneNode(!0),Y.CopyNamespaces(Ea,
lb,!1),Y.CopyNamespaces(a,lb,!1),a=lb);if(null==Ea)throw new m.m(m.f.CRYPTOGRAPHIC,"Cannot get object by reference: "+qa);}hb=null;if(B.Transforms&&B.Transforms.Count){if(fa.a.isBufferSource(a))throw Error("Transformation for argument 'source' of type BufferSource is not implemented");hb=Y.ApplyTransforms(B.Transforms,a)}else if(B.Uri&&"#"!==B.Uri[0])if(Object(m.s)(a)){if(!a.ownerDocument)throw Error("Cannot get ownerDocument from the XML document");hb=(new XMLSerializer).serializeToString(a.ownerDocument)}else hb=
fa.a.toArrayBuffer(a);else Zb=new Ib,fa.a.isBufferSource(a)&&(a=Object(m.d)(fa.b.ToUtf8String(a)).documentElement),Zb.LoadInnerXml(a),hb=Zb.GetOutput();if(!B.DigestMethod.Algorithm)throw new m.m(m.f.NULL_PARAM,"Reference","DigestMethod");Le=vb.CreateHashAlgorithm(B.DigestMethod.Algorithm);return Ec.return(Le.Digest(hb))})};ob.prototype.DigestReferences=function(a){var B=this,L,Y,ha,qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){switch(Aa.nextAddress){case 1:L=$jscomp.makeIterator(B.XmlSignature.SignedInfo.References.GetIterator()),
Y=L.next();case 2:if(Y.done){Aa.jumpTo(0);break}ha=Y.value;if(ha.DigestValue){Aa.jumpTo(3);break}ha.DigestMethod.Algorithm||(ha.DigestMethod.Algorithm=(new oa).namespaceURI);return Aa.yield(B.DigestReference(a,ha,!1),5);case 5:qa=Aa.yieldResult,ha.DigestValue=qa;case 3:Y=L.next(),Aa.jumpTo(2)}})};ob.prototype.TransformSignedInfo=function(a){var B=vb.CreateFromName(this.XmlSignature.SignedInfo.CanonicalizationMethod.Algorithm),L=this.XmlSignature.SignedInfo.GetXml();if(!L)throw new m.m(m.f.XML_EXCEPTION,
"Cannot get Xml element from SignedInfo");var Y=L.cloneNode(!0);this.CopyNamespaces(L,Y,!1);a&&!fa.a.isBufferSource(a)&&(a.nodeType===m.n.Document?this.CopyNamespaces(a.documentElement,Y,!1):this.CopyNamespaces(a,Y,!1));this.Parent&&(a=this.Parent instanceof m.p?this.Parent.GetXml():this.Parent)&&this.CopyNamespaces(a,Y,!1);L=m.e(L);for(var ha in L)ha!==Y.prefix&&Y.setAttribute("xmlns"+(ha?":"+ha:""),L[ha]);B.LoadInnerXml(Y);return B.GetOutput()};ob.prototype.ResolveTransform=function(a){switch(a){case "enveloped":return new lc;
case "c14n":return new Ib;case "c14n-com":return new Qc;case "exc-c14n":return new Jb;case "exc-c14n-com":return new Rc;case "base64":return new Pc;case "xpath":return new Qb;default:throw new m.m(m.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,a);}};ob.prototype.ApplyTransforms=function(a,B){var L=null;a.Sort(function(Y,ha){var qa=[Ib,Qc,Jb,Rc];return qa.some(function(Aa){return Y instanceof Aa})?1:qa.some(function(Aa){return ha instanceof Aa})?-1:0}).ForEach(function(Y){Y.LoadInnerXml(B);Y instanceof Qb?Y.GetOutput():
L=Y.GetOutput()});1===a.Count&&a.Item(0)instanceof lc&&(a=new Ib,a.LoadInnerXml(B),L=a.GetOutput());return L};ob.prototype.ApplySignOptions=function(a,B,L,Y){var ha=this,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress){Y.id&&(ha.XmlSignature.Id=Y.id);if(!Y.keyValue||"HMAC"===L.algorithm.name.toUpperCase())return Ja.jumpTo(2);a.KeyInfo||(a.KeyInfo=new xc);qa=a.KeyInfo;Aa=new sd;qa.Add(Aa);return Ja.yield(Aa.importKey(Y.keyValue),2)}Y.x509&&(a.KeyInfo||
(a.KeyInfo=new xc),Ea=a.KeyInfo,Y.x509.forEach(function(Qa){Qa=m.b.FromBase64(Qa);Qa=new wc(Qa);Ea.Add(Qa)}));Y.references&&Y.references.forEach(function(Qa){var Wa=new Fb;Qa.id&&(Wa.Id=Qa.id);null!==Qa.uri&&void 0!==Qa.uri&&(Wa.Uri=Qa.uri);Qa.type&&(Wa.Type=Qa.type);var jb=vb.GetHashAlgorithm(Qa.hash);Wa.DigestMethod.Algorithm=jb.namespaceURI;if(Qa.transforms&&Qa.transforms.length){var kb=new yc;Qa.transforms.forEach(function(lb){kb.Add(ha.ResolveTransform(lb))});Wa.Transforms=kb}a.SignedInfo.References||
(a.SignedInfo.References=new ud);a.SignedInfo.References.Add(Wa)});a.SignedInfo.References.Count||(Ga=new Fb,a.SignedInfo.References.Add(Ga));Ja.jumpToEnd()})};ob.prototype.ValidateReferences=function(a){var B=this,L,Y,ha,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){switch(Ja.nextAddress){case 1:L=$jscomp.makeIterator(B.XmlSignature.SignedInfo.References.GetIterator()),Y=L.next();case 2:if(Y.done){Ja.jumpTo(4);break}ha=Y.value;return Ja.yield(B.DigestReference(a,ha,
!1),5);case 5:qa=Ja.yieldResult;Aa=m.b.ToBase64(qa);Ea=m.b.ToString(ha.DigestValue,"base64");if(Aa!==Ea)throw Ga="Invalid digest for uri '"+ha.Uri+"'. Calculated digest is "+Aa+" but the xml to validate supplies digest "+Ea,new m.m(m.f.CRYPTOGRAPHIC,Ga);Y=L.next();Ja.jumpTo(2);break;case 4:return Ja.return(!0)}})};ob.prototype.ValidateSignatureValue=function(a){var B=this,L,Y,ha,qa,Aa,Ea;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ga){switch(Ga.nextAddress){case 1:Y=B.TransformSignedInfo(B.document),
L=vb.CreateSignatureAlgorithm(B.XmlSignature.SignedInfo.SignatureMethod),ha=$jscomp.makeIterator(a),qa=ha.next();case 2:if(qa.done){Ga.jumpTo(4);break}Aa=qa.value;return Ga.yield(L.Verify(Y,Aa,B.Signature),5);case 5:if(Ea=Ga.yieldResult)return Ga.return(!0);qa=ha.next();Ga.jumpTo(2);break;case 4:return Ga.return(!1)}})};$jscomp.global.Object.defineProperties(ob.prototype,{XmlSignature:{configurable:!0,enumerable:!0,get:function(){return this.signature}},Signature:{configurable:!0,enumerable:!0,get:function(){return this.XmlSignature.SignatureValue}}});
var va={DefaultPrefix:"xades",NamespaceURI:"http://uri.etsi.org/01903/v1.3.2#",SignedPropertiesType:"http://uri.etsi.org/01903/v1.3.2#SignedProperties",ElementNames:{Any:"Any",ByName:"ByName",ByKey:"ByKey",AttrAuthoritiesCertValues:"AttrAuthoritiesCertValues",AttributeRevocationValues:"AttributeRevocationValues",AttributeCertificateRefs:"AttributeCertificateRefs",AttributeRevocationRefs:"AttributeRevocationRefs",QualifyingProperties:"QualifyingProperties",QualifyingPropertiesReference:"QualifyingPropertiesReference",
SignedProperties:"SignedProperties",SignedSignatureProperties:"SignedSignatureProperties",SignedDataObjectProperties:"SignedDataObjectProperties",UnsignedProperties:"UnsignedProperties",UnsignedSignatureProperties:"UnsignedSignatureProperties",UnsignedDataObjectProperties:"UnsignedDataObjectProperties",UnsignedDataObjectProperty:"UnsignedDataObjectProperty",SigningTime:"SigningTime",SigningCertificate:"SigningCertificate",SigningCertificateV2:"SigningCertificateV2",SignaturePolicyIdentifier:"SignaturePolicyIdentifier",
SignatureProductionPlace:"SignatureProductionPlace",SignerRole:"SignerRole",Cert:"Cert",CertDigest:"CertDigest",IssuerSerial:"IssuerSerial",IssuerSerialV2:"IssuerSerialV2",DataObjectFormat:"DataObjectFormat",CommitmentTypeIndication:"CommitmentTypeIndication",AllDataObjectsTimeStamp:"AllDataObjectsTimeStamp",IndividualDataObjectsTimeStamp:"IndividualDataObjectsTimeStamp",HashDataInfo:"HashDataInfo",EncapsulatedTimeStamp:"EncapsulatedTimeStamp",XMLTimeStamp:"XMLTimeStamp",XAdESTimeStamp:"XAdESTimeStamp",
OtherTimeStamp:"OtherTimeStamp",Description:"Description",ObjectIdentifier:"ObjectIdentifier",MimeType:"MimeType",Encoding:"Encoding",Identifier:"Identifier",DocumentationReferences:"DocumentationReferences",DocumentationReference:"DocumentationReference",CommitmentTypeId:"CommitmentTypeId",ObjectReference:"ObjectReference",CommitmentTypeQualifiers:"CommitmentTypeQualifiers",AllSignedDataObjects:"AllSignedDataObjects",CommitmentTypeQualifier:"CommitmentTypeQualifier",SignaturePolicyId:"SignaturePolicyId",
SignaturePolicyImplied:"SignaturePolicyImplied",SigPolicyId:"SigPolicyId",SigPolicyHash:"SigPolicyHash",SigPolicyQualifier:"SigPolicyQualifier",SigPolicyQualifiers:"SigPolicyQualifiers",SPURI:"SPURI",SPUserNotice:"SPUserNotice",NoticeRef:"NoticeRef",ExplicitText:"ExplicitText",ClaimedRoles:"ClaimedRoles",ClaimedRole:"ClaimedRole",CertifiedRoles:"CertifiedRoles",CertifiedRole:"CertifiedRole",Organization:"Organization",NoticeNumbers:"NoticeNumbers",Int:"int",City:"City",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince",
CountryName:"CountryName",CounterSignature:"CounterSignature",SignatureTimeStamp:"SignatureTimeStamp",CompleteCertificateRefs:"CompleteCertificateRefs",CompleteRevocationRefs:"CompleteRevocationRefs",SigAndRefsTimeStamp:"SigAndRefsTimeStamp",RefsOnlyTimeStamp:"RefsOnlyTimeStamp",CertificateValues:"CertificateValues",RevocationValues:"RevocationValues",ArchiveTimeStamp:"ArchiveTimeStamp",CertRefs:"CertRefs",CRLRefs:"CRLRefs",CRLRef:"CRLRef",OCSPRefs:"OCSPRefs",OtherRefs:"OtherRefs",OtherRef:"OtherRef",
DigestAlgAndValue:"DigestAlgAndValue",CRLIdentifier:"CRLIdentifier",Issuer:"Issuer",IssueTime:"IssueTime",Number:"Number",OCSPRef:"OCSPRef",OCSPIdentifier:"OCSPIdentifier",ResponderID:"ResponderID",ProducedAt:"ProducedAt",EncapsulatedX509Certificate:"EncapsulatedX509Certificate",OtherCertificate:"OtherCertificate",CRLValues:"CRLValues",OCSPValues:"OCSPValues",OtherValues:"OtherValues",OtherValue:"OtherValue",EncapsulatedCRLValue:"EncapsulatedCRLValue",EncapsulatedOCSPValue:"EncapsulatedOCSPValue",
ReferenceInfo:"ReferenceInfo",Include:"Include"},AttributeNames:{Id:"Id",Encoding:"Encoding",Target:"Target",ObjectReference:"ObjectReference",Qualifier:"Qualifier",Uri:"uri",URI:"URI",ReferencedData:"referencedData"}},Me=m.p,Ne=function(){return Me.apply(this,arguments)||this};$jscomp.inherits(Ne,Me);var La=Ne;La=A([Object(m.l)({localName:"xades",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],La);var Oe=m.j,Pe=function(){return Oe.apply(this,arguments)||this};$jscomp.inherits(Pe,Oe);var Ua=
Pe;Ua=A([Object(m.l)({localName:"xades_collection",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],Ua);var Qe=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Qe,La);var zb=Qe;A([Object(m.k)()],zb.prototype,"Value",void 0);zb=A([Object(m.l)({localName:va.ElementNames.Any})],zb);var Re=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Re,Ua);var Yc=Re;Yc=A([Object(m.l)({localName:va.ElementNames.Any})],Yc);var Se=function(){return La.apply(this,arguments)||
this};$jscomp.inherits(Se,La);var tb=Se;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],tb.prototype,"Id",void 0);A([Object(m.g)({localName:va.AttributeNames.Encoding,defaultValue:null,converter:{get:function(a){switch(a){case "der":case "ber":case "cer":case "per":case "xer":return"http://uri.etsi.org/01903/v1.2.2#"+a.toUpperCase()}},set:function(a){return(a=/#(\w+)$/.exec(a))?a[1].toLowerCase():null}}})],tb.prototype,"Encoding",void 0);A([Object(m.k)({required:!0,converter:m.h})],
tb.prototype,"Value",void 0);tb=A([Object(m.l)({localName:"EncapsulatedPKIData"})],tb);var Te=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(Te,zb);var wd=Te;wd=A([Object(m.l)({localName:va.ElementNames.OtherCertificate})],wd);var Ue=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Ue,Ua);var xd=Ue;xd=A([Object(m.l)({localName:"OtherCertificateCollection",parser:wd})],xd);var Ve=function(){return tb.apply(this,arguments)||this};$jscomp.inherits(Ve,tb);var yd=
Ve;yd=A([Object(m.l)({localName:va.ElementNames.EncapsulatedX509Certificate})],yd);var We=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(We,Ua);var zd=We;zd=A([Object(m.l)({localName:"EncapsulatedX509CertificateCollection",parser:yd})],zd);var Xe=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Xe,La);var Sb=Xe;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Sb.prototype,"Id",void 0);A([Object(m.i)({parser:zd,noRoot:!0})],Sb.prototype,"EncapsulatedX509Certificates",
void 0);A([Object(m.i)({parser:xd,noRoot:!0})],Sb.prototype,"OtherCertificates",void 0);Sb=A([Object(m.l)({localName:va.ElementNames.CertificateValues})],Sb);var Ye=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Ye,La);var pc=Ye;A([Object(m.g)({localName:va.AttributeNames.Qualifier})],pc.prototype,"Qualifier",void 0);A([Object(m.k)({defaultValue:"",required:!0})],pc.prototype,"Value",void 0);pc=A([Object(m.l)({localName:va.ElementNames.Identifier})],pc);var Ad=function(){return La.apply(this,
arguments)||this};$jscomp.inherits(Ad,La);Ad.prototype.OnLoadXml=function(a){a.textContent&&(this.Uri=a.textContent)};Ad.prototype.OnGetXml=function(a){this.Uri&&(a.textContent=this.Uri)};var Fc=Ad;A([Object(m.k)({defaultValue:"",required:!0})],Fc.prototype,"Uri",void 0);Fc=A([Object(m.l)({localName:va.ElementNames.DocumentationReference})],Fc);var Ze=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Ze,Ua);var Zc=Ze;Zc=A([Object(m.l)({localName:va.ElementNames.DocumentationReferences,
parser:Fc})],Zc);var $e=function(){return La.apply(this,arguments)||this};$jscomp.inherits($e,La);var Nb=$e;A([Object(m.i)({parser:pc,required:!0})],Nb.prototype,"Identifier",void 0);A([Object(m.i)({localName:va.ElementNames.Description,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,defaultValue:""})],Nb.prototype,"Description",void 0);A([Object(m.i)({parser:Zc})],Nb.prototype,"DocumentationReferences",void 0);Nb=A([Object(m.l)({localName:va.ElementNames.ObjectIdentifier})],Nb);var af=function(){return zb.apply(this,
arguments)||this};$jscomp.inherits(af,zb);var $c=af;$c=A([Object(m.l)({localName:va.ElementNames.CommitmentTypeQualifier})],$c);var bf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(bf,Ua);var oe=bf;oe=A([Object(m.l)({localName:va.ElementNames.CommitmentTypeQualifiers,parser:$c})],oe);var cf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(cf,La);var ad=cf;A([Object(m.k)({required:!0})],ad.prototype,"Value",void 0);ad=A([Object(m.l)({localName:va.ElementNames.ObjectReference})],
ad);var df=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(df,Ua);var Bd=df;Bd=A([Object(m.l)({localName:"ObjectReferences",parser:ad})],Bd);var ef=function(){return La.apply(this,arguments)||this};$jscomp.inherits(ef,La);var ac=ef;A([Object(m.i)({localName:va.ElementNames.CommitmentTypeId,required:!0,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,parser:Nb})],ac.prototype,"CommitmentTypeId",void 0);A([Object(m.i)({parser:Bd,noRoot:!0})],ac.prototype,"ObjectReference",void 0);
A([Object(m.i)({localName:va.ElementNames.AllSignedDataObjects,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){}},defaultValue:!1})],ac.prototype,"AllSignedDataObjects",void 0);A([Object(m.i)({localName:va.ElementNames.CommitmentTypeQualifiers,parser:$c})],ac.prototype,"CommitmentTypeQualifiers",void 0);ac=A([Object(m.l)({localName:va.ElementNames.CommitmentTypeIndication})],ac);var ff=function(){return La.apply(this,arguments)||this};$jscomp.inherits(ff,
La);var Kb=ff;A([Object(m.i)({parser:Eb,required:!0})],Kb.prototype,"DigestMethod",void 0);A([Object(m.i)({localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:m.h,required:!0})],Kb.prototype,"DigestValue",void 0);Kb=A([Object(m.l)({localName:va.ElementNames.DigestAlgAndValue})],Kb);var gf=function(){return Dc.apply(this,arguments)||this};$jscomp.inherits(gf,Dc);var Cd=gf;Cd=A([Object(m.l)({localName:va.ElementNames.IssuerSerial,namespaceURI:va.NamespaceURI,
prefix:va.DefaultPrefix})],Cd);var hf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(hf,La);var bc=hf;A([Object(m.i)({localName:va.ElementNames.CertDigest,parser:Kb,required:!0})],bc.prototype,"CertDigest",void 0);A([Object(m.i)({parser:Cd,required:!0})],bc.prototype,"IssuerSerial",void 0);A([Object(m.g)({localName:va.AttributeNames.URI})],bc.prototype,"Uri",void 0);bc=A([Object(m.l)({localName:va.ElementNames.Cert})],bc);var jf=function(){return Ua.apply(this,arguments)||this};
$jscomp.inherits(jf,Ua);var Gc=jf;Gc=A([Object(m.l)({localName:"CertIDList",parser:bc})],Gc);var kf=function(){return Gc.apply(this,arguments)||this};$jscomp.inherits(kf,Gc);var Dd=kf;Dd=A([Object(m.l)({localName:va.ElementNames.SigningCertificate})],Dd);var lf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(lf,La);var cc=lf;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],cc.prototype,"Id",void 0);A([Object(m.i)({localName:va.ElementNames.CertRefs,parser:Gc,required:!0})],
cc.prototype,"CertRefs",void 0);cc=A([Object(m.l)({localName:va.ElementNames.CompleteCertificateRefs})],cc);var Ig=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,Gg=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Hg=/[^-+\dA-Z]/g,se={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",
longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Db={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),timeNames:"a p am pm A P AM PM".split(" ")},
Ed=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Ed,La);Ed.prototype.OnLoadXml=function(a){a.textContent&&(this.Value=new Date(a.textContent))};Ed.prototype.OnGetXml=function(a){a.textContent=this.Format?W(this.Value,this.Format):this.Value.toISOString()};var qc=Ed;A([Object(m.k)({defaultValue:new Date,required:!0})],qc.prototype,"Value",void 0);qc=A([Object(m.l)({localName:"XadesDateTime",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],qc);var mf=function(){return zb.apply(this,
arguments)||this};$jscomp.inherits(mf,zb);var pe=mf;pe=A([Object(m.l)({localName:va.ElementNames.OtherRef})],pe);var nf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(nf,Ua);var Fd=nf;Fd=A([Object(m.l)({localName:va.ElementNames.OtherRefs})],Fd);var of=function(){return La.apply(this,arguments)||this};$jscomp.inherits(of,La);var Hc=of;A([Object(m.i)({localName:va.ElementNames.ByName,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,required:!0})],Hc.prototype,"ByName",void 0);
A([Object(m.i)({localName:va.ElementNames.ByKey,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,converter:m.h,required:!0})],Hc.prototype,"ByKey",void 0);Hc=A([Object(m.l)({localName:va.ElementNames.OCSPIdentifier})],Hc);var pf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(pf,La);var rc=pf;A([Object(m.g)({localName:va.AttributeNames.URI,defaultValue:""})],rc.prototype,"URI",void 0);A([Object(m.i)({parser:Hc,required:!0})],rc.prototype,"ResponderID",void 0);A([Object(m.i)({localName:va.ElementNames.IssueTime,
parser:qc,required:!0})],rc.prototype,"ProducedAt",void 0);rc=A([Object(m.l)({localName:va.ElementNames.OCSPIdentifier})],rc);var qf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(qf,La);var bd=qf;A([Object(m.i)({parser:rc})],bd.prototype,"OCSPIdentifier",void 0);A([Object(m.i)({parser:Kb,required:!0})],bd.prototype,"DigestAlgAndValue",void 0);bd=A([Object(m.l)({localName:va.ElementNames.OCSPRef})],bd);var rf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(rf,
Ua);var Gd=rf;Gd=A([Object(m.l)({localName:va.ElementNames.OCSPRefs})],Gd);var sf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(sf,La);var dc=sf;A([Object(m.g)({localName:va.AttributeNames.URI,defaultValue:""})],dc.prototype,"URI",void 0);A([Object(m.i)({localName:va.ElementNames.Issuer,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,required:!0})],dc.prototype,"Issuer",void 0);A([Object(m.i)({localName:va.ElementNames.IssueTime,parser:qc,required:!0})],dc.prototype,"IssueTime",
void 0);A([Object(m.i)({localName:va.ElementNames.Number,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,converter:m.o})],dc.prototype,"Number",void 0);dc=A([Object(m.l)({localName:va.ElementNames.CRLIdentifier})],dc);var tf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(tf,La);var cd=tf;A([Object(m.i)({parser:Kb,required:!0})],cd.prototype,"DigestAlgAndValue",void 0);A([Object(m.i)({parser:dc})],cd.prototype,"CRLIdentifier",void 0);cd=A([Object(m.l)({localName:va.ElementNames.CRLRef})],
cd);var uf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(uf,Ua);var Hd=uf;Hd=A([Object(m.l)({localName:va.ElementNames.CRLRefs})],Hd);var vf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(vf,La);var Ob=vf;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Ob.prototype,"Id",void 0);A([Object(m.i)({parser:Hd})],Ob.prototype,"CRLRefs",void 0);A([Object(m.i)({parser:Gd})],Ob.prototype,"OCSPRefs",void 0);A([Object(m.i)({parser:Fd})],Ob.prototype,
"OtherRefs",void 0);Ob=A([Object(m.l)({localName:va.ElementNames.CompleteRevocationRefs})],Ob);var wf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(wf,La);var dd=wf;A([Object(m.i)({parser:Mb,required:!0})],dd.prototype,"Signature",void 0);dd=A([Object(m.l)({localName:va.ElementNames.CounterSignature})],dd);var xf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(xf,La);var Tb=xf;A([Object(m.g)({localName:va.AttributeNames.ObjectReference,required:!0})],Tb.prototype,
"ObjectReference",void 0);A([Object(m.i)({localName:va.ElementNames.Description,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],Tb.prototype,"Description",void 0);A([Object(m.i)({parser:Nb})],Tb.prototype,"ObjectIdentifier",void 0);A([Object(m.i)({localName:va.ElementNames.MimeType,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],Tb.prototype,"MimeType",void 0);A([Object(m.i)({localName:va.ElementNames.Encoding,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],Tb.prototype,"Encoding",
void 0);Tb=A([Object(m.l)({localName:va.ElementNames.DataObjectFormat})],Tb);var yf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(yf,La);var sc=yf;A([Object(m.g)({localName:va.AttributeNames.URI,defaultValue:"",required:!0})],sc.prototype,"Uri",void 0);A([Object(m.g)({localName:va.AttributeNames.ReferencedData,defaultValue:!1})],sc.prototype,"ReferencedData",void 0);sc=A([Object(m.l)({localName:va.ElementNames.Include})],sc);var zf=function(){var a=La.apply(this,arguments)||this;
a.DigestMethod=new Eb;return a};$jscomp.inherits(zf,La);var ec=zf;A([Object(m.g)({localName:va.AttributeNames.URI,defaultValue:""})],ec.prototype,"Uri",void 0);A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],ec.prototype,"Id",void 0);A([Object(m.i)({required:!0,parser:Eb})],ec.prototype,"DigestMethod",void 0);A([Object(m.i)({required:!0,localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:m.h})],ec.prototype,"DigestValue",void 0);ec=A([Object(m.l)({localName:va.ElementNames.ReferenceInfo})],
ec);var Af=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Af,Ua);var ed=Af;ed=A([Object(m.l)({localName:"ReferenceInfos",parser:ec})],ed);var Bf=function(){return tb.apply(this,arguments)||this};$jscomp.inherits(Bf,tb);var Id=Bf;Id=A([Object(m.l)({localName:va.ElementNames.EncapsulatedTimeStamp})],Id);var Cf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Cf,Ua);var Ic=Cf;Ic=A([Object(m.l)({localName:"EncapsulatedPKIDatas",parser:Id})],Ic);var Df=function(){return zb.apply(this,
arguments)||this};$jscomp.inherits(Df,zb);var Jd=Df;Jd=A([Object(m.l)({localName:va.ElementNames.XMLTimeStamp})],Jd);var Ef=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Ef,Ua);var Jc=Ef;Jc=A([Object(m.l)({localName:"XMLTimeStampCollection",parser:Jd})],Jc);var Ff=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Ff,La);var Ub=Ff;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Ub.prototype,"Id",void 0);A([Object(m.i)({parser:sc})],Ub.prototype,
"Include",void 0);A([Object(m.i)({parser:ed,noRoot:!0})],Ub.prototype,"ReferenceInfo",void 0);A([Object(m.i)({parser:kc})],Ub.prototype,"CanonicalizationMethod",void 0);A([Object(m.i)({parser:Ic,noRoot:!0})],Ub.prototype,"EncapsulatedTimeStamp",void 0);A([Object(m.i)({parser:Jc,noRoot:!0})],Ub.prototype,"XMLTimeStamp",void 0);Ub=A([Object(m.l)({localName:"GenericTimeStamp"})],Ub);var Gf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Gf,La);var fc=Gf;A([Object(m.g)({localName:va.AttributeNames.Id,
defaultValue:""})],fc.prototype,"Id",void 0);A([Object(m.i)({parser:ed,noRoot:!0})],fc.prototype,"ReferenceInfo",void 0);A([Object(m.i)({parser:kc})],fc.prototype,"CanonicalizationMethod",void 0);A([Object(m.i)({parser:Ic,noRoot:!0})],fc.prototype,"EncapsulatedTimeStamp",void 0);A([Object(m.i)({parser:Jc,noRoot:!0})],fc.prototype,"XMLTimeStamp",void 0);fc=A([Object(m.l)({localName:va.ElementNames.OtherTimeStamp})],fc);var Hf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Hf,La);
var qb=Hf;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],qb.prototype,"Id",void 0);A([Object(m.i)({parser:sc})],qb.prototype,"Include",void 0);A([Object(m.i)({parser:kc})],qb.prototype,"CanonicalizationMethod",void 0);A([Object(m.i)({parser:Ic,noRoot:!0})],qb.prototype,"EncapsulatedTimeStamp",void 0);A([Object(m.i)({parser:Jc,noRoot:!0})],qb.prototype,"XMLTimeStamp",void 0);qb=A([Object(m.l)({localName:va.ElementNames.XAdESTimeStamp})],qb);var If=function(){return qb.apply(this,
arguments)||this};$jscomp.inherits(If,qb);var Kd=If;Kd=A([Object(m.l)({localName:va.ElementNames.IndividualDataObjectsTimeStamp})],Kd);var Jf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Jf,Ua);var Ld=Jf;Ld=A([Object(m.l)({localName:"IndividualDataObjectsTimeStampCollection",parser:Kd})],Ld);var Kf=function(){return qb.apply(this,arguments)||this};$jscomp.inherits(Kf,qb);var Md=Kf;Md=A([Object(m.l)({localName:va.ElementNames.AllDataObjectsTimeStamp})],Md);var Lf=function(){return Ua.apply(this,
arguments)||this};$jscomp.inherits(Lf,Ua);var Nd=Lf;Nd=A([Object(m.l)({localName:"DataObjectFormatCollection",parser:Tb})],Nd);var Mf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Mf,Ua);var Od=Mf;Od=A([Object(m.l)({localName:"CommitmentTypeIndicationCollection",parser:ac})],Od);var Nf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Nf,Ua);var Pd=Nf;Pd=A([Object(m.l)({localName:"AllDataObjectsTimeStampCollection",parser:Md})],Pd);var Of=function(){return La.apply(this,
arguments)||this};$jscomp.inherits(Of,La);var Vb=Of;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Vb.prototype,"Id",void 0);A([Object(m.i)({parser:Nd,noRoot:!0})],Vb.prototype,"DataObjectFormats",void 0);A([Object(m.i)({parser:Od,noRoot:!0})],Vb.prototype,"CommitmentTypeIndications",void 0);A([Object(m.i)({parser:Pd,noRoot:!0})],Vb.prototype,"AllDataObjectsTimeStamps",void 0);A([Object(m.i)({parser:Ld,noRoot:!0})],Vb.prototype,"IndividualDataObjectsTimeStamps",void 0);Vb=A([Object(m.l)({localName:va.ElementNames.SignedDataObjectProperties})],
Vb);var Pf=function(){return Nb.apply(this,arguments)||this};$jscomp.inherits(Pf,Nb);var fd=Pf;fd=A([Object(m.l)({localName:va.ElementNames.SigPolicyId})],fd);var Qf=function(){return Kb.apply(this,arguments)||this};$jscomp.inherits(Qf,Kb);var gd=Qf;gd=A([Object(m.l)({localName:va.ElementNames.SigPolicyHash})],gd);var Rf=function(){return Yc.apply(this,arguments)||this};$jscomp.inherits(Rf,Yc);var hd=Rf;hd=A([Object(m.l)({localName:va.ElementNames.SigPolicyQualifier})],hd);var Sf=function(){return La.apply(this,
arguments)||this};$jscomp.inherits(Sf,La);var Kc=Sf;A([Object(m.k)({converter:m.o,required:!0})],Kc.prototype,"Value",void 0);Kc=A([Object(m.l)({localName:"int"})],Kc);var Tf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Tf,Ua);var id=Tf;id=A([Object(m.l)({localName:"IntegerList",parser:Kc})],id);var Uf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Uf,La);var tc=Uf;A([Object(m.i)({localName:va.ElementNames.Organization,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,
required:!0})],tc.prototype,"Organization",void 0);A([Object(m.i)({localName:va.ElementNames.NoticeNumbers,parser:id,required:!0})],tc.prototype,"NoticeNumbers",void 0);tc=A([Object(m.l)({localName:va.ElementNames.NoticeRef})],tc);var Vf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Vf,La);var Lc=Vf;A([Object(m.i)({localName:va.ElementNames.NoticeRef,parser:tc})],Lc.prototype,"NoticeRef",void 0);A([Object(m.i)({localName:va.ElementNames.ExplicitText,namespaceURI:va.NamespaceURI,
prefix:va.DefaultPrefix})],Lc.prototype,"ExplicitText",void 0);Lc=A([Object(m.l)({localName:va.ElementNames.SPUserNotice})],Lc);var Wf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Wf,La);var jd=Wf;A([Object(m.k)()],jd.prototype,"Value",void 0);jd=A([Object(m.l)({localName:va.ElementNames.SPURI})],jd);var Xf=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(Xf,Ua);var kd=Xf;kd=A([Object(m.l)({localName:va.ElementNames.SigPolicyQualifiers,parser:hd})],kd);var Yf=
function(){return La.apply(this,arguments)||this};$jscomp.inherits(Yf,La);var Wb=Yf;A([Object(m.i)({localName:va.ElementNames.SigPolicyId,parser:fd,required:!0})],Wb.prototype,"SigPolicyId",void 0);A([Object(m.i)({parser:yc})],Wb.prototype,"Transforms",void 0);A([Object(m.i)({localName:va.ElementNames.SigPolicyHash,parser:gd,required:!0})],Wb.prototype,"SigPolicyHash",void 0);A([Object(m.i)({localName:va.ElementNames.SigPolicyQualifiers,parser:kd})],Wb.prototype,"SigPolicyQualifiers",void 0);Wb=A([Object(m.l)({localName:va.ElementNames.SignaturePolicyId})],
Wb);var Zf=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Zf,La);var Mc=Zf;A([Object(m.i)({localName:va.ElementNames.SignaturePolicyId,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,parser:Wb})],Mc.prototype,"SignaturePolicyId",void 0);A([Object(m.i)({localName:va.ElementNames.SignaturePolicyImplied,namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){return""}},defaultValue:!1})],Mc.prototype,"SignaturePolicyImplied",
void 0);Mc=A([Object(m.l)({localName:va.ElementNames.SignaturePolicyIdentifier})],Mc);var $f=function(){return La.apply(this,arguments)||this};$jscomp.inherits($f,La);var gc=$f;A([Object(m.i)({localName:va.ElementNames.City,defaultValue:"",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],gc.prototype,"City",void 0);A([Object(m.i)({localName:va.ElementNames.StateOrProvince,defaultValue:"",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],gc.prototype,"StateOrProvince",void 0);A([Object(m.i)({localName:va.ElementNames.PostalCode,
defaultValue:"",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],gc.prototype,"PostalCode",void 0);A([Object(m.i)({localName:va.ElementNames.CountryName,defaultValue:"",namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix})],gc.prototype,"CountryName",void 0);gc=A([Object(m.l)({localName:va.ElementNames.SignatureProductionPlace})],gc);var ag=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(ag,zb);var ld=ag;ld=A([Object(m.l)({localName:va.ElementNames.ClaimedRole})],ld);var bg=
function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(bg,Ua);var Qd=bg;Qd=A([Object(m.l)({localName:va.ElementNames.ClaimedRoles,parser:ld})],Qd);var cg=function(){return tb.apply(this,arguments)||this};$jscomp.inherits(cg,tb);var md=cg;md=A([Object(m.l)({localName:va.ElementNames.CertifiedRole})],md);var dg=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(dg,Ua);var Rd=dg;Rd=A([Object(m.l)({localName:va.ElementNames.CertifiedRoles,parser:md})],Rd);var eg=function(){return La.apply(this,
arguments)||this};$jscomp.inherits(eg,La);var Nc=eg;A([Object(m.i)({parser:Qd})],Nc.prototype,"ClaimedRoles",void 0);A([Object(m.i)({parser:Rd})],Nc.prototype,"CertifiedRoles",void 0);Nc=A([Object(m.l)({localName:va.ElementNames.SignerRole})],Nc);var qe,fg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(fg,La);var hc=qe=fg;A([Object(m.i)({localName:va.ElementNames.CertDigest,parser:Kb,required:!0})],hc.prototype,"CertDigest",void 0);A([Object(m.i)({localName:va.ElementNames.IssuerSerialV2,
namespaceURI:va.NamespaceURI,prefix:va.DefaultPrefix,converter:m.h,required:!1})],hc.prototype,"IssuerSerial",void 0);A([Object(m.g)({localName:va.AttributeNames.URI})],hc.prototype,"Uri",void 0);hc=qe=A([Object(m.l)({localName:va.ElementNames.Cert,parser:qe})],hc);var gg=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(gg,Ua);var nd=gg;nd=A([Object(m.l)({localName:"CertIDListV2",parser:hc})],nd);var hg=function(){return nd.apply(this,arguments)||this};$jscomp.inherits(hg,nd);var Sd=
hg;Sd=A([Object(m.l)({localName:va.ElementNames.SigningCertificateV2})],Sd);var ig=function(){return La.apply(this,arguments)||this};$jscomp.inherits(ig,La);var Lb=ig;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Lb.prototype,"Id",void 0);A([Object(m.i)({localName:va.ElementNames.SigningTime,parser:qc})],Lb.prototype,"SigningTime",void 0);A([Object(m.i)({parser:Dd})],Lb.prototype,"SigningCertificate",void 0);A([Object(m.i)({parser:Sd})],Lb.prototype,"SigningCertificateV2",void 0);
A([Object(m.i)({parser:Mc})],Lb.prototype,"SignaturePolicyIdentifier",void 0);A([Object(m.i)({parser:gc})],Lb.prototype,"SignatureProductionPlace",void 0);A([Object(m.i)({parser:Nc})],Lb.prototype,"SignerRole",void 0);Lb=A([Object(m.l)({localName:va.ElementNames.SignedSignatureProperties})],Lb);var jg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(jg,La);var uc=jg;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],uc.prototype,"Id",void 0);A([Object(m.i)({parser:Lb})],
uc.prototype,"SignedSignatureProperties",void 0);A([Object(m.i)({parser:Vb})],uc.prototype,"SignedDataObjectProperties",void 0);uc=A([Object(m.l)({localName:va.ElementNames.SignedProperties})],uc);var kg=function(){return zb.apply(this,arguments)||this};$jscomp.inherits(kg,zb);var Td=kg;Td=A([Object(m.l)({localName:va.ElementNames.UnsignedDataObjectProperty})],Td);var lg=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(lg,Ua);var od=lg;A([Object(m.g)({localName:va.AttributeNames.Id,
defaultValue:""})],od.prototype,"Id",void 0);od=A([Object(m.l)({localName:va.ElementNames.UnsignedSignatureProperties,parser:Td})],od);var mg=function(){return tb.apply(this,arguments)||this};$jscomp.inherits(mg,tb);var Ud=mg;Ud=A([Object(m.l)({localName:va.ElementNames.OtherValue})],Ud);var ng=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(ng,Ua);var Vd=ng;Vd=A([Object(m.l)({localName:va.ElementNames.OCSPValues,parser:Ud})],Vd);var og=function(){return tb.apply(this,arguments)||
this};$jscomp.inherits(og,tb);var Wd=og;Wd=A([Object(m.l)({localName:va.ElementNames.EncapsulatedOCSPValue})],Wd);var pg=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(pg,Ua);var Xd=pg;Xd=A([Object(m.l)({localName:va.ElementNames.OCSPValues,parser:Wd})],Xd);var qg=function(){return tb.apply(this,arguments)||this};$jscomp.inherits(qg,tb);var Yd=qg;Yd=A([Object(m.l)({localName:va.ElementNames.EncapsulatedCRLValue})],Yd);var rg=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(rg,
Ua);var Zd=rg;Zd=A([Object(m.l)({localName:va.ElementNames.CRLValues,parser:Yd})],Zd);var sg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(sg,La);var Pb=sg;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Pb.prototype,"Id",void 0);A([Object(m.i)({parser:Zd})],Pb.prototype,"CRLValues",void 0);A([Object(m.i)({parser:Xd})],Pb.prototype,"OCSPValues",void 0);A([Object(m.i)({parser:Vd})],Pb.prototype,"OtherValues",void 0);Pb=A([Object(m.l)({localName:va.ElementNames.RevocationValues})],
Pb);var tg=function(){return qb.apply(this,arguments)||this};$jscomp.inherits(tg,qb);var $d=tg;$d=A([Object(m.l)({localName:va.ElementNames.SignatureTimeStamp})],$d);var ug=function(){return qb.apply(this,arguments)||this};$jscomp.inherits(ug,qb);var ae=ug;ae=A([Object(m.l)({localName:va.ElementNames.SigAndRefsTimeStamp})],ae);var vg=function(){return qb.apply(this,arguments)||this};$jscomp.inherits(vg,qb);var be=vg;be=A([Object(m.l)({localName:va.ElementNames.RefsOnlyTimeStamp})],be);var wg=function(){return qb.apply(this,
arguments)||this};$jscomp.inherits(wg,qb);var ce=wg;ce=A([Object(m.l)({localName:va.ElementNames.ArchiveTimeStamp})],ce);var xg=function(){return cc.apply(this,arguments)||this};$jscomp.inherits(xg,cc);var de=xg;de=A([Object(m.l)({localName:va.ElementNames.AttributeCertificateRefs})],de);var yg=function(){return Ob.apply(this,arguments)||this};$jscomp.inherits(yg,Ob);var ee=yg;ee=A([Object(m.l)({localName:va.ElementNames.AttributeRevocationRefs})],ee);var zg=function(){return Sb.apply(this,arguments)||
this};$jscomp.inherits(zg,Sb);var fe=zg;fe=A([Object(m.l)({localName:va.ElementNames.AttrAuthoritiesCertValues})],fe);var Ag=function(){return Pb.apply(this,arguments)||this};$jscomp.inherits(Ag,Pb);var ge=Ag;ge=A([Object(m.l)({localName:va.ElementNames.AttributeRevocationValues})],ge);var Bg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Bg,La);var he=Bg;he=A([Object(m.l)({localName:"UnsignedSignatureProperty"})],he);var re=function(){return Ua.apply(this,arguments)||this};$jscomp.inherits(re,
Ua);re.prototype.OnLoadXml=function(a){for(var B=0;B<a.childNodes.length;B++){var L=a.childNodes.item(B);if(L.nodeType===m.n.Element){var Y=void 0;switch(L.localName){case va.ElementNames.CounterSignature:Y=dd;break;case va.ElementNames.SignatureTimeStamp:Y=$d;break;case va.ElementNames.CompleteCertificateRefs:Y=cc;break;case va.ElementNames.CompleteRevocationRefs:Y=Ob;break;case va.ElementNames.AttributeCertificateRefs:Y=de;break;case va.ElementNames.AttributeRevocationRefs:Y=ee;break;case va.ElementNames.SigAndRefsTimeStamp:Y=
ae;break;case va.ElementNames.RefsOnlyTimeStamp:Y=be;break;case va.ElementNames.CertificateValues:Y=Sb;break;case va.ElementNames.RevocationValues:Y=Pb;break;case va.ElementNames.AttrAuthoritiesCertValues:Y=fe;break;case va.ElementNames.AttributeRevocationValues:Y=ge;break;case va.ElementNames.ArchiveTimeStamp:Y=ce}Y&&(L=Y.LoadXml(L),this.Add(L))}}};var pd=re;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],pd.prototype,"Id",void 0);pd=A([Object(m.l)({localName:va.ElementNames.UnsignedSignatureProperties,
parser:he})],pd);var Cg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Cg,La);var vc=Cg;A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],vc.prototype,"Id",void 0);A([Object(m.i)({parser:pd})],vc.prototype,"UnsignedSignatureProperties",void 0);A([Object(m.i)({parser:od})],vc.prototype,"UnsignedDataObjectProperties",void 0);vc=A([Object(m.l)({localName:va.ElementNames.UnsignedProperties})],vc);var Dg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Dg,
La);var Xb=Dg;A([Object(m.g)({localName:va.AttributeNames.Target,required:!0})],Xb.prototype,"Target",void 0);A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],Xb.prototype,"Id",void 0);A([Object(m.i)({parser:uc})],Xb.prototype,"SignedProperties",void 0);A([Object(m.i)({parser:vc})],Xb.prototype,"UnsignedProperties",void 0);Xb=A([Object(m.l)({localName:va.ElementNames.QualifyingProperties})],Xb);var Eg=function(){return La.apply(this,arguments)||this};$jscomp.inherits(Eg,La);var qd=
Eg;A([Object(m.g)({localName:va.AttributeNames.URI,required:!0})],qd.prototype,"Uri",void 0);A([Object(m.g)({localName:va.AttributeNames.Id,defaultValue:""})],qd.prototype,"Id",void 0);qd=A([Object(m.l)({localName:va.ElementNames.QualifyingPropertiesReference})],qd);var Fg=function(){return $b.apply(this,arguments)||this};$jscomp.inherits(Fg,$b);var rd=Fg;A([Object(m.i)({parser:Xb})],rd.prototype,"QualifyingProperties",void 0);rd=A([Object(m.l)({localName:"Object"})],rd);Object.freeze({__proto__:null,
get Any(){return zb},get AnyCollection(){return Yc},get OtherCertificate(){return wd},get OtherCertificateCollection(){return xd},get EncapsulatedX509Certificate(){return yd},get EncapsulatedX509CertificateCollection(){return zd},get CertificateValues(){return Sb},get CommitmentTypeQualifier(){return $c},get CommitmentTypeQualifiers(){return oe},get ObjectReference(){return ad},get ObjectReferenceCollection(){return Bd},get CommitmentTypeIndication(){return ac},get CompleteCertificateRefs(){return cc},
get OtherRef(){return pe},get OtherRefs(){return Fd},get ResponderID(){return Hc},get OCSPIdentifier(){return rc},get OCSPRef(){return bd},get OCSPRefs(){return Gd},get CRLIdentifier(){return dc},get CRLRef(){return cd},get CRLRefs(){return Hd},get CompleteRevocationRefs(){return Ob},get CounterSignature(){return dd},get DataObjectFormat(){return Tb},get XadesDateTime(){return qc},get EncapsulatedPKIData(){return tb},get Include(){return sc},get ReferenceInfo(){return ec},get ReferenceInfos(){return ed},
get EncapsulatedTimeStamp(){return Id},get EncapsulatedTimeStampCollection(){return Ic},get XMLTimeStamp(){return Jd},get XMLTimeStampCollection(){return Jc},get GenericTimeStamp(){return Ub},get Identifier(){return pc},get DocumentationReference(){return Fc},get DocumentationReferences(){return Zc},get ObjectIdentifier(){return Nb},get OtherTimeStamp(){return fc},get QualifyingProperties(){return Xb},get QualifyingPropertiesReference(){return qd},get OtherValue(){return Ud},get OtherValues(){return Vd},
get EncapsulatedOCSPValue(){return Wd},get OCSPValues(){return Xd},get EncapsulatedCRLValue(){return Yd},get CRLValues(){return Zd},get RevocationValues(){return Pb},get SigPolicyId(){return fd},get SigPolicyHash(){return gd},get SigPolicyQualifier(){return hd},get Integer(){return Kc},get IntegerList(){return id},get NoticeReference(){return tc},get SPUserNotice(){return Lc},get SPURI(){return jd},get SigPolicyQualifiers(){return kd},get SignaturePolicyId(){return Wb},get SignaturePolicyIdentifier(){return Mc},
get SignatureProductionPlace(){return gc},get IndividualDataObjectsTimeStamp(){return Kd},get IndividualDataObjectsTimeStampCollection(){return Ld},get AllDataObjectsTimeStamp(){return Md},get DataObjectFormatCollection(){return Nd},get CommitmentTypeIndicationCollection(){return Od},get AllDataObjectsTimeStampCollection(){return Pd},get SignedDataObjectProperties(){return Vb},get SignedProperties(){return uc},get SignedSignatureProperties(){return Lb},get ClaimedRole(){return ld},get ClaimedRoles(){return Qd},
get CertifiedRole(){return md},get CertifiedRoles(){return Rd},get SignerRole(){return Nc},get DigestAlgAndValueType(){return Kb},get IssuerSerial(){return Cd},get Cert(){return bc},get CertIDList(){return Gc},get SigningCertificate(){return Dd},get CertV2(){return hc},get CertIDListV2(){return nd},get SigningCertificateV2(){return Sd},get UnsignedDataObjectProperty(){return Td},get UnsignedDataObjectProperties(){return od},get UnsignedProperties(){return vc},get SignatureTimeStamp(){return $d},get SigAndRefsTimeStamp(){return ae},
get RefsOnlyTimeStamp(){return be},get ArchiveTimeStamp(){return ce},get AttributeCertificateRefs(){return de},get AttributeRevocationRefs(){return ee},get AttrAuthoritiesCertValues(){return fe},get AttributeRevocationValues(){return ge},get UnsignedSignatureProperty(){return he},get UnsignedSignatureProperties(){return pd},get XAdESTimeStamp(){return qb},get DataObject(){return rd},XmlXades:va});var Bb=function(a){a=ob.call(this,a)||this;a.properties=null;a.CreateQualifyingProperties();return a};
$jscomp.inherits(Bb,ob);Bb.prototype.LoadXml=function(a,B){ob.prototype.LoadXml.call(this,a);var L=null;this.XmlSignature.ObjectList.Some(function(Y){if(Y.Element)for(var ha=0;ha<Y.Element.childNodes.length;ha++){var qa=Y.Element.childNodes.item(ha);if(qa.nodeType===m.n.Element&&qa.localName===va.ElementNames.QualifyingProperties)return L=Xb.LoadXml(qa),!0}return!1});this.properties=L};Bb.prototype.Sign=function(a,B,L,Y){var ha=this,qa=arguments;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Aa){return Aa.return(ob.prototype.Sign.apply(ha,
qa))})};Bb.prototype.CreateQualifyingProperties=function(){if(this.Properties)throw new m.m(m.f.XML_EXCEPTION,"Cannot create QualifyingProperties cause current signature has got one. You must create CounterSignature");var a=ya.crypto.getRandomValues(new Uint8Array(6));a=m.b.ToHex(a);this.XmlSignature.Id="id-"+a;a=new rd;a.QualifyingProperties.Target="#"+this.XmlSignature.Id;a.QualifyingProperties.SignedProperties.Id="xades-"+this.XmlSignature.Id;this.properties=a.QualifyingProperties;this.XmlSignature.ObjectList.Add(a)};
Bb.prototype.ApplySignOptions=function(a,B,L,Y){var ha=this,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){switch(Ja.nextAddress){case 1:return Ja.yield(ob.prototype.ApplySignOptions.call(ha,a,B,L,Y),2);case 2:if(!ha.Properties){Ja.jumpTo(0);break}qa=ha.Properties.SignedProperties.SignedSignatureProperties;qa.SigningTime.Value=new Date;Y.signingTime&&(Y.signingTime.value&&(qa.SigningTime.Value=Y.signingTime.value),Y.signingTime.format&&(qa.SigningTime.Format=Y.signingTime.format));
Aa=m.q({},B,L.algorithm);Ea=Aa.hash;Ga=new Fb;Ga.Type="http://uri.etsi.org/01903#SignedProperties";Ga.Uri="#"+ha.Properties.SignedProperties.Id;Ga.DigestMethod.Algorithm=vb.GetHashAlgorithm(Ea).namespaceURI;a.SignedInfo.References.Add(Ga);return Ja.yield(ha.ApplySigningCertificate(Y.signingCertificate),4);case 4:return Ja.yield(ha.ApplySigningCertificateV2(Y.signingCertificateV2),5);case 5:return Ja.yield(ha.ApplySignaturePolicyIdentifier(Y.policy),6);case 6:ha.ApplySignatureProductionPlace(Y.productionPlace),
ha.ApplySignerRoles(Y.signerRole),Ja.jumpToEnd()}})};Bb.prototype.ApplySigningCertificate=function(a){var B=this,L,Y,ha,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress){if(!B.Properties||!a)return Ja.jumpTo(0);L=m.b.FromBase64(a);Y=new Gb(L);ha=B.Properties.SignedProperties.SignedSignatureProperties;if(ha.SigningCertificate.Count)throw new m.m(m.f.XML_EXCEPTION,"Signature can contain only one SigningCertificate");qa=new bc;qa.IssuerSerial.X509IssuerName=
Y.Issuer;qa.IssuerSerial.X509SerialNumber=Y.SerialNumber;Aa=vb.GetHashAlgorithm("SHA-256");qa.CertDigest.DigestMethod.Algorithm=Aa.namespaceURI;Ea=qa.CertDigest;Ga=Uint8Array;return Ja.yield(Y.Thumbprint(Aa.algorithm.name),3)}Ea.DigestValue=new Ga(Ja.yieldResult);B.Properties.SignedProperties.SignedSignatureProperties.SigningCertificate.Add(qa);Ja.jumpToEnd()})};Bb.prototype.ApplySigningCertificateV2=function(a){var B=this,L,Y,ha,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==
Ja.nextAddress){if(!B.Properties||!a)return Ja.jumpTo(0);L=m.b.FromBase64(a);Y=new Gb(L);ha=B.Properties.SignedProperties.SignedSignatureProperties;if(ha.SigningCertificateV2.Count)throw new m.m(m.f.XML_EXCEPTION,"Signature can contain only one SigningCertificateV2");qa=new hc;Aa=vb.GetHashAlgorithm("SHA-256");qa.CertDigest.DigestMethod.Algorithm=Aa.namespaceURI;Ea=qa.CertDigest;Ga=Uint8Array;return Ja.yield(Y.Thumbprint(Aa.algorithm.name),3)}Ea.DigestValue=new Ga(Ja.yieldResult);B.Properties.SignedProperties.SignedSignatureProperties.SigningCertificateV2.Add(qa);
Ja.jumpToEnd()})};Bb.prototype.ApplySignaturePolicyIdentifier=function(a){var B=this,L,Y,ha,qa,Aa,Ea,Ga;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){if(1==Ja.nextAddress){if(!B.Properties)return Ja.jumpTo(0);L=B.Properties.SignedProperties.SignedSignatureProperties;if(!a||"object"!==typeof a)return a&&(L.SignaturePolicyIdentifier.SignaturePolicyImplied=!0),Ja.jumpTo(0);Y=new Wb;Y.SigPolicyId=new fd;Y.SigPolicyId.Identifier=new pc;a.identifier.qualifier&&(Y.SigPolicyId.Identifier.Qualifier=
a.identifier.qualifier);Y.SigPolicyId.Identifier.Value=a.identifier.value;a.identifier.description&&(Y.SigPolicyId.Description=a.identifier.description);a.identifier.references&&(Y.SigPolicyId.DocumentationReferences=new Zc,a.identifier.references.forEach(function(Qa){var Wa=new Fc;Wa.Uri=Qa;Y.SigPolicyId.DocumentationReferences.Add(Wa)}));a.transforms&&a.transforms.length&&(Y.Transforms=new yc,a.transforms.forEach(function(Qa){Y.Transforms.Add(B.ResolveTransform(Qa))}));Y.SigPolicyHash=new gd;Y.SigPolicyHash.DigestMethod=
new Eb;ha=vb.GetHashAlgorithm(a.hash);Y.SigPolicyHash.DigestMethod.Algorithm=ha.namespaceURI;if(a.digestValue)return Y.SigPolicyHash.DigestValue=m.b.FromBase64(a.digestValue),Ja.jumpTo(4);qa=Y.SigPolicyId.Identifier.GetXml().cloneNode(!0);B.CopyNamespaces(qa,qa,!0);B.InjectNamespaces(B.GetSignatureNamespaces(),qa,!0);Aa=null;Y.Transforms&&Y.Transforms.Count?Aa=B.ApplyTransforms(Y.Transforms,qa):(Ea=new Ib,Ea.LoadInnerXml(qa),Aa=Ea.GetOutput());Ga=Y.SigPolicyHash;return Ja.yield(ha.Digest(Aa),5)}4!=
Ja.nextAddress&&(Ga.DigestValue=Ja.yieldResult);a.qualifiers&&(Y.SigPolicyQualifiers=new kd,a.qualifiers.forEach(function(Qa){var Wa=new hd;if("string"===typeof Qa){var jb=new jd;jb.Value=Qa;Wa.Add(jb)}else{var kb=new Lc;Qa.explicitText&&(kb.ExplicitText=Qa.explicitText);Qa.noticeRef&&(kb.NoticeRef=new tc,kb.NoticeRef.Organization=Qa.noticeRef.organization,kb.NoticeRef.NoticeNumbers=new id,Qa.noticeRef.noticeNumbers&&Qa.noticeRef.noticeNumbers.forEach(function(lb){var hb=new Kc;hb.Value=lb;kb.NoticeRef.NoticeNumbers.Add(hb)}));
Wa.Add(kb)}Y.SigPolicyQualifiers.Add(Wa)}));L.SignaturePolicyIdentifier.SignaturePolicyId=Y;L.SignaturePolicyIdentifier.SignaturePolicyImplied=!1;Ja.jumpToEnd()})};Bb.prototype.ApplySignatureProductionPlace=function(a){if(this.Properties&&a){var B=this.Properties.SignedProperties.SignedSignatureProperties;a.city&&(B.SignatureProductionPlace.City=a.city);a.code&&(B.SignatureProductionPlace.PostalCode=a.code);a.country&&(B.SignatureProductionPlace.CountryName=a.country);a.state&&(B.SignatureProductionPlace.StateOrProvince=
a.state)}};Bb.prototype.ApplySignerRoles=function(a){if(this.Properties&&a){var B=this.Properties.SignedProperties.SignedSignatureProperties;a.claimed&&a.claimed.forEach(function(L){var Y=new ld;Y.Value=L;B.SignerRole.ClaimedRoles.Add(Y)});a.certified&&a.certified.forEach(function(L){var Y=new md;Y.Encoding="der";Y.Value=m.b.FromBase64(L);B.SignerRole.CertifiedRoles.Add(Y)})}};Bb.prototype.VerifySigningCertificate=function(){var a=this,B,L,Y,ha,qa,Aa,Ea,Ga,Ja,Qa,Wa,jb,kb,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(hb){switch(hb.nextAddress){case 1:B=
null;if(!a.XmlSignature||!a.Properties){hb.jumpTo(2);break}L=a.Properties.SignedProperties.SignedSignatureProperties;if(1!==L.SigningCertificate.Count)throw new m.m(m.f.XML_EXCEPTION,"Signature has got wrong amount of SigningCertificate, MUST be one");Y=vb.GetHashAlgorithm("SHA-256");ha=L.SigningCertificate.Item(0);qa=m.b.ToBase64(ha.CertDigest.DigestValue);Aa=a.XmlSignature.KeyInfo;Ea=0;case 3:if(Ea<Aa.Count,B){hb.jumpTo(5);break}Ga=Aa.Item(Ea);if(!(Ga instanceof wc)){hb.jumpTo(4);break}Ja=Ga.Certificates;
Qa=0;case 7:if(Qa<Ja.length,B){hb.jumpTo(4);break}Wa=Ja[Qa];if(!Wa){hb.jumpTo(8);break}jb=Uint8Array;return hb.yield(Wa.Thumbprint(Y.algorithm),10);case 10:kb=new jb(hb.yieldResult),lb=m.b.ToBase64(kb),lb===qa&&(B=Wa);case 8:Qa++;hb.jumpTo(7);break;case 4:Ea++;hb.jumpTo(3);break;case 5:if(!B||B.Issuer!==ha.IssuerSerial.X509IssuerName||B.SerialNumber!==ha.IssuerSerial.X509SerialNumber)throw new m.m(m.f.XML_EXCEPTION,"SigningCertificate not found");case 2:return hb.return(B)}})};$jscomp.global.Object.defineProperties(Bb.prototype,
{Properties:{configurable:!0,enumerable:!0,get:function(){return this.properties}},SignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new m.m(m.f.XML_EXCEPTION,"Properties is empty");return this.Properties.SignedProperties}},UnsignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new m.m(m.f.XML_EXCEPTION,"Properties is empty");return this.Properties.UnsignedProperties}}})},function(Q,E,C){(function(u){function I(S,Z){for(var ca=
0;ca<Z.length;ca++){var ea=Z[ca];ea.enumerable=ea.enumerable||!1;ea.configurable=!0;"value"in ea&&(ea.writable=!0);Object.defineProperty(S,ea.key,ea)}}function V(S,Z,ca){Z&&I(S.prototype,Z);ca&&I(S,ca);Object.defineProperty(S,"prototype",{writable:!1});return S}function q(S,Z,ca){Z in S?Object.defineProperty(S,Z,{value:ca,enumerable:!0,configurable:!0,writable:!0}):S[Z]=ca;return S}function f(S,Z,ca,ea,ia,na,r){try{var n=S[na](r),v=n.value}catch(D){ca(D);return}n.done?Z(v):Promise.resolve(v).then(ea,
ia)}function k(S){return function(){var Z=this,ca=arguments;return new Promise(function(ea,ia){function na(v){f(n,ea,ia,na,r,"next",v)}function r(v){f(n,ea,ia,na,r,"throw",v)}var n=S.apply(Z,ca);na(void 0)})}}function d(S){return g.apply(this,arguments)}function g(){g=k(regeneratorRuntime.mark(function ca(Z){return regeneratorRuntime.wrap(function(ea){for(;;)switch(ea.prev=ea.next){case 0:return ea.abrupt("return",new Promise(function(ia,na){var r=new FileReader;r.onload=function(){ia(r.result)};
r.onerror=function(){console.log(["File read error",Z,r.error]);na(r.error)};r.onabort=function(){console.log(["File read abort",Z,r.error]);na(r.error)};r.readAsArrayBuffer(Z)}));case 1:case "end":return ea.stop()}},ca)}));return g.apply(this,arguments)}function t(){return"undefined"!==typeof window&&window.crypto?window.crypto:u.crypto}function A(S,Z,ca){return W.apply(this,arguments)}function W(){W=k(regeneratorRuntime.mark(function ia(Z,ca,ea){var na,r,n,v,D,U,N,O,K,pa,xa,ua,za,ta,c,X,ka,ja,la,
Ba,Ha,Ma,Sa,Ka=arguments;return regeneratorRuntime.wrap(function(Ia){for(;;)switch(Ia.prev=Ia.next){case 0:na=3<Ka.length&&void 0!==Ka[3]?Ka[3]:t();r=4<Ka.length&&void 0!==Ka[4]?Ka[4]:"SHA-256";n=h.util.binary.raw.decode;v=h.pki.privateKeyToAsn1;D=h.pki.publicKeyToAsn1;U=h.asn1.toDer;N=h.pki.wrapRsaPrivateKey;O=h.asn1.fromDer(new h.util.ByteStringBuffer(Z));K=h.pkcs12.pkcs12FromAsn1(O,ea);xa=pa=void 0;if(!ca||" "==ca){Ia.next=30;break}ua=K.getBags({friendlyName:ca});if(void 0!=ua.friendlyName&&2==
ua.friendlyName.length){Ia.next=16;break}console.log("Unsupported keystore format, wrong password or wrong alias");throw Error("Unsupported keystore format, wrong password or wrong alias");case 16:if(!ua.friendlyName[0].key||!ua.friendlyName[1].cert){Ia.next=21;break}pa=ua.friendlyName[0].key;xa=ua.friendlyName[1].cert;Ia.next=28;break;case 21:if(!ua.friendlyName[1].key||!ua.friendlyName[0].cert){Ia.next=26;break}pa=ua.friendlyName[1].key;xa=ua.friendlyName[0].cert;Ia.next=28;break;case 26:throw console.log("Unsupported keystore format, wrong password or wrong alias"),
Error("Unsupported keystore format, wrong password or wrong alias");case 28:Ia.next=53;break;case 30:za=K.getBags({bagType:h.pki.oids.certBag});ta=K.getBags({bagType:h.pki.oids.pkcs8ShroudedKeyBag});if(!za){Ia.next=51;break}c=za[h.pki.oids.certBag];if(!c||!c[0]){Ia.next=39;break}(X=c[0])&&X.cert&&(xa=X.cert);Ia.next=41;break;case 39:throw console.log("No forge.pki.oids.certBag found."),Error("No forge.pki.oids.certBag found.");case 41:ka=ta[h.pki.oids.pkcs8ShroudedKeyBag];if(!ka||!ka[0]){Ia.next=
47;break}(ja=ka[0])&&ja.key&&(pa=ja.key);Ia.next=49;break;case 47:throw console.log("No forge.pki.oids.pkcs8ShroudedKeyBag found."),Error("No forge.pki.oids.pkcs8ShroudedKeyBag found.");case 49:Ia.next=53;break;case 51:throw console.log("No certified bags found in p12 buffer."),Error("No certified bags found in p12 buffer.");case 53:if(xa&&pa){Ia.next=56;break}console.log("No certified/private key found in p12 buffer.");throw Error("No certified/private key found in p12 buffer.");case 56:return la=
h.pki.certificateToPem(xa),Ba=n(U(D(xa.publicKey)).getBytes()),Ia.next=60,na.subtle.importKey("spki",Ba,{name:"RSASSA-PKCS1-v1_5",hash:{name:r}},!0,["verify"]);case 60:return Ha=Ia.sent,Ma=n(U(N(v(pa))).getBytes()),Ia.next=64,na.subtle.importKey("pkcs8",Ma,{name:"RSASSA-PKCS1-v1_5",hash:{name:r}},!1,["sign"]);case 64:return Sa=Ia.sent,Ia.abrupt("return",{privateKey:Sa,publicKey:Ha,cert:la});case 66:case "end":return Ia.stop()}},ia)}));return W.apply(this,arguments)}function F(S){S=J.a(S);if(0<S.getElementsByTagName("parsererror").length)throw Error("XML parse error");
return S}function H(S,Z){if((S=S.querySelector(Z))&&S.textContent)return S.textContent.replace(/\s/g,"");throw Error("Bad TBAI document. Element not found: "+Z);}function x(S,Z,ca){return(S=S.querySelector(Z))&&S.textContent?S.textContent.replace(/\s/g,""):ca}function z(S){return"id-"+Array.prototype.map.call(S.getRandomValues(new Uint8Array(6)),function(Z){return("00"+Z.toString(16)).slice(-2)}).join("")}function m(S){var Z="string"===typeof S?F(S):S;S=H(Z,"Emisor>NIF");var ca=H(Z,"FechaExpedicionFactura").replace(/(..)-(..)-..(..)/g,
"$1$2$3");Z=H(Z,"SignatureValue").substr(0,13);S=["TBAI",S,ca,Z,""].join("-");return S+("000"+Object(y.a)(S)).slice(-3)}function P(S){S="string"===typeof S?F(S):S;var Z=H(S,"FechaExpedicionFactura"),ca=H(S,"HoraExpedicionFactura");Z={issuedTime:new Date(Z.split("-").reverse().join("-")+" "+ca),number:H(S,"CabeceraFactura>NumFactura"),hash:H(S,"SignatureValue").substr(0,100)};if(S=x(S,"CabeceraFactura>SerieFactura",""))Z.serie=S;return Z}function l(S,Z){S="string"===typeof S?F(S):S;S={id:m(S),s:x(S,
"SerieFactura",""),nf:H(S,"NumFactura"),i:H(S,"ImporteTotalFactura")};Z+=function(ca){return"?"+Object.keys(ca).reduce(function(ea,ia){ea.push(ia+"="+encodeURIComponent(ca[ia]));return ea},[]).join("&")}(S);return Z+"&cr="+("000"+Object(y.a)(Z)).slice(-3)}function e(S,Z){return l(S,[["https://ticketbai.araba.eus/TBAI/QRTBAI","https://batuz.eus/QRTBAI/","https://tbai.egoitza.gipuzkoa.eus/qr/"],["https://pruebas-ticketbai.araba.eus/tbai/qrtbai/","https://batuz.eus/QRTBAI/","https://tbai.prep.gipuzkoa.eus/qr/"]][2<
arguments.length&&void 0!==arguments[2]&&arguments[2]?1:0][Z])}C.d(E,"d",function(){return m});C.d(E,"c",function(){return P});C.d(E,"a",function(){return G});C.d(E,"f",function(){return l});C.d(E,"e",function(){return e});C.d(E,"b",function(){return M});var w=C(45);C.n(w);var J=C(43),h=C(11);C.n(h);var y=C(63),G;(function(S){S[S.ARABA=0]="ARABA";S[S.BIZKAIA=1]="BIZKAIA";S[S.GIPUZKOA=2]="GIPUZKOA"})(G||(G={}));var M=function(){function S(Z,ca,ea,ia,na){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");
q(this,"privateKey",void 0);q(this,"publicKey",void 0);q(this,"cert",void 0);q(this,"crypto",void 0);q(this,"hash",void 0);this.privateKey=Z;this.publicKey=ca;this.cert=ea;this.crypto=ia;this.hash=na}V(S,[{key:"sign",value:function(){var Z=k(regeneratorRuntime.mark(function ia(ea){var na,r,n,v,D,U=arguments;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return na=1<U.length&&void 0!==U[1]?U[1]:"https://www.batuz.eus/fitxategiak/batuz/ticketbai/sinadura_elektronikoaren_zehaztapenak_especificaciones_de_la_firma_electronica_v1_0.pdf",
r=2<U.length&&void 0!==U[2]?U[2]:"Quzn98x3PMbSHwbUzaj5f5KOpiH0u8bvmwbbbNkO9Es=",n=new J.b,v=z(this.crypto),D=this.cert.replace(/-----(BEGIN|END)[\w\d\s]+-----|[\r\n]/g,""),n.XmlSignature.KeyInfo.Id=v,N.next=8,n.Sign({name:"RSASSA-PKCS1-v1_5"},this.privateKey,F(ea),{keyValue:this.publicKey,references:[{hash:this.hash,uri:"",transforms:["enveloped"]},{hash:this.hash,uri:"#"+v}],policy:{identifier:{value:na},hash:{name:this.hash},digestValue:r},signingCertificate:D,x509:[D]});case 8:return N.abrupt("return",
'<?xml version="1.0" encoding="UTF-8"?>\n'+n.toString());case 9:case "end":return N.stop()}},ia,this)}));return function(ea){return Z.apply(this,arguments)}}()}],[{key:"fromBuffer",value:function(){var Z=k(regeneratorRuntime.mark(function r(ea,ia,na){var n,v,D,U=arguments;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return n=3<U.length&&void 0!==U[3]?U[3]:t(),v=4<U.length&&void 0!==U[4]?U[4]:"SHA-256",N.next=4,A(ea,ia,na,n,v);case 4:return D=N.sent,N.abrupt("return",
new S(D.privateKey,D.publicKey,D.cert,n,v));case 6:case "end":return N.stop()}},r)}));return function(ea,ia,na){return Z.apply(this,arguments)}}()},{key:"fromFile",value:function(){var Z=k(regeneratorRuntime.mark(function r(ea,ia,na){var n,v,D,U=arguments;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return n=3<U.length&&void 0!==U[3]?U[3]:t(),v=4<U.length&&void 0!==U[4]?U[4]:"SHA-256",N.next=4,d(ea);case 4:return D=N.sent,N.abrupt("return",S.fromBuffer(D,ia,na,n,
v));case 6:case "end":return N.stop()}},r)}));return function(ea,ia,na){return Z.apply(this,arguments)}}()}]);return S}()}).call(this,C(18))},function(Q,E,C){Q=function(u){function I(na,r,n){Object.defineProperty(na,r,{value:n,enumerable:!0,configurable:!0,writable:!0});return na[r]}function V(na,r,n,v){r=Object.create((r&&r.prototype instanceof f?r:f).prototype);v=new x(v||[]);r._invoke=A(na,n,v);return r}function q(na,r,n){try{return{type:"normal",arg:na.call(r,n)}}catch(v){return{type:"throw",
arg:v}}}function f(){}function k(){}function d(){}function g(na){["next","throw","return"].forEach(function(r){I(na,r,function(n){return this._invoke(r,n)})})}function t(na,r){function n(D,U,N,O){D=q(na[D],na,U);if("throw"===D.type)O(D.arg);else{var K=D.arg;return(D=K.value)&&"object"===typeof D&&l.call(D,"__await")?r.resolve(D.__await).then(function(pa){n("next",pa,N,O)},function(pa){n("throw",pa,N,O)}):r.resolve(D).then(function(pa){K.value=pa;N(K)},function(pa){return n("throw",pa,N,O)})}}var v;
this._invoke=function(D,U){function N(){return new r(function(O,K){n(D,U,O,K)})}return v=v?v.then(N,N):N()}}function A(na,r,n){var v=G;return function(D,U){if(v===S)throw Error("Generator is already running");if(v===Z){if("throw"===D)throw U;return m()}n.method=D;for(n.arg=U;;){if(D=n.delegate)if(D=W(D,n)){if(D===ca)continue;return D}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(v===G)throw v=Z,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",
n.arg);v=S;D=q(na,r,n);if("normal"===D.type){v=n.done?Z:M;if(D.arg===ca)continue;return{value:D.arg,done:n.done}}"throw"===D.type&&(v=Z,n.method="throw",n.arg=D.arg)}}}function W(na,r){var n=na.iterator[r.method];if(n===e){r.delegate=null;if("throw"===r.method){if(na.iterator["return"]&&(r.method="return",r.arg=e,W(na,r),"throw"===r.method))return ca;r.method="throw";r.arg=new TypeError("The iterator does not provide a 'throw' method")}return ca}n=q(n,na.iterator,r.arg);if("throw"===n.type)return r.method=
"throw",r.arg=n.arg,r.delegate=null,ca;n=n.arg;if(!n)return r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,ca;if(n.done)r[na.resultName]=n.value,r.next=na.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e);else return n;r.delegate=null;return ca}function F(na){var r={tryLoc:na[0]};1 in na&&(r.catchLoc=na[1]);2 in na&&(r.finallyLoc=na[2],r.afterLoc=na[3]);this.tryEntries.push(r)}function H(na){var r=na.completion||{};r.type="normal";delete r.arg;na.completion=
r}function x(na){this.tryEntries=[{tryLoc:"root"}];na.forEach(F,this);this.reset(!0)}function z(na){if(na){var r=na[J];if(r)return r.call(na);if("function"===typeof na.next)return na;if(!isNaN(na.length)){var n=-1;r=function D(){for(;++n<na.length;)if(l.call(na,n))return D.value=na[n],D.done=!1,D;D.value=e;D.done=!0;return D};return r.next=r}}return{next:m}}function m(){return{value:e,done:!0}}var P=Object.prototype,l=P.hasOwnProperty,e,w="function"===typeof Symbol?Symbol:{},J=w.iterator||"@@iterator",
h=w.asyncIterator||"@@asyncIterator",y=w.toStringTag||"@@toStringTag";try{I({},"")}catch(na){I=function(r,n,v){return r[n]=v}}u.wrap=V;var G="suspendedStart",M="suspendedYield",S="executing",Z="completed",ca={};w={};I(w,J,function(){return this});var ea=Object.getPrototypeOf;(ea=ea&&ea(ea(z([]))))&&ea!==P&&l.call(ea,J)&&(w=ea);var ia=d.prototype=f.prototype=Object.create(w);k.prototype=d;I(ia,"constructor",d);I(d,"constructor",k);k.displayName=I(d,y,"GeneratorFunction");u.isGeneratorFunction=function(na){return(na=
"function"===typeof na&&na.constructor)?na===k||"GeneratorFunction"===(na.displayName||na.name):!1};u.mark=function(na){Object.setPrototypeOf?Object.setPrototypeOf(na,d):(na.__proto__=d,I(na,y,"GeneratorFunction"));na.prototype=Object.create(ia);return na};u.awrap=function(na){return{__await:na}};g(t.prototype);I(t.prototype,h,function(){return this});u.AsyncIterator=t;u.async=function(na,r,n,v,D){void 0===D&&(D=Promise);var U=new t(V(na,r,n,v),D);return u.isGeneratorFunction(r)?U:U.next().then(function(N){return N.done?
N.value:U.next()})};g(ia);I(ia,y,"Generator");I(ia,J,function(){return this});I(ia,"toString",function(){return"[object Generator]"});u.keys=function(na){var r=[],n;for(n in na)r.push(n);r.reverse();return function D(){for(;r.length;){var U=r.pop();if(U in na)return D.value=U,D.done=!1,D}D.done=!0;return D}};u.values=z;x.prototype={constructor:x,reset:function(na){this.next=this.prev=0;this.sent=this._sent=e;this.done=!1;this.delegate=null;this.method="next";this.arg=e;this.tryEntries.forEach(H);
if(!na)for(var r in this)"t"===r.charAt(0)&&l.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var na=this.tryEntries[0].completion;if("throw"===na.type)throw na.arg;return this.rval},dispatchException:function(na){function r(K,pa){U.type="throw";U.arg=na;n.next=K;pa&&(n.method="next",n.arg=e);return!!pa}if(this.done)throw na;for(var n=this,v=this.tryEntries.length-1;0<=v;--v){var D=this.tryEntries[v],U=D.completion;if("root"===D.tryLoc)return r("end");if(D.tryLoc<=this.prev){var N=
l.call(D,"catchLoc"),O=l.call(D,"finallyLoc");if(N&&O){if(this.prev<D.catchLoc)return r(D.catchLoc,!0);if(this.prev<D.finallyLoc)return r(D.finallyLoc)}else if(N){if(this.prev<D.catchLoc)return r(D.catchLoc,!0)}else if(O){if(this.prev<D.finallyLoc)return r(D.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(na,r){for(var n=this.tryEntries.length-1;0<=n;--n){var v=this.tryEntries[n];if(v.tryLoc<=this.prev&&l.call(v,"finallyLoc")&&this.prev<v.finallyLoc){var D=
v;break}}D&&("break"===na||"continue"===na)&&D.tryLoc<=r&&r<=D.finallyLoc&&(D=null);n=D?D.completion:{};n.type=na;n.arg=r;return D?(this.method="next",this.next=D.finallyLoc,ca):this.complete(n)},complete:function(na,r){if("throw"===na.type)throw na.arg;"break"===na.type||"continue"===na.type?this.next=na.arg:"return"===na.type?(this.rval=this.arg=na.arg,this.method="return",this.next="end"):"normal"===na.type&&r&&(this.next=r);return ca},finish:function(na){for(var r=this.tryEntries.length-1;0<=
r;--r){var n=this.tryEntries[r];if(n.finallyLoc===na)return this.complete(n.completion,n.afterLoc),H(n),ca}},"catch":function(na){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc===na){na=n.completion;if("throw"===na.type){var v=na.arg;H(n)}return v}}throw Error("illegal catch attempt");},delegateYield:function(na,r,n){this.delegate={iterator:z(na),resultName:r,nextLoc:n};"next"===this.method&&(this.arg=e);return ca}};return u}(Q.exports);try{regeneratorRuntime=Q}catch(u){"object"===
typeof globalThis?globalThis.regeneratorRuntime=Q:Function("r","regeneratorRuntime = r")(Q)}},function(Q,E,C){function u(da){return""!==da}function I(da,fa){da.hasOwnProperty(fa)||(da[fa]=!0);return da}function V(da){if(!da)return[];da=da?da.split(/[\t\n\f\r ]+/).filter(u):[];return Object.keys(da.reduce(I,{}))}function q(da){return function(fa){return da&&-1!==da.indexOf(fa)}}function f(da,fa){for(var wa in da)fa[wa]=da[wa]}function k(da,fa){var wa=da.prototype;if(!(wa instanceof fa)){var ya=function(){};
ya.prototype=fa.prototype;ya=new ya;f(wa,ya);da.prototype=wa=ya}wa.constructor!=da&&("function"!=typeof da&&console.error("unknown Class:"+da),wa.constructor=da)}function d(da,fa){if(fa instanceof Error)var wa=fa;else wa=this,Error.call(this,Ra[da]),this.message=Ra[da],Error.captureStackTrace&&Error.captureStackTrace(this,d);wa.code=da;fa&&(this.message=this.message+": "+fa);return wa}function g(){}function t(da,fa){this._node=da;this._refresh=fa;A(this)}function A(da){var fa=da._node._inc||da._node.ownerDocument._inc;
if(da._inc!=fa){var wa=da._refresh(da._node);ua(da,"length",wa.length);f(wa,da);da._inc=fa}}function W(){}function F(da,fa){for(var wa=da.length;wa--;)if(da[wa]===fa)return wa}function H(da,fa,wa,ya){ya?fa[F(fa,ya)]=wa:fa[fa.length++]=wa;da&&(wa.ownerElement=da,fa=da.ownerDocument)&&(ya&&(fa&&fa._inc++,ya.namespaceURI===za.XMLNS&&delete da._nsMap[ya.prefix?ya.localName:""]),fa&&fa._inc++,wa.namespaceURI===za.XMLNS&&(da._nsMap[wa.prefix?wa.localName:""]=wa.value))}function x(da,fa,wa){var ya=F(fa,
wa);if(0<=ya){for(var b=fa.length-1;ya<b;)fa[ya]=fa[++ya];fa.length=b;da&&(fa=da.ownerDocument)&&(fa&&fa._inc++,wa.namespaceURI===za.XMLNS&&delete da._nsMap[wa.prefix?wa.localName:""],wa.ownerElement=null)}else throw d(Va,Error(da.tagName+"@"+wa));}function z(){}function m(){}function P(da){return"<"==da&&"&lt;"||">"==da&&"&gt;"||"&"==da&&"&amp;"||'"'==da&&"&quot;"||"&#"+da.charCodeAt()+";"}function l(da,fa){if(fa(da))return!0;if(da=da.firstChild){do if(l(da,fa))return!0;while(da=da.nextSibling)}}
function e(){}function w(da,fa,wa){if(da&&da._inc)if(da._inc++,da=fa.childNodes,wa)da[da.length++]=wa;else{fa=fa.firstChild;for(wa=0;fa;)da[wa++]=fa,fa=fa.nextSibling;da.length=wa;delete da[da.length]}}function J(da,fa){var wa=fa.previousSibling,ya=fa.nextSibling;wa?wa.nextSibling=ya:da.firstChild=ya;ya?ya.previousSibling=wa:da.lastChild=wa;fa.parentNode=null;fa.previousSibling=null;fa.nextSibling=null;w(da.ownerDocument,da);return fa}function h(da,fa,wa){var ya=fa.parentNode;ya&&ya.removeChild(fa);
if(fa.nodeType===Sa){ya=fa.firstChild;if(null==ya)return fa;var b=fa.lastChild}else ya=b=fa;var R=wa?wa.previousSibling:da.lastChild;ya.previousSibling=R;b.nextSibling=wa;R?R.nextSibling=ya:da.firstChild=ya;null==wa?da.lastChild=b:wa.previousSibling=b;do ya.parentNode=da;while(ya!==b&&(ya=ya.nextSibling));w(da.ownerDocument||da,da);fa.nodeType==Sa&&(fa.firstChild=fa.lastChild=null);return fa}function y(){this._nsMap={}}function G(){}function M(){}function S(){}function Z(){}function ca(){}function ea(){}
function ia(){}function na(){}function r(){}function n(){}function v(){}function D(){}function U(da,fa){var wa=[],ya=9==this.nodeType&&this.documentElement||this,b=ya.prefix,R=ya.namespaceURI;if(R&&null==b&&(b=ya.lookupPrefix(R),null==b))var ba=[{namespace:R,prefix:null}];K(this,wa,da,fa,ba);return wa.join("")}function N(da,fa,wa){fa=da.prefix||"";da=da.namespaceURI;if(!da||"xml"===fa&&da===za.XML||da===za.XMLNS)return!1;for(var ya=wa.length;ya--;){var b=wa[ya];if(b.prefix===fa)return b.namespace!==
da}return!0}function O(da,fa,wa){da.push(" ",fa,'="',wa.replace(/[<&"\t\n\r]/g,P),'"')}function K(da,fa,wa,ya,b){b||(b=[]);if(ya)if(da=ya(da)){if("string"==typeof da){fa.push(da);return}}else return;switch(da.nodeType){case ta:var R=da.attributes,ba=R.length,ra=da.firstChild,oa=da.tagName;wa=za.isHTML(da.namespaceURI)||wa;var Da=oa;if(!wa&&!da.prefix&&da.namespaceURI){for(var Fa,Oa=0;Oa<R.length;Oa++)if("xmlns"===R.item(Oa).name){Fa=R.item(Oa).value;break}if(!Fa)for(Oa=b.length-1;0<=Oa;Oa--){var Pa=
b[Oa];if(""===Pa.prefix&&Pa.namespace===da.namespaceURI){Fa=Pa.namespace;break}}if(Fa!==da.namespaceURI)for(Oa=b.length-1;0<=Oa;Oa--)if(Pa=b[Oa],Pa.namespace===da.namespaceURI){Pa.prefix&&(Da=Pa.prefix+":"+oa);break}}fa.push("<",Da);for(Fa=0;Fa<ba;Fa++)Oa=R.item(Fa),"xmlns"==Oa.prefix?b.push({prefix:Oa.localName,namespace:Oa.value}):"xmlns"==Oa.nodeName&&b.push({prefix:"",namespace:Oa.value});for(Fa=0;Fa<ba;Fa++){Oa=R.item(Fa);if(N(Oa,wa,b)){Pa=Oa.prefix||"";var ab=Oa.namespaceURI;O(fa,Pa?"xmlns:"+
Pa:"xmlns",ab);b.push({prefix:Pa,namespace:ab})}K(Oa,fa,wa,ya,b)}oa===Da&&N(da,wa,b)&&(Pa=da.prefix||"",ab=da.namespaceURI,O(fa,Pa?"xmlns:"+Pa:"xmlns",ab),b.push({prefix:Pa,namespace:ab}));if(ra||wa&&!/^(?:meta|link|img|br|hr|input)$/i.test(oa)){fa.push(">");if(wa&&/^script$/i.test(oa))for(;ra;)ra.data?fa.push(ra.data):K(ra,fa,wa,ya,b.slice()),ra=ra.nextSibling;else for(;ra;)K(ra,fa,wa,ya,b.slice()),ra=ra.nextSibling;fa.push("</",Da,">")}else fa.push("/>");break;case Ha:case Sa:for(ra=da.firstChild;ra;)K(ra,
fa,wa,ya,b.slice()),ra=ra.nextSibling;break;case c:return O(fa,da.name,da.value);case X:return fa.push(da.data.replace(/[<&]/g,P).replace(/]]\x3e/g,"]]&gt;"));case ka:return fa.push("<![CDATA[",da.data,"]]\x3e");case Ba:return fa.push("\x3c!--",da.data,"--\x3e");case Ma:wa=da.publicId;ya=da.systemId;fa.push("<!DOCTYPE ",da.name);wa?(fa.push(" PUBLIC ",wa),ya&&"."!=ya&&fa.push(" ",ya),fa.push(">")):ya&&"."!=ya?fa.push(" SYSTEM ",ya,">"):((da=da.internalSubset)&&fa.push(" [",da,"]"),fa.push(">"));break;
case la:return fa.push("<?",da.target," ",da.data,"?>");case ja:return fa.push("&",da.nodeName,";");default:fa.push("??",da.nodeName)}}function pa(da,fa,wa){switch(fa.nodeType){case ta:var ya=fa.cloneNode(!1);ya.ownerDocument=da;case Sa:break;case c:wa=!0}ya||(ya=fa.cloneNode(!1));ya.ownerDocument=da;ya.parentNode=null;if(wa)for(fa=fa.firstChild;fa;)ya.appendChild(pa(da,fa,wa)),fa=fa.nextSibling;return ya}function xa(da,fa,wa){var ya=new fa.constructor;for(R in fa){var b=fa[R];"object"!=typeof b&&
b!=ya[R]&&(ya[R]=b)}fa.childNodes&&(ya.childNodes=new g);ya.ownerDocument=da;switch(ya.nodeType){case ta:var R=fa.attributes;var ba=ya.attributes=new W;b=R.length;ba._ownerElement=ya;for(ba=0;ba<b;ba++)ya.setAttributeNode(xa(da,R.item(ba),!0));break;case c:wa=!0}if(wa)for(fa=fa.firstChild;fa;)ya.appendChild(xa(da,fa,wa)),fa=fa.nextSibling;return ya}function ua(da,fa,wa){da[fa]=wa}var za=C(31).NAMESPACE;Q={};var ta=Q.ELEMENT_NODE=1,c=Q.ATTRIBUTE_NODE=2,X=Q.TEXT_NODE=3,ka=Q.CDATA_SECTION_NODE=4,ja=
Q.ENTITY_REFERENCE_NODE=5;C=Q.ENTITY_NODE=6;var la=Q.PROCESSING_INSTRUCTION_NODE=7,Ba=Q.COMMENT_NODE=8,Ha=Q.DOCUMENT_NODE=9,Ma=Q.DOCUMENT_TYPE_NODE=10,Sa=Q.DOCUMENT_FRAGMENT_NODE=11,Ka=Q.NOTATION_NODE=12,Ia={},Ra={};Ia.INDEX_SIZE_ERR=(Ra[1]="Index size error",1);Ia.DOMSTRING_SIZE_ERR=(Ra[2]="DOMString size error",2);var db=Ia.HIERARCHY_REQUEST_ERR=(Ra[3]="Hierarchy request error",3);Ia.WRONG_DOCUMENT_ERR=(Ra[4]="Wrong document",4);Ia.INVALID_CHARACTER_ERR=(Ra[5]="Invalid character",5);Ia.NO_DATA_ALLOWED_ERR=
(Ra[6]="No data allowed",6);Ia.NO_MODIFICATION_ALLOWED_ERR=(Ra[7]="No modification allowed",7);var Va=Ia.NOT_FOUND_ERR=(Ra[8]="Not found",8);Ia.NOT_SUPPORTED_ERR=(Ra[9]="Not supported",9);var gb=Ia.INUSE_ATTRIBUTE_ERR=(Ra[10]="Attribute in use",10);Ia.INVALID_STATE_ERR=(Ra[11]="Invalid state",11);Ia.SYNTAX_ERR=(Ra[12]="Syntax error",12);Ia.INVALID_MODIFICATION_ERR=(Ra[13]="Invalid modification",13);Ia.NAMESPACE_ERR=(Ra[14]="Invalid namespace",14);Ia.INVALID_ACCESS_ERR=(Ra[15]="Invalid access",15);
d.prototype=Error.prototype;f(Ia,d);g.prototype={length:0,item:function(da){return this[da]||null},toString:function(da,fa){for(var wa=[],ya=0;ya<this.length;ya++)K(this[ya],wa,da,fa);return wa.join("")}};t.prototype.item=function(da){A(this);return this[da]};k(t,g);W.prototype={length:0,item:g.prototype.item,getNamedItem:function(da){for(var fa=this.length;fa--;){var wa=this[fa];if(wa.nodeName==da)return wa}},setNamedItem:function(da){var fa=da.ownerElement;if(fa&&fa!=this._ownerElement)throw new d(gb);
fa=this.getNamedItem(da.nodeName);H(this._ownerElement,this,da,fa);return fa},setNamedItemNS:function(da){var fa=da.ownerElement;if(fa&&fa!=this._ownerElement)throw new d(gb);fa=this.getNamedItemNS(da.namespaceURI,da.localName);H(this._ownerElement,this,da,fa);return fa},removeNamedItem:function(da){da=this.getNamedItem(da);x(this._ownerElement,this,da);return da},removeNamedItemNS:function(da,fa){da=this.getNamedItemNS(da,fa);x(this._ownerElement,this,da);return da},getNamedItemNS:function(da,fa){for(var wa=
this.length;wa--;){var ya=this[wa];if(ya.localName==fa&&ya.namespaceURI==da)return ya}return null}};z.prototype={hasFeature:function(da,fa){return!0},createDocument:function(da,fa,wa){var ya=new e;ya.implementation=this;ya.childNodes=new g;ya.doctype=wa||null;wa&&ya.appendChild(wa);fa&&(da=ya.createElementNS(da,fa),ya.appendChild(da));return ya},createDocumentType:function(da,fa,wa){var ya=new ea;ya.name=da;ya.nodeName=da;ya.publicId=fa||"";ya.systemId=wa||"";return ya}};m.prototype={firstChild:null,
lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(da,fa){return h(this,da,fa)},replaceChild:function(da,fa){this.insertBefore(da,fa);fa&&this.removeChild(fa)},removeChild:function(da){return J(this,da)},appendChild:function(da){return this.insertBefore(da,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(da){return xa(this.ownerDocument||
this,this,da)},normalize:function(){for(var da=this.firstChild;da;){var fa=da.nextSibling;fa&&fa.nodeType==X&&da.nodeType==X?(this.removeChild(fa),da.appendData(fa.data)):(da.normalize(),da=fa)}},isSupported:function(da,fa){return this.ownerDocument.implementation.hasFeature(da,fa)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(da){for(var fa=this;fa;){var wa=fa._nsMap;if(wa)for(var ya in wa)if(wa[ya]==da)return ya;fa=fa.nodeType==c?fa.ownerDocument:fa.parentNode}return null},
lookupNamespaceURI:function(da){for(var fa=this;fa;){var wa=fa._nsMap;if(wa&&da in wa)return wa[da];fa=fa.nodeType==c?fa.ownerDocument:fa.parentNode}return null},isDefaultNamespace:function(da){return null==this.lookupPrefix(da)}};f(Q,m);f(Q,m.prototype);e.prototype={nodeName:"#document",nodeType:Ha,doctype:null,documentElement:null,_inc:1,insertBefore:function(da,fa){if(da.nodeType==Sa){for(var wa=da.firstChild;wa;){var ya=wa.nextSibling;this.insertBefore(wa,fa);wa=ya}return da}null==this.documentElement&&
da.nodeType==ta&&(this.documentElement=da);return h(this,da,fa),da.ownerDocument=this,da},removeChild:function(da){this.documentElement==da&&(this.documentElement=null);return J(this,da)},importNode:function(da,fa){return pa(this,da,fa)},getElementById:function(da){var fa=null;l(this.documentElement,function(wa){if(wa.nodeType==ta&&wa.getAttribute("id")==da)return fa=wa,!0});return fa},getElementsByClassName:function(da){var fa=V(da);return new t(this,function(wa){var ya=[];0<fa.length&&l(wa.documentElement,
function(b){if(b!==wa&&b.nodeType===ta){var R=b.getAttribute("class");if(R){var ba=da===R;ba||(R=V(R),ba=fa.every(q(R)));ba&&ya.push(b)}}});return ya})},createElement:function(da){var fa=new y;fa.ownerDocument=this;fa.nodeName=da;fa.tagName=da;fa.localName=da;fa.childNodes=new g;return(fa.attributes=new W)._ownerElement=fa},createDocumentFragment:function(){var da=new n;da.ownerDocument=this;da.childNodes=new g;return da},createTextNode:function(da){var fa=new S;fa.ownerDocument=this;fa.appendData(da);
return fa},createComment:function(da){var fa=new Z;fa.ownerDocument=this;fa.appendData(da);return fa},createCDATASection:function(da){var fa=new ca;fa.ownerDocument=this;fa.appendData(da);return fa},createProcessingInstruction:function(da,fa){var wa=new v;wa.ownerDocument=this;wa.tagName=wa.target=da;wa.nodeValue=wa.data=fa;return wa},createAttribute:function(da){var fa=new G;fa.ownerDocument=this;fa.name=da;fa.nodeName=da;fa.localName=da;fa.specified=!0;return fa},createEntityReference:function(da){var fa=
new r;fa.ownerDocument=this;fa.nodeName=da;return fa},createElementNS:function(da,fa){var wa=new y,ya=fa.split(":"),b=wa.attributes=new W;wa.childNodes=new g;wa.ownerDocument=this;wa.nodeName=fa;wa.tagName=fa;wa.namespaceURI=da;2==ya.length?(wa.prefix=ya[0],wa.localName=ya[1]):wa.localName=fa;return b._ownerElement=wa},createAttributeNS:function(da,fa){var wa=new G,ya=fa.split(":");wa.ownerDocument=this;wa.nodeName=fa;wa.name=fa;wa.namespaceURI=da;wa.specified=!0;2==ya.length?(wa.prefix=ya[0],wa.localName=
ya[1]):wa.localName=fa;return wa}};k(e,m);y.prototype={nodeType:ta,hasAttribute:function(da){return null!=this.getAttributeNode(da)},getAttribute:function(da){return(da=this.getAttributeNode(da))&&da.value||""},getAttributeNode:function(da){return this.attributes.getNamedItem(da)},setAttribute:function(da,fa){da=this.ownerDocument.createAttribute(da);da.value=da.nodeValue=""+fa;this.setAttributeNode(da)},removeAttribute:function(da){(da=this.getAttributeNode(da))&&this.removeAttributeNode(da)},appendChild:function(da){if(da.nodeType===
Sa)return this.insertBefore(da,null);da.parentNode&&da.parentNode.removeChild(da);da.parentNode=this;da.previousSibling=this.lastChild;da.nextSibling=null;da.previousSibling?da.previousSibling.nextSibling=da:this.firstChild=da;this.lastChild=da;w(this.ownerDocument,this,da);return da},setAttributeNode:function(da){return this.attributes.setNamedItem(da)},setAttributeNodeNS:function(da){return this.attributes.setNamedItemNS(da)},removeAttributeNode:function(da){return this.attributes.removeNamedItem(da.nodeName)},
removeAttributeNS:function(da,fa){(da=this.getAttributeNodeNS(da,fa))&&this.removeAttributeNode(da)},hasAttributeNS:function(da,fa){return null!=this.getAttributeNodeNS(da,fa)},getAttributeNS:function(da,fa){return(da=this.getAttributeNodeNS(da,fa))&&da.value||""},setAttributeNS:function(da,fa,wa){da=this.ownerDocument.createAttributeNS(da,fa);da.value=da.nodeValue=""+wa;this.setAttributeNode(da)},getAttributeNodeNS:function(da,fa){return this.attributes.getNamedItemNS(da,fa)},getElementsByTagName:function(da){return new t(this,
function(fa){var wa=[];l(fa,function(ya){ya===fa||ya.nodeType!=ta||"*"!==da&&ya.tagName!=da||wa.push(ya)});return wa})},getElementsByTagNameNS:function(da,fa){return new t(this,function(wa){var ya=[];l(wa,function(b){b===wa||b.nodeType!==ta||"*"!==da&&b.namespaceURI!==da||"*"!==fa&&b.localName!=fa||ya.push(b)});return ya})}};e.prototype.getElementsByTagName=y.prototype.getElementsByTagName;e.prototype.getElementsByTagNameNS=y.prototype.getElementsByTagNameNS;k(y,m);G.prototype.nodeType=c;k(G,m);M.prototype=
{data:"",substringData:function(da,fa){return this.data.substring(da,da+fa)},appendData:function(da){this.nodeValue=this.data=da=this.data+da;this.length=da.length},insertData:function(da,fa){this.replaceData(da,0,fa)},appendChild:function(da){throw Error(Ra[db]);},deleteData:function(da,fa){this.replaceData(da,fa,"")},replaceData:function(da,fa,wa){var ya=this.data.substring(0,da);da=this.data.substring(da+fa);this.nodeValue=this.data=wa=ya+wa+da;this.length=wa.length}};k(M,m);S.prototype={nodeName:"#text",
nodeType:X,splitText:function(da){var fa=this.data,wa=fa.substring(da);this.data=this.nodeValue=fa=fa.substring(0,da);this.length=fa.length;da=this.ownerDocument.createTextNode(wa);this.parentNode&&this.parentNode.insertBefore(da,this.nextSibling);return da}};k(S,M);Z.prototype={nodeName:"#comment",nodeType:Ba};k(Z,M);ca.prototype={nodeName:"#cdata-section",nodeType:ka};k(ca,M);ea.prototype.nodeType=Ma;k(ea,m);ia.prototype.nodeType=Ka;k(ia,m);na.prototype.nodeType=C;k(na,m);r.prototype.nodeType=ja;
k(r,m);n.prototype.nodeName="#document-fragment";n.prototype.nodeType=Sa;k(n,m);v.prototype.nodeType=la;k(v,m);D.prototype.serializeToString=function(da,fa,wa){return U.call(da,fa,wa)};m.prototype.toString=U;try{if(Object.defineProperty){var nb=function(da){switch(da.nodeType){case ta:case Sa:var fa=[];for(da=da.firstChild;da;)7!==da.nodeType&&8!==da.nodeType&&fa.push(nb(da)),da=da.nextSibling;return fa.join("");default:return da.nodeValue}};Object.defineProperty(t.prototype,"length",{get:function(){A(this);
return this.$$length}});Object.defineProperty(m.prototype,"textContent",{get:function(){return nb(this)},set:function(da){switch(this.nodeType){case ta:case Sa:for(;this.firstChild;)this.removeChild(this.firstChild);(da||String(da))&&this.appendChild(this.ownerDocument.createTextNode(da));break;default:this.nodeValue=this.value=this.data=da}}});ua=function(da,fa,wa){da["$$"+fa]=wa}}}catch(da){}E.DocumentType=ea;E.DOMException=d;E.DOMImplementation=z;E.Element=y;E.Node=m;E.NodeList=g;E.XMLSerializer=
D},function(Q,E,C){(function(u){function I(b){return function(){return b}}function V(b){return b.toString()}function q(b,R){for(var ba=Object(b),ra=1;ra<arguments.length;ra++){var oa=arguments[ra];if(null!=oa)for(var Da in oa)Object.prototype.hasOwnProperty.call(oa,Da)&&(ba[Da]=oa[Da])}return ba}function f(){this.init()}function k(b){this.expression=b}function d(){}function g(b){0<arguments.length&&this.init(b)}function t(b){0<arguments.length&&this.init(b)}function A(b,R){0<arguments.length&&this.init(b,
R)}function W(b,R){0<arguments.length&&this.init(b,R)}function F(b,R){0<arguments.length&&this.init(b,R)}function H(b,R){0<arguments.length&&this.init(b,R)}function x(b,R){0<arguments.length&&this.init(b,R)}function z(b,R){0<arguments.length&&this.init(b,R)}function m(b,R){0<arguments.length&&this.init(b,R)}function P(b,R){0<arguments.length&&this.init(b,R)}function l(b,R){0<arguments.length&&this.init(b,R)}function e(b,R){0<arguments.length&&this.init(b,R)}function w(b,R){0<arguments.length&&this.init(b,
R)}function J(b,R){0<arguments.length&&this.init(b,R)}function h(b,R){0<arguments.length&&this.init(b,R)}function y(b,R){0<arguments.length&&this.init(b,R)}function G(b,R){0<arguments.length&&this.init(b,R)}function M(b,R,ba){0<arguments.length&&this.init(b,R,ba)}function S(b,R,ba){return M.applyPredicates(b.predicates,R,M.applyStep(b,R,ba))}function Z(b,R,ba){b=Ha(S.bind(null,ba,b),R);R=[];for(ba=0;ba<b.length;ba+=32767){var ra=b.slice(ba,ba+32767);R=Ka.apply(R,ra)}return R}function ca(b,R){0<arguments.length&&
this.init(b,R)}function ea(b,R,ba){0<arguments.length&&this.init(b,R,ba)}function ia(b,R){0<arguments.length&&this.init(b,R)}function na(b){0<arguments.length&&this.init(b)}function r(b,R){0<arguments.length&&this.init(b,R)}function n(b){0<arguments.length&&this.init(b)}function v(b){0<arguments.length&&this.init(b)}function D(b){0<arguments.length&&this.init(b)}function U(b){this.init(b)}function N(b,R){if(b===R)return 0;if(b.compareDocumentPosition)return b=b.compareDocumentPosition(R),b&1||b&10?
1:b&20?-1:0;for(var ba=0,ra=0,oa=b;null!=oa;oa=oa.parentNode||oa.ownerElement)ba++;for(oa=R;null!=oa;oa=oa.parentNode||oa.ownerElement)ra++;if(ba>ra){for(;ba>ra;)b=b.parentNode||b.ownerElement,ba--;if(b===R)return 1}else if(ra>ba){for(;ra>ba;)R=R.parentNode||R.ownerElement,ra--;if(b===R)return-1}ba=b.parentNode||b.ownerElement;for(ra=R.parentNode||R.ownerElement;ba!==ra;)b=ba,R=ra,ba=b.parentNode||b.ownerElement,ra=R.parentNode||R.ownerElement;ra=fa.isAttribute(b);oa=fa.isAttribute(R);if(ra&&!oa)return-1;
if(!ra&&oa)return 1;if(ba)for(ba=ra?ba.attributes:ba.childNodes,ra=ba.length,oa=0;oa<ra;oa+=1){var Da=ba[oa];if(Da===b)return-1;if(Da===R)return 1}throw Error("Unexpected: could not determine node order");}function O(){this.init()}function K(b,R,ba){this.isXPathNamespace=!0;this.ownerDocument=ba.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=b;this.nodeValue=this.namespaceURI=R;this.ownerElement=ba;this.nodeType=K.XPATH_NAMESPACE_NODE}function pa(b,R,ba){this.variableResolver=
null!=b?b:new xa;this.namespaceResolver=null!=R?R:new za;this.functionResolver=null!=ba?ba:new ua}function xa(){}function ua(b){this.thisArg=null!=b?b:da;this.functions={};this.addStandardFunctions()}function za(){}function ta(b,R,ba){this.xpath=ba.parse(b);this.context=new pa;this.context.namespaceResolver=new c(R)}function c(b){this.xpathNSResolver=b}function X(b){this.node=b;this.namespaceResolver=new za}function ka(b,R){R==ka.ANY_TYPE&&(b.constructor===n?R=ka.STRING_TYPE:b.constructor===v?R=ka.NUMBER_TYPE:
b.constructor===D?R=ka.BOOLEAN_TYPE:b.constructor===O&&(R=ka.UNORDERED_NODE_ITERATOR_TYPE));this.resultType=R;switch(R){case ka.NUMBER_TYPE:this.numberValue=b.numberValue();return;case ka.STRING_TYPE:this.stringValue=b.stringValue();return;case ka.BOOLEAN_TYPE:this.booleanValue=b.booleanValue();return;case ka.ANY_UNORDERED_NODE_TYPE:case ka.FIRST_ORDERED_NODE_TYPE:if(b.constructor===O){this.singleNodeValue=b.first();return}break;case ka.UNORDERED_NODE_ITERATOR_TYPE:case ka.ORDERED_NODE_ITERATOR_TYPE:if(b.constructor===
O){this.invalidIteratorState=!1;this.nodes=b.toArray();this.iteratorIndex=0;return}break;case ka.UNORDERED_NODE_SNAPSHOT_TYPE:case ka.ORDERED_NODE_SNAPSHOT_TYPE:if(b.constructor===O){this.nodes=b.toArray();this.snapshotLength=this.nodes.length;return}}throw new wa(wa.TYPE_ERR);}function ja(b,R){b.createExpression=function(ba,ra){try{return new ta(ba,ra,R)}catch(oa){throw new wa(wa.INVALID_EXPRESSION_ERR,oa);}};b.createNSResolver=function(ba){return new X(ba)};b.evaluate=function(ba,ra,oa,Da,Fa){if(0>
Da||9<Da)throw{code:0,toString:function(){return"Request type not supported"}};return b.createExpression(ba,oa,R).evaluate(ra,Da,Fa)}}var la=function(b,R){for(var ba=0;ba<R.length;ba+=1)b(R[ba],ba,R)},Ba=function(b,R,ba){var ra=R;la(function(oa,Da){ra=b(ra,oa,Da)},ba);return ra},Ha=function(b,R){var ba=Array(R.length);la(function(ra,oa){ba[oa]=b(ra)},R);return ba},Ma=function(b,R){var ba=[];la(function(ra,oa){b(ra,oa)&&ba.push(ra)},R);return ba},Sa=function(b,R){return R.join(b)},Ka=Array.prototype.concat;
f.prototype={};f.prototype.constructor=f;f.superclass=Object.prototype;f.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=function(b){return new W(b[0],b[2])};this.reduceActions[5]=function(b){return new F(b[0],b[2])};this.reduceActions[7]=function(b){return new H(b[0],b[2])};this.reduceActions[8]=function(b){return new x(b[0],b[2])};this.reduceActions[10]=function(b){return new z(b[0],b[2])};this.reduceActions[11]=function(b){return new m(b[0],b[2])};this.reduceActions[12]=function(b){return new P(b[0],
b[2])};this.reduceActions[13]=function(b){return new l(b[0],b[2])};this.reduceActions[15]=function(b){return new e(b[0],b[2])};this.reduceActions[16]=function(b){return new w(b[0],b[2])};this.reduceActions[18]=function(b){return new J(b[0],b[2])};this.reduceActions[19]=function(b){return new h(b[0],b[2])};this.reduceActions[20]=function(b){return new y(b[0],b[2])};this.reduceActions[22]=function(b){return new t(b[1])};this.reduceActions[24]=function(b){return new G(b[0],b[2])};this.reduceActions[25]=
function(b){return new M(void 0,void 0,b[0])};this.reduceActions[27]=function(b){b[0].locationPath=b[2];return b[0]};this.reduceActions[28]=function(b){b[0].locationPath=b[2];b[0].locationPath.steps.unshift(new ea(ea.DESCENDANTORSELF,ia.nodeTest,[]));return b[0]};this.reduceActions[29]=function(b){return new M(b[0],[],void 0)};this.reduceActions[30]=function(b){return fa.instance_of(b[0],M)?(void 0==b[0].filterPredicates&&(b[0].filterPredicates=[]),b[0].filterPredicates.push(b[1]),b[0]):new M(b[0],
[b[1]],void 0)};this.reduceActions[32]=function(b){return b[1]};this.reduceActions[33]=function(b){return new n(b[0])};this.reduceActions[34]=function(b){return new v(b[0])};this.reduceActions[36]=function(b){return new r(b[0],[])};this.reduceActions[37]=function(b){return new r(b[0],b[2])};this.reduceActions[38]=function(b){return[b[0]]};this.reduceActions[39]=function(b){b[2].unshift(b[0]);return b[2]};this.reduceActions[43]=function(b){return new ca(!0,[])};this.reduceActions[44]=function(b){b[1].absolute=
!0;return b[1]};this.reduceActions[46]=function(b){return new ca(!1,[b[0]])};this.reduceActions[47]=function(b){b[0].steps.push(b[2]);return b[0]};this.reduceActions[49]=function(b){return new ea(b[0],b[1],[])};this.reduceActions[50]=function(b){return new ea(ea.CHILD,b[0],[])};this.reduceActions[51]=function(b){return new ea(b[0],b[1],b[2])};this.reduceActions[52]=function(b){return new ea(ea.CHILD,b[0],b[1])};this.reduceActions[54]=function(b){return[b[0]]};this.reduceActions[55]=function(b){b[1].unshift(b[0]);
return b[1]};this.reduceActions[56]=function(b){return"ancestor"==b[0]?ea.ANCESTOR:"ancestor-or-self"==b[0]?ea.ANCESTORORSELF:"attribute"==b[0]?ea.ATTRIBUTE:"child"==b[0]?ea.CHILD:"descendant"==b[0]?ea.DESCENDANT:"descendant-or-self"==b[0]?ea.DESCENDANTORSELF:"following"==b[0]?ea.FOLLOWING:"following-sibling"==b[0]?ea.FOLLOWINGSIBLING:"namespace"==b[0]?ea.NAMESPACE:"parent"==b[0]?ea.PARENT:"preceding"==b[0]?ea.PRECEDING:"preceding-sibling"==b[0]?ea.PRECEDINGSIBLING:"self"==b[0]?ea.SELF:-1};this.reduceActions[57]=
function(b){return ea.ATTRIBUTE};this.reduceActions[59]=function(b){return"comment"==b[0]?ia.commentTest:"text"==b[0]?ia.textTest:"processing-instruction"==b[0]?ia.anyPiTest:"node"==b[0]?ia.nodeTest:new ia(-1,void 0)};this.reduceActions[60]=function(b){return new ia.PITest(b[2])};this.reduceActions[61]=function(b){return b[1]};this.reduceActions[63]=function(b){b[1].absolute=!0;b[1].steps.unshift(new ea(ea.DESCENDANTORSELF,ia.nodeTest,[]));return b[1]};this.reduceActions[64]=function(b){b[0].steps.push(new ea(ea.DESCENDANTORSELF,
ia.nodeTest,[]));b[0].steps.push(b[2]);return b[0]};this.reduceActions[65]=function(b){return new ea(ea.SELF,ia.nodeTest,[])};this.reduceActions[66]=function(b){return new ea(ea.PARENT,ia.nodeTest,[])};this.reduceActions[67]=function(b){return new na(b[1])};this.reduceActions[68]=function(b){return ia.nameTestAny};this.reduceActions[69]=function(b){return new ia.NameTestPrefixAny(b[0].split(":")[0])};this.reduceActions[70]=function(b){return new ia.NameTestQName(b[0])}};f.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
f.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
f.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
f.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];f.DOUBLEDOT=2;f.DOUBLECOLON=3;f.DOUBLESLASH=4;f.NOTEQUAL=5;f.LESSTHANOREQUAL=6;f.GREATERTHANOREQUAL=7;f.AND=
8;f.OR=9;f.MOD=10;f.DIV=11;f.MULTIPLYOPERATOR=12;f.FUNCTIONNAME=13;f.AXISNAME=14;f.LITERAL=15;f.NUMBER=16;f.ASTERISKNAMETEST=17;f.QNAME=18;f.NCNAMECOLONASTERISK=19;f.NODETYPE=20;f.PROCESSINGINSTRUCTIONWITHLITERAL=21;f.EQUALS=22;f.LESSTHAN=23;f.GREATERTHAN=24;f.PLUS=25;f.MINUS=26;f.BAR=27;f.SLASH=28;f.LEFTPARENTHESIS=29;f.RIGHTPARENTHESIS=30;f.COMMA=31;f.AT=32;f.LEFTBRACKET=33;f.RIGHTBRACKET=34;f.DOT=35;f.DOLLAR=36;f.prototype.tokenize=function(b){var R=[],ba=[];b+="\x00";for(var ra=0,oa=b.charAt(ra++);;){for(;" "==
oa||"\t"==oa||"\r"==oa||"\n"==oa;)oa=b.charAt(ra++);if("\x00"==oa||ra>=b.length)break;if("("==oa)R.push(f.LEFTPARENTHESIS),ba.push(oa),oa=b.charAt(ra++);else if(")"==oa)R.push(f.RIGHTPARENTHESIS),ba.push(oa),oa=b.charAt(ra++);else if("["==oa)R.push(f.LEFTBRACKET),ba.push(oa),oa=b.charAt(ra++);else if("]"==oa)R.push(f.RIGHTBRACKET),ba.push(oa),oa=b.charAt(ra++);else if("@"==oa)R.push(f.AT),ba.push(oa),oa=b.charAt(ra++);else if(","==oa)R.push(f.COMMA),ba.push(oa),oa=b.charAt(ra++);else if("|"==oa)R.push(f.BAR),
ba.push(oa),oa=b.charAt(ra++);else if("+"==oa)R.push(f.PLUS),ba.push(oa),oa=b.charAt(ra++);else if("-"==oa)R.push(f.MINUS),ba.push(oa),oa=b.charAt(ra++);else if("="==oa)R.push(f.EQUALS),ba.push(oa),oa=b.charAt(ra++);else if("$"==oa)R.push(f.DOLLAR),ba.push(oa),oa=b.charAt(ra++);else if("."==oa)if(oa=b.charAt(ra++),"."==oa)R.push(f.DOUBLEDOT),ba.push(".."),oa=b.charAt(ra++);else if("0"<=oa&&"9">=oa){var Da="."+oa;for(oa=b.charAt(ra++);"0"<=oa&&"9">=oa;)Da+=oa,oa=b.charAt(ra++);R.push(f.NUMBER);ba.push(Da)}else R.push(f.DOT),
ba.push(".");else if("'"==oa||'"'==oa){Da=oa;for(var Fa="";ra<b.length&&(oa=b.charAt(ra))!==Da;)Fa+=oa,ra+=1;if(oa!==Da)throw wa.fromMessage("Unterminated string literal: "+Da+Fa);ra+=1;R.push(f.LITERAL);ba.push(Fa);oa=b.charAt(ra++)}else if("0"<=oa&&"9">=oa){Da=oa;for(oa=b.charAt(ra++);"0"<=oa&&"9">=oa;)Da+=oa,oa=b.charAt(ra++);if("."==oa&&"0"<=b.charAt(ra)&&"9">=b.charAt(ra))for(Da+=oa,Da+=b.charAt(ra++),oa=b.charAt(ra++);"0"<=oa&&"9">=oa;)Da+=oa,oa=b.charAt(ra++);R.push(f.NUMBER);ba.push(Da)}else if("*"==
oa){if(0<R.length&&(Da=R[R.length-1],Da!=f.AT&&Da!=f.DOUBLECOLON&&Da!=f.LEFTPARENTHESIS&&Da!=f.LEFTBRACKET&&Da!=f.AND&&Da!=f.OR&&Da!=f.MOD&&Da!=f.DIV&&Da!=f.MULTIPLYOPERATOR&&Da!=f.SLASH&&Da!=f.DOUBLESLASH&&Da!=f.BAR&&Da!=f.PLUS&&Da!=f.MINUS&&Da!=f.EQUALS&&Da!=f.NOTEQUAL&&Da!=f.LESSTHAN&&Da!=f.LESSTHANOREQUAL&&Da!=f.GREATERTHAN&&Da!=f.GREATERTHANOREQUAL)){R.push(f.MULTIPLYOPERATOR);ba.push(oa);oa=b.charAt(ra++);continue}R.push(f.ASTERISKNAMETEST);ba.push(oa);oa=b.charAt(ra++)}else if(":"==oa&&":"==
b.charAt(ra))R.push(f.DOUBLECOLON),ba.push("::"),ra++,oa=b.charAt(ra++);else if("/"==oa)oa=b.charAt(ra++),"/"==oa?(R.push(f.DOUBLESLASH),ba.push("//"),oa=b.charAt(ra++)):(R.push(f.SLASH),ba.push("/"));else if("!"==oa&&"="==b.charAt(ra))R.push(f.NOTEQUAL),ba.push("!="),ra++,oa=b.charAt(ra++);else if("<"==oa)"="==b.charAt(ra)?(R.push(f.LESSTHANOREQUAL),ba.push("<="),ra++):(R.push(f.LESSTHAN),ba.push("<")),oa=b.charAt(ra++);else if(">"==oa)"="==b.charAt(ra)?(R.push(f.GREATERTHANOREQUAL),ba.push(">="),
ra++):(R.push(f.GREATERTHAN),ba.push(">")),oa=b.charAt(ra++);else if("_"==oa||fa.isLetter(oa.charCodeAt(0))){Fa=oa;for(oa=b.charAt(ra++);fa.isNCNameChar(oa.charCodeAt(0));)Fa+=oa,oa=b.charAt(ra++);if(0<R.length&&(Da=R[R.length-1],Da!=f.AT&&Da!=f.DOUBLECOLON&&Da!=f.LEFTPARENTHESIS&&Da!=f.LEFTBRACKET&&Da!=f.AND&&Da!=f.OR&&Da!=f.MOD&&Da!=f.DIV&&Da!=f.MULTIPLYOPERATOR&&Da!=f.SLASH&&Da!=f.DOUBLESLASH&&Da!=f.BAR&&Da!=f.PLUS&&Da!=f.MINUS&&Da!=f.EQUALS&&Da!=f.NOTEQUAL&&Da!=f.LESSTHAN&&Da!=f.LESSTHANOREQUAL&&
Da!=f.GREATERTHAN&&Da!=f.GREATERTHANOREQUAL)){if("and"==Fa){R.push(f.AND);ba.push(Fa);continue}if("or"==Fa){R.push(f.OR);ba.push(Fa);continue}if("mod"==Fa){R.push(f.MOD);ba.push(Fa);continue}if("div"==Fa){R.push(f.DIV);ba.push(Fa);continue}}if(":"==oa){if("*"==b.charAt(ra)){R.push(f.NCNAMECOLONASTERISK);ba.push(Fa+":*");ra++;oa=b.charAt(ra++);continue}if("_"==b.charAt(ra)||fa.isLetter(b.charCodeAt(ra))){Fa+=":";for(oa=b.charAt(ra++);fa.isNCNameChar(oa.charCodeAt(0));)Fa+=oa,oa=b.charAt(ra++);if("("==
oa){R.push(f.FUNCTIONNAME);ba.push(Fa);continue}R.push(f.QNAME);ba.push(Fa);continue}if(":"==b.charAt(ra)){R.push(f.AXISNAME);ba.push(Fa);continue}}"("==oa?"comment"==Fa||"text"==Fa||"node"==Fa?R.push(f.NODETYPE):"processing-instruction"==Fa?")"==b.charAt(ra)?R.push(f.NODETYPE):R.push(f.PROCESSINGINSTRUCTIONWITHLITERAL):R.push(f.FUNCTIONNAME):R.push(f.QNAME);ba.push(Fa)}else throw Error("Unexpected character "+oa);}R.push(1);ba.push("[EOF]");return[R,ba]};f.SHIFT="s";f.REDUCE="r";f.ACCEPT="a";f.prototype.parse=
function(b){b=this.tokenize(b);if(void 0!=b){var R=b[0];var ba=b[1];var ra=0,oa=[],Da=[],Fa=[],Oa;oa.push(0);Da.push(1);Fa.push("_S");var Pa=R[ra];for(Oa=ba[ra++];;)switch(b=oa[oa.length-1],f.actionTable[b].charAt(Pa-1)){case f.SHIFT:Da.push(-Pa);Fa.push(Oa);oa.push(f.actionTableNumber[b].charCodeAt(Pa-1)-32);Pa=R[ra];Oa=ba[ra++];break;case f.REDUCE:for(var ab=f.productions[f.actionTableNumber[b].charCodeAt(Pa-1)-32][1],fb=[],mb=0;mb<ab;mb++)Da.pop(),fb.unshift(Fa.pop()),oa.pop();ab=oa[oa.length-
1];Da.push(f.productions[f.actionTableNumber[b].charCodeAt(Pa-1)-32][0]);void 0==this.reduceActions[f.actionTableNumber[b].charCodeAt(Pa-1)-32]?Fa.push(fb[0]):Fa.push(this.reduceActions[f.actionTableNumber[b].charCodeAt(Pa-1)-32](fb));oa.push(f.gotoTable[ab].charCodeAt(f.productions[f.actionTableNumber[b].charCodeAt(Pa-1)-32][0]-2)-33);break;case f.ACCEPT:return new k(Fa.pop());default:throw Error("XPath parse error");}}};k.prototype={};k.prototype.constructor=k;k.superclass=Object.prototype;k.prototype.toString=
function(){return this.expression.toString()};k.prototype.evaluate=function(b){b.contextNode=b.expressionContextNode;b.contextSize=1;b.contextPosition=1;b.isHtml&&("caseInsensitive"in b||(b.caseInsensitive=!0),"allowAnyNamespaceForNoPrefix"in b||(b.allowAnyNamespaceForNoPrefix=!0));"caseInsensitive"in b||(b.caseInsensitive=!1);return this.expression.evaluate(b)};k.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";k.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";d.prototype={};d.prototype.constructor=
d;d.superclass=Object.prototype;d.prototype.init=function(){};d.prototype.toString=function(){return"<Expression>"};d.prototype.evaluate=function(b){throw Error("Could not evaluate expression.");};g.prototype=new d;g.prototype.constructor=g;g.superclass=d.prototype;g.prototype.init=function(b){this.rhs=b};t.prototype=new g;t.prototype.constructor=t;t.superclass=g.prototype;t.prototype.init=function(b){t.superclass.init.call(this,b)};t.prototype.evaluate=function(b){return this.rhs.evaluate(b).number().negate()};
t.prototype.toString=function(){return"-"+this.rhs.toString()};A.prototype=new d;A.prototype.constructor=A;A.superclass=d.prototype;A.prototype.init=function(b,R){this.lhs=b;this.rhs=R};W.prototype=new A;W.prototype.constructor=W;W.superclass=A.prototype;W.prototype.init=function(b,R){W.superclass.init.call(this,b,R)};W.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};W.prototype.evaluate=function(b){var R=this.lhs.evaluate(b).bool();return R.booleanValue()?
R:this.rhs.evaluate(b).bool()};F.prototype=new A;F.prototype.constructor=F;F.superclass=A.prototype;F.prototype.init=function(b,R){F.superclass.init.call(this,b,R)};F.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};F.prototype.evaluate=function(b){var R=this.lhs.evaluate(b).bool();return R.booleanValue()?this.rhs.evaluate(b).bool():R};H.prototype=new A;H.prototype.constructor=H;H.superclass=A.prototype;H.prototype.init=function(b,R){H.superclass.init.call(this,
b,R)};H.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};H.prototype.evaluate=function(b){return this.lhs.evaluate(b).equals(this.rhs.evaluate(b))};x.prototype=new A;x.prototype.constructor=x;x.superclass=A.prototype;x.prototype.init=function(b,R){x.superclass.init.call(this,b,R)};x.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};x.prototype.evaluate=function(b){return this.lhs.evaluate(b).notequal(this.rhs.evaluate(b))};
z.prototype=new A;z.prototype.constructor=z;z.superclass=A.prototype;z.prototype.init=function(b,R){z.superclass.init.call(this,b,R)};z.prototype.evaluate=function(b){return this.lhs.evaluate(b).lessthan(this.rhs.evaluate(b))};z.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};m.prototype=new A;m.prototype.constructor=m;m.superclass=A.prototype;m.prototype.init=function(b,R){m.superclass.init.call(this,b,R)};m.prototype.evaluate=function(b){return this.lhs.evaluate(b).greaterthan(this.rhs.evaluate(b))};
m.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"};P.prototype=new A;P.prototype.constructor=P;P.superclass=A.prototype;P.prototype.init=function(b,R){P.superclass.init.call(this,b,R)};P.prototype.evaluate=function(b){return this.lhs.evaluate(b).lessthanorequal(this.rhs.evaluate(b))};P.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};l.prototype=new A;l.prototype.constructor=l;l.superclass=A.prototype;l.prototype.init=
function(b,R){l.superclass.init.call(this,b,R)};l.prototype.evaluate=function(b){return this.lhs.evaluate(b).greaterthanorequal(this.rhs.evaluate(b))};l.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};e.prototype=new A;e.prototype.constructor=e;e.superclass=A.prototype;e.prototype.init=function(b,R){e.superclass.init.call(this,b,R)};e.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().plus(this.rhs.evaluate(b).number())};e.prototype.toString=
function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};w.prototype=new A;w.prototype.constructor=w;w.superclass=A.prototype;w.prototype.init=function(b,R){w.superclass.init.call(this,b,R)};w.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().minus(this.rhs.evaluate(b).number())};w.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};J.prototype=new A;J.prototype.constructor=J;J.superclass=A.prototype;J.prototype.init=function(b,
R){J.superclass.init.call(this,b,R)};J.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().multiply(this.rhs.evaluate(b).number())};J.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};h.prototype=new A;h.prototype.constructor=h;h.superclass=A.prototype;h.prototype.init=function(b,R){h.superclass.init.call(this,b,R)};h.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().div(this.rhs.evaluate(b).number())};h.prototype.toString=
function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};y.prototype=new A;y.prototype.constructor=y;y.superclass=A.prototype;y.prototype.init=function(b,R){y.superclass.init.call(this,b,R)};y.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().mod(this.rhs.evaluate(b).number())};y.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};G.prototype=new A;G.prototype.constructor=G;G.superclass=A.prototype;G.prototype.init=function(b,
R){G.superclass.init.call(this,b,R)};G.prototype.evaluate=function(b){return this.lhs.evaluate(b).nodeset().union(this.rhs.evaluate(b).nodeset())};G.prototype.toString=function(){return Ha(V,[this.lhs,this.rhs]).join(" | ")};M.prototype=new d;M.prototype.constructor=M;M.superclass=d.prototype;M.prototype.init=function(b,R,ba){M.superclass.init.call(this);this.filter=b;this.filterPredicates=R;this.locationPath=ba};M.applyPredicates=function(b,R,ba){if(0===b.length)return ba;var ra=R.extend({});return Ba(function(oa,
Da){ra.contextSize=oa.length;return Ma(function(Fa,Oa){ra.contextNode=Fa;ra.contextPosition=Oa+1;return M.predicateMatches(Da,ra)},oa)},ba,b)};M.getRoot=function(b,R){R=R[0];if(9===R.nodeType)return R;if(b.virtualRoot)return b.virtualRoot;if(b=R.ownerDocument)return b;for(b=R;null!=b.parentNode;)b=b.parentNode;return b};M.applyStep=function(b,R,ba){var ra=[];R.contextNode=ba;switch(b.axis){case ea.ANCESTOR:if(R.contextNode===R.virtualRoot)break;for(ba=2==R.contextNode.nodeType?M.getOwnerElement(R.contextNode):
R.contextNode.parentNode;null!=ba;){b.nodeTest.matches(ba,R)&&ra.push(ba);if(ba===R.virtualRoot)break;ba=ba.parentNode}break;case ea.ANCESTORORSELF:for(ba=R.contextNode;null!=ba&&(b.nodeTest.matches(ba,R)&&ra.push(ba),ba!==R.virtualRoot);ba=2==ba.nodeType?M.getOwnerElement(ba):ba.parentNode);break;case ea.ATTRIBUTE:var oa=R.contextNode.attributes;if(null!=oa)for(var Da=0;Da<oa.length;Da++)ba=oa.item(Da),b.nodeTest.matches(ba,R)&&ra.push(ba);break;case ea.CHILD:for(ba=R.contextNode.firstChild;null!=
ba;ba=ba.nextSibling)b.nodeTest.matches(ba,R)&&ra.push(ba);break;case ea.DESCENDANT:for(oa=[R.contextNode.firstChild];0<oa.length;)for(ba=oa.pop();null!=ba;)b.nodeTest.matches(ba,R)&&ra.push(ba),null!=ba.firstChild?(oa.push(ba.nextSibling),ba=ba.firstChild):ba=ba.nextSibling;break;case ea.DESCENDANTORSELF:b.nodeTest.matches(R.contextNode,R)&&ra.push(R.contextNode);for(oa=[R.contextNode.firstChild];0<oa.length;)for(ba=oa.pop();null!=ba;)b.nodeTest.matches(ba,R)&&ra.push(ba),null!=ba.firstChild?(oa.push(ba.nextSibling),
ba=ba.firstChild):ba=ba.nextSibling;break;case ea.FOLLOWING:if(R.contextNode===R.virtualRoot)break;oa=[];null!=R.contextNode.firstChild?oa.unshift(R.contextNode.firstChild):oa.unshift(R.contextNode.nextSibling);for(ba=R.contextNode.parentNode;null!=ba&&9!=ba.nodeType&&ba!==R.virtualRoot;ba=ba.parentNode)oa.unshift(ba.nextSibling);do for(ba=oa.pop();null!=ba;)b.nodeTest.matches(ba,R)&&ra.push(ba),null!=ba.firstChild?(oa.push(ba.nextSibling),ba=ba.firstChild):ba=ba.nextSibling;while(0<oa.length);break;
case ea.FOLLOWINGSIBLING:if(R.contextNode===R.virtualRoot)break;for(ba=R.contextNode.nextSibling;null!=ba;ba=ba.nextSibling)b.nodeTest.matches(ba,R)&&ra.push(ba);break;case ea.NAMESPACE:var Fa={};if(1==R.contextNode.nodeType){Fa.xml=k.XML_NAMESPACE_URI;Fa.xmlns=k.XMLNS_NAMESPACE_URI;for(ba=R.contextNode;null!=ba&&1==ba.nodeType;ba=ba.parentNode)for(Da=0;Da<ba.attributes.length;Da++){var Oa=ba.attributes.item(Da),Pa=String(Oa.name);"xmlns"==Pa?void 0==Fa[""]&&(Fa[""]=Oa.value):6<Pa.length&&"xmlns:"==
Pa.substring(0,6)&&(oa=Pa.substring(6,Pa.length),void 0==Fa[oa]&&(Fa[oa]=Oa.value))}for(oa in Fa)ba=new K(oa,Fa[oa],R.contextNode),b.nodeTest.matches(ba,R)&&ra.push(ba)}break;case ea.PARENT:ba=null;R.contextNode!==R.virtualRoot&&(ba=2==R.contextNode.nodeType?M.getOwnerElement(R.contextNode):R.contextNode.parentNode);null!=ba&&b.nodeTest.matches(ba,R)&&ra.push(ba);break;case ea.PRECEDING:if(null!=R.virtualRoot)oa=[R.virtualRoot];else{for(ba=R.contextNode;ba&&ba.parentNode;)ba=ba.parentNode;oa=[ba]}a:for(;0<
oa.length;)for(ba=oa.pop();null!=ba;){if(ba==R.contextNode)break a;b.nodeTest.matches(ba,R)&&ra.unshift(ba);null!=ba.firstChild?(oa.push(ba.nextSibling),ba=ba.firstChild):ba=ba.nextSibling}break;case ea.PRECEDINGSIBLING:if(R.contextNode===R.virtualRoot)break;for(ba=R.contextNode.previousSibling;null!=ba;ba=ba.previousSibling)b.nodeTest.matches(ba,R)&&ra.push(ba);break;case ea.SELF:b.nodeTest.matches(R.contextNode,R)&&ra.push(R.contextNode)}return ra};M.applySteps=function(b,R,ba){return Ba(Z.bind(null,
R),ba,b)};M.prototype.applyFilter=function(b,R){if(!this.filter)return{nodes:[b.contextNode]};b=this.filter.evaluate(b);if(!fa.instance_of(b,O)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:b}}return{nodes:M.applyPredicates(this.filterPredicates||[],R,b.toUnsortedArray())}};M.applyLocationPath=function(b,R,ba){if(!b)return ba;ba=b.absolute?
[M.getRoot(R,ba)]:ba;return M.applySteps(b.steps,R,ba)};M.prototype.evaluate=function(b){var R=q(new pa,b);b=this.applyFilter(b,R);if("nonNodes"in b)return b.nonNodes;var ba=new O;ba.addArray(M.applyLocationPath(this.locationPath,R,b.nodes));return ba};M.predicateMatches=function(b,R){b=b.evaluate(R);return fa.instance_of(b,v)?R.contextPosition===b.numberValue():b.booleanValue()};M.predicateString=function(b){return"["+b.toString()+"]"};M.predicatesString=function(b){return Sa("",Ha(M.predicateString,
b))};M.prototype.toString=function(){if(void 0!=this.filter){var b=V(this.filter);return fa.instance_of(this.filter,n)?"'"+b+"'":void 0!=this.filterPredicates&&this.filterPredicates.length?"("+b+")"+M.predicatesString(this.filterPredicates):void 0!=this.locationPath?b+(this.locationPath.absolute?"":"/")+V(this.locationPath):b}return V(this.locationPath)};M.getOwnerElement=function(b){if(b.ownerElement)return b.ownerElement;try{if(b.selectSingleNode)return b.selectSingleNode("..")}catch(Fa){}for(var R=
(9==b.nodeType?b:b.ownerDocument).getElementsByTagName("*"),ba=0;ba<R.length;ba++)for(var ra=R.item(ba),oa=ra.attributes,Da=0;Da<oa.length;Da++)if(oa.item(Da)===b)return ra;return null};ca.prototype={};ca.prototype.constructor=ca;ca.superclass=Object.prototype;ca.prototype.init=function(b,R){this.absolute=b;this.steps=R};ca.prototype.toString=function(){return(this.absolute?"/":"")+Ha(V,this.steps).join("/")};ea.prototype={};ea.prototype.constructor=ea;ea.superclass=Object.prototype;ea.prototype.init=
function(b,R,ba){this.axis=b;this.nodeTest=R;this.predicates=ba};ea.prototype.toString=function(){return ea.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+M.predicatesString(this.predicates)};ea.ANCESTOR=0;ea.ANCESTORORSELF=1;ea.ATTRIBUTE=2;ea.CHILD=3;ea.DESCENDANT=4;ea.DESCENDANTORSELF=5;ea.FOLLOWING=6;ea.FOLLOWINGSIBLING=7;ea.NAMESPACE=8;ea.PARENT=9;ea.PRECEDING=10;ea.PRECEDINGSIBLING=11;ea.SELF=12;ea.STEPNAMES=Ba(function(b,R){return b[R[0]]=R[1],b},{},[[ea.ANCESTOR,"ancestor"],[ea.ANCESTORORSELF,
"ancestor-or-self"],[ea.ATTRIBUTE,"attribute"],[ea.CHILD,"child"],[ea.DESCENDANT,"descendant"],[ea.DESCENDANTORSELF,"descendant-or-self"],[ea.FOLLOWING,"following"],[ea.FOLLOWINGSIBLING,"following-sibling"],[ea.NAMESPACE,"namespace"],[ea.PARENT,"parent"],[ea.PRECEDING,"preceding"],[ea.PRECEDINGSIBLING,"preceding-sibling"],[ea.SELF,"self"]]);ia.prototype={};ia.prototype.constructor=ia;ia.superclass=Object.prototype;ia.prototype.init=function(b,R){this.type=b;this.value=R};ia.prototype.toString=function(){return"<unknown nodetest type>"};
ia.prototype.matches=function(b,R){console.warn("unknown node test type")};ia.NAMETESTANY=0;ia.NAMETESTPREFIXANY=1;ia.NAMETESTQNAME=2;ia.COMMENT=3;ia.TEXT=4;ia.PI=5;ia.NODE=6;ia.isNodeType=function(b){return function(R){a:{for(var ba=0;ba<b.length;ba+=1)if(b[ba]===R.nodeType){R=!0;break a}R=!1}return R}};ia.makeNodeTestType=function(b,R,ba){ba=ba||function(){};ba.prototype=new ia(b);ba.prototype.constructor=ba;q(ba.prototype,R);return ba};ia.makeNodeTypeTest=function(b,R,ba){return new (ia.makeNodeTestType(b,
{matches:ia.isNodeType(R),toString:I(ba)}))};ia.hasPrefix=function(b){return b.prefix||-1!==(b.nodeName||b.tagName).indexOf(":")};ia.isElementOrAttribute=ia.isNodeType([1,2]);ia.nameSpaceMatches=function(b,R,ba){var ra=ba.namespaceURI||"";if(!b)return!ra||R.allowAnyNamespaceForNoPrefix&&!ia.hasPrefix(ba);R=R.namespaceResolver.getNamespace(b,R.expressionContextNode);if(null==R)throw Error("Cannot resolve QName "+b);return R===ra};ia.localNameMatches=function(b,R,ba){ba=ba.localName||ba.nodeName;return R.caseInsensitive?
b.toLowerCase()===ba.toLowerCase():b===ba};ia.NameTestPrefixAny=ia.makeNodeTestType(ia.NAMETESTPREFIXANY,{matches:function(b,R){return ia.isElementOrAttribute(b)&&ia.nameSpaceMatches(this.prefix,R,b)},toString:function(){return this.prefix+":*"}},function(b){this.prefix=b});ia.NameTestQName=ia.makeNodeTestType(ia.NAMETESTQNAME,{matches:function(b,R){return ia.isNodeType([1,2,K.XPATH_NAMESPACE_NODE])(b)&&ia.nameSpaceMatches(this.prefix,R,b)&&ia.localNameMatches(this.localName,R,b)},toString:function(){return this.name}},
function(b){var R=b.split(":");this.name=b;this.prefix=1<R.length?R[0]:null;this.localName=R[1<R.length?1:0]});ia.PITest=ia.makeNodeTestType(ia.PI,{matches:function(b,R){return ia.isNodeType([7])(b)&&(b.target||b.nodeName)===this.name},toString:function(){return'processing-instruction("'+this.name+'")'}},function(b){this.name=b});ia.nameTestAny=ia.makeNodeTypeTest(ia.NAMETESTANY,[1,2,K.XPATH_NAMESPACE_NODE],"*");ia.textTest=ia.makeNodeTypeTest(ia.TEXT,[3,4],"text()");ia.commentTest=ia.makeNodeTypeTest(ia.COMMENT,
[8],"comment()");ia.nodeTest=ia.makeNodeTypeTest(ia.NODE,[1,2,3,4,7,8,9],"node()");ia.anyPiTest=ia.makeNodeTypeTest(ia.PI,[7],"processing-instruction()");na.prototype=new d;na.prototype.constructor=na;na.superclass=d.prototype;na.prototype.init=function(b){this.variable=b};na.prototype.toString=function(){return"$"+this.variable};na.prototype.evaluate=function(b){var R=fa.resolveQName(this.variable,b.namespaceResolver,b.contextNode,!1);if(null==R[0])throw Error("Cannot resolve QName "+fn);b=b.variableResolver.getVariable(R[1],
R[0]);if(!b)throw wa.fromMessage("Undeclared variable: "+this.toString());return b};r.prototype=new d;r.prototype.constructor=r;r.superclass=d.prototype;r.prototype.init=function(b,R){this.functionName=b;this.arguments=R};r.prototype.toString=function(){for(var b=this.functionName+"(",R=0;R<this.arguments.length;R++)0<R&&(b+=", "),b+=this.arguments[R].toString();return b+")"};r.prototype.evaluate=function(b){var R=ua.getFunctionFromContext(this.functionName,b);if(!R)throw Error("Unknown function "+
this.functionName);var ba=[b].concat(this.arguments);return R.apply(b.functionResolver.thisArg,ba)};var Ia=function(b,R){return b.equals(R)},Ra=function(b,R){return b.notequal(R)},db=function(b,R){return b.lessthan(R)},Va=function(b,R){return b.greaterthan(R)},gb=function(b,R){return b.lessthanorequal(R)},nb=function(b,R){return b.greaterthanorequal(R)};n.prototype=new d;n.prototype.constructor=n;n.superclass=d.prototype;n.prototype.init=function(b){this.str=String(b)};n.prototype.toString=function(){return this.str};
n.prototype.evaluate=function(b){return this};n.prototype.string=function(){return this};n.prototype.number=function(){return new v(this.str)};n.prototype.bool=function(){return new D(this.str)};n.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};n.prototype.stringValue=function(){return this.str};n.prototype.numberValue=function(){return this.number().numberValue()};n.prototype.booleanValue=function(){return this.bool().booleanValue()};n.prototype.equals=function(b){return fa.instance_of(b,
D)?this.bool().equals(b):fa.instance_of(b,v)?this.number().equals(b):fa.instance_of(b,O)?b.compareWithString(this,Ia):new D(this.str==b.str)};n.prototype.notequal=function(b){return fa.instance_of(b,D)?this.bool().notequal(b):fa.instance_of(b,v)?this.number().notequal(b):fa.instance_of(b,O)?b.compareWithString(this,Ra):new D(this.str!=b.str)};n.prototype.lessthan=function(b){return this.number().lessthan(b)};n.prototype.greaterthan=function(b){return this.number().greaterthan(b)};n.prototype.lessthanorequal=
function(b){return this.number().lessthanorequal(b)};n.prototype.greaterthanorequal=function(b){return this.number().greaterthanorequal(b)};v.prototype=new d;v.prototype.constructor=v;v.superclass=d.prototype;v.prototype.init=function(b){this.num="string"===typeof b?this.parse(b):Number(b)};v.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/;v.prototype.parse=function(b){return this.numberFormat.test(b)?parseFloat(b):Number.NaN};v.prototype.toString=function(){var b=this.num.toString();if(-1!==b.indexOf("e-")){var R=
b.split("e-");b=R[0].replace(".","");R=Number(R[1]);for(var ba=0;ba<R-1;ba+=1)b="0"+b;return"0."+b}if(-1!==b.indexOf("e")){R=b.split("e");b=R[0].replace(".","");R=Number(R[1])+1-b.length;for(ba=0;ba<R;ba+=1)b+="0";return b}return b};v.prototype.evaluate=function(b){return this};v.prototype.string=function(){return new n(this.toString())};v.prototype.number=function(){return this};v.prototype.bool=function(){return new D(this.num)};v.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");
};v.prototype.stringValue=function(){return this.string().stringValue()};v.prototype.numberValue=function(){return this.num};v.prototype.booleanValue=function(){return this.bool().booleanValue()};v.prototype.negate=function(){return new v(-this.num)};v.prototype.equals=function(b){return fa.instance_of(b,D)?this.bool().equals(b):fa.instance_of(b,n)?this.equals(b.number()):fa.instance_of(b,O)?b.compareWithNumber(this,Ia):new D(this.num==b.num)};v.prototype.notequal=function(b){return fa.instance_of(b,
D)?this.bool().notequal(b):fa.instance_of(b,n)?this.notequal(b.number()):fa.instance_of(b,O)?b.compareWithNumber(this,Ra):new D(this.num!=b.num)};v.prototype.lessthan=function(b){return fa.instance_of(b,O)?b.compareWithNumber(this,Va):fa.instance_of(b,D)||fa.instance_of(b,n)?this.lessthan(b.number()):new D(this.num<b.num)};v.prototype.greaterthan=function(b){return fa.instance_of(b,O)?b.compareWithNumber(this,db):fa.instance_of(b,D)||fa.instance_of(b,n)?this.greaterthan(b.number()):new D(this.num>
b.num)};v.prototype.lessthanorequal=function(b){return fa.instance_of(b,O)?b.compareWithNumber(this,nb):fa.instance_of(b,D)||fa.instance_of(b,n)?this.lessthanorequal(b.number()):new D(this.num<=b.num)};v.prototype.greaterthanorequal=function(b){return fa.instance_of(b,O)?b.compareWithNumber(this,gb):fa.instance_of(b,D)||fa.instance_of(b,n)?this.greaterthanorequal(b.number()):new D(this.num>=b.num)};v.prototype.plus=function(b){return new v(this.num+b.num)};v.prototype.minus=function(b){return new v(this.num-
b.num)};v.prototype.multiply=function(b){return new v(this.num*b.num)};v.prototype.div=function(b){return new v(this.num/b.num)};v.prototype.mod=function(b){return new v(this.num%b.num)};D.prototype=new d;D.prototype.constructor=D;D.superclass=d.prototype;D.prototype.init=function(b){this.b=!!b};D.prototype.toString=function(){return this.b.toString()};D.prototype.evaluate=function(b){return this};D.prototype.string=function(){return new n(this.b)};D.prototype.number=function(){return new v(this.b)};
D.prototype.bool=function(){return this};D.prototype.nodeset=function(){throw Error("Cannot convert boolean to nodeset");};D.prototype.stringValue=function(){return this.string().stringValue()};D.prototype.numberValue=function(){return this.number().numberValue()};D.prototype.booleanValue=function(){return this.b};D.prototype.not=function(){return new D(!this.b)};D.prototype.equals=function(b){return fa.instance_of(b,n)||fa.instance_of(b,v)?this.equals(b.bool()):fa.instance_of(b,O)?b.compareWithBoolean(this,
Ia):new D(this.b==b.b)};D.prototype.notequal=function(b){return fa.instance_of(b,n)||fa.instance_of(b,v)?this.notequal(b.bool()):fa.instance_of(b,O)?b.compareWithBoolean(this,Ra):new D(this.b!=b.b)};D.prototype.lessthan=function(b){return this.number().lessthan(b)};D.prototype.greaterthan=function(b){return this.number().greaterthan(b)};D.prototype.lessthanorequal=function(b){return this.number().lessthanorequal(b)};D.prototype.greaterthanorequal=function(b){return this.number().greaterthanorequal(b)};
D.true_=new D(!0);D.false_=new D(!1);U.prototype={};U.prototype.constructor=U;U.superclass=Object.prototype;U.prototype.init=function(b){this.right=this.left=null;this.node=b;this.depth=1};U.prototype.balance=function(){var b=null==this.left?0:this.left.depth,R=null==this.right?0:this.right.depth;b>R+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):b+1<R&&((null==this.right.left?0:this.right.left.depth)>(null==
this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};U.prototype.rotateLL=function(){var b=this.node,R=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;this.right.right=R;this.right.node=b;this.right.updateInNewLocation();this.updateInNewLocation()};U.prototype.rotateRR=function(){var b=this.node,R=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;
this.left.left=R;this.left.node=b;this.left.updateInNewLocation();this.updateInNewLocation()};U.prototype.updateInNewLocation=function(){this.getDepthFromChildren()};U.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};U.prototype.add=function(b){if(b===this.node)return!1;var R=N(b,this.node),ba=!1;-1==R?null==this.left?(this.left=new U(b),ba=!0):(ba=
this.left.add(b))&&this.balance():1==R&&(null==this.right?(this.right=new U(b),ba=!0):(ba=this.right.add(b))&&this.balance());ba&&this.getDepthFromChildren();return ba};O.prototype=new d;O.prototype.constructor=O;O.superclass=d.prototype;O.prototype.init=function(){this.tree=null;this.nodes=[];this.size=0};O.prototype.toString=function(){var b=this.first();return null==b?"":this.stringForNode(b)};O.prototype.evaluate=function(b){return this};O.prototype.string=function(){return new n(this.toString())};
O.prototype.stringValue=function(){return this.toString()};O.prototype.number=function(){return new v(this.string())};O.prototype.numberValue=function(){return Number(this.string())};O.prototype.bool=function(){return new D(this.booleanValue())};O.prototype.booleanValue=function(){return!!this.size};O.prototype.nodeset=function(){return this};O.prototype.stringForNode=function(b){return 9==b.nodeType||1==b.nodeType||11===b.nodeType?this.stringForContainerNode(b):2===b.nodeType?b.value||b.nodeValue:
b.isNamespaceNode?b.namespace:b.nodeValue};O.prototype.stringForContainerNode=function(b){var R="";for(b=b.firstChild;null!=b;b=b.nextSibling){var ba=b.nodeType;if(1===ba||3===ba||4===ba||9===ba||11===ba)R+=this.stringForNode(b)}return R};O.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new U(this.nodes[0]);for(var b=1;b<this.nodes.length;b+=1)this.tree.add(this.nodes[b])}return this.tree};O.prototype.first=function(){var b=this.buildTree();if(null==b)return null;for(;null!=
b.left;)b=b.left;return b.node};O.prototype.add=function(b){for(var R=0;R<this.nodes.length;R+=1)if(b===this.nodes[R])return;this.tree=null;this.nodes.push(b);this.size+=1};O.prototype.addArray=function(b){var R=this;la(function(ba){R.add(ba)},b)};O.prototype.toArray=function(){var b=[];this.toArrayRec(this.buildTree(),b);return b};O.prototype.toArrayRec=function(b,R){null!=b&&(this.toArrayRec(b.left,R),R.push(b.node),this.toArrayRec(b.right,R))};O.prototype.toUnsortedArray=function(){return this.nodes.slice()};
O.prototype.compareWithString=function(b,R){for(var ba=this.toUnsortedArray(),ra=0;ra<ba.length;ra++){var oa=new n(this.stringForNode(ba[ra]));oa=R(oa,b);if(oa.booleanValue())return oa}return new D(!1)};O.prototype.compareWithNumber=function(b,R){for(var ba=this.toUnsortedArray(),ra=0;ra<ba.length;ra++){var oa=new v(this.stringForNode(ba[ra]));oa=R(oa,b);if(oa.booleanValue())return oa}return new D(!1)};O.prototype.compareWithBoolean=function(b,R){return R(this.bool(),b)};O.prototype.compareWithNodeSet=
function(b,R){for(var ba=this.toUnsortedArray(),ra=function(Fa,Oa){return R(Oa,Fa)},oa=0;oa<ba.length;oa++){var Da=new n(this.stringForNode(ba[oa]));Da=b.compareWithString(Da,ra);if(Da.booleanValue())return Da}return new D(!1)};O.compareWith=function(b){var R=Array.prototype.slice,ba=b.length,ra=function(Da,Fa){return function(){return Fa.apply(this,Da.concat(R.call(arguments)))}},oa=function(){var Da=R.call(arguments);return Da.length<ba?ra(Da,oa):b.apply(this,R.apply(arguments,[0,ba]))};return oa}(function(b,
R){return fa.instance_of(R,n)?this.compareWithString(R,b):fa.instance_of(R,v)?this.compareWithNumber(R,b):fa.instance_of(R,D)?this.compareWithBoolean(R,b):this.compareWithNodeSet(R,b)});O.prototype.equals=O.compareWith(Ia);O.prototype.notequal=O.compareWith(Ra);O.prototype.lessthan=O.compareWith(db);O.prototype.greaterthan=O.compareWith(Va);O.prototype.lessthanorequal=O.compareWith(gb);O.prototype.greaterthanorequal=O.compareWith(nb);O.prototype.union=function(b){var R=new O;R.addArray(this.toUnsortedArray());
R.addArray(b.toUnsortedArray());return R};K.prototype={};K.prototype.constructor=K;K.superclass=Object.prototype;K.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};pa.prototype={};pa.prototype.constructor=pa;pa.superclass=Object.prototype;pa.prototype.extend=function(b){return q(new pa,this,b)};xa.prototype={};xa.prototype.constructor=xa;xa.superclass=Object.prototype;xa.prototype.getVariable=function(b,R){return null};ua.prototype={};ua.prototype.constructor=
ua;ua.superclass=Object.prototype;ua.prototype.addStandardFunctions=function(){this.functions["{}last"]=da.last;this.functions["{}position"]=da.position;this.functions["{}count"]=da.count;this.functions["{}id"]=da.id;this.functions["{}local-name"]=da.localName;this.functions["{}namespace-uri"]=da.namespaceURI;this.functions["{}name"]=da.name;this.functions["{}string"]=da.string;this.functions["{}concat"]=da.concat;this.functions["{}starts-with"]=da.startsWith;this.functions["{}contains"]=da.contains;
this.functions["{}substring-before"]=da.substringBefore;this.functions["{}substring-after"]=da.substringAfter;this.functions["{}substring"]=da.substring;this.functions["{}string-length"]=da.stringLength;this.functions["{}normalize-space"]=da.normalizeSpace;this.functions["{}translate"]=da.translate;this.functions["{}boolean"]=da.boolean_;this.functions["{}not"]=da.not;this.functions["{}true"]=da.true_;this.functions["{}false"]=da.false_;this.functions["{}lang"]=da.lang;this.functions["{}number"]=
da.number;this.functions["{}sum"]=da.sum;this.functions["{}floor"]=da.floor;this.functions["{}ceiling"]=da.ceiling;this.functions["{}round"]=da.round};ua.prototype.addFunction=function(b,R,ba){this.functions["{"+b+"}"+R]=ba};ua.getFunctionFromContext=function(b,R){b=fa.resolveQName(b,R.namespaceResolver,R.contextNode,!1);if(null===b[0])throw Error("Cannot resolve QName "+name);return R.functionResolver.getFunction(b[1],b[0])};ua.prototype.getFunction=function(b,R){return this.functions["{"+R+"}"+
b]};za.prototype={};za.prototype.constructor=za;za.superclass=Object.prototype;za.prototype.getNamespace=function(b,R){if("xml"==b)return k.XML_NAMESPACE_URI;if("xmlns"==b)return k.XMLNS_NAMESPACE_URI;9==R.nodeType?R=R.documentElement:2==R.nodeType?R=M.getOwnerElement(R):1!=R.nodeType&&(R=R.parentNode);for(;null!=R&&1==R.nodeType;){for(var ba=R.attributes,ra=0;ra<ba.length;ra++){var oa=ba.item(ra),Da=oa.name||oa.nodeName;if("xmlns"===Da&&""===b||Da==="xmlns:"+b)return String(oa.value||oa.nodeValue)}R=
R.parentNode}return null};var da={last:function(b){if(1!=arguments.length)throw Error("Function last expects ()");return new v(b.contextSize)},position:function(b){if(1!=arguments.length)throw Error("Function position expects ()");return new v(b.contextPosition)},count:function(){var b=arguments[0],R;if(2!=arguments.length||!fa.instance_of(R=arguments[1].evaluate(b),O))throw Error("Function count expects (node-set)");return new v(R.size)},id:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");
var R=arguments[1].evaluate(b);R=fa.instance_of(R,O)?R.toArray().join(" "):R.stringValue();R=R.split(/[\x0d\x0a\x09\x20]+/);var ba=0,ra=new O;b=9==b.contextNode.nodeType?b.contextNode:b.contextNode.ownerDocument;for(var oa=0;oa<R.length;oa++){var Da=b.getElementById?b.getElementById(R[oa]):fa.getElementById(b,R[oa]);null!=Da&&(ra.add(Da),ba++)}return ra},localName:function(b,R){if(1==arguments.length)var ba=b.contextNode;else if(2==arguments.length)ba=R.evaluate(b).first();else throw Error("Function local-name expects (node-set?)");
return null==ba?new n(""):new n(ba.localName||ba.baseName||ba.target||ba.nodeName||"")},namespaceURI:function(){var b=arguments[0];if(1==arguments.length)b=b.contextNode;else if(2==arguments.length)b=arguments[1].evaluate(b).first();else throw Error("Function namespace-uri expects (node-set?)");return null==b?new n(""):new n(b.namespaceURI)},name:function(){var b=arguments[0];if(1==arguments.length)b=b.contextNode;else if(2==arguments.length)b=arguments[1].evaluate(b).first();else throw Error("Function name expects (node-set?)");
return null==b?new n(""):1==b.nodeType?new n(b.nodeName):2==b.nodeType?new n(b.name||b.nodeName):7===b.nodeType?new n(b.target||b.nodeName):null==b.localName?new n(""):new n(b.localName)},string:function(){var b=arguments[0];if(1==arguments.length)return new n(O.prototype.stringForNode(b.contextNode));if(2==arguments.length)return arguments[1].evaluate(b).string();throw Error("Function string expects (object?)");},concat:function(b){if(3>arguments.length)throw Error("Function concat expects (string, string[, string]*)");
for(var R="",ba=1;ba<arguments.length;ba++)R+=arguments[ba].evaluate(b).stringValue();return new n(R)},startsWith:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");var R=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return new D(R.substring(0,b.length)==b)},contains:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var R=arguments[1].evaluate(b).stringValue();
b=arguments[2].evaluate(b).stringValue();return new D(-1!==R.indexOf(b))},substringBefore:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");var R=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return new n(R.substring(0,R.indexOf(b)))},substringAfter:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var R=arguments[1].evaluate(b).stringValue();
b=arguments[2].evaluate(b).stringValue();if(0==b.length)return new n(R);var ba=R.indexOf(b);return-1==ba?new n(""):new n(R.substring(ba+b.length))},substring:function(){var b=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var R=arguments[1].evaluate(b).stringValue(),ba=Math.round(arguments[2].evaluate(b).numberValue())-1;b=4==arguments.length?ba+Math.round(arguments[3].evaluate(b).numberValue()):void 0;return new n(R.substring(ba,
b))},stringLength:function(){var b=arguments[0];if(1==arguments.length)b=O.prototype.stringForNode(b.contextNode);else if(2==arguments.length)b=arguments[1].evaluate(b).stringValue();else throw Error("Function string-length expects (string?)");return new v(b.length)},normalizeSpace:function(){var b=arguments[0];if(1==arguments.length)b=O.prototype.stringForNode(b.contextNode);else if(2==arguments.length)b=arguments[1].evaluate(b).stringValue();else throw Error("Function normalize-space expects (string?)");
for(var R=0,ba=b.length-1;fa.isSpace(b.charCodeAt(ba));)ba--;for(var ra="";R<=ba&&fa.isSpace(b.charCodeAt(R));)R++;for(;R<=ba;)if(fa.isSpace(b.charCodeAt(R)))for(ra+=" ";R<=ba&&fa.isSpace(b.charCodeAt(R));)R++;else ra+=b.charAt(R),R++;return new n(ra)},translate:function(b,R,ba,ra){if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var oa=R.evaluate(b).stringValue(),Da=ba.evaluate(b).stringValue(),Fa=ra.evaluate(b).stringValue(),Oa=Ba(function(Pa,ab,fb){ab in
Pa||(Pa[ab]=fb>Fa.length?"":Fa[fb]);return Pa},{},Da);oa=Sa("",Ha(function(Pa){return Pa in Oa?Oa[Pa]:Pa},oa));return new n(oa)},boolean_:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(b).bool()},not:function(b,R){if(2!=arguments.length)throw Error("Function not expects (object)");return R.evaluate(b).bool().not()},true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return D.true_},false_:function(){if(1!=
arguments.length)throw Error("Function false expects ()");return D.false_},lang:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var R,ba=b.contextNode;null!=ba&&9!=ba.nodeType;ba=ba.parentNode){var ra=ba.getAttributeNS(k.XML_NAMESPACE_URI,"lang");if(null!=ra){R=String(ra);break}}if(null==R)return D.false_;b=arguments[1].evaluate(b).stringValue();return new D(R.substring(0,b.length)==b&&(R.length==b.length||"-"==R.charAt(b.length)))},number:function(){var b=
arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");return 1==arguments.length?new v(O.prototype.stringForNode(b.contextNode)):arguments[1].evaluate(b).number()},sum:function(){var b=arguments[0],R;if(2!=arguments.length||!fa.instance_of(R=arguments[1].evaluate(b),O))throw Error("Function sum expects (node-set)");R=R.toUnsortedArray();for(var ba=b=0;ba<R.length;ba++)b+=(new v(O.prototype.stringForNode(R[ba]))).numberValue();return new v(b)},floor:function(){var b=
arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new v(Math.floor(arguments[1].evaluate(b).numberValue()))},ceiling:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new v(Math.ceil(arguments[1].evaluate(b).numberValue()))},round:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new v(Math.round(arguments[1].evaluate(b).numberValue()))}},fa={isAttribute:function(b){return b&&
(2===b.nodeType||b.ownerElement)},splitQName:function(b){var R=b.indexOf(":");return-1==R?[null,b]:[b.substring(0,R),b.substring(R+1)]},resolveQName:function(b,R,ba,ra){b=fa.splitQName(b);null!=b[0]?b[0]=R.getNamespace(b[0],ba):ra?(b[0]=R.getNamespace("",ba),null==b[0]&&(b[0]="")):b[0]="";return b},isSpace:function(b){return 9==b||13==b||10==b||32==b},isLetter:function(b){return 65<=b&&90>=b||97<=b&&122>=b||192<=b&&214>=b||216<=b&&246>=b||248<=b&&255>=b||256<=b&&305>=b||308<=b&&318>=b||321<=b&&328>=
b||330<=b&&382>=b||384<=b&&451>=b||461<=b&&496>=b||500<=b&&501>=b||506<=b&&535>=b||592<=b&&680>=b||699<=b&&705>=b||902==b||904<=b&&906>=b||908==b||910<=b&&929>=b||931<=b&&974>=b||976<=b&&982>=b||986==b||988==b||990==b||992==b||994<=b&&1011>=b||1025<=b&&1036>=b||1038<=b&&1103>=b||1105<=b&&1116>=b||1118<=b&&1153>=b||1168<=b&&1220>=b||1223<=b&&1224>=b||1227<=b&&1228>=b||1232<=b&&1259>=b||1262<=b&&1269>=b||1272<=b&&1273>=b||1329<=b&&1366>=b||1369==b||1377<=b&&1414>=b||1488<=b&&1514>=b||1520<=b&&1522>=
b||1569<=b&&1594>=b||1601<=b&&1610>=b||1649<=b&&1719>=b||1722<=b&&1726>=b||1728<=b&&1742>=b||1744<=b&&1747>=b||1749==b||1765<=b&&1766>=b||2309<=b&&2361>=b||2365==b||2392<=b&&2401>=b||2437<=b&&2444>=b||2447<=b&&2448>=b||2451<=b&&2472>=b||2474<=b&&2480>=b||2482==b||2486<=b&&2489>=b||2524<=b&&2525>=b||2527<=b&&2529>=b||2544<=b&&2545>=b||2565<=b&&2570>=b||2575<=b&&2576>=b||2579<=b&&2600>=b||2602<=b&&2608>=b||2610<=b&&2611>=b||2613<=b&&2614>=b||2616<=b&&2617>=b||2649<=b&&2652>=b||2654==b||2674<=b&&2676>=
b||2693<=b&&2699>=b||2701==b||2703<=b&&2705>=b||2707<=b&&2728>=b||2730<=b&&2736>=b||2738<=b&&2739>=b||2741<=b&&2745>=b||2749==b||2784==b||2821<=b&&2828>=b||2831<=b&&2832>=b||2835<=b&&2856>=b||2858<=b&&2864>=b||2866<=b&&2867>=b||2870<=b&&2873>=b||2877==b||2908<=b&&2909>=b||2911<=b&&2913>=b||2949<=b&&2954>=b||2958<=b&&2960>=b||2962<=b&&2965>=b||2969<=b&&2970>=b||2972==b||2974<=b&&2975>=b||2979<=b&&2980>=b||2984<=b&&2986>=b||2990<=b&&2997>=b||2999<=b&&3001>=b||3077<=b&&3084>=b||3086<=b&&3088>=b||3090<=
b&&3112>=b||3114<=b&&3123>=b||3125<=b&&3129>=b||3168<=b&&3169>=b||3205<=b&&3212>=b||3214<=b&&3216>=b||3218<=b&&3240>=b||3242<=b&&3251>=b||3253<=b&&3257>=b||3294==b||3296<=b&&3297>=b||3333<=b&&3340>=b||3342<=b&&3344>=b||3346<=b&&3368>=b||3370<=b&&3385>=b||3424<=b&&3425>=b||3585<=b&&3630>=b||3632==b||3634<=b&&3635>=b||3648<=b&&3653>=b||3713<=b&&3714>=b||3716==b||3719<=b&&3720>=b||3722==b||3725==b||3732<=b&&3735>=b||3737<=b&&3743>=b||3745<=b&&3747>=b||3749==b||3751==b||3754<=b&&3755>=b||3757<=b&&3758>=
b||3760==b||3762<=b&&3763>=b||3773==b||3776<=b&&3780>=b||3904<=b&&3911>=b||3913<=b&&3945>=b||4256<=b&&4293>=b||4304<=b&&4342>=b||4352==b||4354<=b&&4355>=b||4357<=b&&4359>=b||4361==b||4363<=b&&4364>=b||4366<=b&&4370>=b||4412==b||4414==b||4416==b||4428==b||4430==b||4432==b||4436<=b&&4437>=b||4441==b||4447<=b&&4449>=b||4451==b||4453==b||4455==b||4457==b||4461<=b&&4462>=b||4466<=b&&4467>=b||4469==b||4510==b||4520==b||4523==b||4526<=b&&4527>=b||4535<=b&&4536>=b||4538==b||4540<=b&&4546>=b||4587==b||4592==
b||4601==b||7680<=b&&7835>=b||7840<=b&&7929>=b||7936<=b&&7957>=b||7960<=b&&7965>=b||7968<=b&&8005>=b||8008<=b&&8013>=b||8016<=b&&8023>=b||8025==b||8027==b||8029==b||8031<=b&&8061>=b||8064<=b&&8116>=b||8118<=b&&8124>=b||8126==b||8130<=b&&8132>=b||8134<=b&&8140>=b||8144<=b&&8147>=b||8150<=b&&8155>=b||8160<=b&&8172>=b||8178<=b&&8180>=b||8182<=b&&8188>=b||8486==b||8490<=b&&8491>=b||8494==b||8576<=b&&8578>=b||12353<=b&&12436>=b||12449<=b&&12538>=b||12549<=b&&12588>=b||44032<=b&&55203>=b||19968<=b&&40869>=
b||12295==b||12321<=b&&12329>=b},isNCNameChar:function(b){return 48<=b&&57>=b||1632<=b&&1641>=b||1776<=b&&1785>=b||2406<=b&&2415>=b||2534<=b&&2543>=b||2662<=b&&2671>=b||2790<=b&&2799>=b||2918<=b&&2927>=b||3047<=b&&3055>=b||3174<=b&&3183>=b||3302<=b&&3311>=b||3430<=b&&3439>=b||3664<=b&&3673>=b||3792<=b&&3801>=b||3872<=b&&3881>=b||46==b||45==b||95==b||fa.isLetter(b)||768<=b&&837>=b||864<=b&&865>=b||1155<=b&&1158>=b||1425<=b&&1441>=b||1443<=b&&1465>=b||1467<=b&&1469>=b||1471==b||1473<=b&&1474>=b||1476==
b||1611<=b&&1618>=b||1648==b||1750<=b&&1756>=b||1757<=b&&1759>=b||1760<=b&&1764>=b||1767<=b&&1768>=b||1770<=b&&1773>=b||2305<=b&&2307>=b||2364==b||2366<=b&&2380>=b||2381==b||2385<=b&&2388>=b||2402<=b&&2403>=b||2433<=b&&2435>=b||2492==b||2494==b||2495==b||2496<=b&&2500>=b||2503<=b&&2504>=b||2507<=b&&2509>=b||2519==b||2530<=b&&2531>=b||2562==b||2620==b||2622==b||2623==b||2624<=b&&2626>=b||2631<=b&&2632>=b||2635<=b&&2637>=b||2672<=b&&2673>=b||2689<=b&&2691>=b||2748==b||2750<=b&&2757>=b||2759<=b&&2761>=
b||2763<=b&&2765>=b||2817<=b&&2819>=b||2876==b||2878<=b&&2883>=b||2887<=b&&2888>=b||2891<=b&&2893>=b||2902<=b&&2903>=b||2946<=b&&2947>=b||3006<=b&&3010>=b||3014<=b&&3016>=b||3018<=b&&3021>=b||3031==b||3073<=b&&3075>=b||3134<=b&&3140>=b||3142<=b&&3144>=b||3146<=b&&3149>=b||3157<=b&&3158>=b||3202<=b&&3203>=b||3262<=b&&3268>=b||3270<=b&&3272>=b||3274<=b&&3277>=b||3285<=b&&3286>=b||3330<=b&&3331>=b||3390<=b&&3395>=b||3398<=b&&3400>=b||3402<=b&&3405>=b||3415==b||3633==b||3636<=b&&3642>=b||3655<=b&&3662>=
b||3761==b||3764<=b&&3769>=b||3771<=b&&3772>=b||3784<=b&&3789>=b||3864<=b&&3865>=b||3893==b||3895==b||3897==b||3902==b||3903==b||3953<=b&&3972>=b||3974<=b&&3979>=b||3984<=b&&3989>=b||3991==b||3993<=b&&4013>=b||4017<=b&&4023>=b||4025==b||8400<=b&&8412>=b||8417==b||12330<=b&&12335>=b||12441==b||12442==b||183==b||720==b||721==b||903==b||1600==b||3654==b||3782==b||12293==b||12337<=b&&12341>=b||12445<=b&&12446>=b||12540<=b&&12542>=b},coalesceText:function(b){for(b=b.firstChild;null!=b;b=b.nextSibling)if(3==
b.nodeType||4==b.nodeType){var R=b.nodeValue,ba=b;for(b=b.nextSibling;null!=b&&(3==b.nodeType||4==b.nodeType);){R+=b.nodeValue;var ra=b;b=b.nextSibling;ra.parentNode.removeChild(ra)}if(4==ba.nodeType)if(ra=ba.parentNode,null==ba.nextSibling)ra.removeChild(ba),ra.appendChild(ra.ownerDocument.createTextNode(R));else{var oa=ba.nextSibling;ra.removeChild(ba);ra.insertBefore(ra.ownerDocument.createTextNode(R),oa)}else ba.nodeValue=R;if(null==b)break}else 1==b.nodeType&&fa.coalesceText(b)},instance_of:function(b,
R){for(;null!=b;){if(b.constructor===R)return!0;if(b===Object)break;b=b.constructor.superclass}return!1},getElementById:function(b,R){if(1==b.nodeType&&(b.getAttribute("id")==R||b.getAttributeNS(null,"id")==R))return b;for(b=b.firstChild;null!=b;b=b.nextSibling){var ba=fa.getElementById(b,R);if(null!=ba)return ba}return null}},wa=function(){function b(R,ba,ra){var oa=Error,Da=oa.call;a:{var Fa=ba?": "+ba.toString():"";switch(R){case b.INVALID_EXPRESSION_ERR:Fa="Invalid expression"+Fa;break a;case b.TYPE_ERR:Fa=
"Type error"+Fa;break a}Fa=null}ra=Da.call(oa,this,Fa||ra);ra.code=R;ra.exception=ba;return ra}b.prototype=Object.create(Error.prototype);b.prototype.constructor=b;b.superclass=Error;b.prototype.toString=function(){return this.message};b.fromMessage=function(R,ba){return new b(null,ba,R)};b.INVALID_EXPRESSION_ERR=51;b.TYPE_ERR=52;return b}();ta.prototype={};ta.prototype.constructor=ta;ta.superclass=Object.prototype;ta.getOwnerDocument=function(b){return 9===b.nodeType?b:b.ownerDocument};ta.detectHtmlDom=
function(b){if(!b)return!1;b=ta.getOwnerDocument(b);try{return b.implementation.hasFeature("HTML","2.0")}catch(R){return!0}};ta.prototype.evaluate=function(b,R,ba){this.context.expressionContextNode=b;this.context.caseInsensitive=ta.detectHtmlDom(b);b=this.xpath.evaluate(this.context);return new ka(b,R)};c.prototype={};c.prototype.constructor=c;c.superclass=Object.prototype;c.prototype.getNamespace=function(b,R){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(b)};X.prototype=
{};X.prototype.constructor=X;X.superclass=Object.prototype;X.prototype.lookupNamespaceURI=function(b){return this.namespaceResolver.getNamespace(b,this.node)};ka.prototype={};ka.prototype.constructor=ka;ka.superclass=Object.prototype;ka.prototype.iterateNext=function(){if(this.resultType!=ka.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=ka.ORDERED_NODE_ITERATOR_TYPE)throw new wa(wa.TYPE_ERR);return this.nodes[this.iteratorIndex++]};ka.prototype.snapshotItem=function(b){if(this.resultType!=ka.UNORDERED_NODE_SNAPSHOT_TYPE&&
this.resultType!=ka.ORDERED_NODE_SNAPSHOT_TYPE)throw new wa(wa.TYPE_ERR);return this.nodes[b]};ka.ANY_TYPE=0;ka.NUMBER_TYPE=1;ka.STRING_TYPE=2;ka.BOOLEAN_TYPE=3;ka.UNORDERED_NODE_ITERATOR_TYPE=4;ka.ORDERED_NODE_ITERATOR_TYPE=5;ka.UNORDERED_NODE_SNAPSHOT_TYPE=6;ka.ORDERED_NODE_SNAPSHOT_TYPE=7;ka.ANY_UNORDERED_NODE_TYPE=8;ka.FIRST_ORDERED_NODE_TYPE=9;try{var ya=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(ya=!1)}catch(b){}ya&&
ja(document,new f)}catch(b){}ja(u,new f);(function(){function b(Na){return{getNamespace:function(Za,bb){return Na(Za,bb)||ab.getNamespace(Za,bb)}}}function R(Na){return b(function(Za){return Na[Za]})}function ba(Na){if(null===Na||"undefined"===typeof Na||Na instanceof n||Na instanceof D||Na instanceof v||Na instanceof O)return Na;switch(typeof Na){case "string":return new n(Na);case "boolean":return new D(Na);case "number":return new v(Na)}var Za=new O;Za.addArray([].concat(Na));return Za}function ra(Na){return function(Za){var bb=
Array.prototype.slice.call(arguments,1).map(function($a){return $a.evaluate(Za)});bb=Na.apply(this,[].concat(Za,bb));return ba(bb)}}function oa(Na){return{getFunction:function(Za,bb){var $a=Na(Za,bb);return $a?ra($a):fb.getFunction(Za,bb)}}}function Da(Na){return oa(function(Za){return Na[Za]})}function Fa(Na){return{getVariable:function(Za,bb){Za=Na(Za,bb);return ba(Za)}}}function Oa(Na){if(Na){if("function"===typeof Na.getVariable)return Fa(Na.getVariable.bind(Na));if("function"===typeof Na)return Fa(Na);
if("object"===typeof Na)return Fa(function(Za){return Na[Za]})}return mb}var Pa=new f,ab=new za,fb=new ua,mb=new xa,rb={evaluate:function(Na){var Za=this.expression,bb=new pa;if(Na){var $a=($a=Na.namespaces)&&"function"===typeof $a.getNamespace?b($a.getNamespace.bind($a)):"function"===typeof $a?b($a):"object"===typeof $a?R($a):ab;bb.namespaceResolver=$a;$a=($a=Na.functions)&&"function"===typeof $a.getFunction?oa($a.getFunction.bind($a)):"function"===typeof $a?oa($a):"object"===typeof $a?Da($a):fb;
bb.functionResolver=$a;bb.variableResolver=Oa(Na.variables);bb.expressionContextNode=Na.node;"allowAnyNamespaceForNoPrefix"in Na&&(bb.allowAnyNamespaceForNoPrefix=Na.allowAnyNamespaceForNoPrefix);"isHtml"in Na&&(bb.isHtml=Na.isHtml)}else bb.namespaceResolver=ab;return Za.evaluate(bb)},evaluateNumber:function(Na){return this.evaluate(Na).numberValue()},evaluateString:function(Na){return this.evaluate(Na).stringValue()},evaluateBoolean:function(Na){return this.evaluate(Na).booleanValue()},evaluateNodeSet:function(Na){return this.evaluate(Na).nodeset()},
select:function(Na){return this.evaluateNodeSet(Na).toArray()},select1:function(Na){return this.select(Na)[0]}};u.parse=function(Na){Na=Pa.parse(Na);return Object.create(rb,{expression:{value:Na}})}})();q(u,{XPath:k,XPathParser:f,XPathResult:ka,Step:ea,PathExpr:M,NodeTest:ia,LocationPath:ca,OrOperation:W,AndOperation:F,BarOperation:G,EqualsOperation:H,NotEqualOperation:x,LessThanOperation:z,GreaterThanOperation:m,LessThanOrEqualOperation:P,GreaterThanOrEqualOperation:l,PlusOperation:e,MinusOperation:w,
MultiplyOperation:J,DivOperation:h,ModOperation:y,UnaryMinusOperation:t,FunctionCall:r,VariableReference:na,XPathContext:pa,XNodeSet:O,XBoolean:D,XString:n,XNumber:v,NamespaceResolver:za,FunctionResolver:ua,VariableResolver:xa,Utilities:fa});u.select=function(b,R,ba){return u.selectWithResolver(b,R,null,ba)};u.useNamespaces=function(b){var R={mappings:b||{},lookupNamespaceURI:function(ba){return this.mappings[ba]}};return function(ba,ra,oa){return u.selectWithResolver(ba,ra,R,oa)}};u.selectWithResolver=
function(b,R,ba,ra){b=(new ta(b,ba,new f)).evaluate(R,ka.ANY_TYPE,null);b.resultType==ka.STRING_TYPE?b=b.stringValue:b.resultType==ka.NUMBER_TYPE?b=b.numberValue:b.resultType==ka.BOOLEAN_TYPE?b=b.booleanValue:(b=b.nodes,ra&&(b=b[0]));return b};u.select1=function(b,R){return u.select(b,R,!0)}})(E)},function(Q,E,C){function u(f,k){"string"===typeof f&&(f=q.util.createBuffer(f));if(q.util.isArray(f)&&4<f.length){var d=f;f=q.util.createBuffer();for(var g=0;g<d.length;++g)f.putByte(d[g])}if(f.length()<
k)throw Error("Invalid IV length; got "+f.length()+" bytes and expected "+k+" bytes.");if(!q.util.isArray(f)){d=[];k/=4;for(g=0;g<k;++g)d.push(f.getInt32());f=d}return f}function I(f){f[f.length-1]=f[f.length-1]+1&4294967295}function V(f){return[f/4294967296|0,f&4294967295]}var q=C(5);C(7);q.cipher=q.cipher||{};Q=Q.exports=q.cipher.modes=q.cipher.modes||{};Q.ecb=function(f){f=f||{};this.name="ECB";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);
this._outBlock=Array(this._ints)};Q.ecb.prototype.start=function(f){};Q.ecb.prototype.encrypt=function(f,k,d){if(f.length()<this.blockSize&&!(d&&0<f.length()))return!0;for(d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(d=0;d<this._ints;++d)k.putInt32(this._outBlock[d])};Q.ecb.prototype.decrypt=function(f,k,d){if(f.length()<this.blockSize&&!(d&&0<f.length()))return!0;for(d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.decrypt(this._inBlock,
this._outBlock);for(d=0;d<this._ints;++d)k.putInt32(this._outBlock[d])};Q.ecb.prototype.pad=function(f,k){k=f.length()===this.blockSize?this.blockSize:this.blockSize-f.length();f.fillWithByte(k,k);return!0};Q.ecb.prototype.unpad=function(f,k){if(0<k.overflow)return!1;k=f.length();k=f.at(k-1);if(k>this.blockSize<<2)return!1;f.truncate(k);return!0};Q.cbc=function(f){f=f||{};this.name="CBC";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);
this._outBlock=Array(this._ints)};Q.cbc.prototype.start=function(f){if(null===f.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in f)this._iv=u(f.iv,this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.");};Q.cbc.prototype.encrypt=function(f,k,d){if(f.length()<this.blockSize&&!(d&&0<f.length()))return!0;for(d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^f.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);
for(d=0;d<this._ints;++d)k.putInt32(this._outBlock[d]);this._prev=this._outBlock};Q.cbc.prototype.decrypt=function(f,k,d){if(f.length()<this.blockSize&&!(d&&0<f.length()))return!0;for(d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(d=0;d<this._ints;++d)k.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)};Q.cbc.prototype.pad=function(f,k){k=f.length()===this.blockSize?this.blockSize:this.blockSize-f.length();f.fillWithByte(k,
k);return!0};Q.cbc.prototype.unpad=function(f,k){if(0<k.overflow)return!1;k=f.length();k=f.at(k-1);if(k>this.blockSize<<2)return!1;f.truncate(k);return!0};Q.cfb=function(f){f=f||{};this.name="CFB";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialBlock=Array(this._ints);this._partialOutput=q.util.createBuffer();this._partialBytes=0};Q.cfb.prototype.start=function(f){if(!("iv"in f))throw Error("Invalid IV parameter.");
this._iv=u(f.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};Q.cfb.prototype.encrypt=function(f,k,d){var g=f.length();if(0===g)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&g>=this.blockSize)for(var t=0;t<this._ints;++t)this._inBlock[t]=f.getInt32()^this._outBlock[t],k.putInt32(this._inBlock[t]);else{var A=(this.blockSize-g)%this.blockSize;0<A&&(A=this.blockSize-A);this._partialOutput.clear();for(t=0;t<this._ints;++t)this._partialBlock[t]=
f.getInt32()^this._outBlock[t],this._partialOutput.putInt32(this._partialBlock[t]);if(0<A)f.read-=this.blockSize;else for(t=0;t<this._ints;++t)this._inBlock[t]=this._partialBlock[t];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<A&&!d)return k.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=A,!0;k.putBytes(this._partialOutput.getBytes(g-this._partialBytes));this._partialBytes=0}};Q.cfb.prototype.decrypt=function(f,k,d){var g=f.length();
if(0===g)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&g>=this.blockSize)for(var t=0;t<this._ints;++t)this._inBlock[t]=f.getInt32(),k.putInt32(this._inBlock[t]^this._outBlock[t]);else{var A=(this.blockSize-g)%this.blockSize;0<A&&(A=this.blockSize-A);this._partialOutput.clear();for(t=0;t<this._ints;++t)this._partialBlock[t]=f.getInt32(),this._partialOutput.putInt32(this._partialBlock[t]^this._outBlock[t]);if(0<A)f.read-=this.blockSize;else for(t=0;t<this._ints;++t)this._inBlock[t]=
this._partialBlock[t];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<A&&!d)return k.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=A,!0;k.putBytes(this._partialOutput.getBytes(g-this._partialBytes));this._partialBytes=0}};Q.ofb=function(f){f=f||{};this.name="OFB";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=q.util.createBuffer();this._partialBytes=
0};Q.ofb.prototype.start=function(f){if(!("iv"in f))throw Error("Invalid IV parameter.");this._iv=u(f.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};Q.ofb.prototype.encrypt=function(f,k,d){var g=f.length();if(0===f.length())return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&g>=this.blockSize)for(var t=0;t<this._ints;++t)k.putInt32(f.getInt32()^this._outBlock[t]),this._inBlock[t]=this._outBlock[t];else{var A=(this.blockSize-g)%this.blockSize;
0<A&&(A=this.blockSize-A);this._partialOutput.clear();for(t=0;t<this._ints;++t)this._partialOutput.putInt32(f.getInt32()^this._outBlock[t]);if(0<A)f.read-=this.blockSize;else for(t=0;t<this._ints;++t)this._inBlock[t]=this._outBlock[t];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<A&&!d)return k.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=A,!0;k.putBytes(this._partialOutput.getBytes(g-this._partialBytes));this._partialBytes=0}};Q.ofb.prototype.decrypt=
Q.ofb.prototype.encrypt;Q.ctr=function(f){f=f||{};this.name="CTR";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=q.util.createBuffer();this._partialBytes=0};Q.ctr.prototype.start=function(f){if(!("iv"in f))throw Error("Invalid IV parameter.");this._iv=u(f.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};Q.ctr.prototype.encrypt=function(f,k,d){var g=f.length();if(0===g)return!0;
this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&g>=this.blockSize)for(var t=0;t<this._ints;++t)k.putInt32(f.getInt32()^this._outBlock[t]);else{var A=(this.blockSize-g)%this.blockSize;0<A&&(A=this.blockSize-A);this._partialOutput.clear();for(t=0;t<this._ints;++t)this._partialOutput.putInt32(f.getInt32()^this._outBlock[t]);0<A&&(f.read-=this.blockSize);0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<A&&!d)return k.putBytes(this._partialOutput.getBytes(A-
this._partialBytes)),this._partialBytes=A,!0;k.putBytes(this._partialOutput.getBytes(g-this._partialBytes));this._partialBytes=0}I(this._inBlock)};Q.ctr.prototype.decrypt=Q.ctr.prototype.encrypt;Q.gcm=function(f){f=f||{};this.name="GCM";this.cipher=f.cipher;this.blockSize=f.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints);this._partialOutput=q.util.createBuffer();this._partialBytes=0;this._R=3774873600};Q.gcm.prototype.start=function(f){if(!("iv"in
f))throw Error("Invalid IV parameter.");var k=q.util.createBuffer(f.iv);this._cipherLength=0;var d="additionalData"in f?q.util.createBuffer(f.additionalData):q.util.createBuffer();this._tagLength="tagLength"in f?f.tagLength:128;this._tag=null;if(f.decrypt&&(this._tag=q.util.createBuffer(f.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");this._hashBlock=Array(this._ints);this.tag=null;this._hashSubkey=Array(this._ints);this.cipher.encrypt([0,
0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);f=k.length();if(12===f)this._j0=[k.getInt32(),k.getInt32(),k.getInt32(),1];else{for(this._j0=[0,0,0,0];0<k.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[k.getInt32(),k.getInt32(),k.getInt32(),k.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(V(8*f)))}this._inBlock=this._j0.slice(0);I(this._inBlock);this._partialBytes=0;d=q.util.createBuffer(d);this._aDataLength=
V(8*d.length());(k=d.length()%this.blockSize)&&d.fillWithByte(0,this.blockSize-k);for(this._s=[0,0,0,0];0<d.length();)this._s=this.ghash(this._hashSubkey,this._s,[d.getInt32(),d.getInt32(),d.getInt32(),d.getInt32()])};Q.gcm.prototype.encrypt=function(f,k,d){var g=f.length();if(0===g)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&g>=this.blockSize){for(var t=0;t<this._ints;++t)k.putInt32(this._outBlock[t]^=f.getInt32());this._cipherLength+=this.blockSize}else{var A=
(this.blockSize-g)%this.blockSize;0<A&&(A=this.blockSize-A);this._partialOutput.clear();for(t=0;t<this._ints;++t)this._partialOutput.putInt32(f.getInt32()^this._outBlock[t]);if(0>=A||d){d?(t=g%this.blockSize,this._cipherLength+=t,this._partialOutput.truncate(this.blockSize-t)):this._cipherLength+=this.blockSize;for(t=0;t<this._ints;++t)this._outBlock[t]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<
A&&!d)return f.read-=this.blockSize,k.putBytes(this._partialOutput.getBytes(A-this._partialBytes)),this._partialBytes=A,!0;k.putBytes(this._partialOutput.getBytes(g-this._partialBytes));this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);I(this._inBlock)};Q.gcm.prototype.decrypt=function(f,k,d){var g=f.length();if(g<this.blockSize&&!(d&&0<g))return!0;this.cipher.encrypt(this._inBlock,this._outBlock);I(this._inBlock);this._hashBlock[0]=f.getInt32();this._hashBlock[1]=f.getInt32();
this._hashBlock[2]=f.getInt32();this._hashBlock[3]=f.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(f=0;f<this._ints;++f)k.putInt32(this._outBlock[f]^this._hashBlock[f]);this._cipherLength=g<this.blockSize?this._cipherLength+g%this.blockSize:this._cipherLength+this.blockSize};Q.gcm.prototype.afterFinish=function(f,k){var d=!0;k.decrypt&&k.overflow&&f.truncate(this.blockSize-k.overflow);this.tag=q.util.createBuffer();f=this._aDataLength.concat(V(8*this._cipherLength));
this._s=this.ghash(this._hashSubkey,this._s,f);f=[];this.cipher.encrypt(this._j0,f);for(var g=0;g<this._ints;++g)this.tag.putInt32(this._s[g]^f[g]);this.tag.truncate(this.tag.length()%(this._tagLength/8));k.decrypt&&this.tag.bytes()!==this._tag&&(d=!1);return d};Q.gcm.prototype.multiply=function(f,k){var d=[0,0,0,0];k=k.slice(0);for(var g=0;128>g;++g)f[g/32|0]&1<<31-g%32&&(d[0]^=k[0],d[1]^=k[1],d[2]^=k[2],d[3]^=k[3]),this.pow(k,k);return d};Q.gcm.prototype.pow=function(f,k){for(var d=f[3]&1,g=3;0<
g;--g)k[g]=f[g]>>>1|(f[g-1]&1)<<31;k[0]=f[0]>>>1;d&&(k[0]^=this._R)};Q.gcm.prototype.tableMultiply=function(f){for(var k=[0,0,0,0],d=0;32>d;++d){var g=this._m[d][f[d/8|0]>>>4*(7-d%8)&15];k[0]^=g[0];k[1]^=g[1];k[2]^=g[2];k[3]^=g[3]}return k};Q.gcm.prototype.ghash=function(f,k,d){k[0]^=d[0];k[1]^=d[1];k[2]^=d[2];k[3]^=d[3];return this.tableMultiply(k)};Q.gcm.prototype.generateHashTable=function(f,k){var d=8/k,g=4*d;d*=16;for(var t=Array(d),A=0;A<d;++A){var W=[0,0,0,0];W[A/g|0]=1<<k-1<<(g-1-A%g)*k;t[A]=
this.generateSubHashTable(this.multiply(W,f),k)}return t};Q.gcm.prototype.generateSubHashTable=function(f,k){k=1<<k;var d=k>>>1,g=Array(k);g[d]=f.slice(0);for(var t=d>>>1;0<t;)this.pow(g[2*t],g[t]=[]),t>>=1;for(t=2;t<d;){for(var A=1;A<t;++A){var W=g[t],F=g[A];g[t+A]=[W[0]^F[0],W[1]^F[1],W[2]^F[2],W[3]^F[3]]}t*=2}g[0]=[0,0,0,0];for(t=d+1;t<k;++t)A=g[t^d],g[t]=[f[0]^A[0],f[1]^A[1],f[2]^A[2],f[3]^A[3]];return g}},function(Q,E,C){var u=C(5);C(15);C(25);C(38);C(21);C(50);C(13);C(26);C(7);var I=function(r,
n,v,D){var U=u.util.createBuffer(),N=r.length>>1,O=N+(r.length&1),K=r.substr(0,O);O=r.substr(N,O);r=u.util.createBuffer();N=u.hmac.create();v=n+v;var pa=Math.ceil(D/16);n=Math.ceil(D/20);N.start("MD5",K);K=u.util.createBuffer();r.putBytes(v);for(var xa=0;xa<pa;++xa)N.start(null,null),N.update(r.getBytes()),r.putBuffer(N.digest()),N.start(null,null),N.update(r.bytes()+v),K.putBuffer(N.digest());N.start("SHA1",O);O=u.util.createBuffer();r.clear();r.putBytes(v);for(xa=0;xa<n;++xa)N.start(null,null),
N.update(r.getBytes()),r.putBuffer(N.digest()),N.start(null,null),N.update(r.bytes()+v),O.putBuffer(N.digest());U.putBytes(u.util.xorBytes(K.getBytes(),O.getBytes(),D));return U},V=function(r,n,v){v=!1;try{var D=r.deflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(D);n.length=D.length;v=!0}catch(U){}return v},q=function(r,n,v){v=!1;try{var D=r.inflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(D);n.length=D.length;v=!0}catch(U){}return v},f=function(r,n){var v=0;switch(n){case 1:v=
r.getByte();break;case 2:v=r.getInt16();break;case 3:v=r.getInt24();break;case 4:v=r.getInt32()}return u.util.createBuffer(r.getBytes(v))},k=function(r,n,v){r.putInt(v.length(),n<<3);r.putBuffer(v)},d={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};d.SupportedVersions=[d.Versions.TLS_1_1,d.Versions.TLS_1_0];d.Version=d.SupportedVersions[0];d.MaxFragment=15360;d.ConnectionEnd={server:0,client:1};d.PRFAlgorithm={tls_prf_sha256:0};d.BulkCipherAlgorithm={none:null,
rc4:0,des3:1,aes:2};d.CipherType={stream:0,block:1,aead:2};d.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};d.CompressionMethod={none:0,deflate:1};d.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};d.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};d.Alert={};d.Alert.Level=
{warning:1,fatal:2};d.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};
d.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};d.CipherSuites={};d.getCipherSuite=function(r){var n=null,v;for(v in d.CipherSuites){var D=d.CipherSuites[v];if(D.id[0]===r.charCodeAt(0)&&D.id[1]===r.charCodeAt(1)){n=D;break}}return n};d.handleUnexpected=function(r,n){(r.open||r.entity!==d.ConnectionEnd.client)&&r.error(r,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.unexpected_message}})};
d.handleHelloRequest=function(r,n,v){!r.handshaking&&0<r.handshakes&&(d.queue(r,d.createAlert(r,{level:d.Alert.Level.warning,description:d.Alert.Description.no_renegotiation})),d.flush(r));r.process()};d.parseHelloMessage=function(r,n,v){var D=null,U=r.entity===d.ConnectionEnd.client;if(38>v)r.error(r,{message:U?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});
else{n=n.fragment;var N=n.length();D={version:{major:n.getByte(),minor:n.getByte()},random:u.util.createBuffer(n.getBytes(32)),session_id:f(n,1),extensions:[]};U?(D.cipher_suite=n.getBytes(2),D.compression_method=n.getByte()):(D.cipher_suites=f(n,2),D.compression_methods=f(n,1));N=v-(N-n.length());if(0<N){for(v=f(n,2);0<v.length();)D.extensions.push({type:[v.getByte(),v.getByte()],data:f(v,2)});if(!U)for(v=0;v<D.extensions.length;++v)if(n=D.extensions[v],0===n.type[0]&&0===n.type[1])for(n=f(n.data,
2);0<n.length()&&0===n.getByte();)r.session.extensions.server_name.serverNameList.push(f(n,2).getBytes())}if(r.session.version&&(D.version.major!==r.session.version.major||D.version.minor!==r.session.version.minor))return r.error(r,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.protocol_version}});if(U)r.session.cipherSuite=d.getCipherSuite(D.cipher_suite);else for(v=u.util.createBuffer(D.cipher_suites.bytes());0<
v.length()&&(r.session.cipherSuite=d.getCipherSuite(v.getBytes(2)),null===r.session.cipherSuite););if(null===r.session.cipherSuite)return r.error(r,{message:"No cipher suites in common.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.handshake_failure},cipherSuite:u.util.bytesToHex(D.cipher_suite)});r.session.compressionMethod=U?D.compression_method:d.CompressionMethod.none}return D};d.createSecurityParameters=function(r,n){var v=r.entity===d.ConnectionEnd.client,D=n.random.bytes();
n=v?r.session.sp.client_random:D;v=v?D:d.createRandom().getBytes();r.session.sp={entity:r.entity,prf_algorithm:d.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:r.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:n,server_random:v}};d.handleServerHello=function(r,n,v){n=d.parseHelloMessage(r,
n,v);if(!r.fail){if(n.version.minor<=r.version.minor)r.version.minor=n.version.minor;else return r.error(r,{message:"Incompatible TLS version.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.protocol_version}});r.session.version=r.version;v=n.session_id.bytes();0<v.length&&v===r.session.id?(r.expect=F,r.session.resuming=!0,r.session.sp.server_random=n.random.bytes()):(r.expect=g,r.session.resuming=!1,d.createSecurityParameters(r,n));r.session.id=v;r.process()}};d.handleClientHello=
function(r,n,v){n=d.parseHelloMessage(r,n,v);if(!r.fail){var D=n.session_id.bytes();v=null;if(r.sessionCache)if(v=r.sessionCache.getSession(D),null===v)D="";else if(v.version.major!==n.version.major||v.version.minor>n.version.minor)v=null,D="";0===D.length&&(D=u.random.getBytes(32));r.session.id=D;r.session.clientHelloVersion=n.version;r.session.sp={};if(v)r.version=r.session.version=v.version,r.session.sp=v.sp;else{for(D=1;D<d.SupportedVersions.length;++D){var U=d.SupportedVersions[D];if(U.minor<=
n.version.minor)break}r.version={major:U.major,minor:U.minor};r.session.version=r.version}null!==v?(r.expect=e,r.session.resuming=!0,r.session.sp.client_random=n.random.bytes()):(r.expect=!1!==r.verifyClient?m:P,r.session.resuming=!1,d.createSecurityParameters(r,n));r.open=!0;d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createServerHello(r)}));r.session.resuming?(d.queue(r,d.createRecord(r,{type:d.ContentType.change_cipher_spec,data:d.createChangeCipherSpec()})),r.state.pending=
d.createConnectionState(r),r.state.current.write=r.state.pending.write,d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createFinished(r)}))):(d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createCertificate(r)})),r.fail||(d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createServerKeyExchange(r)})),!1!==r.verifyClient&&d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createCertificateRequest(r)})),d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,
data:d.createServerHelloDone(r)}))));d.flush(r);r.process()}};d.handleCertificate=function(r,n,v){if(3>v)return r.error(r,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});v=f(n.fragment,3);n=[];try{for(;0<v.length();){var D=f(v,3);var U=u.asn1.fromDer(D);D=u.pki.certificateFromAsn1(U,!0);n.push(D)}}catch(N){return r.error(r,{message:"Could not parse certificate list.",cause:N,send:!0,alert:{level:d.Alert.Level.fatal,
description:d.Alert.Description.bad_certificate}})}D=r.entity===d.ConnectionEnd.client;!D&&!0!==r.verifyClient||0!==n.length?0===n.length?r.expect=D?t:P:(D?r.session.serverCertificate=n[0]:r.session.clientCertificate=n[0],d.verifyCertificateChain(r,n)&&(r.expect=D?t:P)):r.error(r,{message:D?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});r.process()};d.handleServerKeyExchange=function(r,
n,v){if(0<v)return r.error(r,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.unsupported_certificate}});r.expect=A;r.process()};d.handleClientKeyExchange=function(r,n,v){if(48>v)return r.error(r,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.unsupported_certificate}});n=f(n.fragment,2).getBytes();v=null;if(r.getPrivateKey)try{v=r.getPrivateKey(r,
r.session.serverCertificate),v=u.pki.privateKeyFromPem(v)}catch(N){r.error(r,{message:"Could not get private key.",cause:N,send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}})}if(null===v)return r.error(r,{message:"No private key set.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}});try{var D=r.session.sp;D.pre_master_secret=v.decrypt(n);var U=r.session.clientHelloVersion;if(U.major!==D.pre_master_secret.charCodeAt(0)||
U.minor!==D.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.");}catch(N){D.pre_master_secret=u.random.getBytes(48)}r.expect=e;null!==r.session.clientCertificate&&(r.expect=l);r.process()};d.handleCertificateRequest=function(r,n,v){if(3>v)return r.error(r,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});n=n.fragment;n={certificate_types:f(n,1),certificate_authorities:f(n,
2)};r.session.certificateRequest=n;r.expect=W;r.process()};d.handleCertificateVerify=function(r,n,v){if(2>v)return r.error(r,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});v=n.fragment;v.read-=4;n=v.bytes();v.read+=4;v=f(v,2).getBytes();var D=u.util.createBuffer();D.putBuffer(r.session.md5.digest());D.putBuffer(r.session.sha1.digest());D=D.getBytes();try{if(!r.session.clientCertificate.publicKey.verify(D,
v,"NONE"))throw Error("CertificateVerify signature does not match.");r.session.md5.update(n);r.session.sha1.update(n)}catch(U){return r.error(r,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.handshake_failure}})}r.expect=e;r.process()};d.handleServerHelloDone=function(r,n,v){if(0<v)return r.error(r,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.record_overflow}});
if(null===r.serverCertificate&&(n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.insufficient_security}},v=r.verify(r,n.alert.description,0,[]),!0!==v)){if(v||0===v)"object"!==typeof v||u.util.isArray(v)?"number"===typeof v&&(n.alert.description=v):(v.message&&(n.message=v.message),v.alert&&(n.alert.description=v.alert));return r.error(r,n)}null!==r.session.certificateRequest&&(n=d.createRecord(r,{type:d.ContentType.handshake,
data:d.createCertificate(r)}),d.queue(r,n));n=d.createRecord(r,{type:d.ContentType.handshake,data:d.createClientKeyExchange(r)});d.queue(r,n);r.expect=z;n=function(D,U){null!==D.session.certificateRequest&&null!==D.session.clientCertificate&&d.queue(D,d.createRecord(D,{type:d.ContentType.handshake,data:d.createCertificateVerify(D,U)}));d.queue(D,d.createRecord(D,{type:d.ContentType.change_cipher_spec,data:d.createChangeCipherSpec()}));D.state.pending=d.createConnectionState(D);D.state.current.write=
D.state.pending.write;d.queue(D,d.createRecord(D,{type:d.ContentType.handshake,data:d.createFinished(D)}));D.expect=F;d.flush(D);D.process()};if(null===r.session.certificateRequest||null===r.session.clientCertificate)return n(r,null);d.getClientSignature(r,n)};d.handleChangeCipherSpec=function(r,n){if(1!==n.fragment.getByte())return r.error(r,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.illegal_parameter}});n=r.entity===
d.ConnectionEnd.client;if(r.session.resuming&&n||!r.session.resuming&&!n)r.state.pending=d.createConnectionState(r);r.state.current.read=r.state.pending.read;if(!r.session.resuming&&n||r.session.resuming&&!n)r.state.pending=null;r.expect=n?H:w;r.process()};d.handleFinished=function(r,n,v){v=n.fragment;v.read-=4;var D=v.bytes();v.read+=4;n=n.fragment.getBytes();v=u.util.createBuffer();v.putBuffer(r.session.md5.digest());v.putBuffer(r.session.sha1.digest());var U=r.entity===d.ConnectionEnd.client;v=
I(r.session.sp.master_secret,U?"server finished":"client finished",v.getBytes(),12);if(v.getBytes()!==n)return r.error(r,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.decrypt_error}});r.session.md5.update(D);r.session.sha1.update(D);if(r.session.resuming&&U||!r.session.resuming&&!U)d.queue(r,d.createRecord(r,{type:d.ContentType.change_cipher_spec,data:d.createChangeCipherSpec()})),r.state.current.write=r.state.pending.write,
r.state.pending=null,d.queue(r,d.createRecord(r,{type:d.ContentType.handshake,data:d.createFinished(r)}));r.expect=U?x:J;r.handshaking=!1;++r.handshakes;r.peerCertificate=U?r.session.serverCertificate:r.session.clientCertificate;d.flush(r);r.isConnected=!0;r.connected(r);r.process()};d.handleAlert=function(r,n){n=n.fragment;n={level:n.getByte(),description:n.getByte()};switch(n.description){case d.Alert.Description.close_notify:var v="Connection closed.";break;case d.Alert.Description.unexpected_message:v=
"Unexpected message.";break;case d.Alert.Description.bad_record_mac:v="Bad record MAC.";break;case d.Alert.Description.decryption_failed:v="Decryption failed.";break;case d.Alert.Description.record_overflow:v="Record overflow.";break;case d.Alert.Description.decompression_failure:v="Decompression failed.";break;case d.Alert.Description.handshake_failure:v="Handshake failure.";break;case d.Alert.Description.bad_certificate:v="Bad certificate.";break;case d.Alert.Description.unsupported_certificate:v=
"Unsupported certificate.";break;case d.Alert.Description.certificate_revoked:v="Certificate revoked.";break;case d.Alert.Description.certificate_expired:v="Certificate expired.";break;case d.Alert.Description.certificate_unknown:v="Certificate unknown.";break;case d.Alert.Description.illegal_parameter:v="Illegal parameter.";break;case d.Alert.Description.unknown_ca:v="Unknown certificate authority.";break;case d.Alert.Description.access_denied:v="Access denied.";break;case d.Alert.Description.decode_error:v=
"Decode error.";break;case d.Alert.Description.decrypt_error:v="Decrypt error.";break;case d.Alert.Description.export_restriction:v="Export restriction.";break;case d.Alert.Description.protocol_version:v="Unsupported protocol version.";break;case d.Alert.Description.insufficient_security:v="Insufficient security.";break;case d.Alert.Description.internal_error:v="Internal error.";break;case d.Alert.Description.user_canceled:v="User canceled.";break;case d.Alert.Description.no_renegotiation:v="Renegotiation not supported.";
break;default:v="Unknown error."}if(n.description===d.Alert.Description.close_notify)return r.close();r.error(r,{message:v,send:!1,origin:r.entity===d.ConnectionEnd.client?"server":"client",alert:n});r.process()};d.handleHandshake=function(r,n){var v=n.fragment,D=v.getByte(),U=v.getInt24();if(U>v.length())return r.fragmented=n,n.fragment=u.util.createBuffer(),v.read-=4,r.process();r.fragmented=null;v.read-=4;var N=v.bytes(U+4);v.read+=4;D in ca[r.entity][r.expect]?(r.entity!==d.ConnectionEnd.server||
r.open||r.fail||(r.handshaking=!0,r.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:u.md.md5.create(),sha1:u.md.sha1.create()}),D!==d.HandshakeType.hello_request&&D!==d.HandshakeType.certificate_verify&&D!==d.HandshakeType.finished&&(r.session.md5.update(N),r.session.sha1.update(N)),ca[r.entity][r.expect][D](r,n,U)):d.handleUnexpected(r,n)};d.handleApplicationData=function(r,n){r.data.putBuffer(n.fragment);
r.dataReady(r);r.process()};d.handleHeartbeat=function(r,n){var v=n.fragment;n=v.getByte();var D=v.getInt16();v=v.getBytes(D);if(n===d.HeartbeatMessageType.heartbeat_request){if(r.handshaking||D>v.length)return r.process();d.queue(r,d.createRecord(r,{type:d.ContentType.heartbeat,data:d.createHeartbeat(d.HeartbeatMessageType.heartbeat_response,v)}));d.flush(r)}else if(n===d.HeartbeatMessageType.heartbeat_response){if(v!==r.expectedHeartbeatPayload)return r.process();r.heartbeatReceived&&r.heartbeatReceived(r,
u.util.createBuffer(v))}r.process()};var g=1,t=2,A=3,W=4,F=5,H=6,x=7,z=8,m=1,P=2,l=3,e=4,w=5,J=6;E=d.handleUnexpected;C=d.handleChangeCipherSpec;var h=d.handleAlert,y=d.handleHandshake,G=d.handleApplicationData,M=d.handleHeartbeat,S=[];S[d.ConnectionEnd.client]=[[E,h,y,E,M],[E,h,y,E,M],[E,h,y,E,M],[E,h,y,E,M],[E,h,y,E,M],[C,h,E,E,M],[E,h,y,E,M],[E,h,y,G,M],[E,h,y,E,M]];S[d.ConnectionEnd.server]=[[E,h,y,E,M],[E,h,y,E,M],[E,h,y,E,M],[E,h,y,E,M],[C,h,E,E,M],[E,h,y,E,M],[E,h,y,G,M],[E,h,y,E,M]];C=d.handleHelloRequest;
h=d.handleCertificate;y=d.handleServerKeyExchange;G=d.handleCertificateRequest;M=d.handleServerHelloDone;var Z=d.handleFinished,ca=[];ca[d.ConnectionEnd.client]=[[E,E,d.handleServerHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,h,y,G,M,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,y,G,M,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,E,G,M,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,E,E,M,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Z],[C,E,E,E,E,E,
E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[C,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]];ca[d.ConnectionEnd.server]=[[E,d.handleClientHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,h,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,d.handleClientKeyExchange,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,d.handleCertificateVerify,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,Z],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,
E,E,E,E,E,E,E,E,E,E]];d.generateKeys=function(r,n){var v=n.client_random+n.server_random;r.session.resuming||(n.master_secret=I(n.pre_master_secret,"master secret",v,48).bytes(),n.pre_master_secret=null);v=n.server_random+n.client_random;var D=2*n.mac_key_length+2*n.enc_key_length;(r=r.version.major===d.Versions.TLS_1_0.major&&r.version.minor===d.Versions.TLS_1_0.minor)&&(D+=2*n.fixed_iv_length);v=I(n.master_secret,"key expansion",v,D);D={client_write_MAC_key:v.getBytes(n.mac_key_length),server_write_MAC_key:v.getBytes(n.mac_key_length),
client_write_key:v.getBytes(n.enc_key_length),server_write_key:v.getBytes(n.enc_key_length)};r&&(D.client_write_IV=v.getBytes(n.fixed_iv_length),D.server_write_IV=v.getBytes(n.fixed_iv_length));return D};d.createConnectionState=function(r){var n=r.entity===d.ConnectionEnd.client,v=function(){var U={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(N){return!0},compressionState:null,compressFunction:function(N){return!0},updateSequenceNumber:function(){4294967295===
U.sequenceNumber[1]?(U.sequenceNumber[1]=0,++U.sequenceNumber[0]):++U.sequenceNumber[1]}};return U},D={read:v(),write:v()};D.read.update=function(U,N){D.read.cipherFunction(N,D.read)?D.read.compressFunction(U,N,D.read)||U.error(U,{message:"Could not decompress record.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.decompression_failure}}):U.error(U,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.bad_record_mac}});
return!U.fail};D.write.update=function(U,N){D.write.compressFunction(U,N,D.write)?D.write.cipherFunction(N,D.write)||U.error(U,{message:"Could not encrypt record.",send:!1,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}}):U.error(U,{message:"Could not compress record.",send:!1,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}});return!U.fail};if(r.session)switch(v=r.session.sp,r.session.cipherSuite.initSecurityParameters(v),v.keys=d.generateKeys(r,
v),D.read.macKey=n?v.keys.server_write_MAC_key:v.keys.client_write_MAC_key,D.write.macKey=n?v.keys.client_write_MAC_key:v.keys.server_write_MAC_key,r.session.cipherSuite.initConnectionState(D,r,v),v.compression_algorithm){case d.CompressionMethod.none:break;case d.CompressionMethod.deflate:D.read.compressFunction=q;D.write.compressFunction=V;break;default:throw Error("Unsupported compression algorithm.");}return D};d.createRandom=function(){var r=new Date;r=+r+6E4*r.getTimezoneOffset();var n=u.util.createBuffer();
n.putInt32(r);n.putBytes(u.random.getBytes(28));return n};d.createRecord=function(r,n){return n.data?{type:n.type,version:{major:r.version.major,minor:r.version.minor},length:n.data.length(),fragment:n.data}:null};d.createAlert=function(r,n){var v=u.util.createBuffer();v.putByte(n.level);v.putByte(n.description);return d.createRecord(r,{type:d.ContentType.alert,data:v})};d.createClientHello=function(r){r.session.clientHelloVersion={major:r.version.major,minor:r.version.minor};for(var n=u.util.createBuffer(),
v=0;v<r.cipherSuites.length;++v){var D=r.cipherSuites[v];n.putByte(D.id[0]);n.putByte(D.id[1])}var U=n.length();v=u.util.createBuffer();v.putByte(d.CompressionMethod.none);var N=v.length();D=u.util.createBuffer();if(r.virtualHost){var O=u.util.createBuffer();O.putByte(0);O.putByte(0);var K=u.util.createBuffer();K.putByte(0);k(K,2,u.util.createBuffer(r.virtualHost));var pa=u.util.createBuffer();k(pa,2,K);k(O,2,pa);D.putBuffer(O)}O=D.length();0<O&&(O+=2);K=r.session.id;U=K.length+1+2+4+28+2+U+1+N+O;
N=u.util.createBuffer();N.putByte(d.HandshakeType.client_hello);N.putInt24(U);N.putByte(r.version.major);N.putByte(r.version.minor);N.putBytes(r.session.sp.client_random);k(N,1,u.util.createBuffer(K));k(N,2,n);k(N,1,v);0<O&&k(N,2,D);return N};d.createServerHello=function(r){var n=r.session.id,v=n.length+1+2+4+28+2+1,D=u.util.createBuffer();D.putByte(d.HandshakeType.server_hello);D.putInt24(v);D.putByte(r.version.major);D.putByte(r.version.minor);D.putBytes(r.session.sp.server_random);k(D,1,u.util.createBuffer(n));
D.putByte(r.session.cipherSuite.id[0]);D.putByte(r.session.cipherSuite.id[1]);D.putByte(r.session.compressionMethod);return D};d.createCertificate=function(r){var n=r.entity===d.ConnectionEnd.client,v=null;r.getCertificate&&(v=r.getCertificate(r,n?r.session.certificateRequest:r.session.extensions.server_name.serverNameList));var D=u.util.createBuffer();if(null!==v)try{u.util.isArray(v)||(v=[v]);for(var U=null,N=0;N<v.length;++N){var O=u.pem.decode(v[N])[0];if("CERTIFICATE"!==O.type&&"X509 CERTIFICATE"!==
O.type&&"TRUSTED CERTIFICATE"!==O.type){var K=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');K.headerType=O.type;throw K;}if(O.procType&&"ENCRYPTED"===O.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");var pa=u.util.createBuffer(O.body);null===U&&(U=u.asn1.fromDer(pa.bytes(),!1));var xa=u.util.createBuffer();k(xa,3,pa);D.putBuffer(xa)}v=u.pki.certificateFromAsn1(U);n?r.session.clientCertificate=
v:r.session.serverCertificate=v}catch(ua){return r.error(r,{message:"Could not send certificate list.",cause:ua,send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.bad_certificate}})}r=3+D.length();n=u.util.createBuffer();n.putByte(d.HandshakeType.certificate);n.putInt24(r);k(n,3,D);return n};d.createClientKeyExchange=function(r){var n=u.util.createBuffer();n.putByte(r.session.clientHelloVersion.major);n.putByte(r.session.clientHelloVersion.minor);n.putBytes(u.random.getBytes(46));
var v=r.session.sp;v.pre_master_secret=n.getBytes();n=r.session.serverCertificate.publicKey.encrypt(v.pre_master_secret);r=n.length+2;v=u.util.createBuffer();v.putByte(d.HandshakeType.client_key_exchange);v.putInt24(r);v.putInt16(n.length);v.putBytes(n);return v};d.createServerKeyExchange=function(r){return u.util.createBuffer()};d.getClientSignature=function(r,n){var v=u.util.createBuffer();v.putBuffer(r.session.md5.digest());v.putBuffer(r.session.sha1.digest());v=v.getBytes();r.getSignature=r.getSignature||
function(D,U,N){var O=null;if(D.getPrivateKey)try{O=D.getPrivateKey(D,D.session.clientCertificate),O=u.pki.privateKeyFromPem(O)}catch(K){D.error(D,{message:"Could not get private key.",cause:K,send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}})}null===O?D.error(D,{message:"No private key set.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.internal_error}}):U=O.sign(U,null);N(D,U)};r.getSignature(r,v,n)};d.createCertificateVerify=function(r,
n){r=n.length+2;var v=u.util.createBuffer();v.putByte(d.HandshakeType.certificate_verify);v.putInt24(r);v.putInt16(n.length);v.putBytes(n);return v};d.createCertificateRequest=function(r){var n=u.util.createBuffer();n.putByte(1);var v=u.util.createBuffer();for(U in r.caStore.certs){var D=u.pki.distinguishedNameToAsn1(r.caStore.certs[U].subject);D=u.asn1.toDer(D);v.putInt16(D.length());v.putBuffer(D)}r=1+n.length()+2+v.length();var U=u.util.createBuffer();U.putByte(d.HandshakeType.certificate_request);
U.putInt24(r);k(U,1,n);k(U,2,v);return U};d.createServerHelloDone=function(r){r=u.util.createBuffer();r.putByte(d.HandshakeType.server_hello_done);r.putInt24(0);return r};d.createChangeCipherSpec=function(){var r=u.util.createBuffer();r.putByte(1);return r};d.createFinished=function(r){var n=u.util.createBuffer();n.putBuffer(r.session.md5.digest());n.putBuffer(r.session.sha1.digest());n=I(r.session.sp.master_secret,r.entity===d.ConnectionEnd.client?"client finished":"server finished",n.getBytes(),
12);r=u.util.createBuffer();r.putByte(d.HandshakeType.finished);r.putInt24(n.length());r.putBuffer(n);return r};d.createHeartbeat=function(r,n,v){"undefined"===typeof v&&(v=n.length);var D=u.util.createBuffer();D.putByte(r);D.putInt16(v);D.putBytes(n);r=D.length();D.putBytes(u.random.getBytes(Math.max(16,r-v-3)));return D};d.queue=function(r,n){if(n&&(0!==n.fragment.length()||n.type!==d.ContentType.handshake&&n.type!==d.ContentType.alert&&n.type!==d.ContentType.change_cipher_spec)){if(n.type===d.ContentType.handshake){var v=
n.fragment.bytes();r.session.md5.update(v);r.session.sha1.update(v)}if(n.fragment.length()<=d.MaxFragment)v=[n];else{v=[];for(var D=n.fragment.bytes();D.length>d.MaxFragment;)v.push(d.createRecord(r,{type:n.type,data:u.util.createBuffer(D.slice(0,d.MaxFragment))})),D=D.slice(d.MaxFragment);0<D.length&&v.push(d.createRecord(r,{type:n.type,data:u.util.createBuffer(D)}))}for(n=0;n<v.length&&!r.fail;++n)D=v[n],r.state.current.write.update(r,D)&&r.records.push(D)}};d.flush=function(r){for(var n=0;n<r.records.length;++n){var v=
r.records[n];r.tlsData.putByte(v.type);r.tlsData.putByte(v.version.major);r.tlsData.putByte(v.version.minor);r.tlsData.putInt16(v.fragment.length());r.tlsData.putBuffer(r.records[n].fragment)}r.records=[];return r.tlsDataReady(r)};var ea=function(r){switch(r){case !0:return!0;case u.pki.certificateError.bad_certificate:return d.Alert.Description.bad_certificate;case u.pki.certificateError.unsupported_certificate:return d.Alert.Description.unsupported_certificate;case u.pki.certificateError.certificate_revoked:return d.Alert.Description.certificate_revoked;
case u.pki.certificateError.certificate_expired:return d.Alert.Description.certificate_expired;case u.pki.certificateError.certificate_unknown:return d.Alert.Description.certificate_unknown;case u.pki.certificateError.unknown_ca:return d.Alert.Description.unknown_ca;default:return d.Alert.Description.bad_certificate}},ia=function(r){switch(r){case !0:return!0;case d.Alert.Description.bad_certificate:return u.pki.certificateError.bad_certificate;case d.Alert.Description.unsupported_certificate:return u.pki.certificateError.unsupported_certificate;
case d.Alert.Description.certificate_revoked:return u.pki.certificateError.certificate_revoked;case d.Alert.Description.certificate_expired:return u.pki.certificateError.certificate_expired;case d.Alert.Description.certificate_unknown:return u.pki.certificateError.certificate_unknown;case d.Alert.Description.unknown_ca:return u.pki.certificateError.unknown_ca;default:return u.pki.certificateError.bad_certificate}};d.verifyCertificateChain=function(r,n){try{var v={},D;for(D in r.verifyOptions)v[D]=
r.verifyOptions[D];v.verify=function(U,N,O){ea(U);N=r.verify(r,U,N,O);if(!0!==N){if("object"===typeof N&&!u.util.isArray(N))throw U=Error("The application rejected the certificate."),U.send=!0,U.alert={level:d.Alert.Level.fatal,description:d.Alert.Description.bad_certificate},N.message&&(U.message=N.message),N.alert&&(U.alert.description=N.alert),U;N!==U&&(N=ia(N))}return N};u.pki.verifyCertificateChain(r.caStore,n,v)}catch(U){n=U;if("object"!==typeof n||u.util.isArray(n))n={send:!0,alert:{level:d.Alert.Level.fatal,
description:ea(U)}};"send"in n||(n.send=!0);"alert"in n||(n.alert={level:d.Alert.Level.fatal,description:ea(n.error)});r.error(r,n)}return!r.fail};d.createSessionCache=function(r,n){var v=null;if(r&&r.getSession&&r.setSession&&r.order)v=r;else{v={};v.cache=r||{};v.capacity=Math.max(n||100,1);v.order=[];for(var D in r)v.order.length<=n?v.order.push(D):delete r[D];v.getSession=function(U){var N=null,O=null;U?O=u.util.bytesToHex(U):0<v.order.length&&(O=v.order[0]);if(null!==O&&O in v.cache){N=v.cache[O];
delete v.cache[O];for(var K in v.order)if(v.order[K]===O){v.order.splice(K,1);break}}return N};v.setSession=function(U,N){if(v.order.length===v.capacity){var O=v.order.shift();delete v.cache[O]}O=u.util.bytesToHex(U);v.order.push(O);v.cache[O]=N}}return v};d.createConnection=function(r){var n=null;n=r.caStore?u.util.isArray(r.caStore)?u.pki.createCaStore(r.caStore):r.caStore:u.pki.createCaStore();var v=r.cipherSuites||null;if(null===v){v=[];for(var D in d.CipherSuites)v.push(d.CipherSuites[D])}D=
r.server?d.ConnectionEnd.server:d.ConnectionEnd.client;var U=r.sessionCache?d.createSessionCache(r.sessionCache):null,N={version:{major:d.Version.major,minor:d.Version.minor},entity:D,sessionId:r.sessionId,caStore:n,sessionCache:U,cipherSuites:v,connected:r.connected,virtualHost:r.virtualHost||null,verifyClient:r.verifyClient||!1,verify:r.verify||function(O,K,pa,xa){return K},verifyOptions:r.verifyOptions||{},getCertificate:r.getCertificate||null,getPrivateKey:r.getPrivateKey||null,getSignature:r.getSignature||
null,input:u.util.createBuffer(),tlsData:u.util.createBuffer(),data:u.util.createBuffer(),tlsDataReady:r.tlsDataReady,dataReady:r.dataReady,heartbeatReceived:r.heartbeatReceived,closed:r.closed,error:function(O,K){K.origin=K.origin||(O.entity===d.ConnectionEnd.client?"client":"server");K.send&&(d.queue(O,d.createAlert(O,K.alert)),d.flush(O));var pa=!1!==K.fatal;pa&&(O.fail=!0);r.error(O,K);pa&&O.close(!1)},deflate:r.deflate||null,inflate:r.inflate||null,reset:function(O){N.version={major:d.Version.major,
minor:d.Version.minor};N.record=null;N.session=null;N.peerCertificate=null;N.state={pending:null,current:null};N.expect=0;N.fragmented=null;N.records=[];N.open=!1;N.handshakes=0;N.handshaking=!1;N.isConnected=!1;N.fail=!(O||"undefined"===typeof O);N.input.clear();N.tlsData.clear();N.data.clear();N.state.current=d.createConnectionState(N)}};N.reset();N.handshake=function(O){if(N.entity!==d.ConnectionEnd.client)N.error(N,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(N.handshaking)N.error(N,
{message:"Handshake already in progress.",fatal:!1});else{N.fail&&!N.open&&0===N.handshakes&&(N.fail=!1);N.handshaking=!0;O=O||"";var K=null;0<O.length&&(N.sessionCache&&(K=N.sessionCache.getSession(O)),null===K&&(O=""));0===O.length&&N.sessionCache&&(K=N.sessionCache.getSession(),null!==K&&(O=K.id));N.session={id:O,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:u.md.md5.create(),sha1:u.md.sha1.create()};K&&(N.version=
K.version,N.session.sp=K.sp);N.session.sp.client_random=d.createRandom().getBytes();N.open=!0;d.queue(N,d.createRecord(N,{type:d.ContentType.handshake,data:d.createClientHello(N)}));d.flush(N)}};N.process=function(O){var K=0;O&&N.input.putBytes(O);if(!N.fail){null!==N.record&&N.record.ready&&N.record.fragment.isEmpty()&&(N.record=null);if(null===N.record){K=0;O=N.input;var pa=O.length();5>pa?K=5-pa:(N.record={type:O.getByte(),version:{major:O.getByte(),minor:O.getByte()},length:O.getInt16(),fragment:u.util.createBuffer(),
ready:!1},(O=N.record.version.major===N.version.major)&&N.session&&N.session.version&&(O=N.record.version.minor===N.version.minor),O||N.error(N,{message:"Incompatible TLS version.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.protocol_version}}))}if(!N.fail&&null!==N.record&&!N.record.ready){K=N;O=0;pa=K.input;var xa=pa.length();xa<K.record.length?O=K.record.length-xa:(K.record.fragment.putBytes(pa.getBytes(K.record.length)),pa.compact(),K.state.current.read.update(K,K.record)&&
(null!==K.fragmented&&(K.fragmented.type===K.record.type?(K.fragmented.fragment.putBuffer(K.record.fragment),K.record=K.fragmented):K.error(K,{message:"Invalid fragmented record.",send:!0,alert:{level:d.Alert.Level.fatal,description:d.Alert.Description.unexpected_message}})),K.record.ready=!0));K=O}if(!N.fail&&null!==N.record&&N.record.ready)if(O=N.record,pa=O.type-d.ContentType.change_cipher_spec,xa=S[N.entity][N.expect],pa in xa)xa[pa](N,O);else d.handleUnexpected(N,O)}return K};N.prepare=function(O){d.queue(N,
d.createRecord(N,{type:d.ContentType.application_data,data:u.util.createBuffer(O)}));return d.flush(N)};N.prepareHeartbeatRequest=function(O,K){O instanceof u.util.ByteBuffer&&(O=O.bytes());"undefined"===typeof K&&(K=O.length);N.expectedHeartbeatPayload=O;d.queue(N,d.createRecord(N,{type:d.ContentType.heartbeat,data:d.createHeartbeat(d.HeartbeatMessageType.heartbeat_request,O,K)}));return d.flush(N)};N.close=function(O){if(!N.fail&&N.sessionCache&&N.session){var K={id:N.session.id,version:N.session.version,
sp:N.session.sp};K.sp.keys=null;N.sessionCache.setSession(K.id,K)}if(N.open){N.open=!1;N.input.clear();if(N.isConnected||N.handshaking)N.isConnected=N.handshaking=!1,d.queue(N,d.createAlert(N,{level:d.Alert.Level.warning,description:d.Alert.Description.close_notify})),d.flush(N);N.closed(N)}N.reset(O)};return N};Q.exports=u.tls=u.tls||{};for(var na in d)"function"!==typeof d[na]&&(u.tls[na]=d[na]);u.tls.prf_tls1=I;u.tls.hmac_sha1=function(r,n,v){var D=u.hmac.create();D.start("SHA1",r);r=u.util.createBuffer();
r.putInt32(n[0]);r.putInt32(n[1]);r.putByte(v.type);r.putByte(v.version.major);r.putByte(v.version.minor);r.putInt16(v.length);r.putBytes(v.fragment.bytes());D.update(r.getBytes());return D.digest().getBytes()};u.tls.createSessionCache=d.createSessionCache;u.tls.createConnection=d.createConnection},function(Q,E,C){var u=C(5);C(15);C(20);C(51);C(21);C(39);C(57);C(42);C(34);C(7);C(41);var I=u.asn1,V=Q.exports=u.pki=u.pki||{};V.pemToDer=function(q){q=u.pem.decode(q)[0];if(q.procType&&"ENCRYPTED"===q.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");
return u.util.createBuffer(q.body)};V.privateKeyFromPem=function(q){q=u.pem.decode(q)[0];if("PRIVATE KEY"!==q.type&&"RSA PRIVATE KEY"!==q.type){var f=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');f.headerType=q.type;throw f;}if(q.procType&&"ENCRYPTED"===q.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");q=I.fromDer(q.body);return V.privateKeyFromAsn1(q)};V.privateKeyToPem=function(q,f){q={type:"RSA PRIVATE KEY",
body:I.toDer(V.privateKeyToAsn1(q)).getBytes()};return u.pem.encode(q,{maxline:f})};V.privateKeyInfoToPem=function(q,f){q={type:"PRIVATE KEY",body:I.toDer(q).getBytes()};return u.pem.encode(q,{maxline:f})}},function(Q,E,C){function u(F,H){return F.start().update(H).digest().getBytes()}function I(F){if(F){var H=d.oids[k.derToOid(F)];if(!H)throw H=Error("Unsupported PRF OID."),H.oid=F,H.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],H;}else H="hmacWithSHA1";
return V(H)}function V(F){var H=q.md;switch(F){case "hmacWithSHA224":H=q.md.sha512;case "hmacWithSHA1":case "hmacWithSHA256":case "hmacWithSHA384":case "hmacWithSHA512":F=F.substr(8).toLowerCase();break;default:throw H=Error("Unsupported PRF algorithm."),H.algorithm=F,H.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],H;}if(!(H&&F in H))throw Error("Unknown hash algorithm: "+F);return H[F].create()}var q=C(5);C(19);C(15);C(33);C(16);C(20);C(39);C(21);
C(13);C(54);C(34);C(7);if("undefined"===typeof f)var f=q.jsbn.BigInteger;var k=q.asn1,d=q.pki=q.pki||{};Q.exports=d.pbe=q.pbe=q.pbe||{};var g=d.oids,t={name:"EncryptedPrivateKeyInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",
tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},A={name:"PBES2Algorithms",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:k.Class.UNIVERSAL,
type:k.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,
optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"encOid"},
{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},W={name:"pkcs-12PbeParams",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:k.Class.UNIVERSAL,type:k.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"iterations"}]};d.encryptPrivateKeyInfo=function(F,H,x){x=
x||{};x.saltSize=x.saltSize||8;x.count=x.count||2048;x.algorithm=x.algorithm||"aes128";x.prfAlgorithm=x.prfAlgorithm||"sha1";var z=q.random.getBytesSync(x.saltSize),m=x.count,P=k.integerToDer(m),l;if(0===x.algorithm.indexOf("aes")||"des"===x.algorithm){switch(x.algorithm){case "aes128":var e=l=16;var w=g["aes128-CBC"];var J=q.aes.createEncryptionCipher;break;case "aes192":l=24;e=16;w=g["aes192-CBC"];J=q.aes.createEncryptionCipher;break;case "aes256":l=32;e=16;w=g["aes256-CBC"];J=q.aes.createEncryptionCipher;
break;case "des":e=l=8;w=g.desCBC;J=q.des.createEncryptionCipher;break;default:throw z=Error("Cannot encrypt private key. Unknown encryption algorithm."),z.algorithm=x.algorithm,z;}x="hmacWith"+x.prfAlgorithm.toUpperCase();var h=V(x);h=q.pkcs5.pbkdf2(H,z,m,l,h);H=q.random.getBytesSync(e);m=J(h);m.start(H);m.update(k.toDer(F));m.finish();F=m.output.getBytes();z=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,z),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,
!1,P.getBytes())]);"hmacWithSHA1"!==x&&z.value.push(k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,q.util.hexToBytes(l.toString(16))),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(d.oids[x]).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")]));z=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(g.pkcs5PBES2).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,
k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(g.pkcs5PBKDF2).getBytes()),z]),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(w).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,H)])])])}else if("3des"===x.algorithm)l=24,w=new q.util.ByteBuffer(z),h=d.pbe.generatePkcs12Key(H,w,1,m,l),H=d.pbe.generatePkcs12Key(H,w,2,m,l),m=q.des.createEncryptionCipher(h),m.start(H),m.update(k.toDer(F)),m.finish(),F=m.output.getBytes(),
z=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(g["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,z),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,P.getBytes())])]);else throw z=Error("Cannot encrypt private key. Unknown encryption algorithm."),z.algorithm=x.algorithm,z;return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[z,k.create(k.Class.UNIVERSAL,
k.Type.OCTETSTRING,!1,F)])};d.decryptPrivateKeyInfo=function(F,H){var x=null,z={},m=[];if(!k.validate(F,t,z,m))throw x=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),x.errors=m,x;m=k.derToOid(z.encryptionOid);H=d.pbe.getCipher(m,z.encryptionParams,H);z=q.util.createBuffer(z.encryptedData);H.update(z);H.finish()&&(x=k.fromDer(H.output));return x};d.encryptedPrivateKeyToPem=function(F,H){F={type:"ENCRYPTED PRIVATE KEY",body:k.toDer(F).getBytes()};
return q.pem.encode(F,{maxline:H})};d.encryptedPrivateKeyFromPem=function(F){F=q.pem.decode(F)[0];if("ENCRYPTED PRIVATE KEY"!==F.type){var H=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');H.headerType=F.type;throw H;}if(F.procType&&"ENCRYPTED"===F.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return k.fromDer(F.body)};d.encryptRsaPrivateKey=function(F,H,x){x=x||{};if(!x.legacy)return F=d.wrapRsaPrivateKey(d.privateKeyToAsn1(F)),
F=d.encryptPrivateKeyInfo(F,H,x),d.encryptedPrivateKeyToPem(F);switch(x.algorithm){case "aes128":x="AES-128-CBC";var z=16;var m=q.random.getBytesSync(16);var P=q.aes.createEncryptionCipher;break;case "aes192":x="AES-192-CBC";z=24;m=q.random.getBytesSync(16);P=q.aes.createEncryptionCipher;break;case "aes256":x="AES-256-CBC";z=32;m=q.random.getBytesSync(16);P=q.aes.createEncryptionCipher;break;case "3des":x="DES-EDE3-CBC";z=24;m=q.random.getBytesSync(8);P=q.des.createEncryptionCipher;break;case "des":x=
"DES-CBC";z=8;m=q.random.getBytesSync(8);P=q.des.createEncryptionCipher;break;default:throw F=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+x.algorithm+'".'),F.algorithm=x.algorithm,F;}H=q.pbe.opensslDeriveBytes(H,m.substr(0,8),z);H=P(H);H.start(m);H.update(k.toDer(d.privateKeyToAsn1(F)));H.finish();F={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:x,parameters:q.util.bytesToHex(m).toUpperCase()},body:H.output.getBytes()};return q.pem.encode(F)};
d.decryptRsaPrivateKey=function(F,H){var x=null;F=q.pem.decode(F)[0];if("ENCRYPTED PRIVATE KEY"!==F.type&&"PRIVATE KEY"!==F.type&&"RSA PRIVATE KEY"!==F.type)throw H=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".'),H.headerType=H,H;if(F.procType&&"ENCRYPTED"===F.procType.type){switch(F.dekInfo.algorithm){case "DES-CBC":var z=8;var m=q.des.createDecryptionCipher;break;case "DES-EDE3-CBC":z=24;m=q.des.createDecryptionCipher;
break;case "AES-128-CBC":z=16;m=q.aes.createDecryptionCipher;break;case "AES-192-CBC":z=24;m=q.aes.createDecryptionCipher;break;case "AES-256-CBC":z=32;m=q.aes.createDecryptionCipher;break;case "RC2-40-CBC":z=5;m=function(l){return q.rc2.createDecryptionCipher(l,40)};break;case "RC2-64-CBC":z=8;m=function(l){return q.rc2.createDecryptionCipher(l,64)};break;case "RC2-128-CBC":z=16;m=function(l){return q.rc2.createDecryptionCipher(l,128)};break;default:throw H=Error('Could not decrypt private key; unsupported encryption algorithm "'+
F.dekInfo.algorithm+'".'),H.algorithm=F.dekInfo.algorithm,H;}var P=q.util.hexToBytes(F.dekInfo.parameters);z=q.pbe.opensslDeriveBytes(H,P.substr(0,8),z);m=m(z);m.start(P);m.update(q.util.createBuffer(F.body));if(m.finish())x=m.output.getBytes();else return x}else x=F.body;x="ENCRYPTED PRIVATE KEY"===F.type?d.decryptPrivateKeyInfo(k.fromDer(x),H):k.fromDer(x);null!==x&&(x=d.privateKeyFromAsn1(x));return x};d.pbe.generatePkcs12Key=function(F,H,x,z,m,P){var l,e;if("undefined"===typeof P||null===P){if(!("sha1"in
q.md))throw Error('"sha1" hash algorithm unavailable.');P=q.md.sha1.create()}var w=P.digestLength,J=P.blockLength,h=new q.util.ByteBuffer,y=new q.util.ByteBuffer;if(null!==F&&void 0!==F){for(e=0;e<F.length;e++)y.putInt16(F.charCodeAt(e));y.putInt16(0)}F=y.length();var G=H.length(),M=new q.util.ByteBuffer;M.fillWithByte(x,J);var S=J*Math.ceil(G/J);x=new q.util.ByteBuffer;for(e=0;e<S;e++)x.putByte(H.at(e%G));S=J*Math.ceil(F/J);H=new q.util.ByteBuffer;for(e=0;e<S;e++)H.putByte(y.at(e%F));y=x;y.putBuffer(H);
H=Math.ceil(m/w);for(x=1;x<=H;x++){S=new q.util.ByteBuffer;S.putBytes(M.bytes());S.putBytes(y.bytes());for(e=0;e<z;e++)P.start(),P.update(S.getBytes()),S=P.digest();var Z=new q.util.ByteBuffer;for(e=0;e<J;e++)Z.putByte(S.at(e%w));var ca=Math.ceil(G/J)+Math.ceil(F/J),ea=new q.util.ByteBuffer;for(l=0;l<ca;l++){var ia=new q.util.ByteBuffer(y.getBytes(J)),na=511;for(e=Z.length()-1;0<=e;e--)na>>=8,na+=Z.at(e)+ia.at(e),ia.setAt(e,na&255);ea.putBuffer(ia)}y=ea;h.putBuffer(S)}h.truncate(h.length()-m);return h};
d.pbe.getCipher=function(F,H,x){switch(F){case d.oids.pkcs5PBES2:return d.pbe.getCipherForPBES2(F,H,x);case d.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case d.oids["pbewithSHAAnd40BitRC2-CBC"]:return d.pbe.getCipherForPKCS12PBE(F,H,x);default:throw H=Error("Cannot read encrypted PBE data block. Unsupported OID."),H.oid=F,H.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],H;}};d.pbe.getCipherForPBES2=function(F,H,x){var z={};F=[];if(!k.validate(H,A,z,F)){var m=
Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");m.errors=F;throw m;}F=k.derToOid(z.kdfOid);if(F!==d.oids.pkcs5PBKDF2)throw m=Error("Cannot read encrypted private key. Unsupported key derivation function OID."),m.oid=F,m.supportedOids=["pkcs5PBKDF2"],m;F=k.derToOid(z.encOid);if(F!==d.oids["aes128-CBC"]&&F!==d.oids["aes192-CBC"]&&F!==d.oids["aes256-CBC"]&&F!==d.oids["des-EDE3-CBC"]&&F!==d.oids.desCBC)throw m=Error("Cannot read encrypted private key. Unsupported encryption scheme OID."),
m.oid=F,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m;H=z.kdfSalt;var P=q.util.createBuffer(z.kdfIterationCount);P=P.getInt(P.length()<<3);switch(d.oids[F]){case "aes128-CBC":var l=16;m=q.aes.createDecryptionCipher;break;case "aes192-CBC":l=24;m=q.aes.createDecryptionCipher;break;case "aes256-CBC":l=32;m=q.aes.createDecryptionCipher;break;case "des-EDE3-CBC":l=24;m=q.des.createDecryptionCipher;break;case "desCBC":l=8,m=q.des.createDecryptionCipher}F=I(z.prfOid);
x=q.pkcs5.pbkdf2(x,H,P,l,F);z=z.encIv;m=m(x);m.start(z);return m};d.pbe.getCipherForPKCS12PBE=function(F,H,x){var z={},m=[];if(!k.validate(H,W,z,m))throw x=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),x.errors=m,x;m=q.util.createBuffer(z.salt);H=q.util.createBuffer(z.iterations);H=H.getInt(H.length()<<3);switch(F){case d.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var P=24;var l=8;F=q.des.startDecrypting;break;case d.oids["pbewithSHAAnd40BitRC2-CBC"]:P=
5;l=8;F=function(e,w){e=q.rc2.createDecryptionCipher(e,40);e.start(w,null);return e};break;default:throw x=Error("Cannot read PKCS #12 PBE data block. Unsupported OID."),x.oid=F,x;}z=I(z.prfOid);P=d.pbe.generatePkcs12Key(x,m,1,H,P,z);z.start();x=d.pbe.generatePkcs12Key(x,m,2,H,l,z);return F(P,x)};d.pbe.opensslDeriveBytes=function(F,H,x,z){if("undefined"===typeof z||null===z){if(!("md5"in q.md))throw Error('"md5" hash algorithm unavailable.');z=q.md.md5.create()}null===H&&(H="");for(var m=[u(z,F+H)],
P=16,l=1;P<x;++l,P+=16)m.push(u(z,m[l-1]+F+H));return m.join("").substr(0,x)}},function(Q,E,C){function u(k,d,g){for(var t,A,W,F,H,x,z,m,P,l,e,w,J,h=g.length();64<=h;){for(H=0;16>H;++H)d[H]=g.getInt32();for(;64>H;++H)t=d[H-2],t=(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10,A=d[H-15],A=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,d[H]=t+d[H-7]+A+d[H-16]|0;x=k.h0;z=k.h1;m=k.h2;P=k.h3;l=k.h4;e=k.h5;w=k.h6;J=k.h7;for(H=0;64>H;++H)t=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),W=w^l&(e^w),A=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>
22|x<<10),F=x&z|m&(x^z),t=J+t+W+f[H]+d[H],A+=F,J=w,w=e,e=l,l=P+t>>>0,P=m,m=z,z=x,x=t+A>>>0;k.h0=k.h0+x|0;k.h1=k.h1+z|0;k.h2=k.h2+m|0;k.h3=k.h3+P|0;k.h4=k.h4+l|0;k.h5=k.h5+e|0;k.h6=k.h6+w|0;k.h7=k.h7+J|0;h-=64}}var I=C(5);C(16);C(7);Q=Q.exports=I.sha256=I.sha256||{};I.md.sha256=I.md.algorithms.sha256=Q;Q.create=function(){q||(V=String.fromCharCode(128),V+=I.util.fillString(String.fromCharCode(0),64),f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,
310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,
1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],q=!0);var k=null,d=I.util.createBuffer(),g=Array(64),t={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){t.messageLength=0;t.fullMessageLength=t.messageLength64=[];for(var A=t.messageLengthSize/4,W=0;W<A;++W)t.fullMessageLength.push(0);d=I.util.createBuffer();k={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,
h6:528734635,h7:1541459225};return t}};t.start();t.update=function(A,W){"utf8"===W&&(A=I.util.encodeUtf8(A));W=A.length;t.messageLength+=W;W=[W/4294967296>>>0,W>>>0];for(var F=t.fullMessageLength.length-1;0<=F;--F)t.fullMessageLength[F]+=W[1],W[1]=W[0]+(t.fullMessageLength[F]/4294967296>>>0),t.fullMessageLength[F]>>>=0,W[0]=W[1]/4294967296>>>0;d.putBytes(A);u(k,g,d);(2048<d.read||0===d.length())&&d.compact();return t};t.digest=function(){var A=I.util.createBuffer();A.putBytes(d.bytes());A.putBytes(V.substr(0,
t.blockLength-(t.fullMessageLength[t.fullMessageLength.length-1]+t.messageLengthSize&t.blockLength-1)));for(var W,F,H=8*t.fullMessageLength[0],x=0;x<t.fullMessageLength.length-1;++x)W=8*t.fullMessageLength[x+1],F=W/4294967296>>>0,H+=F,A.putInt32(H>>>0),H=W>>>0;A.putInt32(H);W={h0:k.h0,h1:k.h1,h2:k.h2,h3:k.h3,h4:k.h4,h5:k.h5,h6:k.h6,h7:k.h7};u(W,g,A);A=I.util.createBuffer();A.putInt32(W.h0);A.putInt32(W.h1);A.putInt32(W.h2);A.putInt32(W.h3);A.putInt32(W.h4);A.putInt32(W.h5);A.putInt32(W.h6);A.putInt32(W.h7);
return A};return t};var V=null,q=!1,f=null},function(Q,E,C){(function(u){var I=C(5);C(7);var V=null;!I.util.isNodejs||I.options.usePureJavaScript||u.versions["node-webkit"]||(V=C(40));(Q.exports=I.prng=I.prng||{}).create=function(q){function f(W){if(32<=g.pools[0].messageLength)return k(),W();g.seedFile(32-g.pools[0].messageLength<<5,function(F,H){if(F)return W(F);g.collect(H);k();W()})}function k(){g.reseeds=4294967295===g.reseeds?0:g.reseeds+1;var W=g.plugin.md.create();W.update(g.keyBytes);for(var F=
1,H=0;32>H;++H)0===g.reseeds%F&&(W.update(g.pools[H].digest().getBytes()),g.pools[H].start()),F<<=1;g.keyBytes=W.digest().getBytes();W.start();W.update(g.keyBytes);W=W.digest().getBytes();g.key=g.plugin.formatKey(g.keyBytes);g.seed=g.plugin.formatSeed(W);g.generated=0}function d(W){var F=null,H=I.util.globalScope,x=H.crypto||H.msCrypto;x&&x.getRandomValues&&(F=function(P){return x.getRandomValues(P)});H=I.util.createBuffer();if(F)for(;H.length()<W;){var z=Math.max(1,Math.min(W-H.length(),65536)/4),
m=new Uint32Array(Math.floor(z));try{for(F(m),z=0;z<m.length;++z)H.putInt32(m[z])}catch(P){if(!("undefined"!==typeof QuotaExceededError&&P instanceof QuotaExceededError))throw P;}}if(H.length()<W)for(F=Math.floor(65536*Math.random());H.length()<W;)for(z=16807*(F&65535),F=16807*(F>>16),z+=(F&32767)<<16,z+=F>>15,z=(z&2147483647)+(z>>31),F=z&4294967295,z=0;3>z;++z)m=F>>>(z<<3),m^=Math.floor(256*Math.random()),H.putByte(String.fromCharCode(m&255));return H.getBytes(W)}var g={plugin:q,key:null,seed:null,
time:null,reseeds:0,generated:0,keyBytes:""};q=q.md;for(var t=Array(32),A=0;32>A;++A)t[A]=q.create();g.pools=t;g.pool=0;g.generate=function(W,F){function H(e){if(e)return F(e);if(l.length()>=W)return F(null,l.getBytes(W));1048575<g.generated&&(g.key=null);if(null===g.key)return I.util.nextTick(function(){f(H)});e=x(g.key,g.seed);g.generated+=e.length;l.putBytes(e);g.key=m(x(g.key,z(g.seed)));g.seed=P(x(g.key,g.seed));I.util.setImmediate(H)}if(!F)return g.generateSync(W);var x=g.plugin.cipher,z=g.plugin.increment,
m=g.plugin.formatKey,P=g.plugin.formatSeed,l=I.util.createBuffer();g.key=null;H()};g.generateSync=function(W){var F=g.plugin.cipher,H=g.plugin.increment,x=g.plugin.formatKey,z=g.plugin.formatSeed;g.key=null;for(var m=I.util.createBuffer();m.length()<W;){1048575<g.generated&&(g.key=null);null===g.key&&(32<=g.pools[0].messageLength||g.collect(g.seedFileSync(32-g.pools[0].messageLength<<5)),k());var P=F(g.key,g.seed);g.generated+=P.length;m.putBytes(P);g.key=x(F(g.key,H(g.seed)));g.seed=z(F(g.key,g.seed))}return m.getBytes(W)};
V?(g.seedFile=function(W,F){V.randomBytes(W,function(H,x){if(H)return F(H);F(null,x.toString())})},g.seedFileSync=function(W){return V.randomBytes(W).toString()}):(g.seedFile=function(W,F){try{F(null,d(W))}catch(H){F(H)}},g.seedFileSync=d);g.collect=function(W){for(var F=W.length,H=0;H<F;++H)g.pools[g.pool].update(W.substr(H,1)),g.pool=31===g.pool?0:g.pool+1};g.collectInt=function(W,F){for(var H="",x=0;x<F;x+=8)H+=String.fromCharCode(W>>x&255);g.collect(H)};g.registerWorker=function(W){W===self?g.seedFile=
function(F,H){function x(z){z=z.data;z.forge&&z.forge.prng&&(self.removeEventListener("message",x),H(z.forge.prng.err,z.forge.prng.bytes))}self.addEventListener("message",x);self.postMessage({forge:{prng:{needed:F}}})}:W.addEventListener("message",function(F){F=F.data;F.forge&&F.forge.prng&&g.seedFile(F.forge.prng.needed,function(H,x){W.postMessage({forge:{prng:{err:H,bytes:x}}})})})};return g}}).call(this,C(32))},function(Q,E,C){var u=C(5);C(7);var I=[217,120,249,196,25,221,181,237,40,233,253,121,
74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,
159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],V=[1,2,3,5];Q.exports=u.rc2=u.rc2||{};u.rc2.expandKey=function(f,k){"string"===typeof f&&(f=u.util.createBuffer(f));k=k||128;var d=f;f=
f.length();var g=k;k=Math.ceil(g/8);g=255>>(g&7);var t;for(t=f;128>t;t++)d.putByte(I[d.at(t-1)+d.at(t-f)&255]);d.setAt(128-k,I[d.at(128-k)&g]);for(t=127-k;0<=t;t--)d.setAt(t,I[d.at(t+1)^d.at(t+k)]);return d};var q=function(f,k,d){var g=!1,t=null,A=null,W=null,F,H,x=[];f=u.rc2.expandKey(f,k);for(F=0;64>F;F++)x.push(f.getInt16Le());if(d){var z=function(l){for(F=0;4>F;F++){l[F]+=x[H]+(l[(F+3)%4]&l[(F+2)%4])+(~l[(F+3)%4]&l[(F+1)%4]);var e=l[F],w=V[F];l[F]=e<<w&65535|(e&65535)>>16-w;H++}};var m=function(l){for(F=
0;4>F;F++)l[F]+=x[l[(F+3)%4]&63]}}else z=function(l){for(F=3;0<=F;F--){var e=l[F],w=V[F];l[F]=(e&65535)>>w|e<<16-w&65535;l[F]-=x[H]+(l[(F+3)%4]&l[(F+2)%4])+(~l[(F+3)%4]&l[(F+1)%4]);H--}},m=function(l){for(F=3;0<=F;F--)l[F]-=x[l[(F+3)%4]&63]};var P=null;return P={start:function(l,e){l&&"string"===typeof l&&(l=u.util.createBuffer(l));g=!1;t=u.util.createBuffer();A=e||new u.util.createBuffer;W=l;P.output=A},update:function(l){for(g||t.putBuffer(l);8<=t.length();){l=[[5,z],[1,m],[6,z],[1,m],[5,z]];var e=
[];for(F=0;4>F;F++){var w=t.getInt16Le();null!==W&&(d?w^=W.getInt16Le():W.putInt16Le(w));e.push(w&65535)}H=d?0:63;for(w=0;w<l.length;w++)for(var J=0;J<l[w][0];J++)l[w][1](e);for(F=0;4>F;F++)null!==W&&(d?W.putInt16Le(e[F]):e[F]^=W.getInt16Le()),A.putInt16Le(e[F])}},finish:function(l){var e=!0;if(d)if(l)e=l(8,t,!d);else{var w=8===t.length()?8:8-t.length();t.fillWithByte(w,w)}e&&(g=!0,P.update());!d&&(e=0===t.length())&&(l?e=l(8,A,!d):(l=A.length(),w=A.at(l-1),w>l?e=!1:A.truncate(w)));return e}}};u.rc2.startEncrypting=
function(f,k,d){f=u.rc2.createEncryptionCipher(f,128);f.start(k,d);return f};u.rc2.createEncryptionCipher=function(f,k){return q(f,k,!0)};u.rc2.startDecrypting=function(f,k,d){f=u.rc2.createDecryptionCipher(f,128);f.start(k,d);return f};u.rc2.createDecryptionCipher=function(f,k){return q(f,k,!1)}},function(Q,E,C){function u(V,q,f){f||(f=I.md.sha1.create());for(var k="",d=Math.ceil(q/f.digestLength),g=0;g<d;++g){var t=String.fromCharCode(g>>24&255,g>>16&255,g>>8&255,g&255);f.start();f.update(V+t);
k+=f.digest().getBytes()}return k.substring(0,q)}var I=C(5);C(7);C(13);C(26);Q=Q.exports=I.pkcs1=I.pkcs1||{};Q.encode_rsa_oaep=function(V,q,f,k,d){if("string"===typeof f){var g=f;var t=k||void 0;var A=d||void 0}else if(f&&(g=f.label||void 0,t=f.seed||void 0,A=f.md||void 0,f.mgf1&&f.mgf1.md))var W=f.mgf1.md;A?A.start():A=I.md.sha1.create();W||(W=A);V=Math.ceil(V.n.bitLength()/8);f=V-2*A.digestLength-2;if(q.length>f)throw W=Error("RSAES-OAEP input message length is too long."),W.length=q.length,W.maxLength=
f,W;g||(g="");A.update(g,"raw");g=A.digest();k="";f-=q.length;for(d=0;d<f;d++)k+="\x00";q=g.getBytes()+k+"\u0001"+q;if(!t)t=I.random.getBytes(A.digestLength);else if(t.length!==A.digestLength)throw W=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length."),W.seedLength=t.length,W.digestLength=A.digestLength,W;V=u(t,V-A.digestLength-1,W);q=I.util.xorBytes(q,V,q.length);A=u(q,A.digestLength,W);return"\x00"+I.util.xorBytes(t,A,t.length)+q};Q.decode_rsa_oaep=function(V,q,f,k){if("string"===
typeof f){var d=f;var g=k||void 0}else if(f&&(d=f.label||void 0,g=f.md||void 0,f.mgf1&&f.mgf1.md))var t=f.mgf1.md;f=Math.ceil(V.n.bitLength()/8);if(q.length!==f)throw t=Error("RSAES-OAEP encoded message length is invalid."),t.length=q.length,t.expectedLength=f,t;void 0===g?g=I.md.sha1.create():g.start();t||(t=g);if(f<2*g.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");d||(d="");g.update(d,"raw");d=g.digest().getBytes();V=q.charAt(0);k=q.substring(1,g.digestLength+
1);q=q.substring(1+g.digestLength);var A=u(q,g.digestLength,t);k=I.util.xorBytes(k,A,k.length);t=u(k,f-g.digestLength-1,t);q=I.util.xorBytes(q,t,q.length);f=q.substring(0,g.digestLength);t="\x00"!==V;for(V=0;V<g.digestLength;++V)t|=d.charAt(V)!==f.charAt(V);d=1;for(g=V=g.digestLength;g<q.length;g++)f=q.charCodeAt(g),k=f&1^1,t|=f&(d?65534:0),d&=k,V+=d;if(t||1!==q.charCodeAt(V))throw Error("Invalid RSAES-OAEP padding.");return q.substring(V+1)}},function(Q,E,C){var u=C(5);C(7);C(35);C(13);(function(){function I(F,
H,x,z){return"workers"in x?f(F,H,x,z):V(F,H,x,z)}function V(F,H,x,z){var m=k(F,H);var P=m.bitLength();P=100>=P?27:150>=P?18:200>=P?15:250>=P?12:300>=P?9:350>=P?8:400>=P?7:500>=P?6:600>=P?5:800>=P?4:1250>=P?3:2;"millerRabinTests"in x&&(P=x.millerRabinTests);var l=10;"maxBlockTime"in x&&(l=x.maxBlockTime);q(m,F,H,0,P,l,z)}function q(F,H,x,z,m,P,l){var e=+new Date;do{F.bitLength()>H&&(F=k(H,x));if(F.isProbablePrime(m))return l(null,F);F.dAddOffset(t[z++%8],0)}while(0>P||+new Date-e<P);u.util.setImmediate(function(){q(F,
H,x,z,m,P,l)})}function f(F,H,x,z){function m(){function h(Z){if(!S){--M;var ca=Z.data;if(ca.found){for(Z=0;Z<y.length;++Z)y[Z].terminate();S=!0;return z(null,new g(ca.prime,16))}P.bitLength()>F&&(P=k(F,H));ca=P.toString(16);Z.target.postMessage({hex:ca,workLoad:e});P.dAddOffset(w,0)}}l=Math.max(1,l);for(var y=[],G=0;G<l;++G)y[G]=new Worker(J);var M=l;for(G=0;G<l;++G)y[G].addEventListener("message",h);var S=!1}if("undefined"===typeof Worker)return V(F,H,x,z);var P=k(F,H),l=x.workers,e=x.workLoad||
100,w=30*e/8,J=x.workerScript||"forge/prime.worker.js";if(-1===l)return u.util.estimateCores(function(h,y){h&&(y=2);l=y-1;m()});m()}function k(F,H){H=new g(F,H);--F;H.testBit(F)||H.bitwiseTo(g.ONE.shiftLeft(F),W,H);H.dAddOffset(31-H.mod(A).byteValue(),0);return H}if(u.prime)Q.exports=u.prime;else{var d=Q.exports=u.prime=u.prime||{},g=u.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],A=new g(null);A.fromInt(30);var W=function(F,H){return F|H};d.generateProbablePrime=function(F,H,x){"function"===typeof H&&(x=H,
H={});H=H||{};var z=H.algorithm||"PRIMEINC";"string"===typeof z&&(z={name:z});z.options=z.options||{};var m=H.prng||u.random;H={nextBytes:function(P){for(var l=m.getBytesSync(P.length),e=0;e<P.length;++e)P[e]=l.charCodeAt(e)}};if("PRIMEINC"===z.name)return I(F,H,z.options,x);throw Error("Invalid prime generation algorithm: "+z.name);}}})()},function(Q,E,C){function u(z,m,P,l){for(var e=[],w=0;w<z.length;w++)for(var J=0;J<z[w].safeBags.length;J++){var h=z[w].safeBags[J];if(void 0===l||h.type===l)null===
m?e.push(h):void 0!==h.attributes[m]&&0<=h.attributes[m].indexOf(P)&&e.push(h)}return e}function I(z){if(z.composed||z.constructed){for(var m=k.util.createBuffer(),P=0;P<z.value.length;++P)m.putBytes(z.value[P].value);z.composed=z.constructed=!1;z.value=m.getBytes()}return z}function V(z,m,P,l){m=d.fromDer(m,P);if(m.tagClass!==d.Class.UNIVERSAL||m.type!==d.Type.SEQUENCE||!0!==m.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var e=0;e<m.value.length;e++){var w=
{},J=[];if(!d.validate(m.value[e],A,w,J))throw z=Error("Cannot read ContentInfo."),z.errors=J,z;J={encrypted:!1};var h=w.content.value[0];switch(d.derToOid(w.contentType)){case g.oids.data:if(h.tagClass!==d.Class.UNIVERSAL||h.type!==d.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");w=I(h).value;break;case g.oids.encryptedData:var y=l;w={};var G=[];if(!d.validate(h,k.pkcs7.asn1.encryptedDataValidator,w,G))throw z=Error("Cannot read EncryptedContentInfo."),z.errors=
G,z;h=d.derToOid(w.contentType);if(h!==g.oids.data)throw z=Error("PKCS#12 EncryptedContentInfo ContentType is not Data."),z.oid=h,z;h=d.derToOid(w.encAlgorithm);h=g.pbe.getCipher(h,w.encParameter,y);w=I(w.encryptedContentAsn1);w=k.util.createBuffer(w.value);h.update(w);if(!h.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");w=h.output.getBytes();J.encrypted=!0;break;default:throw z=Error("Unsupported PKCS#12 contentType."),z.contentType=d.derToOid(w.contentType),z;}J.safeBags=q(w,P,
l);z.safeContents.push(J)}}function q(z,m,P){if(!m&&0===z.length)return[];z=d.fromDer(z,m);if(z.tagClass!==d.Class.UNIVERSAL||z.type!==d.Type.SEQUENCE||!0!==z.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var l=[],e=0;e<z.value.length;e++){var w={},J=[];if(!d.validate(z.value[e],F,w,J))throw z=Error("Cannot read SafeBag."),z.errors=J,z;var h={type:d.derToOid(w.bagId),attributes:f(w.bagAttributes)};l.push(h);var y=w.bagValue.value[0];switch(h.type){case g.oids.pkcs8ShroudedKeyBag:if(y=
g.decryptPrivateKeyInfo(y,P),null===y)throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case g.oids.keyBag:try{h.key=g.privateKeyFromAsn1(y)}catch(S){h.key=null,h.asn1=y}continue;case g.oids.certBag:var G=x;var M=function(){if(d.derToOid(w.certId)!==g.oids.x509Certificate){var S=Error("Unsupported certificate type, only X.509 supported.");S.oid=d.derToOid(w.certId);throw S;}S=d.fromDer(w.cert,m);try{h.cert=g.certificateFromAsn1(S,!0)}catch(Z){h.cert=null,h.asn1=S}};break;default:throw z=
Error("Unsupported PKCS#12 SafeBag type."),z.oid=h.type,z;}if(void 0!==G&&!d.validate(y,G,w,J))throw z=Error("Cannot read PKCS#12 "+G.name),z.errors=J,z;M()}return l}function f(z){var m={};if(void 0!==z)for(var P=0;P<z.length;++P){var l={},e=[];if(!d.validate(z[P],H,l,e))throw z=Error("Cannot read PKCS#12 BagAttribute."),z.errors=e,z;e=d.derToOid(l.oid);if(void 0!==g.oids[e]){m[g.oids[e]]=[];for(var w=0;w<l.values.length;++w)m[g.oids[e]].push(l.values[w].value)}}return m}var k=C(5);C(15);C(25);C(20);
C(58);C(51);C(13);C(34);C(26);C(7);C(41);var d=k.asn1,g=k.pki,t=Q.exports=k.pkcs12=k.pkcs12||{},A={name:"ContentInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},W={name:"PFX",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",
tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"version"},A,{name:"PFX.macData",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,
capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:d.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},
F={name:"SafeBag",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:d.Class.UNIVERSAL,type:d.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},H={name:"Attribute",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",
tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:d.Class.UNIVERSAL,type:d.Type.SET,constructed:!0,capture:"values"}]},x={name:"CertBag",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:d.Class.UNIVERSAL,
type:d.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};t.pkcs12FromAsn1=function(z,m,P){"string"===typeof m?(P=m,m=!0):void 0===m&&(m=!0);var l={};if(!d.validate(z,W,l,[]))throw m=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX."),m.errors=m,m;var e={version:l.version.charCodeAt(0),safeContents:[],getBags:function(G){var M={},S;"localKeyId"in G?S=G.localKeyId:"localKeyIdHex"in G&&(S=k.util.hexToBytes(G.localKeyIdHex));void 0===S&&!("friendlyName"in G)&&"bagType"in G&&(M[G.bagType]=
u(e.safeContents,null,null,G.bagType));void 0!==S&&(M.localKeyId=u(e.safeContents,"localKeyId",S,G.bagType));"friendlyName"in G&&(M.friendlyName=u(e.safeContents,"friendlyName",G.friendlyName,G.bagType));return M},getBagsByFriendlyName:function(G,M){return u(e.safeContents,"friendlyName",G,M)},getBagsByLocalKeyId:function(G,M){return u(e.safeContents,"localKeyId",G,M)}};if(3!==l.version.charCodeAt(0))throw m=Error("PKCS#12 PFX of version other than 3 not supported."),m.version=l.version.charCodeAt(0),
m;if(d.derToOid(l.contentType)!==g.oids.data)throw m=Error("Only PKCS#12 PFX in password integrity mode supported."),m.oid=d.derToOid(l.contentType),m;z=l.content.value[0];if(z.tagClass!==d.Class.UNIVERSAL||z.type!==d.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");z=I(z);if(l.mac){var w=null,J=0,h=d.derToOid(l.macAlgorithm);switch(h){case g.oids.sha1:w=k.md.sha1.create();J=20;break;case g.oids.sha256:w=k.md.sha256.create();J=32;break;case g.oids.sha384:w=k.md.sha384.create();
J=48;break;case g.oids.sha512:w=k.md.sha512.create();J=64;break;case g.oids.md5:w=k.md.md5.create(),J=16}if(null===w)throw Error("PKCS#12 uses unsupported MAC algorithm: "+h);h=new k.util.ByteBuffer(l.macSalt);var y="macIterations"in l?parseInt(k.util.bytesToHex(l.macIterations),16):1;J=t.generateKey(P,h,3,y,J,w);h=k.hmac.create();h.start(w,J);h.update(z.value);if(h.getMac().getBytes()!==l.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?");}V(e,z.value,m,P);return e};t.toPkcs12Asn1=
function(z,m,P,l){l=l||{};l.saltSize=l.saltSize||8;l.count=l.count||2048;l.algorithm=l.algorithm||l.encAlgorithm||"aes128";"useMac"in l||(l.useMac=!0);"localKeyId"in l||(l.localKeyId=null);"generateLocalKeyId"in l||(l.generateLocalKeyId=!0);var e=l.localKeyId,w;if(null!==e)e=k.util.hexToBytes(e);else if(l.generateLocalKeyId)if(m){var J=k.util.isArray(m)?m[0]:m;"string"===typeof J&&(J=g.certificateFromPem(J));e=k.md.sha1.create();e.update(d.toDer(g.certificateToAsn1(J)).getBytes());e=e.digest().getBytes()}else e=
k.random.getBytes(20);J=[];null!==e&&J.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.localKeyId).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,e)])]));"friendlyName"in l&&J.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.friendlyName).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[d.create(d.Class.UNIVERSAL,
d.Type.BMPSTRING,!1,l.friendlyName)])]));0<J.length&&(w=d.create(d.Class.UNIVERSAL,d.Type.SET,!0,J));e=[];J=[];null!==m&&(J=k.util.isArray(m)?m:[m]);for(var h=[],y=0;y<J.length;++y){m=J[y];"string"===typeof m&&(m=g.certificateFromPem(m));var G=0===y?w:void 0;m=g.certificateToAsn1(m);m=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.certBag).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,
d.Type.OID,!1,d.oidToDer(g.oids.x509Certificate).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(m).getBytes())])])]),G]);h.push(m)}0<h.length&&(m=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,h),m=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(m).getBytes())])]),e.push(m));
null!==z&&(z=g.wrapRsaPrivateKey(g.privateKeyToAsn1(z)),z=null===P?d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.keyBag).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[z]),w]):d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.pkcs8ShroudedKeyBag).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[g.encryptPrivateKeyInfo(z,P,l)]),w]),z=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,
!0,[z]),z=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(z).getBytes())])]),e.push(z));w=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,e);if(l.useMac){e=k.md.sha1.create();var M=new k.util.ByteBuffer(k.random.getBytes(l.saltSize));l=l.count;z=t.generateKey(P,M,3,l,20);P=k.hmac.create();P.start(e,z);P.update(d.toDer(w).getBytes());
P=P.getMac();M=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.sha1).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,P.getBytes())]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,M.getBytes()),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(l).getBytes())])}return d.create(d.Class.UNIVERSAL,
d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(3).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(g.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(w).getBytes())])]),M])};t.generateKey=k.pbe.generatePkcs12Key},function(Q,E,C){E=C(5);C(15);C(7);C=E.asn1;Q=Q.exports=E.pkcs7asn1=E.pkcs7asn1||{};E.pkcs7=E.pkcs7||{};E.pkcs7.asn1=Q;E={name:"ContentInfo",
tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Q.contentInfoValidator=E;var u={name:"EncryptedContentInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:C.Class.UNIVERSAL,
type:C.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:C.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:C.Class.CONTEXT_SPECIFIC,
type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Q.envelopedDataValidator={name:"EnvelopedData",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(u)};Q.encryptedDataValidator={name:"EncryptedData",tagClass:C.Class.UNIVERSAL,
type:C.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"version"}].concat(u)};Q.signedDataValidator={name:"SignedData",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},
E,{name:"SignedData.Certificates",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,
constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",
tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:C.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},
{name:"SignerInfo.encryptedDigest",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]};Q.recipientInfoValidator={name:"RecipientInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"version"},
{name:"RecipientInfo.issuerAndSerial",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",
tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:C.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(Q,E,C){var u=C(5);C(7);u.mgf=u.mgf||{};(Q.exports=u.mgf.mgf1=u.mgf1=u.mgf1||{}).create=function(I){return{generate:function(V,q){for(var f=new u.util.ByteBuffer,
k=Math.ceil(q/I.digestLength),d=0;d<k;d++){var g=new u.util.ByteBuffer;g.putInt32(d);I.start();I.update(V+g.getBytes());f.putBuffer(I.digest())}f.truncate(f.length()-q);return f.getBytes()}}}},function(Q,E,C){var u=C(5);Q.exports=u.debug=u.debug||{};u.debug.storage={};u.debug.get=function(I,V){var q;"undefined"===typeof I?q=u.debug.storage:I in u.debug.storage&&(q="undefined"===typeof V?u.debug.storage[I]:u.debug.storage[I][V]);return q};u.debug.set=function(I,V,q){I in u.debug.storage||(u.debug.storage[I]=
{});u.debug.storage[I][V]=q};u.debug.clear=function(I,V){"undefined"===typeof I?u.debug.storage={}:I in u.debug.storage&&("undefined"===typeof V?delete u.debug.storage[I]:delete u.debug.storage[I][V])}},function(Q,E,C){function u(g,t,A){for(var W,F,H,x,z,m,P,l,e,w,J,h,y,G,M,S,Z,ca,ea,ia,na,r,n,v,D,U=A.length();128<=U;){for(D=0;16>D;++D)t[D][0]=A.getInt32()>>>0,t[D][1]=A.getInt32()>>>0;for(;80>D;++D)z=t[D-2],e=z[0],z=z[1],W=((e>>>19|z<<13)^(z>>>29|e<<3)^e>>>6)>>>0,F=((e<<13|z>>>19)^(z<<3|e>>>29)^(e<<
26|z>>>6))>>>0,z=t[D-15],e=z[0],z=z[1],H=((e>>>1|z<<31)^(e>>>8|z<<24)^e>>>7)>>>0,x=((e<<31|z>>>1)^(e<<24|z>>>8)^(e<<25|z>>>7))>>>0,e=t[D-7],w=t[D-16],z=F+e[1]+x+w[1],t[D][0]=W+e[0]+H+w[0]+(z/4294967296>>>0)>>>0,t[D][1]=z>>>0;e=g[0][0];w=g[0][1];J=g[1][0];h=g[1][1];y=g[2][0];G=g[2][1];M=g[3][0];S=g[3][1];Z=g[4][0];ca=g[4][1];ea=g[5][0];ia=g[5][1];na=g[6][0];r=g[6][1];n=g[7][0];v=g[7][1];for(D=0;80>D;++D)W=((Z>>>14|ca<<18)^(Z>>>18|ca<<14)^(ca>>>9|Z<<23))>>>0,z=((Z<<18|ca>>>14)^(Z<<14|ca>>>18)^(ca<<
23|Z>>>9))>>>0,F=(na^Z&(ea^na))>>>0,m=(r^ca&(ia^r))>>>0,H=((e>>>28|w<<4)^(w>>>2|e<<30)^(w>>>7|e<<25))>>>0,x=((e<<4|w>>>28)^(w<<30|e>>>2)^(w<<25|e>>>7))>>>0,P=(e&J|y&(e^J))>>>0,l=(w&h|G&(w^h))>>>0,z=v+z+m+k[D][1]+t[D][1],W=n+W+F+k[D][0]+t[D][0]+(z/4294967296>>>0)>>>0,F=z>>>0,z=x+l,H=H+P+(z/4294967296>>>0)>>>0,x=z>>>0,n=na,v=r,na=ea,r=ia,ea=Z,ia=ca,z=S+F,Z=M+W+(z/4294967296>>>0)>>>0,ca=z>>>0,M=y,S=G,y=J,G=h,J=e,h=w,z=F+x,e=W+H+(z/4294967296>>>0)>>>0,w=z>>>0;z=g[0][1]+w;g[0][0]=g[0][0]+e+(z/4294967296>>>
0)>>>0;g[0][1]=z>>>0;z=g[1][1]+h;g[1][0]=g[1][0]+J+(z/4294967296>>>0)>>>0;g[1][1]=z>>>0;z=g[2][1]+G;g[2][0]=g[2][0]+y+(z/4294967296>>>0)>>>0;g[2][1]=z>>>0;z=g[3][1]+S;g[3][0]=g[3][0]+M+(z/4294967296>>>0)>>>0;g[3][1]=z>>>0;z=g[4][1]+ca;g[4][0]=g[4][0]+Z+(z/4294967296>>>0)>>>0;g[4][1]=z>>>0;z=g[5][1]+ia;g[5][0]=g[5][0]+ea+(z/4294967296>>>0)>>>0;g[5][1]=z>>>0;z=g[6][1]+r;g[6][0]=g[6][0]+na+(z/4294967296>>>0)>>>0;g[6][1]=z>>>0;z=g[7][1]+v;g[7][0]=g[7][0]+n+(z/4294967296>>>0)>>>0;g[7][1]=z>>>0;U-=128}}
var I=C(5);C(16);C(7);var V=Q.exports=I.sha512=I.sha512||{};I.md.sha512=I.md.algorithms.sha512=V;Q=I.sha384=I.sha512.sha384=I.sha512.sha384||{};Q.create=function(){return V.create("SHA-384")};I.md.sha384=I.md.algorithms.sha384=Q;I.sha512.sha256=I.sha512.sha256||{create:function(){return V.create("SHA-512/256")}};I.md["sha512/256"]=I.md.algorithms["sha512/256"]=I.sha512.sha256;I.sha512.sha224=I.sha512.sha224||{create:function(){return V.create("SHA-512/224")}};I.md["sha512/224"]=I.md.algorithms["sha512/224"]=
I.sha512.sha224;V.create=function(g){f||(q=String.fromCharCode(128),q+=I.util.fillString(String.fromCharCode(0),128),k=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,
2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],
[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,
442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],d={"SHA-512":[[1779033703,
4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],
[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},f=!0);"undefined"===typeof g&&(g="SHA-512");if(!(g in d))throw Error("Invalid SHA-512 algorithm: "+g);for(var t=d[g],A=null,W=I.util.createBuffer(),F=Array(80),H=0;80>H;++H)F[H]=Array(2);H=64;switch(g){case "SHA-384":H=48;break;case "SHA-512/256":H=
32;break;case "SHA-512/224":H=28}var x={algorithm:g.replace("-","").toLowerCase(),blockLength:128,digestLength:H,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){x.messageLength=0;x.fullMessageLength=x.messageLength128=[];for(var z=x.messageLengthSize/4,m=0;m<z;++m)x.fullMessageLength.push(0);W=I.util.createBuffer();A=Array(t.length);for(m=0;m<t.length;++m)A[m]=t[m].slice(0);return x}};x.start();x.update=function(z,m){"utf8"===m&&(z=I.util.encodeUtf8(z));m=z.length;x.messageLength+=
m;m=[m/4294967296>>>0,m>>>0];for(var P=x.fullMessageLength.length-1;0<=P;--P)x.fullMessageLength[P]+=m[1],m[1]=m[0]+(x.fullMessageLength[P]/4294967296>>>0),x.fullMessageLength[P]>>>=0,m[0]=m[1]/4294967296>>>0;W.putBytes(z);u(A,F,W);(2048<W.read||0===W.length())&&W.compact();return x};x.digest=function(){var z=I.util.createBuffer();z.putBytes(W.bytes());z.putBytes(q.substr(0,x.blockLength-(x.fullMessageLength[x.fullMessageLength.length-1]+x.messageLengthSize&x.blockLength-1)));for(var m,P,l=8*x.fullMessageLength[0],
e=0;e<x.fullMessageLength.length-1;++e)m=8*x.fullMessageLength[e+1],P=m/4294967296>>>0,l+=P,z.putInt32(l>>>0),l=m>>>0;z.putInt32(l);m=Array(A.length);for(e=0;e<A.length;++e)m[e]=A[e].slice(0);u(m,F,z);z=I.util.createBuffer();P="SHA-512"===g?m.length:"SHA-384"===g?m.length-2:m.length-4;for(e=0;e<P;++e)z.putInt32(m[e][0]),e===P-1&&"SHA-512/224"===g||z.putInt32(m[e][1]);return z};return x};var q=null,f=!1,k=null,d=null},function(Q,E,C){var u=C(5);C(7);Q.exports=u.log=u.log||{};u.log.levels="none error warning info debug verbose max".split(" ");
var I={},V=[];Q=null;u.log.LEVEL_LOCKED=2;u.log.NO_LEVEL_CHECK=4;u.log.INTERPOLATE=8;for(E=0;E<u.log.levels.length;++E)C=u.log.levels[E],I[C]={index:E,name:C.toUpperCase()};u.log.logMessage=function(f){for(var k=I[f.level].index,d=0;d<V.length;++d){var g=V[d];g.flags&u.log.NO_LEVEL_CHECK?g.f(f):k<=I[g.level].index&&g.f(g,f)}};u.log.prepareStandard=function(f){"standard"in f||(f.standard=I[f.level].name+" ["+f.category+"] "+f.message)};u.log.prepareFull=function(f){if(!("full"in f)){var k=[f.message];
k=k.concat([]);f.full=u.util.format.apply(this,k)}};u.log.prepareStandardFull=function(f){"standardFull"in f||(u.log.prepareStandard(f),f.standardFull=f.standard)};C=["error","warning","info","debug","verbose"];for(E=0;E<C.length;++E)(function(f){u.log[f]=function(k,d){var g=Array.prototype.slice.call(arguments).slice(2);u.log.logMessage({timestamp:new Date,level:f,category:k,message:d,arguments:g})}})(C[E]);u.log.makeLogger=function(f){f={flags:0,f:f};u.log.setLevel(f,"none");return f};u.log.setLevel=
function(f,k){var d=!1;if(f&&!(f.flags&u.log.LEVEL_LOCKED))for(var g=0;g<u.log.levels.length;++g)if(k==u.log.levels[g]){f.level=k;d=!0;break}return d};u.log.lock=function(f,k){f.flags="undefined"===typeof k||k?f.flags|u.log.LEVEL_LOCKED:f.flags&~u.log.LEVEL_LOCKED};u.log.addLogger=function(f){V.push(f)};if("undefined"!==typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug){var q={error:console.error,warning:console.warn,info:console.info,debug:console.debug,
verbose:console.debug};Q=function(f,k){u.log.prepareStandard(k);f=q[k.level];var d=[k.standard];d=d.concat(k.arguments.slice());f.apply(console,d)}}else Q=function(f,k){u.log.prepareStandardFull(k);console.log(k.standardFull)};Q=u.log.makeLogger(Q);u.log.setLevel(Q,"debug");u.log.addLogger(Q)}else console={log:function(){}};null!==Q&&(E=u.util.getQueryVariables(),"console.level"in E&&u.log.setLevel(Q,E["console.level"].slice(-1)[0]),"console.lock"in E&&"true"==E["console.lock"].slice(-1)[0]&&u.log.lock(Q));
u.log.consoleLogger=Q},function(Q,E,C){C.d(E,"a",function(){return q});var u=C(6),I=u.Buffer.from&&u.Buffer.alloc&&u.Buffer.allocUnsafe&&u.Buffer.allocUnsafeSlow?u.Buffer.from:function(H){return new u.Buffer(H)};Q=function(H,x){var z=function(m,P){return x(m,P)>>>0};z.signed=x;z.unsigned=z;z.model=H;return z};Q("crc1",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));for(var z=0,m=0;m<H.length;m++)z+=H[m];return(~~x+z%256)%256});var V=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,
98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,
218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!==typeof Int32Array&&(V=new Int32Array(V));var q=Q("crc-8",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x=~~x;for(var z=0;z<H.length;z++)x=V[(x^H[z])&
255]&255;return x}),f=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,
15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!==typeof Int32Array&&(f=new Int32Array(f));Q("dallas-1-wire",
function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x=~~x;for(var z=0;z<H.length;z++)x=f[(x^H[z])&255]&255;return x});var k=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,
12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,
26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,
17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(k=new Int32Array(k));Q("crc-16",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x=~~x;for(var z=0;z<H.length;z++)x=(k[(x^H[z])&255]^x>>8)&65535;return x});var d=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,
17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,
48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,
64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!==typeof Int32Array&&(d=new Int32Array(d));Q("ccitt",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x="undefined"!==typeof x?~~x:65535;for(var z=0;z<H.length;z++)x=(d[(x>>8^H[z])&255]^x<<8)&65535;return x});var g=[0,49345,49537,
320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,
63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,
30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&
(g=new Int32Array(g));Q("crc-16-modbus",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x="undefined"!==typeof x?~~x:65535;for(var z=0;z<H.length;z++)x=(g[(x^H[z])&255]^x>>8)&65535;return x});Q("xmodem",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x="undefined"!==typeof x?~~x:0;for(var z=0;z<H.length;z++){var m=x>>>8&255;m^=H[z]&255;m^=m>>>4;x=x<<8&65535;x^=m;m=m<<5&65535;x^=m;m=m<<7&65535;x^=m}return x});var t=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,
4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,
6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,
28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!==typeof Int32Array&&(t=new Int32Array(t));Q("kermit",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));
x="undefined"!==typeof x?~~x:0;for(var z=0;z<H.length;z++)x=(t[(x^H[z])&255]^x>>8)&65535;return x});var A=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,
5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,
11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,
1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,
12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!==typeof Int32Array&&(A=new Int32Array(A));Q("crc-24",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x="undefined"!==typeof x?~~x:11994318;for(var z=0;z<H.length;z++)x=(A[(x>>16^H[z])&255]^x<<8)&16777215;return x});var W=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,
2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,
3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,
1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,
4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,
40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,
1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(W=new Int32Array(W));Q("crc-32",function(H,x){u.Buffer.isBuffer(H)||(H=I(H));x=0===x?0:~~x^-1;for(var z=0;z<H.length;z++)x=W[(x^H[z])&255]^x>>>8;return x^-1});var F=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,
2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,
3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,
855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,
4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,
213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,
1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(F=new Int32Array(F));Q("jam",function(H,x){x=void 0===x?-1:x;u.Buffer.isBuffer(H)||(H=I(H));x=0===x?0:~~x;for(var z=0;z<H.length;z++)x=F[(x^H[z])&255]^x>>>8;return x})},function(Q,E,C){function u(f){var k=f.length;if(0<k%4)throw Error("Invalid string. Length must be a multiple of 4");f=f.indexOf("=");-1===f&&(f=k);return[f,f===k?0:4-f%4]}E.byteLength=function(f){f=u(f);var k=f[1];return 3*(f[0]+k)/4-
k};E.toByteArray=function(f){var k=u(f);var d=k[0];k=k[1];var g=new q(3*(d+k)/4-k),t=0,A=0<k?d-4:d,W;for(W=0;W<A;W+=4)d=V[f.charCodeAt(W)]<<18|V[f.charCodeAt(W+1)]<<12|V[f.charCodeAt(W+2)]<<6|V[f.charCodeAt(W+3)],g[t++]=d>>16&255,g[t++]=d>>8&255,g[t++]=d&255;2===k&&(d=V[f.charCodeAt(W)]<<2|V[f.charCodeAt(W+1)]>>4,g[t++]=d&255);1===k&&(d=V[f.charCodeAt(W)]<<10|V[f.charCodeAt(W+1)]<<4|V[f.charCodeAt(W+2)]>>2,g[t++]=d>>8&255,g[t++]=d&255);return g};E.fromByteArray=function(f){for(var k=f.length,d=k%
3,g=[],t=0,A=k-d;t<A;t+=16383){for(var W=g,F=W.push,H,x=f,z=t+16383>A?A:t+16383,m=[],P=t;P<z;P+=3)H=(x[P]<<16&16711680)+(x[P+1]<<8&65280)+(x[P+2]&255),m.push(I[H>>18&63]+I[H>>12&63]+I[H>>6&63]+I[H&63]);H=m.join("");F.call(W,H)}1===d?(f=f[k-1],g.push(I[f>>2]+I[f<<4&63]+"==")):2===d&&(f=(f[k-2]<<8)+f[k-1],g.push(I[f>>10]+I[f>>4&63]+I[f<<2&63]+"="));return g.join("")};var I=[],V=[],q="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Q=0;64>Q;++Q)I[Q]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Q],
V["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Q)]=Q;V[45]=62;V[95]=63},function(Q,E){E.read=function(C,u,I,V,q){var f=8*q-V-1;var k=(1<<f)-1,d=k>>1,g=-7;q=I?q-1:0;var t=I?-1:1,A=C[u+q];q+=t;I=A&(1<<-g)-1;A>>=-g;for(g+=f;0<g;I=256*I+C[u+q],q+=t,g-=8);f=I&(1<<-g)-1;I>>=-g;for(g+=V;0<g;f=256*f+C[u+q],q+=t,g-=8);if(0===I)I=1-d;else{if(I===k)return f?NaN:Infinity*(A?-1:1);f+=Math.pow(2,V);I-=d}return(A?-1:1)*f*Math.pow(2,I-V)};E.write=function(C,u,I,V,q,f){var k,d=8*f-
q-1,g=(1<<d)-1,t=g>>1,A=23===q?Math.pow(2,-24)-Math.pow(2,-77):0;f=V?0:f-1;var W=V?1:-1,F=0>u||0===u&&0>1/u?1:0;u=Math.abs(u);isNaN(u)||Infinity===u?(u=isNaN(u)?1:0,V=g):(V=Math.floor(Math.log(u)/Math.LN2),1>u*(k=Math.pow(2,-V))&&(V--,k*=2),u=1<=V+t?u+A/k:u+A*Math.pow(2,1-t),2<=u*k&&(V++,k/=2),V+t>=g?(u=0,V=g):1<=V+t?(u=(u*k-1)*Math.pow(2,q),V+=t):(u=u*Math.pow(2,t-1)*Math.pow(2,q),V=0));for(;8<=q;C[I+f]=u&255,f+=W,u/=256,q-=8);V=V<<q|u;for(d+=q;0<d;C[I+f]=V&255,f+=W,V/=256,d-=8);C[I+f-W]|=128*F}},
function(Q,E){var C={}.toString;Q.exports=Array.isArray||function(u){return"[object Array]"==C.call(u)}},function(Q,E,C){Q=C(46);E.DOMImplementation=Q.DOMImplementation;E.XMLSerializer=Q.XMLSerializer;E.DOMParser=C(68).DOMParser},function(Q,E,C){function u(z){return z.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function I(z){this.options=z||{locator:{}}}function V(z,m,P){function l(J){var h=z[J];!h&&w&&(h=2==z.length?function(y){z(J,y)}:z);e[J]=h&&function(y){h("[xmldom "+J+"]\t"+
y+k(P))}||function(){}}if(!z){if(m instanceof q)return m;z=m}var e={},w=z instanceof Function;P=P||{};l("warning");l("error");l("fatalError");return e}function q(){this.cdata=!1}function f(z,m){m.lineNumber=z.lineNumber;m.columnNumber=z.columnNumber}function k(z){if(z)return"\n@"+(z.systemId||"")+"#[line:"+z.lineNumber+",col:"+z.columnNumber+"]"}function d(z,m,P){return"string"==typeof z?z.substr(m,P):z.length>=m+P||m?new java.lang.String(z,m,P)+"":z}function g(z,m){z.currentElement?z.currentElement.appendChild(m):
z.doc.appendChild(m)}Q=C(31);var t=C(46),A=C(69);C=C(70);var W=t.DOMImplementation,F=Q.NAMESPACE,H=C.ParseError,x=C.XMLReader;I.prototype.parseFromString=function(z,m){var P=this.options,l=new x,e=P.domBuilder||new q,w=P.errorHandler,J=P.locator,h=P.xmlns||{},y=/\/x?html?$/.test(m);m=y?A.HTML_ENTITIES:A.XML_ENTITIES;J&&e.setDocumentLocator(J);l.errorHandler=V(w,e,J);l.domBuilder=P.domBuilder||e;y&&(h[""]=F.HTML);h.xml=h.xml||F.XML;P=P.normalizeLineEndings||u;z&&"string"===typeof z?l.parse(P(z),h,
m):l.errorHandler.error("invalid doc source");return e.doc};q.prototype={startDocument:function(){this.doc=(new W).createDocument(null,null,null);this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(z,m,P,l){var e=this.doc;m=e.createElementNS(z,P||m);var w=l.length;g(this,m);this.currentElement=m;this.locator&&f(this.locator,m);for(var J=0;J<w;J++){z=l.getURI(J);var h=l.getValue(J);P=l.getQName(J);z=e.createAttributeNS(z,P);this.locator&&f(l.getLocator(J),z);z.value=z.nodeValue=
h;m.setAttributeNode(z)}},endElement:function(z,m,P){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(z,m){},endPrefixMapping:function(z){},processingInstruction:function(z,m){z=this.doc.createProcessingInstruction(z,m);this.locator&&f(this.locator,z);g(this,z)},ignorableWhitespace:function(z,m,P){},characters:function(z,m,P){if(z=d.apply(this,arguments)){var l=this.cdata?this.doc.createCDATASection(z):this.doc.createTextNode(z);this.currentElement?this.currentElement.appendChild(l):
/^\s*$/.test(z)&&this.doc.appendChild(l);this.locator&&f(this.locator,l)}},skippedEntity:function(z){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(z){if(this.locator=z)z.lineNumber=0},comment:function(z,m,P){z=d.apply(this,arguments);var l=this.doc.createComment(z);this.locator&&f(this.locator,l);g(this,l)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(z,m,P){var l=this.doc.implementation;l&&l.createDocumentType&&(z=l.createDocumentType(z,
m,P),this.locator&&f(this.locator,z),g(this,z),this.doc.doctype=z)},warning:function(z){console.warn("[xmldom warning]\t"+z,k(this.locator))},error:function(z){console.error("[xmldom error]\t"+z,k(this.locator))},fatalError:function(z){throw new H(z,this.locator);}};"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(z){q.prototype[z]=function(){return null}});E.__DOMHandler=
q;E.normalizeLineEndings=u;E.DOMParser=I},function(Q,E,C){Q=C(31).freeze;E.XML_ENTITIES=Q({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});E.HTML_ENTITIES=Q({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",
Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",
oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",nbsp:"\u00a0",iexcl:"\u00a1",cent:"\u00a2",pound:"\u00a3",curren:"\u00a4",yen:"\u00a5",brvbar:"\u00a6",sect:"\u00a7",uml:"\u00a8",copy:"\u00a9",ordf:"\u00aa",laquo:"\u00ab",not:"\u00ac",shy:"\u00ad\u00ad",reg:"\u00ae",macr:"\u00af",deg:"\u00b0",plusmn:"\u00b1",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",
raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",times:"\u00d7",divide:"\u00f7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",
ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",
gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",
emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",
lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"});E.entityMap=E.HTML_ENTITIES},function(Q,E,C){function u(x,z){this.message=x;this.locator=z;Error.captureStackTrace&&Error.captureStackTrace(this,u)}function I(){}function V(x,z,m,P,l){function e(za){var ta=za.slice(1,-1);if(ta in m)return m[ta];if("#"===ta.charAt(0))return za=parseInt(ta.substr(1).replace("x","0x")),65535<za?(za-=65536,za=String.fromCharCode(55296+(za>>10),56320+(za&1023))):
za=String.fromCharCode(za),za;l.error("entity not found:"+za);return za}function w(za){if(za>Z){var ta=x.substring(Z,za).replace(/&#?\w+;/g,e);M&&J(Z);P.characters(ta,0,za-Z);Z=za}}function J(za,ta){for(;za>=y&&(ta=G.exec(x));)h=ta.index,y=h+ta[0].length,M.lineNumber++;M.columnNumber=za-h+1}var h=0,y=0,G=/.*(?:\r\n?|\n)|.*$/g,M=P.locator;z=[{currentNSMap:z}];for(var S={},Z=0;;){try{var ca=x.indexOf("<",Z);if(0>ca){if(!x.substr(Z).match(/^\s*$/)){var ea=P.doc,ia=ea.createTextNode(x.substr(Z));ea.appendChild(ia);
P.currentElement=ia}break}ca>Z&&w(ca);switch(x.charAt(ca+1)){case "/":var na=x.indexOf(">",ca+3),r=x.substring(ca+2,na).replace(/[ \t\n\r]+$/g,""),n=z.pop();0>na?(r=x.substring(ca+2).replace(/[\s<].*/,""),l.error("end tag name: "+r+" is not complete:"+n.tagName),na=ca+1+r.length):r.match(/\s</)&&(r=r.replace(/[\s<].*/,""),l.error("end tag name: "+r+" maybe not complete"),na=ca+1+r.length);var v=n.localNSMap,D=n.tagName==r;if(D||n.tagName&&n.tagName.toLowerCase()==r.toLowerCase()){P.endElement(n.uri,
n.localName,r);if(v)for(var U in v)P.endPrefixMapping(U);D||l.fatalError("end tag name: "+r+" is not match the current start tagName:"+n.tagName)}else z.push(n);na++;break;case "?":M&&J(ca);na=A(x,ca,P);break;case "!":M&&J(ca);na=t(x,ca,P,l);break;default:M&&J(ca);var N=new W,O=z[z.length-1].currentNSMap;na=f(x,ca,N,O,e,l);var K=N.length;!N.closed&&g(x,na,N.tagName,S)&&(N.closed=!0,m.nbsp||l.warning("unclosed xml attribute"));if(M&&K){for(var pa=q(M,{}),xa=0;xa<K;xa++){var ua=N[xa];J(ua.offset);ua.locator=
q(M,{})}P.locator=pa;k(N,P,O)&&z.push(N);P.locator=M}else k(N,P,O)&&z.push(N);F.isHTML(N.uri)&&!N.closed?na=d(x,na,N.tagName,e,P):na++}}catch(za){if(za instanceof u)throw za;l.error("element parse error: "+za);na=-1}na>Z?Z=na:w(Math.max(ca,Z)+1)}}function q(x,z){z.lineNumber=x.lineNumber;z.columnNumber=x.columnNumber;return z}function f(x,z,m,P,l,e){function w(S,Z,ca){m.attributeNames.hasOwnProperty(S)&&e.fatalError("Attribute "+S+" redefined");m.addValue(S,Z.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,
l),ca)}for(var J,h,y=++z,G=0;;){var M=x.charAt(y);switch(M){case "=":if(1===G)J=x.slice(z,y),G=3;else if(2===G)G=3;else throw Error("attribute equal must after attrName");break;case "'":case '"':if(3===G||1===G)if(1===G&&(e.warning('attribute value must after "="'),J=x.slice(z,y)),z=y+1,y=x.indexOf(M,z),0<y)h=x.slice(z,y),w(J,h,z-1),G=5;else throw Error("attribute value no end '"+M+"' match");else if(4==G)h=x.slice(z,y),w(J,h,z),e.warning('attribute "'+J+'" missed start quot('+M+")!!"),z=y+1,G=5;
else throw Error('attribute value must after "="');break;case "/":switch(G){case 0:m.setTagName(x.slice(z,y));case 5:case 6:case 7:G=7,m.closed=!0;case 4:case 1:case 2:break;default:throw Error("attribute invalid close char('/')");}break;case "":return e.error("unexpected end of input"),0==G&&m.setTagName(x.slice(z,y)),y;case ">":switch(G){case 0:m.setTagName(x.slice(z,y));case 5:case 6:case 7:break;case 4:case 1:h=x.slice(z,y),"/"===h.slice(-1)&&(m.closed=!0,h=h.slice(0,-1));case 2:2===G&&(h=J);
4==G?(e.warning('attribute "'+h+'" missed quot(")!'),w(J,h,z)):(F.isHTML(P[""])&&h.match(/^(?:disabled|checked|selected)$/i)||e.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),w(h,h,z));break;case 3:throw Error("attribute value missed!!");}return y;case "\u0080":M=" ";default:if(" ">=M)switch(G){case 0:m.setTagName(x.slice(z,y));G=6;break;case 1:J=x.slice(z,y);G=2;break;case 4:h=x.slice(z,y),e.warning('attribute "'+h+'" missed quot(")!!'),w(J,h,z);case 5:G=6}else switch(G){case 2:F.isHTML(P[""])&&
J.match(/^(?:disabled|checked|selected)$/i)||e.warning('attribute "'+J+'" missed value!! "'+J+'" instead2!!');w(J,J,z);z=y;G=1;break;case 5:e.warning('attribute space is required"'+J+'"!!');case 6:G=1;z=y;break;case 3:G=4;z=y;break;case 7:throw Error("elements closed character '/' and '>' must be connected to");}}y++}}function k(x,z,m){for(var P=x.tagName,l=null,e=x.length;e--;){var w=x[e],J=w.qName,h=w.value,y=J.indexOf(":");if(0<y){var G=w.prefix=J.slice(0,y);y=J.slice(y+1);G="xmlns"===G&&y}else y=
J,G="xmlns"===J&&"";w.localName=y;if(!1!==G){if(null==l){l={};y=void 0;J=m;var M=m={};for(y in J)M[y]=J[y]}m[G]=l[G]=h;w.uri=F.XMLNS;z.startPrefixMapping(G,h)}}for(e=x.length;e--;)if(w=x[e],G=w.prefix)"xml"===G&&(w.uri=F.XML),"xmlns"!==G&&(w.uri=m[G||""]);y=P.indexOf(":");0<y?(G=x.prefix=P.slice(0,y),y=x.localName=P.slice(y+1)):(G=null,y=x.localName=P);e=x.uri=m[G||""];z.startElement(e,y,P,x);if(x.closed){if(z.endElement(e,y,P),l)for(G in l)z.endPrefixMapping(G)}else return x.currentNSMap=m,x.localNSMap=
l,!0}function d(x,z,m,P,l){if(/^(?:script|textarea)$/i.test(m)){var e=x.indexOf("</"+m+">",z);x=x.substring(z+1,e);if(/[&<]/.test(x)){if(/^script$/i.test(m))return l.characters(x,0,x.length),e;x=x.replace(/&#?\w+;/g,P);l.characters(x,0,x.length);return e}}return z+1}function g(x,z,m,P){var l=P[m];null==l&&(l=x.lastIndexOf("</"+m+">"),l<z&&(l=x.lastIndexOf("</"+m)),P[m]=l);return l<z}function t(x,z,m,P){switch(x.charAt(z+2)){case "-":if("-"===x.charAt(z+3)){var l=x.indexOf("--\x3e",z+4);if(l>z)return m.comment(x,
z+4,l-z-4),l+3;P.error("Unclosed comment")}break;default:if("CDATA["==x.substr(z+3,6))return l=x.indexOf("]]\x3e",z+9),m.startCDATA(),m.characters(x,z+9,l-z-9),m.endCDATA(),l+3;a:{P=[];l=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;l.lastIndex=z;for(l.exec(x);z=l.exec(x);)if(P.push(z),z[1]){l=P;break a}l=void 0}var e=l.length;if(1<e&&/!doctype/i.test(l[0][0]))return x=l[1][0],P=z=!1,3<e&&(/^public$/i.test(l[2][0])?(z=l[3][0],P=4<e&&l[4][0]):/^system$/i.test(l[2][0])&&(P=l[3][0])),l=l[e-1],m.startDTD(x,
z,P),m.endDTD(),l.index+l[0].length}return-1}function A(x,z,m){var P=x.indexOf("?>",z);return P&&(x=x.substring(z,P).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(m.processingInstruction(x[1],x[2]),P+2):-1}function W(){this.attributeNames={}}var F=C(31).NAMESPACE;Q=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;C=new RegExp("[\\-\\.0-9"+Q.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]");var H=new RegExp("^"+
Q.source+C.source+"*(?::"+Q.source+C.source+"*)?$");u.prototype=Error();u.prototype.name=u.name;I.prototype={parse:function(x,z,m){var P=this.domBuilder;P.startDocument();var l=z,e=z={},w;for(w in l)e[w]=l[w];V(x,z,m,P,this.errorHandler);P.endDocument()}};W.prototype={setTagName:function(x){if(!H.test(x))throw Error("invalid tagName:"+x);this.tagName=x},addValue:function(x,z,m){if(!H.test(x))throw Error("invalid attribute:"+x);this.attributeNames[x]=this.length;this[this.length++]={qName:x,value:z,
offset:m}},length:0,getLocalName:function(x){return this[x].localName},getLocator:function(x){return this[x].locator},getQName:function(x){return this[x].qName},getURI:function(x){return this[x].uri},getValue:function(x){return this[x].value}};E.XMLReader=I;E.ParseError=u},function(Q,E){function C(){this.init()}function u(c){this.expression=c}function I(){}function V(c){0<arguments.length&&this.init(c)}function q(c){0<arguments.length&&this.init(c)}function f(c,X){0<arguments.length&&this.init(c,
X)}function k(c,X){0<arguments.length&&this.init(c,X)}function d(c,X){0<arguments.length&&this.init(c,X)}function g(c,X){0<arguments.length&&this.init(c,X)}function t(c,X){0<arguments.length&&this.init(c,X)}function A(c,X){0<arguments.length&&this.init(c,X)}function W(c,X){0<arguments.length&&this.init(c,X)}function F(c,X){0<arguments.length&&this.init(c,X)}function H(c,X){0<arguments.length&&this.init(c,X)}function x(c,X){0<arguments.length&&this.init(c,X)}function z(c,X){0<arguments.length&&this.init(c,
X)}function m(c,X){0<arguments.length&&this.init(c,X)}function P(c,X){0<arguments.length&&this.init(c,X)}function l(c,X){0<arguments.length&&this.init(c,X)}function e(c,X){0<arguments.length&&this.init(c,X)}function w(c,X,ka){0<arguments.length&&this.init(c,X,ka)}function J(c,X){0<arguments.length&&this.init(c,X)}function h(c,X,ka){0<arguments.length&&this.init(c,X,ka)}function y(c,X){0<arguments.length&&this.init(c,X)}function G(c){0<arguments.length&&this.init(c)}function M(c,X){0<arguments.length&&
this.init(c,X)}function S(c){0<arguments.length&&this.init(c)}function Z(c){0<arguments.length&&this.init(c)}function ca(c){0<arguments.length&&this.init(c)}function ea(c){this.init(c)}function ia(){this.init()}function na(c,X,ka){this.isXPathNamespace=!0;this.ownerDocument=ka.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=c;this.nodeValue=this.namespaceURI=X;this.ownerElement=ka;this.nodeType=na.XPATH_NAMESPACE_NODE}function r(c,X,ka){this.variableResolver=null!=c?c:new n;this.namespaceResolver=
null!=X?X:new D;this.functionResolver=null!=ka?ka:new v}function n(){}function v(c){this.thisArg=null!=c?c:za;this.functions={};this.addStandardFunctions()}function D(){}function U(c,X){this.code=c;this.exception=X}function N(c,X,ka){this.xpath=ka.parse(c);this.context=new r;this.context.namespaceResolver=new O(X)}function O(c){this.xpathNSResolver=c}function K(c){this.node=c;this.namespaceResolver=new D}function pa(c,X){X==pa.ANY_TYPE&&(c.constructor===S?X=pa.STRING_TYPE:c.constructor===Z?X=pa.NUMBER_TYPE:
c.constructor===ca?X=pa.BOOLEAN_TYPE:c.constructor===ia&&(X=pa.UNORDERED_NODE_ITERATOR_TYPE));this.resultType=X;switch(X){case pa.NUMBER_TYPE:this.numberValue=c.numberValue();return;case pa.STRING_TYPE:this.stringValue=c.stringValue();return;case pa.BOOLEAN_TYPE:this.booleanValue=c.booleanValue();return;case pa.ANY_UNORDERED_NODE_TYPE:case pa.FIRST_ORDERED_NODE_TYPE:if(c.constructor===ia){this.singleNodeValue=c.first();return}break;case pa.UNORDERED_NODE_ITERATOR_TYPE:case pa.ORDERED_NODE_ITERATOR_TYPE:if(c.constructor===
ia){this.invalidIteratorState=!1;this.nodes=c.toArray();this.iteratorIndex=0;return}break;case pa.UNORDERED_NODE_SNAPSHOT_TYPE:case pa.ORDERED_NODE_SNAPSHOT_TYPE:if(c.constructor===ia){this.nodes=c.toArray();this.snapshotLength=this.nodes.length;return}}throw new U(U.TYPE_ERR);}function xa(c,X){c.createExpression=function(ka,ja){try{return new N(ka,ja,X)}catch(la){throw new U(U.INVALID_EXPRESSION_ERR,la);}};c.createNSResolver=function(ka){return new K(ka)};c.evaluate=function(ka,ja,la,Ba,Ha){if(0>
Ba||9<Ba)throw{code:0,toString:function(){return"Request type not supported"}};return c.createExpression(ka,la,X).evaluate(ja,Ba,Ha)}}C.prototype={};C.prototype.constructor=C;C.superclass=Object.prototype;C.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=function(c){return new k(c[0],c[2])};this.reduceActions[5]=function(c){return new d(c[0],c[2])};this.reduceActions[7]=function(c){return new g(c[0],c[2])};this.reduceActions[8]=function(c){return new t(c[0],c[2])};this.reduceActions[10]=
function(c){return new A(c[0],c[2])};this.reduceActions[11]=function(c){return new W(c[0],c[2])};this.reduceActions[12]=function(c){return new F(c[0],c[2])};this.reduceActions[13]=function(c){return new H(c[0],c[2])};this.reduceActions[15]=function(c){return new x(c[0],c[2])};this.reduceActions[16]=function(c){return new z(c[0],c[2])};this.reduceActions[18]=function(c){return new m(c[0],c[2])};this.reduceActions[19]=function(c){return new P(c[0],c[2])};this.reduceActions[20]=function(c){return new l(c[0],
c[2])};this.reduceActions[22]=function(c){return new q(c[1])};this.reduceActions[24]=function(c){return new e(c[0],c[2])};this.reduceActions[25]=function(c){return new w(void 0,void 0,c[0])};this.reduceActions[27]=function(c){c[0].locationPath=c[2];return c[0]};this.reduceActions[28]=function(c){c[0].locationPath=c[2];c[0].locationPath.steps.unshift(new h(h.DESCENDANTORSELF,new y(y.NODE,void 0),[]));return c[0]};this.reduceActions[29]=function(c){return new w(c[0],[],void 0)};this.reduceActions[30]=
function(c){return ta.instance_of(c[0],w)?(void 0==c[0].filterPredicates&&(c[0].filterPredicates=[]),c[0].filterPredicates.push(c[1]),c[0]):new w(c[0],[c[1]],void 0)};this.reduceActions[32]=function(c){return c[1]};this.reduceActions[33]=function(c){return new S(c[0])};this.reduceActions[34]=function(c){return new Z(c[0])};this.reduceActions[36]=function(c){return new M(c[0],[])};this.reduceActions[37]=function(c){return new M(c[0],c[2])};this.reduceActions[38]=function(c){return[c[0]]};this.reduceActions[39]=
function(c){c[2].unshift(c[0]);return c[2]};this.reduceActions[43]=function(c){return new J(!0,[])};this.reduceActions[44]=function(c){c[1].absolute=!0;return c[1]};this.reduceActions[46]=function(c){return new J(!1,[c[0]])};this.reduceActions[47]=function(c){c[0].steps.push(c[2]);return c[0]};this.reduceActions[49]=function(c){return new h(c[0],c[1],[])};this.reduceActions[50]=function(c){return new h(h.CHILD,c[0],[])};this.reduceActions[51]=function(c){return new h(c[0],c[1],c[2])};this.reduceActions[52]=
function(c){return new h(h.CHILD,c[0],c[1])};this.reduceActions[54]=function(c){return[c[0]]};this.reduceActions[55]=function(c){c[1].unshift(c[0]);return c[1]};this.reduceActions[56]=function(c){return"ancestor"==c[0]?h.ANCESTOR:"ancestor-or-self"==c[0]?h.ANCESTORORSELF:"attribute"==c[0]?h.ATTRIBUTE:"child"==c[0]?h.CHILD:"descendant"==c[0]?h.DESCENDANT:"descendant-or-self"==c[0]?h.DESCENDANTORSELF:"following"==c[0]?h.FOLLOWING:"following-sibling"==c[0]?h.FOLLOWINGSIBLING:"namespace"==c[0]?h.NAMESPACE:
"parent"==c[0]?h.PARENT:"preceding"==c[0]?h.PRECEDING:"preceding-sibling"==c[0]?h.PRECEDINGSIBLING:"self"==c[0]?h.SELF:-1};this.reduceActions[57]=function(c){return h.ATTRIBUTE};this.reduceActions[59]=function(c){return"comment"==c[0]?new y(y.COMMENT,void 0):"text"==c[0]?new y(y.TEXT,void 0):"processing-instruction"==c[0]?new y(y.PI,void 0):"node"==c[0]?new y(y.NODE,void 0):new y(-1,void 0)};this.reduceActions[60]=function(c){return new y(y.PI,c[2])};this.reduceActions[61]=function(c){return c[1]};
this.reduceActions[63]=function(c){c[1].absolute=!0;c[1].steps.unshift(new h(h.DESCENDANTORSELF,new y(y.NODE,void 0),[]));return c[1]};this.reduceActions[64]=function(c){c[0].steps.push(new h(h.DESCENDANTORSELF,new y(y.NODE,void 0),[]));c[0].steps.push(c[2]);return c[0]};this.reduceActions[65]=function(c){return new h(h.SELF,new y(y.NODE,void 0),[])};this.reduceActions[66]=function(c){return new h(h.PARENT,new y(y.NODE,void 0),[])};this.reduceActions[67]=function(c){return new G(c[1])};this.reduceActions[68]=
function(c){return new y(y.NAMETESTANY,void 0)};this.reduceActions[69]=function(c){c=c[0].substring(0,c[0].indexOf(":"));return new y(y.NAMETESTPREFIXANY,c)};this.reduceActions[70]=function(c){return new y(y.NAMETESTQNAME,c[0])}};C.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
C.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
C.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
C.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];C.DOUBLEDOT=2;C.DOUBLECOLON=3;C.DOUBLESLASH=4;C.NOTEQUAL=5;C.LESSTHANOREQUAL=6;C.GREATERTHANOREQUAL=7;C.AND=
8;C.OR=9;C.MOD=10;C.DIV=11;C.MULTIPLYOPERATOR=12;C.FUNCTIONNAME=13;C.AXISNAME=14;C.LITERAL=15;C.NUMBER=16;C.ASTERISKNAMETEST=17;C.QNAME=18;C.NCNAMECOLONASTERISK=19;C.NODETYPE=20;C.PROCESSINGINSTRUCTIONWITHLITERAL=21;C.EQUALS=22;C.LESSTHAN=23;C.GREATERTHAN=24;C.PLUS=25;C.MINUS=26;C.BAR=27;C.SLASH=28;C.LEFTPARENTHESIS=29;C.RIGHTPARENTHESIS=30;C.COMMA=31;C.AT=32;C.LEFTBRACKET=33;C.RIGHTBRACKET=34;C.DOT=35;C.DOLLAR=36;C.prototype.tokenize=function(c){var X=[],ka=[];c+="\x00";for(var ja=0,la=c.charAt(ja++);;){for(;" "==
la||"\t"==la||"\r"==la||"\n"==la;)la=c.charAt(ja++);if("\x00"==la||ja>=c.length)break;if("("==la)X.push(C.LEFTPARENTHESIS),ka.push(la),la=c.charAt(ja++);else if(")"==la)X.push(C.RIGHTPARENTHESIS),ka.push(la),la=c.charAt(ja++);else if("["==la)X.push(C.LEFTBRACKET),ka.push(la),la=c.charAt(ja++);else if("]"==la)X.push(C.RIGHTBRACKET),ka.push(la),la=c.charAt(ja++);else if("@"==la)X.push(C.AT),ka.push(la),la=c.charAt(ja++);else if(","==la)X.push(C.COMMA),ka.push(la),la=c.charAt(ja++);else if("|"==la)X.push(C.BAR),
ka.push(la),la=c.charAt(ja++);else if("+"==la)X.push(C.PLUS),ka.push(la),la=c.charAt(ja++);else if("-"==la)X.push(C.MINUS),ka.push(la),la=c.charAt(ja++);else if("="==la)X.push(C.EQUALS),ka.push(la),la=c.charAt(ja++);else if("$"==la)X.push(C.DOLLAR),ka.push(la),la=c.charAt(ja++);else if("."==la)if(la=c.charAt(ja++),"."==la)X.push(C.DOUBLEDOT),ka.push(".."),la=c.charAt(ja++);else if("0"<=la&&"9">=la){var Ba="."+la;for(la=c.charAt(ja++);"0"<=la&&"9">=la;)Ba+=la,la=c.charAt(ja++);X.push(C.NUMBER);ka.push(Ba)}else X.push(C.DOT),
ka.push(".");else if("'"==la||'"'==la){Ba=la;for(var Ha="";(la=c.charAt(ja++))!=Ba;)Ha+=la;X.push(C.LITERAL);ka.push(Ha);la=c.charAt(ja++)}else if("0"<=la&&"9">=la){Ba=la;for(la=c.charAt(ja++);"0"<=la&&"9">=la;)Ba+=la,la=c.charAt(ja++);if("."==la&&"0"<=c.charAt(ja)&&"9">=c.charAt(ja))for(Ba+=la,Ba+=c.charAt(ja++),la=c.charAt(ja++);"0"<=la&&"9">=la;)Ba+=la,la=c.charAt(ja++);X.push(C.NUMBER);ka.push(Ba)}else if("*"==la){if(0<X.length&&(Ba=X[X.length-1],Ba!=C.AT&&Ba!=C.DOUBLECOLON&&Ba!=C.LEFTPARENTHESIS&&
Ba!=C.LEFTBRACKET&&Ba!=C.AND&&Ba!=C.OR&&Ba!=C.MOD&&Ba!=C.DIV&&Ba!=C.MULTIPLYOPERATOR&&Ba!=C.SLASH&&Ba!=C.DOUBLESLASH&&Ba!=C.BAR&&Ba!=C.PLUS&&Ba!=C.MINUS&&Ba!=C.EQUALS&&Ba!=C.NOTEQUAL&&Ba!=C.LESSTHAN&&Ba!=C.LESSTHANOREQUAL&&Ba!=C.GREATERTHAN&&Ba!=C.GREATERTHANOREQUAL)){X.push(C.MULTIPLYOPERATOR);ka.push(la);la=c.charAt(ja++);continue}X.push(C.ASTERISKNAMETEST);ka.push(la);la=c.charAt(ja++)}else if(":"==la&&":"==c.charAt(ja))X.push(C.DOUBLECOLON),ka.push("::"),ja++,la=c.charAt(ja++);else if("/"==la)la=
c.charAt(ja++),"/"==la?(X.push(C.DOUBLESLASH),ka.push("//"),la=c.charAt(ja++)):(X.push(C.SLASH),ka.push("/"));else if("!"==la&&"="==c.charAt(ja))X.push(C.NOTEQUAL),ka.push("!="),ja++,la=c.charAt(ja++);else if("<"==la)"="==c.charAt(ja)?(X.push(C.LESSTHANOREQUAL),ka.push("<="),ja++):(X.push(C.LESSTHAN),ka.push("<")),la=c.charAt(ja++);else if(">"==la)"="==c.charAt(ja)?(X.push(C.GREATERTHANOREQUAL),ka.push(">="),ja++):(X.push(C.GREATERTHAN),ka.push(">")),la=c.charAt(ja++);else if("_"==la||ta.isLetter(la.charCodeAt(0))){Ha=
la;for(la=c.charAt(ja++);ta.isNCNameChar(la.charCodeAt(0));)Ha+=la,la=c.charAt(ja++);if(0<X.length&&(Ba=X[X.length-1],Ba!=C.AT&&Ba!=C.DOUBLECOLON&&Ba!=C.LEFTPARENTHESIS&&Ba!=C.LEFTBRACKET&&Ba!=C.AND&&Ba!=C.OR&&Ba!=C.MOD&&Ba!=C.DIV&&Ba!=C.MULTIPLYOPERATOR&&Ba!=C.SLASH&&Ba!=C.DOUBLESLASH&&Ba!=C.BAR&&Ba!=C.PLUS&&Ba!=C.MINUS&&Ba!=C.EQUALS&&Ba!=C.NOTEQUAL&&Ba!=C.LESSTHAN&&Ba!=C.LESSTHANOREQUAL&&Ba!=C.GREATERTHAN&&Ba!=C.GREATERTHANOREQUAL)){if("and"==Ha){X.push(C.AND);ka.push(Ha);continue}if("or"==Ha){X.push(C.OR);
ka.push(Ha);continue}if("mod"==Ha){X.push(C.MOD);ka.push(Ha);continue}if("div"==Ha){X.push(C.DIV);ka.push(Ha);continue}}if(":"==la){if("*"==c.charAt(ja)){X.push(C.NCNAMECOLONASTERISK);ka.push(Ha+":*");ja++;la=c.charAt(ja++);continue}if("_"==c.charAt(ja)||ta.isLetter(c.charCodeAt(ja))){Ha+=":";for(la=c.charAt(ja++);ta.isNCNameChar(la.charCodeAt(0));)Ha+=la,la=c.charAt(ja++);if("("==la){X.push(C.FUNCTIONNAME);ka.push(Ha);continue}X.push(C.QNAME);ka.push(Ha);continue}if(":"==c.charAt(ja)){X.push(C.AXISNAME);
ka.push(Ha);continue}}"("==la?"comment"==Ha||"text"==Ha||"node"==Ha?X.push(C.NODETYPE):"processing-instruction"==Ha?")"==c.charAt(ja)?X.push(C.NODETYPE):X.push(C.PROCESSINGINSTRUCTIONWITHLITERAL):X.push(C.FUNCTIONNAME):X.push(C.QNAME);ka.push(Ha)}else throw Error("Unexpected character "+la);}X.push(1);ka.push("[EOF]");return[X,ka]};C.SHIFT="s";C.REDUCE="r";C.ACCEPT="a";C.prototype.parse=function(c){c=this.tokenize(c);if(void 0!=c){var X=c[0];var ka=c[1];var ja=0,la=[],Ba=[],Ha=[],Ma;la.push(0);Ba.push(1);
Ha.push("_S");var Sa=X[ja];for(Ma=ka[ja++];;)switch(c=la[la.length-1],C.actionTable[c].charAt(Sa-1)){case C.SHIFT:Ba.push(-Sa);Ha.push(Ma);la.push(C.actionTableNumber[c].charCodeAt(Sa-1)-32);Sa=X[ja];Ma=ka[ja++];break;case C.REDUCE:for(var Ka=C.productions[C.actionTableNumber[c].charCodeAt(Sa-1)-32][1],Ia=[],Ra=0;Ra<Ka;Ra++)Ba.pop(),Ia.unshift(Ha.pop()),la.pop();Ka=la[la.length-1];Ba.push(C.productions[C.actionTableNumber[c].charCodeAt(Sa-1)-32][0]);void 0==this.reduceActions[C.actionTableNumber[c].charCodeAt(Sa-
1)-32]?Ha.push(Ia[0]):Ha.push(this.reduceActions[C.actionTableNumber[c].charCodeAt(Sa-1)-32](Ia));la.push(C.gotoTable[Ka].charCodeAt(C.productions[C.actionTableNumber[c].charCodeAt(Sa-1)-32][0]-2)-33);break;case C.ACCEPT:return new u(Ha.pop());default:throw Error("XPath parse error");}}};u.prototype={};u.prototype.constructor=u;u.superclass=Object.prototype;u.prototype.toString=function(){return this.expression.toString()};u.prototype.evaluate=function(c){c.contextNode=c.expressionContextNode;c.contextSize=
1;c.contextPosition=1;c.caseInsensitive=!1;if(null!=c.contextNode){var X=c.contextNode;9!=X.nodeType&&(X=X.ownerDocument);try{c.caseInsensitive=X.implementation.hasFeature("HTML","2.0")}catch(ka){c.caseInsensitive=!0}}return this.expression.evaluate(c)};u.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";u.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";I.prototype={};I.prototype.constructor=I;I.superclass=Object.prototype;I.prototype.init=function(){};I.prototype.toString=function(){return"<Expression>"};
I.prototype.evaluate=function(c){throw Error("Could not evaluate expression.");};V.prototype=new I;V.prototype.constructor=V;V.superclass=I.prototype;V.prototype.init=function(c){this.rhs=c};q.prototype=new V;q.prototype.constructor=q;q.superclass=V.prototype;q.prototype.init=function(c){q.superclass.init.call(this,c)};q.prototype.evaluate=function(c){return this.rhs.evaluate(c).number().negate()};q.prototype.toString=function(){return"-"+this.rhs.toString()};f.prototype=new I;f.prototype.constructor=
f;f.superclass=I.prototype;f.prototype.init=function(c,X){this.lhs=c;this.rhs=X};k.prototype=new f;k.prototype.constructor=k;k.superclass=f.prototype;k.prototype.init=function(c,X){k.superclass.init.call(this,c,X)};k.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};k.prototype.evaluate=function(c){var X=this.lhs.evaluate(c).bool();return X.booleanValue()?X:this.rhs.evaluate(c).bool()};d.prototype=new f;d.prototype.constructor=d;d.superclass=f.prototype;d.prototype.init=
function(c,X){d.superclass.init.call(this,c,X)};d.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};d.prototype.evaluate=function(c){var X=this.lhs.evaluate(c).bool();return X.booleanValue()?this.rhs.evaluate(c).bool():X};g.prototype=new f;g.prototype.constructor=g;g.superclass=f.prototype;g.prototype.init=function(c,X){g.superclass.init.call(this,c,X)};g.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};g.prototype.evaluate=
function(c){return this.lhs.evaluate(c).equals(this.rhs.evaluate(c))};t.prototype=new f;t.prototype.constructor=t;t.superclass=f.prototype;t.prototype.init=function(c,X){t.superclass.init.call(this,c,X)};t.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};t.prototype.evaluate=function(c){return this.lhs.evaluate(c).notequal(this.rhs.evaluate(c))};A.prototype=new f;A.prototype.constructor=A;A.superclass=f.prototype;A.prototype.init=function(c,X){A.superclass.init.call(this,
c,X)};A.prototype.evaluate=function(c){return this.lhs.evaluate(c).lessthan(this.rhs.evaluate(c))};A.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};W.prototype=new f;W.prototype.constructor=W;W.superclass=f.prototype;W.prototype.init=function(c,X){W.superclass.init.call(this,c,X)};W.prototype.evaluate=function(c){return this.lhs.evaluate(c).greaterthan(this.rhs.evaluate(c))};W.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+
")"};F.prototype=new f;F.prototype.constructor=F;F.superclass=f.prototype;F.prototype.init=function(c,X){F.superclass.init.call(this,c,X)};F.prototype.evaluate=function(c){return this.lhs.evaluate(c).lessthanorequal(this.rhs.evaluate(c))};F.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};H.prototype=new f;H.prototype.constructor=H;H.superclass=f.prototype;H.prototype.init=function(c,X){H.superclass.init.call(this,c,X)};H.prototype.evaluate=function(c){return this.lhs.evaluate(c).greaterthanorequal(this.rhs.evaluate(c))};
H.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};x.prototype=new f;x.prototype.constructor=x;x.superclass=f.prototype;x.prototype.init=function(c,X){x.superclass.init.call(this,c,X)};x.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().plus(this.rhs.evaluate(c).number())};x.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};z.prototype=new f;z.prototype.constructor=z;z.superclass=f.prototype;z.prototype.init=
function(c,X){z.superclass.init.call(this,c,X)};z.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().minus(this.rhs.evaluate(c).number())};z.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};m.prototype=new f;m.prototype.constructor=m;m.superclass=f.prototype;m.prototype.init=function(c,X){m.superclass.init.call(this,c,X)};m.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().multiply(this.rhs.evaluate(c).number())};m.prototype.toString=
function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};P.prototype=new f;P.prototype.constructor=P;P.superclass=f.prototype;P.prototype.init=function(c,X){P.superclass.init.call(this,c,X)};P.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().div(this.rhs.evaluate(c).number())};P.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};l.prototype=new f;l.prototype.constructor=l;l.superclass=f.prototype;l.prototype.init=function(c,
X){l.superclass.init.call(this,c,X)};l.prototype.evaluate=function(c){return this.lhs.evaluate(c).number().mod(this.rhs.evaluate(c).number())};l.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};e.prototype=new f;e.prototype.constructor=e;e.superclass=f.prototype;e.prototype.init=function(c,X){e.superclass.init.call(this,c,X)};e.prototype.evaluate=function(c){return this.lhs.evaluate(c).nodeset().union(this.rhs.evaluate(c).nodeset())};e.prototype.toString=
function(){return this.lhs.toString()+" | "+this.rhs.toString()};w.prototype=new I;w.prototype.constructor=w;w.superclass=I.prototype;w.prototype.init=function(c,X,ka){w.superclass.init.call(this);this.filter=c;this.filterPredicates=X;this.locationPath=ka};w.prototype.evaluate=function(c){var X=new r;X.variableResolver=c.variableResolver;X.functionResolver=c.functionResolver;X.namespaceResolver=c.namespaceResolver;X.expressionContextNode=c.expressionContextNode;X.virtualRoot=c.virtualRoot;X.caseInsensitive=
c.caseInsensitive;if(null==this.filter)c=[c.contextNode];else{var ka=this.filter.evaluate(c);if(!ta.instance_of(ka,ia)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodset if predicates or location path are used");return ka}c=ka.toArray();if(null!=this.filterPredicates)for(ka=0;ka<this.filterPredicates.length;ka++){var ja=this.filterPredicates[ka],la=[];X.contextSize=c.length;for(X.contextPosition=1;X.contextPosition<=
X.contextSize;X.contextPosition++)X.contextNode=c[X.contextPosition-1],this.predicateMatches(ja,X)&&la.push(X.contextNode);c=la}}if(null!=this.locationPath){if(this.locationPath.absolute)if(9!=c[0].nodeType)if(null!=X.virtualRoot)c=[X.virtualRoot];else if(null==c[0].ownerDocument){for(var Ba=c[0];null!=Ba.parentNode;)Ba=Ba.parentNode;c=[Ba]}else c=[c[0].ownerDocument];else c=[c[0]];for(var Ha=0;Ha<this.locationPath.steps.length;Ha++){var Ma=this.locationPath.steps[Ha];la=[];var Sa=[];for(ka=0;ka<
c.length;ka++)switch(X.contextNode=c[ka],Ma.axis){case h.ANCESTOR:if(X.contextNode===X.virtualRoot)break;for(ja=2==X.contextNode.nodeType?this.getOwnerElement(X.contextNode):X.contextNode.parentNode;null!=ja;){Ma.nodeTest.matches(ja,X)&&la.push(ja);if(ja===X.virtualRoot)break;ja=ja.parentNode}break;case h.ANCESTORORSELF:for(ja=X.contextNode;null!=ja&&(Ma.nodeTest.matches(ja,X)&&la.push(ja),ja!==X.virtualRoot);ja=2==ja.nodeType?this.getOwnerElement(ja):ja.parentNode);break;case h.ATTRIBUTE:Ba=X.contextNode.attributes;
if(null!=Ba)for(var Ka=0;Ka<Ba.length;Ka++)ja=Ba.item(Ka),Ma.nodeTest.matches(ja,X)&&la.push(ja);break;case h.CHILD:Ba=0;var Ia=[];for(ja=X.contextNode.firstChild;null!=ja;ja=ja.nextSibling)Ma.nodeTest.matches(ja,X)&&(la.push(ja),Ia.push({contextPosition:++Ba}));for(Ka=0;Ka<Ia.length;Ka++)Ia[Ka].contextSize=Ba,Sa.push(Ia[Ka]);break;case h.DESCENDANT:for(Ka=[X.contextNode.firstChild];0<Ka.length;)for(ja=Ka.pop();null!=ja;)Ma.nodeTest.matches(ja,X)&&la.push(ja),null!=ja.firstChild?(Ka.push(ja.nextSibling),
ja=ja.firstChild):ja=ja.nextSibling;break;case h.DESCENDANTORSELF:Ma.nodeTest.matches(X.contextNode,X)&&la.push(X.contextNode);for(Ka=[X.contextNode.firstChild];0<Ka.length;)for(ja=Ka.pop();null!=ja;)Ma.nodeTest.matches(ja,X)&&la.push(ja),null!=ja.firstChild?(Ka.push(ja.nextSibling),ja=ja.firstChild):ja=ja.nextSibling;break;case h.FOLLOWING:if(X.contextNode===X.virtualRoot)break;Ka=[];null!=X.contextNode.firstChild?Ka.unshift(X.contextNode.firstChild):Ka.unshift(X.contextNode.nextSibling);for(ja=
X.contextNode;null!=ja&&9!=ja.nodeType&&ja!==X.virtualRoot;ja=ja.parentNode)Ka.unshift(ja.nextSibling);do for(ja=Ka.pop();null!=ja;)Ma.nodeTest.matches(ja,X)&&la.push(ja),null!=ja.firstChild?(Ka.push(ja.nextSibling),ja=ja.firstChild):ja=ja.nextSibling;while(0<Ka.length);break;case h.FOLLOWINGSIBLING:if(X.contextNode===X.virtualRoot)break;for(ja=X.contextNode.nextSibling;null!=ja;ja=ja.nextSibling)Ma.nodeTest.matches(ja,X)&&la.push(ja);break;case h.NAMESPACE:Ba={};if(1==X.contextNode.nodeType){Ba.xml=
u.XML_NAMESPACE_URI;Ba.xmlns=u.XMLNS_NAMESPACE_URI;for(ja=X.contextNode;null!=ja&&1==ja.nodeType;ja=ja.parentNode)for(Ka=0;Ka<ja.attributes.length;Ka++){Ia=ja.attributes.item(Ka);var Ra=String(Ia.name);if("xmlns"==Ra)void 0==Ba[""]&&(Ba[""]=Ia.value);else if(6<Ra.length&&"xmlns:"==Ra.substring(0,6)){var db=Ra.substring(6,Ra.length);void 0==Ba[db]&&(Ba[db]=Ia.value)}}for(db in Ba)ja=new NamespaceNode(db,Ba[db],X.contextNode),Ma.nodeTest.matches(ja,X)&&la.push(ja)}break;case h.PARENT:ja=null;X.contextNode!==
X.virtualRoot&&(ja=2==X.contextNode.nodeType?this.getOwnerElement(X.contextNode):X.contextNode.parentNode);null!=ja&&Ma.nodeTest.matches(ja,X)&&la.push(ja);break;case h.PRECEDING:Ka=null!=X.virtualRoot?[X.virtualRoot]:9==X.contextNode.nodeType?[X.contextNode]:[X.contextNode.ownerDocument];a:for(;0<Ka.length;)for(ja=Ka.pop();null!=ja;){if(ja==X.contextNode)break a;Ma.nodeTest.matches(ja,X)&&la.unshift(ja);null!=ja.firstChild?(Ka.push(ja.nextSibling),ja=ja.firstChild):ja=ja.nextSibling}break;case h.PRECEDINGSIBLING:if(X.contextNode===
X.virtualRoot)break;for(ja=X.contextNode.previousSibling;null!=ja;ja=ja.previousSibling)Ma.nodeTest.matches(ja,X)&&la.push(ja);break;case h.SELF:Ma.nodeTest.matches(X.contextNode,X)&&la.push(X.contextNode)}c=la;for(ka=0;ka<Ma.predicates.length;ka++){ja=Ma.predicates[ka];la=[];X.contextSize=c.length;for(X.contextPosition=1;X.contextPosition<=X.contextSize;X.contextPosition++)X.contextNode=c[X.contextPosition-1],Ka=0<Sa.length?this.getLocalCtx(X,Sa[X.contextPosition-1]):X,this.predicateMatches(ja,Ka)&&
la.push(X.contextNode);c=la}}}ka=new ia;ka.addArray(c);return ka};w.prototype.getLocalCtx=function(c,X,ka){ka=new r;ka.variableResolver=c.variableResolver;ka.functionResolver=c.functionResolver;ka.namespaceResolver=c.namespaceResolver;ka.expressionContextNode=c.expressionContextNode;ka.virtualRoot=c.virtualRoot;ka.caseInsensitive=c.caseInsensitive;ka.contextNode=c.contextNode;ka.contextPosition=X.contextPosition;ka.contextSize=X.contextSize;return ka};w.prototype.predicateMatches=function(c,X){c=
c.evaluate(X);return ta.instance_of(c,Z)?X.contextPosition==c.numberValue():c.booleanValue()};w.prototype.toString=function(){if(void 0!=this.filter){var c=this.filter.toString();ta.instance_of(this.filter,S)&&(c="'"+c+"'");if(void 0!=this.filterPredicates)for(var X=0;X<this.filterPredicates.length;X++)c=c+"["+this.filterPredicates[X].toString()+"]";void 0!=this.locationPath&&(this.locationPath.absolute||(c+="/"),c+=this.locationPath.toString());return c}return this.locationPath.toString()};w.prototype.getOwnerElement=
function(c){if(c.ownerElement)return c.ownerElement;try{if(c.selectSingleNode)return c.selectSingleNode("..")}catch(Ha){}for(var X=(9==c.nodeType?c:c.ownerDocument).getElementsByTagName("*"),ka=0;ka<X.length;ka++)for(var ja=X.item(ka),la=ja.attributes,Ba=0;Ba<la.length;Ba++)if(la.item(Ba)===c)return ja;return null};J.prototype={};J.prototype.constructor=J;J.superclass=Object.prototype;J.prototype.init=function(c,X){this.absolute=c;this.steps=X};J.prototype.toString=function(){var c=this.absolute?
"/":"";for(var X=0;X<this.steps.length;X++)0!=X&&(c+="/"),c+=this.steps[X].toString();return c};h.prototype={};h.prototype.constructor=h;h.superclass=Object.prototype;h.prototype.init=function(c,X,ka){this.axis=c;this.nodeTest=X;this.predicates=ka};h.prototype.toString=function(){switch(this.axis){case h.ANCESTOR:var c="ancestor";break;case h.ANCESTORORSELF:c="ancestor-or-self";break;case h.ATTRIBUTE:c="attribute";break;case h.CHILD:c="child";break;case h.DESCENDANT:c="descendant";break;case h.DESCENDANTORSELF:c=
"descendant-or-self";break;case h.FOLLOWING:c="following";break;case h.FOLLOWINGSIBLING:c="following-sibling";break;case h.NAMESPACE:c="namespace";break;case h.PARENT:c="parent";break;case h.PRECEDING:c="preceding";break;case h.PRECEDINGSIBLING:c="preceding-sibling";break;case h.SELF:c="self"}c=c+"::"+this.nodeTest.toString();for(var X=0;X<this.predicates.length;X++)c+="["+this.predicates[X].toString()+"]";return c};h.ANCESTOR=0;h.ANCESTORORSELF=1;h.ATTRIBUTE=2;h.CHILD=3;h.DESCENDANT=4;h.DESCENDANTORSELF=
5;h.FOLLOWING=6;h.FOLLOWINGSIBLING=7;h.NAMESPACE=8;h.PARENT=9;h.PRECEDING=10;h.PRECEDINGSIBLING=11;h.SELF=12;y.prototype={};y.prototype.constructor=y;y.superclass=Object.prototype;y.prototype.init=function(c,X){this.type=c;this.value=X};y.prototype.toString=function(){switch(this.type){case y.NAMETESTANY:return"*";case y.NAMETESTPREFIXANY:return this.value+":*";case y.NAMETESTRESOLVEDANY:return"{"+this.value+"}*";case y.NAMETESTQNAME:return this.value;case y.NAMETESTRESOLVEDNAME:return"{"+this.namespaceURI+
"}"+this.value;case y.COMMENT:return"comment()";case y.TEXT:return"text()";case y.PI:return void 0!=this.value?'processing-instruction("'+this.value+'")':"processing-instruction()";case y.NODE:return"node()"}return"<unknown nodetest type>"};y.prototype.matches=function(c,X){switch(this.type){case y.NAMETESTANY:if(2==c.nodeType||1==c.nodeType||c.nodeType==na.XPATH_NAMESPACE_NODE)return!0;break;case y.NAMETESTPREFIXANY:if(2==c.nodeType||1==c.nodeType){if(null==X.namespaceResolver.getNamespace(this.value,
X.expressionContextNode))throw Error("Cannot resolve QName "+this.value);return!0}break;case y.NAMETESTQNAME:if(2==c.nodeType||1==c.nodeType||c.nodeType==na.XPATH_NAMESPACE_NODE){var ka=ta.resolveQName(this.value,X.namespaceResolver,X.expressionContextNode,!1);if(null==ka[0])throw Error("Cannot resolve QName "+this.value);ka[0]=String(ka[0]);ka[1]=String(ka[1]);""==ka[0]&&(ka[0]=null);c=ta.resolveQName(c.nodeName,X.namespaceResolver,c,1==c.nodeType);c[0]=String(c[0]);c[1]=String(c[1]);""==c[0]&&(c[0]=
null);return X.caseInsensitive?ka[0]==c[0]&&String(ka[1]).toLowerCase()==String(c[1]).toLowerCase():ka[0]==c[0]&&ka[1]==c[1]}break;case y.COMMENT:return 8==c.nodeType;case y.TEXT:return 3==c.nodeType||4==c.nodeType;case y.PI:return 7==c.nodeType&&(null==this.value||c.nodeName==this.value);case y.NODE:return 9==c.nodeType||1==c.nodeType||2==c.nodeType||3==c.nodeType||4==c.nodeType||8==c.nodeType||7==c.nodeType}return!1};y.NAMETESTANY=0;y.NAMETESTPREFIXANY=1;y.NAMETESTQNAME=2;y.COMMENT=3;y.TEXT=4;y.PI=
5;y.NODE=6;G.prototype=new I;G.prototype.constructor=G;G.superclass=I.prototype;G.prototype.init=function(c){this.variable=c};G.prototype.toString=function(){return"$"+this.variable};G.prototype.evaluate=function(c){return c.variableResolver.getVariable(this.variable,c)};M.prototype=new I;M.prototype.constructor=M;M.superclass=I.prototype;M.prototype.init=function(c,X){this.functionName=c;this.arguments=X};M.prototype.toString=function(){for(var c=this.functionName+"(",X=0;X<this.arguments.length;X++)0<
X&&(c+=", "),c+=this.arguments[X].toString();return c+")"};M.prototype.evaluate=function(c){var X=c.functionResolver.getFunction(this.functionName,c);if(void 0==X)throw Error("Unknown function "+this.functionName);var ka=[c].concat(this.arguments);return X.apply(c.functionResolver.thisArg,ka)};S.prototype=new I;S.prototype.constructor=S;S.superclass=I.prototype;S.prototype.init=function(c){this.str=c};S.prototype.toString=function(){return this.str};S.prototype.evaluate=function(c){return this};S.prototype.string=
function(){return this};S.prototype.number=function(){return new Z(this.str)};S.prototype.bool=function(){return new ca(this.str)};S.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};S.prototype.stringValue=function(){return this.str};S.prototype.numberValue=function(){return this.number().numberValue()};S.prototype.booleanValue=function(){return this.bool().booleanValue()};S.prototype.equals=function(c){return ta.instance_of(c,ca)?this.bool().equals(c):ta.instance_of(c,
Z)?this.number().equals(c):ta.instance_of(c,ia)?c.compareWithString(this,ua.equals):new ca(this.str==c.str)};S.prototype.notequal=function(c){return ta.instance_of(c,ca)?this.bool().notequal(c):ta.instance_of(c,Z)?this.number().notequal(c):ta.instance_of(c,ia)?c.compareWithString(this,ua.notequal):new ca(this.str!=c.str)};S.prototype.lessthan=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.greaterthanorequal):this.number().lessthan(c.number())};S.prototype.greaterthan=
function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.lessthanorequal):this.number().greaterthan(c.number())};S.prototype.lessthanorequal=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.greaterthan):this.number().lessthanorequal(c.number())};S.prototype.greaterthanorequal=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.lessthan):this.number().greaterthanorequal(c.number())};Z.prototype=new I;Z.prototype.constructor=Z;
Z.superclass=I.prototype;Z.prototype.init=function(c){this.num=Number(c)};Z.prototype.toString=function(){return this.num};Z.prototype.evaluate=function(c){return this};Z.prototype.string=function(){return new S(this.num)};Z.prototype.number=function(){return this};Z.prototype.bool=function(){return new ca(this.num)};Z.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");};Z.prototype.stringValue=function(){return this.string().stringValue()};Z.prototype.numberValue=function(){return this.num};
Z.prototype.booleanValue=function(){return this.bool().booleanValue()};Z.prototype.negate=function(){return new Z(-this.num)};Z.prototype.equals=function(c){return ta.instance_of(c,ca)?this.bool().equals(c):ta.instance_of(c,S)?this.equals(c.number()):ta.instance_of(c,ia)?c.compareWithNumber(this,ua.equals):new ca(this.num==c.num)};Z.prototype.notequal=function(c){return ta.instance_of(c,ca)?this.bool().notequal(c):ta.instance_of(c,S)?this.notequal(c.number()):ta.instance_of(c,ia)?c.compareWithNumber(this,
ua.notequal):new ca(this.num!=c.num)};Z.prototype.lessthan=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this,ua.greaterthanorequal):ta.instance_of(c,ca)||ta.instance_of(c,S)?this.lessthan(c.number()):new ca(this.num<c.num)};Z.prototype.greaterthan=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this,ua.lessthanorequal):ta.instance_of(c,ca)||ta.instance_of(c,S)?this.greaterthan(c.number()):new ca(this.num>c.num)};Z.prototype.lessthanorequal=function(c){return ta.instance_of(c,
ia)?c.compareWithNumber(this,ua.greaterthan):ta.instance_of(c,ca)||ta.instance_of(c,S)?this.lessthanorequal(c.number()):new ca(this.num<=c.num)};Z.prototype.greaterthanorequal=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this,ua.lessthan):ta.instance_of(c,ca)||ta.instance_of(c,S)?this.greaterthanorequal(c.number()):new ca(this.num>=c.num)};Z.prototype.plus=function(c){return new Z(this.num+c.num)};Z.prototype.minus=function(c){return new Z(this.num-c.num)};Z.prototype.multiply=function(c){return new Z(this.num*
c.num)};Z.prototype.div=function(c){return new Z(this.num/c.num)};Z.prototype.mod=function(c){return new Z(this.num%c.num)};ca.prototype=new I;ca.prototype.constructor=ca;ca.superclass=I.prototype;ca.prototype.init=function(c){this.b=!!c};ca.prototype.toString=function(){return this.b.toString()};ca.prototype.evaluate=function(c){return this};ca.prototype.string=function(){return new S(this.b)};ca.prototype.number=function(){return new Z(this.b)};ca.prototype.bool=function(){return this};ca.prototype.nodeset=
function(){throw Error("Cannot convert boolean to nodeset");};ca.prototype.stringValue=function(){return this.string().stringValue()};ca.prototype.numberValue=function(){return this.num().numberValue()};ca.prototype.booleanValue=function(){return this.b};ca.prototype.not=function(){return new ca(!this.b)};ca.prototype.equals=function(c){return ta.instance_of(c,S)||ta.instance_of(c,Z)?this.equals(c.bool()):ta.instance_of(c,ia)?c.compareWithBoolean(this,ua.equals):new ca(this.b==c.b)};ca.prototype.notequal=
function(c){return ta.instance_of(c,S)||ta.instance_of(c,Z)?this.notequal(c.bool()):ta.instance_of(c,ia)?c.compareWithBoolean(this,ua.notequal):new ca(this.b!=c.b)};ca.prototype.lessthan=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.greaterthanorequal):this.number().lessthan(c.number())};ca.prototype.greaterthan=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.lessthanorequal):this.number().greaterthan(c.number())};ca.prototype.lessthanorequal=
function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.greaterthan):this.number().lessthanorequal(c.number())};ca.prototype.greaterthanorequal=function(c){return ta.instance_of(c,ia)?c.compareWithNumber(this.number(),ua.lessthan):this.number().greaterthanorequal(c.number())};ea.prototype={};ea.prototype.constructor=ea;ea.superclass=Object.prototype;ea.prototype.init=function(c){this.right=this.left=null;this.node=c;this.depth=1};ea.prototype.balance=function(){var c=null==this.left?
0:this.left.depth,X=null==this.right?0:this.right.depth;c>X+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):c+1<X&&((null==this.right.left?0:this.right.left.depth)>(null==this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};ea.prototype.rotateLL=function(){var c=this.node,X=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;
this.right.right=X;this.right.node=c;this.right.updateInNewLocation();this.updateInNewLocation()};ea.prototype.rotateRR=function(){var c=this.node,X=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;this.left.left=X;this.left.node=c;this.left.updateInNewLocation();this.updateInNewLocation()};ea.prototype.updateInNewLocation=function(){this.getDepthFromChildren()};ea.prototype.getDepthFromChildren=function(){this.depth=null==this.node?
0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};ea.prototype.order=function(c,X){if(c===X)return 0;for(var ka=0,ja=0,la=c;null!=la;la=la.parentNode)ka++;for(la=X;null!=la;la=la.parentNode)ja++;if(ka>ja){for(;ka>ja;)c=c.parentNode,ka--;if(c==X)return 1}else if(ja>ka){for(;ja>ka;)X=X.parentNode,ja--;if(c==X)return-1}for(;c.parentNode!=X.parentNode;)c=c.parentNode,X=X.parentNode;for(;null!=c.previousSibling&&null!=X.previousSibling;)c=
c.previousSibling,X=X.previousSibling;return null==c.previousSibling?-1:1};ea.prototype.add=function(c){if(c===this.node)return!1;var X=this.order(c,this.node),ka=!1;-1==X?null==this.left?(this.left=new ea(c),ka=!0):(ka=this.left.add(c))&&this.balance():1==X&&(null==this.right?(this.right=new ea(c),ka=!0):(ka=this.right.add(c))&&this.balance());ka&&this.getDepthFromChildren();return ka};ia.prototype=new I;ia.prototype.constructor=ia;ia.superclass=I.prototype;ia.prototype.init=function(){this.tree=
null;this.size=0};ia.prototype.toString=function(){var c=this.first();return null==c?"":this.stringForNode(c)};ia.prototype.evaluate=function(c){return this};ia.prototype.string=function(){return new S(this.toString())};ia.prototype.stringValue=function(){return this.toString()};ia.prototype.number=function(){return new Z(this.string())};ia.prototype.numberValue=function(){return Number(this.string())};ia.prototype.bool=function(){return new ca(null!=this.tree)};ia.prototype.booleanValue=function(){return null!=
this.tree};ia.prototype.nodeset=function(){return this};ia.prototype.stringForNode=function(c){9==c.nodeType&&(c=c.documentElement);return 1==c.nodeType?this.stringForNodeRec(c):c.isNamespaceNode?c.namespace:c.nodeValue};ia.prototype.stringForNodeRec=function(c){var X="";for(c=c.firstChild;null!=c;c=c.nextSibling)3==c.nodeType?X+=c.nodeValue:1==c.nodeType&&(X+=this.stringForNodeRec(c));return X};ia.prototype.first=function(){var c=this.tree;if(null==c)return null;for(;null!=c.left;)c=c.left;return c.node};
ia.prototype.add=function(c){null==this.tree?(this.tree=new ea(c),c=!0):c=this.tree.add(c);c&&this.size++};ia.prototype.addArray=function(c){for(var X=0;X<c.length;X++)this.add(c[X])};ia.prototype.toArray=function(){var c=[];this.toArrayRec(this.tree,c);return c};ia.prototype.toArrayRec=function(c,X){null!=c&&(this.toArrayRec(c.left,X),X.push(c.node),this.toArrayRec(c.right,X))};ia.prototype.compareWithString=function(c,X){for(var ka=this.toArray(),ja=0;ja<ka.length;ja++){var la=new S(this.stringForNode(ka[ja]));
la=X(la,c);if(la.booleanValue())return la}return new ca(!1)};ia.prototype.compareWithNumber=function(c,X){for(var ka=this.toArray(),ja=0;ja<ka.length;ja++){var la=new Z(this.stringForNode(ka[ja]));la=X(la,c);if(la.booleanValue())return la}return new ca(!1)};ia.prototype.compareWithBoolean=function(c,X){return X(this.bool(),c)};ia.prototype.compareWithNodeSet=function(c,X){for(var ka=this.toArray(),ja=0;ja<ka.length;ja++)for(var la=new S(this.stringForNode(ka[ja])),Ba=c.toArray(),Ha=0;Ha<Ba.length;Ha++){c=
new S(this.stringForNode(Ba[Ha]));var Ma=X(la,c);if(Ma.booleanValue())return Ma}return new ca(!1)};ia.prototype.equals=function(c){return ta.instance_of(c,S)?this.compareWithString(c,ua.equals):ta.instance_of(c,Z)?this.compareWithNumber(c,ua.equals):ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.equals):this.compareWithNodeSet(c,ua.equals)};ia.prototype.notequal=function(c){return ta.instance_of(c,S)?this.compareWithString(c,ua.notequal):ta.instance_of(c,Z)?this.compareWithNumber(c,ua.notequal):
ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.notequal):this.compareWithNodeSet(c,ua.notequal)};ia.prototype.lessthan=function(c){return ta.instance_of(c,S)?this.compareWithNumber(c.number(),ua.lessthan):ta.instance_of(c,Z)?this.compareWithNumber(c,ua.lessthan):ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.lessthan):this.compareWithNodeSet(c,ua.lessthan)};ia.prototype.greaterthan=function(c){return ta.instance_of(c,S)?this.compareWithNumber(c.number(),ua.greaterthan):ta.instance_of(c,Z)?this.compareWithNumber(c,
ua.greaterthan):ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.greaterthan):this.compareWithNodeSet(c,ua.greaterthan)};ia.prototype.lessthanorequal=function(c){return ta.instance_of(c,S)?this.compareWithNumber(c.number(),ua.lessthanorequal):ta.instance_of(c,Z)?this.compareWithNumber(c,ua.lessthanorequal):ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.lessthanorequal):this.compareWithNodeSet(c,ua.lessthanorequal)};ia.prototype.greaterthanorequal=function(c){return ta.instance_of(c,S)?this.compareWithNumber(c.number(),
ua.greaterthanorequal):ta.instance_of(c,Z)?this.compareWithNumber(c,ua.greaterthanorequal):ta.instance_of(c,ca)?this.compareWithBoolean(c,ua.greaterthanorequal):this.compareWithNodeSet(c,ua.greaterthanorequal)};ia.prototype.union=function(c){var X=new ia;X.tree=this.tree;X.size=this.size;X.addArray(c.toArray());return X};na.prototype={};na.prototype.constructor=na;na.superclass=Object.prototype;na.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};var ua={equals:function(c,
X){return c.equals(X)},notequal:function(c,X){return c.notequal(X)},lessthan:function(c,X){return c.lessthan(X)},greaterthan:function(c,X){return c.greaterthan(X)},lessthanorequal:function(c,X){return c.lessthanorequal(X)},greaterthanorequal:function(c,X){return c.greaterthanorequal(X)}};r.prototype={};r.prototype.constructor=r;r.superclass=Object.prototype;n.prototype={};n.prototype.constructor=n;n.superclass=Object.prototype;n.prototype.getVariable=function(c,X){c=ta.splitQName(c);if(null!=c[0]&&
(c[0]=X.namespaceResolver.getNamespace(c[0],X.expressionContextNode),null==c[0]))throw Error("Cannot resolve QName "+fn);return this.getVariableWithName(c[0],c[1],X.expressionContextNode)};n.prototype.getVariableWithName=function(c,X,ka){return null};v.prototype={};v.prototype.constructor=v;v.superclass=Object.prototype;v.prototype.addStandardFunctions=function(){this.functions["{}last"]=za.last;this.functions["{}position"]=za.position;this.functions["{}count"]=za.count;this.functions["{}id"]=za.id;
this.functions["{}local-name"]=za.localName;this.functions["{}namespace-uri"]=za.namespaceURI;this.functions["{}name"]=za.name;this.functions["{}string"]=za.string;this.functions["{}concat"]=za.concat;this.functions["{}starts-with"]=za.startsWith;this.functions["{}contains"]=za.contains;this.functions["{}substring-before"]=za.substringBefore;this.functions["{}substring-after"]=za.substringAfter;this.functions["{}substring"]=za.substring;this.functions["{}string-length"]=za.stringLength;this.functions["{}normalize-space"]=
za.normalizeSpace;this.functions["{}translate"]=za.translate;this.functions["{}boolean"]=za.boolean_;this.functions["{}not"]=za.not;this.functions["{}true"]=za.true_;this.functions["{}false"]=za.false_;this.functions["{}lang"]=za.lang;this.functions["{}number"]=za.number;this.functions["{}sum"]=za.sum;this.functions["{}floor"]=za.floor;this.functions["{}ceiling"]=za.ceiling;this.functions["{}round"]=za.round};v.prototype.addFunction=function(c,X,ka){this.functions["{"+c+"}"+X]=ka};v.prototype.getFunction=
function(c,X){var ka=ta.resolveQName(c,X.namespaceResolver,X.contextNode,!1);if(null==ka[0])throw Error("Cannot resolve QName "+c);return this.getFunctionWithName(ka[0],ka[1],X.contextNode)};v.prototype.getFunctionWithName=function(c,X,ka){return this.functions["{"+c+"}"+X]};D.prototype={};D.prototype.constructor=D;D.superclass=Object.prototype;D.prototype.getNamespace=function(c,X){if("xml"==c)return u.XML_NAMESPACE_URI;if("xmlns"==c)return u.XMLNS_NAMESPACE_URI;9==X.nodeType?X=X.documentElement:
2==X.nodeType?X=w.prototype.getOwnerElement(X):1!=X.nodeType&&(X=X.parentNode);for(;null!=X&&1==X.nodeType;){for(var ka=X.attributes,ja=0;ja<ka.length;ja++){var la=ka.item(ja),Ba=la.nodeName;if("xmlns"==Ba&&""==c||Ba=="xmlns:"+c)return String(la.nodeValue)}X=X.parentNode}return null};var za={last:function(){var c=arguments[0];if(1!=arguments.length)throw Error("Function last expects ()");return new Z(c.contextSize)},position:function(){var c=arguments[0];if(1!=arguments.length)throw Error("Function position expects ()");
return new Z(c.contextPosition)},count:function(){var c=arguments[0],X;if(2!=arguments.length||!ta.instance_of(X=arguments[1].evaluate(c),ia))throw Error("Function count expects (node-set)");return new Z(X.size)},id:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");var X=arguments[1].evaluate(c);X=ta.instance_of(X,ia)?X.toArray().join(" "):X.stringValue();X=X.split(/[\x0d\x0a\x09\x20]+/);var ka=0,ja=new ia;c=9==c.contextNode.nodeType?c.contextNode:c.contextNode.ownerDocument;
for(var la=0;la<X.length;la++){var Ba=c.getElementById?c.getElementById(X[la]):ta.getElementById(c,X[la]);null!=Ba&&(ja.add(Ba),ka++)}return ja},localName:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function local-name expects (node-set?)");return null==c?new S(""):new S(c.localName?c.localName:c.baseName)},namespaceURI:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==
arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function namespace-uri expects (node-set?)");return null==c?new S(""):new S(c.namespaceURI)},name:function(){var c=arguments[0];if(1==arguments.length)c=c.contextNode;else if(2==arguments.length)c=arguments[1].evaluate(c).first();else throw Error("Function name expects (node-set?)");return null==c?new S(""):1==c.nodeType||2==c.nodeType?new S(c.nodeName):null==c.localName?new S(""):new S(c.localName)},string:function(){var c=arguments[0];
if(1==arguments.length)return ia.prototype.stringForNode(c.contextNode);if(2==arguments.length)return arguments[1].evaluate(c).string();throw Error("Function string expects (object?)");},concat:function(){var c=arguments[0];if(3>arguments.length)throw Error("Function concat expects (string, string, string*)");for(var X="",ka=1;ka<arguments.length;ka++)X+=arguments[ka].evaluate(c).stringValue();return new S(X)},startsWith:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");
var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new ca(X.substring(0,c.length)==c)},contains:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new ca(-1!=X.indexOf(c))},substringBefore:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");
var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return new S(X.substring(0,X.indexOf(c)))},substringAfter:function(){var c=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var X=arguments[1].evaluate(c).stringValue();c=arguments[2].evaluate(c).stringValue();return 0==c.length?new S(X):-1==X.indexOf(c)?new S(""):new S(X.substring(X.indexOf(c)+1))},substring:function(){var c=arguments[0];if(3!=arguments.length&&
4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var X=arguments[1].evaluate(c).stringValue(),ka=Math.round(arguments[2].evaluate(c).numberValue())-1;c=4==arguments.length?ka+Math.round(arguments[3].evaluate(c).numberValue()):void 0;return new S(X.substring(ka,c))},stringLength:function(){var c=arguments[0];if(1==arguments.length)c=ia.prototype.stringForNode(c.contextNode);else if(2==arguments.length)c=arguments[1].evaluate(c).stringValue();else throw Error("Function string-length expects (string?)");
return new Z(c.length)},normalizeSpace:function(){var c=arguments[0];if(1==arguments.length)c=ia.prototype.stringForNode(c.contextNode);else if(2==arguments.length)c=arguments[1].evaluate(c).stringValue();else throw Error("Function normalize-space expects (string?)");for(var X=0,ka=c.length-1;ta.isSpace(c.charCodeAt(ka));)ka--;for(var ja="";X<=ka&&ta.isSpace(c.charCodeAt(X));)X++;for(;X<=ka;)if(ta.isSpace(c.charCodeAt(X)))for(ja+=" ";X<=ka&&ta.isSpace(c.charCodeAt(X));)X++;else ja+=c.charAt(X),X++;
return new S(ja)},translate:function(){var c=arguments[0];if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var X=arguments[1].evaluate(c).stringValue(),ka=arguments[2].evaluate(c).stringValue();c=arguments[3].evaluate(c).stringValue();for(var ja=[],la=0;la<ka.length;la++){var Ba=ka.charCodeAt(la);if(void 0==ja[Ba]){var Ha=la>c.length?"":c.charAt(la);ja[Ba]=Ha}}ka="";for(la=0;la<X.length;la++)c=X.charCodeAt(la),c=ja[c],ka=void 0==c?ka+X.charAt(la):ka+c;return new S(ka)},
boolean_:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(c).bool()},not:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function not expects (object)");return arguments[1].evaluate(c).bool().not()},true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return new ca(!0)},false_:function(){if(1!=arguments.length)throw Error("Function false expects ()");return new ca(!1)},lang:function(){var c=
arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var X,ka=c.contextNode;null!=ka&&9!=ka.nodeType;ka=ka.parentNode){var ja=ka.getAttributeNS(u.XML_NAMESPACE_URI,"lang");if(null!=ja){X=String(ja);break}}if(null==X)return new ca(!1);c=arguments[1].evaluate(c).stringValue();return new ca(X.substring(0,c.length)==c&&(X.length==c.length||"-"==X.charAt(c.length)))},number:function(){var c=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");
return 1==arguments.length?new Z(ia.prototype.stringForNode(c.contextNode)):arguments[1].evaluate(c).number()},sum:function(){var c=arguments[0],X;if(2!=arguments.length||!ta.instance_of(X=arguments[1].evaluate(c),ia))throw Error("Function sum expects (node-set)");X=X.toArray();for(var ka=c=0;ka<X.length;ka++)c+=(new Z(ia.prototype.stringForNode(X[ka]))).numberValue();return new Z(c)},floor:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new Z(Math.floor(arguments[1].evaluate(c).numberValue()))},
ceiling:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new Z(Math.ceil(arguments[1].evaluate(c).numberValue()))},round:function(){var c=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new Z(Math.round(arguments[1].evaluate(c).numberValue()))}},ta={splitQName:function(c){var X=c.indexOf(":");return-1==X?[null,c]:[c.substring(0,X),c.substring(X+1)]},resolveQName:function(c,X,ka,ja){c=ta.splitQName(c);
null!=c[0]?c[0]=X.getNamespace(c[0],ka):ja?(c[0]=X.getNamespace("",ka),null==c[0]&&(c[0]="")):c[0]="";return c},isSpace:function(c){return 9==c||13==c||10==c||32==c},isLetter:function(c){return 65<=c&&90>=c||97<=c&&122>=c||192<=c&&214>=c||216<=c&&246>=c||248<=c&&255>=c||256<=c&&305>=c||308<=c&&318>=c||321<=c&&328>=c||330<=c&&382>=c||384<=c&&451>=c||461<=c&&496>=c||500<=c&&501>=c||506<=c&&535>=c||592<=c&&680>=c||699<=c&&705>=c||902==c||904<=c&&906>=c||908==c||910<=c&&929>=c||931<=c&&974>=c||976<=c&&
982>=c||986==c||988==c||990==c||992==c||994<=c&&1011>=c||1025<=c&&1036>=c||1038<=c&&1103>=c||1105<=c&&1116>=c||1118<=c&&1153>=c||1168<=c&&1220>=c||1223<=c&&1224>=c||1227<=c&&1228>=c||1232<=c&&1259>=c||1262<=c&&1269>=c||1272<=c&&1273>=c||1329<=c&&1366>=c||1369==c||1377<=c&&1414>=c||1488<=c&&1514>=c||1520<=c&&1522>=c||1569<=c&&1594>=c||1601<=c&&1610>=c||1649<=c&&1719>=c||1722<=c&&1726>=c||1728<=c&&1742>=c||1744<=c&&1747>=c||1749==c||1765<=c&&1766>=c||2309<=c&&2361>=c||2365==c||2392<=c&&2401>=c||2437<=
c&&2444>=c||2447<=c&&2448>=c||2451<=c&&2472>=c||2474<=c&&2480>=c||2482==c||2486<=c&&2489>=c||2524<=c&&2525>=c||2527<=c&&2529>=c||2544<=c&&2545>=c||2565<=c&&2570>=c||2575<=c&&2576>=c||2579<=c&&2600>=c||2602<=c&&2608>=c||2610<=c&&2611>=c||2613<=c&&2614>=c||2616<=c&&2617>=c||2649<=c&&2652>=c||2654==c||2674<=c&&2676>=c||2693<=c&&2699>=c||2701==c||2703<=c&&2705>=c||2707<=c&&2728>=c||2730<=c&&2736>=c||2738<=c&&2739>=c||2741<=c&&2745>=c||2749==c||2784==c||2821<=c&&2828>=c||2831<=c&&2832>=c||2835<=c&&2856>=
c||2858<=c&&2864>=c||2866<=c&&2867>=c||2870<=c&&2873>=c||2877==c||2908<=c&&2909>=c||2911<=c&&2913>=c||2949<=c&&2954>=c||2958<=c&&2960>=c||2962<=c&&2965>=c||2969<=c&&2970>=c||2972==c||2974<=c&&2975>=c||2979<=c&&2980>=c||2984<=c&&2986>=c||2990<=c&&2997>=c||2999<=c&&3001>=c||3077<=c&&3084>=c||3086<=c&&3088>=c||3090<=c&&3112>=c||3114<=c&&3123>=c||3125<=c&&3129>=c||3168<=c&&3169>=c||3205<=c&&3212>=c||3214<=c&&3216>=c||3218<=c&&3240>=c||3242<=c&&3251>=c||3253<=c&&3257>=c||3294==c||3296<=c&&3297>=c||3333<=
c&&3340>=c||3342<=c&&3344>=c||3346<=c&&3368>=c||3370<=c&&3385>=c||3424<=c&&3425>=c||3585<=c&&3630>=c||3632==c||3634<=c&&3635>=c||3648<=c&&3653>=c||3713<=c&&3714>=c||3716==c||3719<=c&&3720>=c||3722==c||3725==c||3732<=c&&3735>=c||3737<=c&&3743>=c||3745<=c&&3747>=c||3749==c||3751==c||3754<=c&&3755>=c||3757<=c&&3758>=c||3760==c||3762<=c&&3763>=c||3773==c||3776<=c&&3780>=c||3904<=c&&3911>=c||3913<=c&&3945>=c||4256<=c&&4293>=c||4304<=c&&4342>=c||4352==c||4354<=c&&4355>=c||4357<=c&&4359>=c||4361==c||4363<=
c&&4364>=c||4366<=c&&4370>=c||4412==c||4414==c||4416==c||4428==c||4430==c||4432==c||4436<=c&&4437>=c||4441==c||4447<=c&&4449>=c||4451==c||4453==c||4455==c||4457==c||4461<=c&&4462>=c||4466<=c&&4467>=c||4469==c||4510==c||4520==c||4523==c||4526<=c&&4527>=c||4535<=c&&4536>=c||4538==c||4540<=c&&4546>=c||4587==c||4592==c||4601==c||7680<=c&&7835>=c||7840<=c&&7929>=c||7936<=c&&7957>=c||7960<=c&&7965>=c||7968<=c&&8005>=c||8008<=c&&8013>=c||8016<=c&&8023>=c||8025==c||8027==c||8029==c||8031<=c&&8061>=c||8064<=
c&&8116>=c||8118<=c&&8124>=c||8126==c||8130<=c&&8132>=c||8134<=c&&8140>=c||8144<=c&&8147>=c||8150<=c&&8155>=c||8160<=c&&8172>=c||8178<=c&&8180>=c||8182<=c&&8188>=c||8486==c||8490<=c&&8491>=c||8494==c||8576<=c&&8578>=c||12353<=c&&12436>=c||12449<=c&&12538>=c||12549<=c&&12588>=c||44032<=c&&55203>=c||19968<=c&&40869>=c||12295==c||12321<=c&&12329>=c},isNCNameChar:function(c){return 48<=c&&57>=c||1632<=c&&1641>=c||1776<=c&&1785>=c||2406<=c&&2415>=c||2534<=c&&2543>=c||2662<=c&&2671>=c||2790<=c&&2799>=c||
2918<=c&&2927>=c||3047<=c&&3055>=c||3174<=c&&3183>=c||3302<=c&&3311>=c||3430<=c&&3439>=c||3664<=c&&3673>=c||3792<=c&&3801>=c||3872<=c&&3881>=c||46==c||45==c||95==c||ta.isLetter(c)||768<=c&&837>=c||864<=c&&865>=c||1155<=c&&1158>=c||1425<=c&&1441>=c||1443<=c&&1465>=c||1467<=c&&1469>=c||1471==c||1473<=c&&1474>=c||1476==c||1611<=c&&1618>=c||1648==c||1750<=c&&1756>=c||1757<=c&&1759>=c||1760<=c&&1764>=c||1767<=c&&1768>=c||1770<=c&&1773>=c||2305<=c&&2307>=c||2364==c||2366<=c&&2380>=c||2381==c||2385<=c&&
2388>=c||2402<=c&&2403>=c||2433<=c&&2435>=c||2492==c||2494==c||2495==c||2496<=c&&2500>=c||2503<=c&&2504>=c||2507<=c&&2509>=c||2519==c||2530<=c&&2531>=c||2562==c||2620==c||2622==c||2623==c||2624<=c&&2626>=c||2631<=c&&2632>=c||2635<=c&&2637>=c||2672<=c&&2673>=c||2689<=c&&2691>=c||2748==c||2750<=c&&2757>=c||2759<=c&&2761>=c||2763<=c&&2765>=c||2817<=c&&2819>=c||2876==c||2878<=c&&2883>=c||2887<=c&&2888>=c||2891<=c&&2893>=c||2902<=c&&2903>=c||2946<=c&&2947>=c||3006<=c&&3010>=c||3014<=c&&3016>=c||3018<=
c&&3021>=c||3031==c||3073<=c&&3075>=c||3134<=c&&3140>=c||3142<=c&&3144>=c||3146<=c&&3149>=c||3157<=c&&3158>=c||3202<=c&&3203>=c||3262<=c&&3268>=c||3270<=c&&3272>=c||3274<=c&&3277>=c||3285<=c&&3286>=c||3330<=c&&3331>=c||3390<=c&&3395>=c||3398<=c&&3400>=c||3402<=c&&3405>=c||3415==c||3633==c||3636<=c&&3642>=c||3655<=c&&3662>=c||3761==c||3764<=c&&3769>=c||3771<=c&&3772>=c||3784<=c&&3789>=c||3864<=c&&3865>=c||3893==c||3895==c||3897==c||3902==c||3903==c||3953<=c&&3972>=c||3974<=c&&3979>=c||3984<=c&&3989>=
c||3991==c||3993<=c&&4013>=c||4017<=c&&4023>=c||4025==c||8400<=c&&8412>=c||8417==c||12330<=c&&12335>=c||12441==c||12442==c||183==c||720==c||721==c||903==c||1600==c||3654==c||3782==c||12293==c||12337<=c&&12341>=c||12445<=c&&12446>=c||12540<=c&&12542>=c},coalesceText:function(c){for(c=c.firstChild;null!=c;c=c.nextSibling)if(3==c.nodeType||4==c.nodeType){var X=c.nodeValue,ka=c;for(c=c.nextSibling;null!=c&&(3==c.nodeType||4==c.nodeType);){X+=c.nodeValue;var ja=c;c=c.nextSibling;ja.parentNode.removeChild(ja)}if(4==
ka.nodeType)if(ja=ka.parentNode,null==ka.nextSibling)ja.removeChild(ka),ja.appendChild(ja.ownerDocument.createTextNode(X));else{var la=ka.nextSibling;ja.removeChild(ka);ja.insertBefore(ja.ownerDocument.createTextNode(X),la)}else ka.nodeValue=X;if(null==c)break}else 1==c.nodeType&&ta.coalesceText(c)},instance_of:function(c,X){for(;null!=c;){if(c.constructor===X)return!0;if(c===Object)break;c=c.constructor.superclass}return!1},getElementById:function(c,X){if(1==c.nodeType&&(c.getAttribute("id")==X||
c.getAttributeNS(null,"id")==X))return c;for(c=c.firstChild;null!=c;c=c.nextSibling){var ka=ta.getElementById(c,X);if(null!=ka)return ka}return null}};U.prototype={};U.prototype.constructor=U;U.superclass=Object.prototype;U.prototype.toString=function(){var c=this.exception?": "+this.exception.toString():"";switch(this.code){case U.INVALID_EXPRESSION_ERR:return"Invalid expression"+c;case U.TYPE_ERR:return"Type error"+c}};U.INVALID_EXPRESSION_ERR=51;U.TYPE_ERR=52;N.prototype={};N.prototype.constructor=
N;N.superclass=Object.prototype;N.prototype.evaluate=function(c,X,ka){this.context.expressionContextNode=c;c=this.xpath.evaluate(this.context);return new pa(c,X)};O.prototype={};O.prototype.constructor=O;O.superclass=Object.prototype;O.prototype.getNamespace=function(c,X){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(c)};K.prototype={};K.prototype.constructor=K;K.superclass=Object.prototype;K.prototype.lookupNamespaceURI=function(c){return this.namespaceResolver.getNamespace(c,
this.node)};pa.prototype={};pa.prototype.constructor=pa;pa.superclass=Object.prototype;pa.prototype.iterateNext=function(){if(this.resultType!=pa.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=pa.ORDERED_NODE_ITERATOR_TYPE)throw new U(U.TYPE_ERR);return this.nodes[this.iteratorIndex++]};pa.prototype.snapshotItem=function(c){if(this.resultType!=pa.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=pa.ORDERED_NODE_SNAPSHOT_TYPE)throw new U(U.TYPE_ERR);return this.nodes[c]};pa.ANY_TYPE=0;pa.NUMBER_TYPE=
1;pa.STRING_TYPE=2;pa.BOOLEAN_TYPE=3;pa.UNORDERED_NODE_ITERATOR_TYPE=4;pa.ORDERED_NODE_ITERATOR_TYPE=5;pa.UNORDERED_NODE_SNAPSHOT_TYPE=6;pa.ORDERED_NODE_SNAPSHOT_TYPE=7;pa.ANY_UNORDERED_NODE_TYPE=8;pa.FIRST_ORDERED_NODE_TYPE=9;try{E=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(E=!1)}catch(c){}E&&xa(document,new C)}catch(c){}Q.exports=function(c,X){X=(new C).parse(X);var ka=new r;ka.expressionContextNode=c.documentElement?c.documentElement:
c;return X.evaluate(ka).toArray()}},function(Q,E,C){(function(u){function I(f,k){this._id=f;this._clearFn=k}var V="undefined"!==typeof u&&u||"undefined"!==typeof self&&self||window,q=Function.prototype.apply;E.setTimeout=function(){return new I(q.call(setTimeout,V,arguments),clearTimeout)};E.setInterval=function(){return new I(q.call(setInterval,V,arguments),clearInterval)};E.clearTimeout=E.clearInterval=function(f){f&&f.close()};I.prototype.unref=I.prototype.ref=function(){};I.prototype.close=function(){this._clearFn.call(V,
this._id)};E.enroll=function(f,k){clearTimeout(f._idleTimeoutId);f._idleTimeout=k};E.unenroll=function(f){clearTimeout(f._idleTimeoutId);f._idleTimeout=-1};E._unrefActive=E.active=function(f){clearTimeout(f._idleTimeoutId);var k=f._idleTimeout;0<=k&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},k))};C(73);E.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof u&&u.setImmediate||this&&this.setImmediate;E.clearImmediate="undefined"!==typeof self&&self.clearImmediate||
"undefined"!==typeof u&&u.clearImmediate||this&&this.clearImmediate}).call(this,C(18))},function(Q,E,C){(function(u,I){(function(V,q){function f(e){delete x[e]}function k(e){if(z)setTimeout(k,0,e);else{var w=x[e];if(w){z=!0;try{var J=w.callback,h=w.args;switch(h.length){case 0:J();break;case 1:J(h[0]);break;case 2:J(h[0],h[1]);break;case 3:J(h[0],h[1],h[2]);break;default:J.apply(q,h)}}finally{f(e),z=!1}}}}function d(){P=function(e){I.nextTick(function(){k(e)})}}function g(){if(V.postMessage&&!V.importScripts){var e=
!0,w=V.onmessage;V.onmessage=function(){e=!1};V.postMessage("","*");V.onmessage=w;return e}}function t(){var e="setImmediate$"+Math.random()+"$",w=function(J){J.source===V&&"string"===typeof J.data&&0===J.data.indexOf(e)&&k(+J.data.slice(e.length))};V.addEventListener?V.addEventListener("message",w,!1):V.attachEvent("onmessage",w);P=function(J){V.postMessage(e+J,"*")}}function A(){var e=new MessageChannel;e.port1.onmessage=function(w){k(w.data)};P=function(w){e.port2.postMessage(w)}}function W(){var e=
m.documentElement;P=function(w){var J=m.createElement("script");J.onreadystatechange=function(){k(w);J.onreadystatechange=null;e.removeChild(J);J=null};e.appendChild(J)}}function F(){P=function(e){setTimeout(k,0,e)}}if(!V.setImmediate){var H=1,x={},z=!1,m=V.document,P,l=Object.getPrototypeOf&&Object.getPrototypeOf(V);l=l&&l.setTimeout?l:V;"[object process]"==={}.toString.call(V.process)?d():g()?t():V.MessageChannel?A():m&&"onreadystatechange"in m.createElement("script")?W():F();l.setImmediate=function(e){"function"!==
typeof e&&(e=new Function(""+e));for(var w=Array(arguments.length-1),J=0;J<w.length;J++)w[J]=arguments[J+1];x[H]={callback:e,args:w};P(H);return H++};l.clearImmediate=f}})("undefined"===typeof self?"undefined"===typeof u?this:u:self)}).call(this,C(18),C(32))},function(Q,E,C){(function(u){var I={};Q.exports=I;var V={};I.encode=function(q,f,k){if("string"!==typeof f)throw new TypeError('"alphabet" must be a string.');if(void 0!==k&&"number"!==typeof k)throw new TypeError('"maxline" must be a number.');
var d="";if(q instanceof Uint8Array){var g,t=f.length,A=f.charAt(0),W=[0];for(g=0;g<q.length;++g){for(var F=0,H=q[g];F<W.length;++F)H+=W[F]<<8,W[F]=H%t,H=H/t|0;for(;0<H;)W.push(H%t),H=H/t|0}for(g=0;0===q[g]&&g<q.length-1;++g)d+=A;for(g=W.length-1;0<=g;--g)d+=f[W[g]]}else{A=f.length;g=f.charAt(0);t=[0];for(d=0;d<q.length();++d){W=0;for(F=q.at(d);W<t.length;++W)F+=t[W]<<8,t[W]=F%A,F=F/A|0;for(;0<F;)t.push(F%A),F=F/A|0}A="";for(d=0;0===q.at(d)&&d<q.length()-1;++d)A+=g;for(d=t.length-1;0<=d;--d)A+=f[t[d]];
d=A}k&&(d=d.match(new RegExp(".{1,"+k+"}","g")).join("\r\n"));return d};I.decode=function(q,f){if("string"!==typeof q)throw new TypeError('"input" must be a string.');if("string"!==typeof f)throw new TypeError('"alphabet" must be a string.');var k=V[f];if(!k){k=V[f]=[];for(var d=0;d<f.length;++d)k[f.charCodeAt(d)]=d}q=q.replace(/\s/g,"");var g=f.length;f=f.charAt(0);var t=[0];for(d=0;d<q.length;d++){var A=k[q.charCodeAt(d)];if(void 0===A)return;for(var W=0;W<t.length;++W)A+=t[W]*g,t[W]=A&255,A>>=
8;for(;0<A;)t.push(A&255),A>>=8}for(k=0;q[k]===f&&k<q.length-1;++k)t.push(0);return"undefined"!==typeof u?u.from(t.reverse()):new Uint8Array(t.reverse())}}).call(this,C(6).Buffer)},function(Q,E,C){function u(g,t,A){t=t.entity===k.tls.ConnectionEnd.client;g.read.cipherState={init:!1,cipher:k.cipher.createDecipher("AES-CBC",t?A.keys.server_write_key:A.keys.client_write_key),iv:t?A.keys.server_write_IV:A.keys.client_write_IV};g.write.cipherState={init:!1,cipher:k.cipher.createCipher("AES-CBC",t?A.keys.client_write_key:
A.keys.server_write_key),iv:t?A.keys.client_write_IV:A.keys.server_write_IV};g.read.cipherFunction=f;g.write.cipherFunction=I;g.read.macLength=g.write.macLength=A.mac_length;g.read.macFunction=g.write.macFunction=d.hmac_sha1}function I(g,t){var A=!1,W=t.macFunction(t.macKey,t.sequenceNumber,g);g.fragment.putBytes(W);t.updateSequenceNumber();W=g.version.minor===d.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:k.random.getBytesSync(16);t.cipherState.init=!0;t=t.cipherState.cipher;t.start({iv:W});
g.version.minor>=d.Versions.TLS_1_1.minor&&t.output.putBytes(W);t.update(g.fragment);t.finish(V)&&(g.fragment=t.output,g.length=g.fragment.length(),A=!0);return A}function V(g,t,A){A||(g-=t.length()%g,t.fillWithByte(g-1,g));return!0}function q(g,t,A){g=!0;if(A){A=t.length();for(var W=t.last(),F=A-1-W;F<A-1;++F)g=g&&t.at(F)==W;g&&t.truncate(W+1)}return g}function f(g,t){var A=g.version.minor===d.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:g.fragment.getBytes(16);t.cipherState.init=
!0;var W=t.cipherState.cipher;W.start({iv:A});W.update(g.fragment);A=W.finish(q);var F=t.macLength,H=k.random.getBytesSync(F),x=W.output.length();x>=F?(g.fragment=W.output.getBytes(x-F),H=W.output.getBytes(F)):g.fragment=W.output.getBytes();g.fragment=k.util.createBuffer(g.fragment);g.length=g.fragment.length();g=t.macFunction(t.macKey,t.sequenceNumber,g);t.updateSequenceNumber();t=t.macKey;W=k.hmac.create();W.start("SHA1",t);W.update(H);H=W.digest().getBytes();W.start(null,null);W.update(g);g=W.digest().getBytes();
return H===g&&A}var k=C(5);C(19);C(49);var d=Q.exports=k.tls;d.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(g){g.bulk_cipher_algorithm=d.BulkCipherAlgorithm.aes;g.cipher_type=d.CipherType.block;g.enc_key_length=16;g.block_length=16;g.fixed_iv_length=16;g.record_iv_length=16;g.mac_algorithm=d.MACAlgorithm.hmac_sha1;g.mac_length=20;g.mac_key_length=20},initConnectionState:u};d.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,
53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(g){g.bulk_cipher_algorithm=d.BulkCipherAlgorithm.aes;g.cipher_type=d.CipherType.block;g.enc_key_length=32;g.block_length=16;g.fixed_iv_length=16;g.record_iv_length=16;g.mac_algorithm=d.MACAlgorithm.hmac_sha1;g.mac_length=20;g.mac_key_length=20},initConnectionState:u}},function(Q,E,C){E=C(5);C(59);Q.exports=E.mgf=E.mgf||{};E.mgf.mgf1=E.mgf1},function(Q,E,C){(function(u){function I(N){var O=N.message;if(O instanceof Uint8Array||
O instanceof Z)return O;var K=N.encoding;if(void 0===O)if(N.md)O=N.md.digest().getBytes(),K="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if("string"===typeof O&&!K)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"===typeof O){if("undefined"!==typeof u)return u.from(O,K);O=new S(O,K)}else if(!(O instanceof S))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');
N=new Z(O.length());for(K=0;K<N.length;++K)N[K]=O.at(K);return N}function V(N,O){var K=J.md.sha512.create();N=new S(N);K.update(N.getBytes(O),"binary");O=K.digest().getBytes();if("undefined"!==typeof u)return u.from(O,"binary");K=new Z(ca.constants.HASH_BYTE_LENGTH);for(N=0;64>N;++N)K[N]=O.charCodeAt(N);return K}function q(N,O){var K,pa;for(K=63;32<=K;--K){var xa=0;var ua=K-32;for(pa=K-12;ua<pa;++ua)O[ua]+=xa-16*O[K]*D[ua-(K-32)],xa=O[ua]+128>>8,O[ua]-=256*xa;O[ua]+=xa;O[K]=0}for(ua=xa=0;32>ua;++ua)O[ua]+=
xa-(O[31]>>4)*D[ua],xa=O[ua]>>8,O[ua]&=255;for(ua=0;32>ua;++ua)O[ua]-=xa*D[ua];for(K=0;32>K;++K)O[K+1]+=O[K]>>8,N[K]=O[K]&255}function f(N){for(var O=new Float64Array(64),K=0;64>K;++K)O[K]=N[K],N[K]=0;q(N,O)}function k(N,O){var K=P(),pa=P(),xa=P(),ua=P(),za=P(),ta=P(),c=P(),X=P(),ka=P();e(K,N[1],N[0]);e(ka,O[1],O[0]);w(K,K,ka);l(pa,N[0],N[1]);l(ka,O[0],O[1]);w(pa,pa,ka);w(xa,N[3],O[3]);w(xa,xa,r);w(ua,N[2],O[2]);l(ua,ua,ua);e(za,pa,K);e(ta,ua,xa);l(c,ua,xa);l(X,pa,K);w(N[0],za,ta);w(N[1],X,c);w(N[2],
c,ta);w(N[3],za,X)}function d(N,O){var K=P(),pa=P(),xa=P(),ua=O[2],za=P(),ta;for(ta=0;16>ta;++ta)za[ta]=ua[ta];for(ta=253;0<=ta;--ta)w(za,za,za),2!==ta&&4!==ta&&w(za,za,ua);for(ta=0;16>ta;++ta)xa[ta]=za[ta];w(K,O[0],xa);w(pa,O[1],xa);g(N,pa);N[31]^=W(K)<<7}function g(N,O){var K,pa=P(),xa=P();for(K=0;16>K;++K)xa[K]=O[K];z(xa);z(xa);z(xa);for(O=0;2>O;++O){pa[0]=xa[0]-65517;for(K=1;15>K;++K)pa[K]=xa[K]-65535-(pa[K-1]>>16&1),pa[K-1]&=65535;pa[15]=xa[15]-32767-(pa[14]>>16&1);K=pa[15]>>16&1;pa[14]&=65535;
m(xa,pa,1-K)}for(K=0;16>K;K++)N[2*K]=xa[K]&255,N[2*K+1]=xa[K]>>8}function t(N,O){var K=new Z(32),pa=new Z(32);g(K,N);g(pa,O);return A(K,0,pa,0)}function A(N,O,K,pa){var xa,ua=0;for(xa=0;32>xa;++xa)ua|=N[O+xa]^K[pa+xa];return(1&ua-1>>>8)-1}function W(N){var O=new Z(32);g(O,N);return O[0]&1}function F(N,O,K){var pa;x(N[0],ea);x(N[1],ia);x(N[2],ia);x(N[3],ea);for(pa=255;0<=pa;--pa){var xa=K[pa/8|0]>>(pa&7)&1;for(var ua=N,za=O,ta=xa,c=0;4>c;++c)m(ua[c],za[c],ta);k(O,N);k(N,N);ua=N;za=O;for(ta=0;4>ta;++ta)m(ua[ta],
za[ta],xa)}}function H(N,O){var K=[P(),P(),P(),P()];x(K[0],n);x(K[1],v);x(K[2],ia);w(K[3],n,v);F(N,K,O)}function x(N,O){var K;for(K=0;16>K;K++)N[K]=O[K]|0}function z(N){var O,K=1;for(O=0;16>O;++O){var pa=N[O]+K+65535;K=Math.floor(pa/65536);N[O]=pa-65536*K}N[0]+=K-1+37*(K-1)}function m(N,O,K){for(var pa=~(K-1),xa=0;16>xa;++xa)K=pa&(N[xa]^O[xa]),N[xa]^=K,O[xa]^=K}function P(N){var O,K=new Float64Array(16);if(N)for(O=0;O<N.length;++O)K[O]=N[O];return K}function l(N,O,K){for(var pa=0;16>pa;++pa)N[pa]=
O[pa]+K[pa]}function e(N,O,K){for(var pa=0;16>pa;++pa)N[pa]=O[pa]-K[pa]}function w(N,O,K){var pa=K[0],xa=K[1],ua=K[2],za=K[3],ta=K[4],c=K[5],X=K[6],ka=K[7],ja=K[8],la=K[9],Ba=K[10],Ha=K[11],Ma=K[12],Sa=K[13],Ka=K[14],Ia=K[15];K=O[0];var Ra=K*pa;var db=K*xa;var Va=K*ua;var gb=K*za;var nb=K*ta;var da=K*c;var fa=K*X;var wa=K*ka;var ya=K*ja;var b=K*la;var R=K*Ba;var ba=K*Ha;var ra=K*Ma;var oa=K*Sa;var Da=K*Ka;var Fa=K*Ia;K=O[1];db+=K*pa;Va+=K*xa;gb+=K*ua;nb+=K*za;da+=K*ta;fa+=K*c;wa+=K*X;ya+=K*ka;b+=
K*ja;R+=K*la;ba+=K*Ba;ra+=K*Ha;oa+=K*Ma;Da+=K*Sa;Fa+=K*Ka;var Oa=K*Ia;K=O[2];Va+=K*pa;gb+=K*xa;nb+=K*ua;da+=K*za;fa+=K*ta;wa+=K*c;ya+=K*X;b+=K*ka;R+=K*ja;ba+=K*la;ra+=K*Ba;oa+=K*Ha;Da+=K*Ma;Fa+=K*Sa;Oa+=K*Ka;var Pa=K*Ia;K=O[3];gb+=K*pa;nb+=K*xa;da+=K*ua;fa+=K*za;wa+=K*ta;ya+=K*c;b+=K*X;R+=K*ka;ba+=K*ja;ra+=K*la;oa+=K*Ba;Da+=K*Ha;Fa+=K*Ma;Oa+=K*Sa;Pa+=K*Ka;var ab=K*Ia;K=O[4];nb+=K*pa;da+=K*xa;fa+=K*ua;wa+=K*za;ya+=K*ta;b+=K*c;R+=K*X;ba+=K*ka;ra+=K*ja;oa+=K*la;Da+=K*Ba;Fa+=K*Ha;Oa+=K*Ma;Pa+=K*Sa;ab+=
K*Ka;var fb=K*Ia;K=O[5];da+=K*pa;fa+=K*xa;wa+=K*ua;ya+=K*za;b+=K*ta;R+=K*c;ba+=K*X;ra+=K*ka;oa+=K*ja;Da+=K*la;Fa+=K*Ba;Oa+=K*Ha;Pa+=K*Ma;ab+=K*Sa;fb+=K*Ka;var mb=K*Ia;K=O[6];fa+=K*pa;wa+=K*xa;ya+=K*ua;b+=K*za;R+=K*ta;ba+=K*c;ra+=K*X;oa+=K*ka;Da+=K*ja;Fa+=K*la;Oa+=K*Ba;Pa+=K*Ha;ab+=K*Ma;fb+=K*Sa;mb+=K*Ka;var rb=K*Ia;K=O[7];wa+=K*pa;ya+=K*xa;b+=K*ua;R+=K*za;ba+=K*ta;ra+=K*c;oa+=K*X;Da+=K*ka;Fa+=K*ja;Oa+=K*la;Pa+=K*Ba;ab+=K*Ha;fb+=K*Ma;mb+=K*Sa;rb+=K*Ka;var Na=K*Ia;K=O[8];ya+=K*pa;b+=K*xa;R+=K*ua;ba+=
K*za;ra+=K*ta;oa+=K*c;Da+=K*X;Fa+=K*ka;Oa+=K*ja;Pa+=K*la;ab+=K*Ba;fb+=K*Ha;mb+=K*Ma;rb+=K*Sa;Na+=K*Ka;var Za=K*Ia;K=O[9];b+=K*pa;R+=K*xa;ba+=K*ua;ra+=K*za;oa+=K*ta;Da+=K*c;Fa+=K*X;Oa+=K*ka;Pa+=K*ja;ab+=K*la;fb+=K*Ba;mb+=K*Ha;rb+=K*Ma;Na+=K*Sa;Za+=K*Ka;var bb=K*Ia;K=O[10];R+=K*pa;ba+=K*xa;ra+=K*ua;oa+=K*za;Da+=K*ta;Fa+=K*c;Oa+=K*X;Pa+=K*ka;ab+=K*ja;fb+=K*la;mb+=K*Ba;rb+=K*Ha;Na+=K*Ma;Za+=K*Sa;bb+=K*Ka;var $a=K*Ia;K=O[11];ba+=K*pa;ra+=K*xa;oa+=K*ua;Da+=K*za;Fa+=K*ta;Oa+=K*c;Pa+=K*X;ab+=K*ka;fb+=K*ja;
mb+=K*la;rb+=K*Ba;Na+=K*Ha;Za+=K*Ma;bb+=K*Sa;$a+=K*Ka;var Cb=K*Ia;K=O[12];ra+=K*pa;oa+=K*xa;Da+=K*ua;Fa+=K*za;Oa+=K*ta;Pa+=K*c;ab+=K*X;fb+=K*ka;mb+=K*ja;rb+=K*la;Na+=K*Ba;Za+=K*Ha;bb+=K*Ma;$a+=K*Sa;Cb+=K*Ka;var p=K*Ia;K=O[13];oa+=K*pa;Da+=K*xa;Fa+=K*ua;Oa+=K*za;Pa+=K*ta;ab+=K*c;fb+=K*X;mb+=K*ka;rb+=K*ja;Na+=K*la;Za+=K*Ba;bb+=K*Ha;$a+=K*Ma;Cb+=K*Sa;p+=K*Ka;var T=K*Ia;K=O[14];Da+=K*pa;Fa+=K*xa;Oa+=K*ua;Pa+=K*za;ab+=K*ta;fb+=K*c;mb+=K*X;rb+=K*ka;Na+=K*ja;Za+=K*la;bb+=K*Ba;$a+=K*Ha;Cb+=K*Ma;p+=K*Sa;T+=
K*Ka;var aa=K*Ia;K=O[15];Fa+=K*pa;db+=38*(Pa+K*ua);Va+=38*(ab+K*za);gb+=38*(fb+K*ta);nb+=38*(mb+K*c);da+=38*(rb+K*X);fa+=38*(Na+K*ka);wa+=38*(Za+K*ja);ya+=38*(bb+K*la);b+=38*($a+K*Ba);R+=38*(Cb+K*Ha);ba+=38*(p+K*Ma);ra+=38*(T+K*Sa);oa+=38*(aa+K*Ka);Da+=38*K*Ia;K=Ra+38*(Oa+K*xa)+1+65535;O=Math.floor(K/65536);Ra=K-65536*O;K=db+O+65535;O=Math.floor(K/65536);db=K-65536*O;K=Va+O+65535;O=Math.floor(K/65536);Va=K-65536*O;K=gb+O+65535;O=Math.floor(K/65536);gb=K-65536*O;K=nb+O+65535;O=Math.floor(K/65536);
nb=K-65536*O;K=da+O+65535;O=Math.floor(K/65536);da=K-65536*O;K=fa+O+65535;O=Math.floor(K/65536);fa=K-65536*O;K=wa+O+65535;O=Math.floor(K/65536);wa=K-65536*O;K=ya+O+65535;O=Math.floor(K/65536);ya=K-65536*O;K=b+O+65535;O=Math.floor(K/65536);b=K-65536*O;K=R+O+65535;O=Math.floor(K/65536);R=K-65536*O;K=ba+O+65535;O=Math.floor(K/65536);ba=K-65536*O;K=ra+O+65535;O=Math.floor(K/65536);ra=K-65536*O;K=oa+O+65535;O=Math.floor(K/65536);oa=K-65536*O;K=Da+O+65535;O=Math.floor(K/65536);Da=K-65536*O;K=Fa+O+65535;
O=Math.floor(K/65536);Fa=K-65536*O;Ra+=O-1+37*(O-1);K=Ra+1+65535;O=Math.floor(K/65536);Ra=K-65536*O;K=db+O+65535;O=Math.floor(K/65536);db=K-65536*O;K=Va+O+65535;O=Math.floor(K/65536);Va=K-65536*O;K=gb+O+65535;O=Math.floor(K/65536);gb=K-65536*O;K=nb+O+65535;O=Math.floor(K/65536);nb=K-65536*O;K=da+O+65535;O=Math.floor(K/65536);da=K-65536*O;K=fa+O+65535;O=Math.floor(K/65536);fa=K-65536*O;K=wa+O+65535;O=Math.floor(K/65536);wa=K-65536*O;K=ya+O+65535;O=Math.floor(K/65536);ya=K-65536*O;K=b+O+65535;O=Math.floor(K/
65536);b=K-65536*O;K=R+O+65535;O=Math.floor(K/65536);R=K-65536*O;K=ba+O+65535;O=Math.floor(K/65536);ba=K-65536*O;K=ra+O+65535;O=Math.floor(K/65536);ra=K-65536*O;K=oa+O+65535;O=Math.floor(K/65536);oa=K-65536*O;K=Da+O+65535;O=Math.floor(K/65536);Da=K-65536*O;K=Fa+O+65535;O=Math.floor(K/65536);N[0]=Ra+(O-1+37*(O-1));N[1]=db;N[2]=Va;N[3]=gb;N[4]=nb;N[5]=da;N[6]=fa;N[7]=wa;N[8]=ya;N[9]=b;N[10]=R;N[11]=ba;N[12]=ra;N[13]=oa;N[14]=Da;N[15]=K-65536*O}var J=C(5);C(35);C(13);C(61);C(7);var h=C(78),y=h.publicKeyValidator,
G=h.privateKeyValidator;if("undefined"===typeof M)var M=J.jsbn.BigInteger;var S=J.util.ByteBuffer,Z="undefined"===typeof u?Uint8Array:u;J.pki=J.pki||{};Q.exports=J.pki.ed25519=J.ed25519=J.ed25519||{};var ca=J.ed25519;ca.constants={};ca.constants.PUBLIC_KEY_BYTE_LENGTH=32;ca.constants.PRIVATE_KEY_BYTE_LENGTH=64;ca.constants.SEED_BYTE_LENGTH=32;ca.constants.SIGN_BYTE_LENGTH=64;ca.constants.HASH_BYTE_LENGTH=64;ca.generateKeyPair=function(N){N=N||{};var O=N.seed;if(void 0===O)O=J.random.getBytesSync(ca.constants.SEED_BYTE_LENGTH);
else if("string"===typeof O){if(O.length!==ca.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ca.constants.SEED_BYTE_LENGTH+" bytes in length.");}else if(!(O instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');O=I({message:O,encoding:"binary"});N=new Z(ca.constants.PUBLIC_KEY_BYTE_LENGTH);for(var K=new Z(ca.constants.PRIVATE_KEY_BYTE_LENGTH),pa=0;32>pa;++pa)K[pa]=O[pa];O=[P(),P(),P(),P()];pa=V(K,32);pa[0]&=248;pa[31]&=127;
pa[31]|=64;H(O,pa);d(N,O);for(O=0;32>O;++O)K[O+32]=N[O];return{publicKey:N,privateKey:K}};ca.privateKeyFromAsn1=function(N){var O={},K=[];if(!J.asn1.validate(N,G,O,K))throw O=Error("Invalid Key."),O.errors=K,O;K=J.asn1.derToOid(O.privateKeyOid);N=J.oids.EdDSA25519;if(K!==N)throw Error('Invalid OID "'+K+'"; OID must be "'+N+'".');return{privateKeyBytes:I({message:J.asn1.fromDer(O.privateKey).value,encoding:"binary"})}};ca.publicKeyFromAsn1=function(N){var O={},K=[];if(!J.asn1.validate(N,y,O,K))throw O=
Error("Invalid Key."),O.errors=K,O;K=J.asn1.derToOid(O.publicKeyOid);N=J.oids.EdDSA25519;if(K!==N)throw Error('Invalid OID "'+K+'"; OID must be "'+N+'".');O=O.ed25519PublicKey;if(O.length!==ca.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return I({message:O,encoding:"binary"})};ca.publicKeyFromPrivateKey=function(N){N=N||{};N=I({message:N.privateKey,encoding:"binary"});if(N.length!==ca.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+
ca.constants.PRIVATE_KEY_BYTE_LENGTH);for(var O=new Z(ca.constants.PUBLIC_KEY_BYTE_LENGTH),K=0;K<O.length;++K)O[K]=N[32+K];return O};ca.sign=function(N){N=N||{};var O=I(N),K=I({message:N.privateKey,encoding:"binary"});if(K.length===ca.constants.SEED_BYTE_LENGTH)K=ca.generateKeyPair({seed:K}).privateKey;else if(K.length!==ca.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ca.constants.SEED_BYTE_LENGTH+" or "+ca.constants.PRIVATE_KEY_BYTE_LENGTH);
N=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length);var pa=O.length,xa=K,ua=new Float64Array(64),za=[P(),P(),P(),P()],ta=V(xa,32);ta[0]&=248;ta[31]&=127;ta[31]|=64;for(K=0;K<pa;++K)N[64+K]=O[K];for(K=0;32>K;++K)N[32+K]=ta[32+K];O=V(N.subarray(32),pa+32);f(O);H(za,O);d(N,za);for(K=32;64>K;++K)N[K]=xa[K];pa=V(N,pa+64);f(pa);for(K=32;64>K;++K)ua[K]=0;for(K=0;32>K;++K)ua[K]=O[K];for(K=0;32>K;++K)for(O=0;32>O;O++)ua[K+O]+=pa[K]*ta[O];q(N.subarray(32),ua);K=new Z(ca.constants.SIGN_BYTE_LENGTH);for(ua=0;ua<
K.length;++ua)K[ua]=N[ua];return K};ca.verify=function(N){N=N||{};var O=I(N);if(void 0===N.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var K=I({message:N.signature,encoding:"binary"});if(K.length!==ca.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ca.constants.SIGN_BYTE_LENGTH);var pa=I({message:N.publicKey,encoding:"binary"});if(pa.length!==ca.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+
ca.constants.PUBLIC_KEY_BYTE_LENGTH);N=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length);var xa=new Z(ca.constants.SIGN_BYTE_LENGTH+O.length),ua;for(ua=0;ua<ca.constants.SIGN_BYTE_LENGTH;++ua)N[ua]=K[ua];for(ua=0;ua<O.length;++ua)N[ua+ca.constants.SIGN_BYTE_LENGTH]=O[ua];O=N.length;K=new Z(32);ua=[P(),P(),P(),P()];var za=[P(),P(),P(),P()];if(64>O)N=-1;else{var ta=P();var c=P();var X=P(),ka=P(),ja=P(),la=P(),Ba=P();x(za[2],ia);var Ha=za[1],Ma;for(Ma=0;16>Ma;++Ma)Ha[Ma]=pa[2*Ma]+(pa[2*Ma+1]<<8);Ha[15]&=
32767;Ha=za[1];w(X,Ha,Ha);w(ka,X,na);e(X,X,za[2]);l(ka,za[2],ka);w(ja,ka,ka);w(la,ja,ja);w(Ba,la,ja);w(ta,Ba,X);w(ta,ta,ka);ja=P();for(la=0;16>la;++la)ja[la]=ta[la];for(la=250;0<=la;--la)w(ja,ja,ja),1!==la&&w(ja,ja,ta);for(la=0;16>la;++la)ta[la]=ja[la];w(ta,ta,X);w(ta,ta,ka);w(ta,ta,ka);w(za[0],ta,ka);ta=za[0];w(c,ta,ta);w(c,c,ka);t(c,X)&&w(za[0],za[0],U);ta=za[0];w(c,ta,ta);w(c,c,ka);t(c,X)?c=-1:(W(za[0])===pa[31]>>7&&e(za[0],ea,za[0]),w(za[3],za[0],za[1]),c=0);if(c)N=-1;else{for(c=0;c<O;++c)xa[c]=
N[c];for(c=0;32>c;++c)xa[c+32]=pa[c];pa=V(xa,O);f(pa);F(ua,za,pa);H(za,N.subarray(32));k(ua,za);d(K,ua);O-=64;if(A(N,0,K,0)){for(c=0;c<O;++c)xa[c]=0;N=-1}else{for(c=0;c<O;++c)xa[c]=N[c+64];N=O}}}return 0<=N};var ea=P(),ia=P([1]),na=P([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),r=P([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=P([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,
21502,52590,14035,8553]),v=P([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),U=P([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])}).call(this,C(6).Buffer)},function(Q,E,C){Q=C(5);C(15);C=Q.asn1;E.privateKeyValidator={name:"PrivateKeyInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,
value:[{name:"PrivateKeyInfo.version",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};E.publicKeyValidator={name:"SubjectPublicKeyInfo",
tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(Q,E,C){function u(q,f,k,
d){q.generate=function(g,t){for(var A=new I.util.ByteBuffer,W=Math.ceil(t/d)+k,F=new I.util.ByteBuffer,H=k;H<W;++H){F.putInt32(H);f.start();f.update(g+F.getBytes());var x=f.digest();A.putBytes(x.getBytes(d))}A.truncate(A.length()-t);return A.getBytes()}}var I=C(5);C(7);C(13);C(35);Q.exports=I.kem=I.kem||{};var V=I.jsbn.BigInteger;I.kem.rsa={};I.kem.rsa.create=function(q,f){f=f||{};var k=f.prng||I.random;return{encrypt:function(d,g){var t=Math.ceil(d.n.bitLength()/8);do var A=(new V(I.util.bytesToHex(k.getBytesSync(t)),
16)).mod(d.n);while(0>=A.compareTo(V.ONE));A=I.util.hexToBytes(A.toString(16));t-=A.length;0<t&&(A=I.util.fillString(String.fromCharCode(0),t)+A);d=d.encrypt(A,"NONE");g=q.generate(A,g);return{encapsulation:d,key:g}},decrypt:function(d,g,t){d=d.decrypt(g,"NONE");return q.generate(d,t)}}};I.kem.kdf1=function(q,f){u(this,q,0,f||q.digestLength)};I.kem.kdf2=function(q,f){u(this,q,1,f||q.digestLength)}},function(Q,E,C){Q.exports=C(16);C(38);C(26);C(52);C(61)},function(Q,E,C){function u(d){if(d.type===
q.pki.oids.contentType)var g=f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.value).getBytes());else if(d.type===q.pki.oids.messageDigest)g=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,d.value.bytes());else if(d.type===q.pki.oids.signingTime){g=new Date("1950-01-01T00:00:00Z");var t=new Date("2050-01-01T00:00:00Z"),A=d.value;if("string"===typeof A){var W=Date.parse(A);A=isNaN(W)?13===A.length?f.utcTimeToDate(A):f.generalizedTimeToDate(A):new Date(W)}g=A>=g&&A<t?f.create(f.Class.UNIVERSAL,
f.Type.UTCTIME,!1,f.dateToUtcTime(A)):f.create(f.Class.UNIVERSAL,f.Type.GENERALIZEDTIME,!1,f.dateToGeneralizedTime(A))}return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.type).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[g])])}function I(d,g,t){var A={};if(!f.validate(g,t,A,[]))throw d=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message."),d.errors=d,d;if(f.derToOid(A.contentType)!==q.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");
if(A.encryptedContent){g="";if(q.util.isArray(A.encryptedContent))for(t=0;t<A.encryptedContent.length;++t){if(A.encryptedContent[t].type!==f.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");g+=A.encryptedContent[t].value}else g=A.encryptedContent;d.encryptedContent={algorithm:f.derToOid(A.encAlgorithm),parameter:q.util.createBuffer(A.encParameter.value),content:q.util.createBuffer(g)}}if(A.content){g="";if(q.util.isArray(A.content))for(t=
0;t<A.content.length;++t){if(A.content[t].type!==f.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");g+=A.content[t].value}else g=A.content;d.content=q.util.createBuffer(g)}d.version=A.version.charCodeAt(0);return d.rawCapture=A}function V(d){if(void 0===d.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===d.content){switch(d.encryptedContent.algorithm){case q.pki.oids["aes128-CBC"]:case q.pki.oids["aes192-CBC"]:case q.pki.oids["aes256-CBC"]:var g=
q.aes.createDecryptionCipher(d.encryptedContent.key);break;case q.pki.oids.desCBC:case q.pki.oids["des-EDE3-CBC"]:g=q.des.createDecryptionCipher(d.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+d.encryptedContent.algorithm);}g.start(d.encryptedContent.parameter);g.update(d.encryptedContent.content);if(!g.finish())throw Error("Symmetric decryption failed.");d.content=g.output}}var q=C(5);C(19);C(15);C(33);C(20);C(21);C(58);C(13);C(7);C(41);var f=q.asn1,k=Q.exports=
q.pkcs7=q.pkcs7||{};k.messageFromPem=function(d){d=q.pem.decode(d)[0];if("PKCS7"!==d.type){var g=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');g.headerType=d.type;throw g;}if(d.procType&&"ENCRYPTED"===d.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");d=f.fromDer(d.body);return k.messageFromAsn1(d)};k.messageToPem=function(d,g){d={type:"PKCS7",body:f.toDer(d.toAsn1()).getBytes()};return q.pem.encode(d,{maxline:g})};k.messageFromAsn1=
function(d){var g={},t=[];if(!f.validate(d,k.asn1.contentInfoValidator,g,t))throw g=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo."),g.errors=t,g;t=f.derToOid(g.contentType);switch(t){case q.pki.oids.envelopedData:t=k.createEnvelopedData();break;case q.pki.oids.encryptedData:t=k.createEncryptedData();break;case q.pki.oids.signedData:t=k.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+t+" is not (yet) supported.");}t.fromAsn1(g.content.value[0]);
return t};k.createSignedData=function(){var d=null;return d={type:q.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(g){I(d,g,k.asn1.signedDataValidator);d.certificates=[];d.crls=[];d.digestAlgorithmIdentifiers=[];d.contentInfo=null;d.signerInfos=[];if(d.rawCapture.certificates){g=d.rawCapture.certificates.value;for(var t=0;t<g.length;++t)d.certificates.push(q.pki.certificateFromAsn1(g[t]))}},toAsn1:function(){d.contentInfo||
d.sign();for(var g=[],t=0;t<d.certificates.length;++t)g.push(q.pki.certificateToAsn1(d.certificates[t]));t=[];var A=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(d.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,d.digestAlgorithmIdentifiers),d.contentInfo])]);0<g.length&&A.value[0].value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,g));0<t.length&&A.value[0].value.push(f.create(f.Class.CONTEXT_SPECIFIC,
1,!0,t));A.value[0].value.push(f.create(f.Class.UNIVERSAL,f.Type.SET,!0,d.signerInfos));return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.type).getBytes()),A])},addSigner:function(g){var t=g.issuer,A=g.serialNumber;g.certificate&&(A=g.certificate,"string"===typeof A&&(A=q.pki.certificateFromPem(A)),t=A.issuer.attributes,A=A.serialNumber);var W=g.key;if(!W)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof W&&
(W=q.pki.privateKeyFromPem(W));var F=g.digestAlgorithm||q.pki.oids.sha1;switch(F){case q.pki.oids.sha1:case q.pki.oids.sha256:case q.pki.oids.sha384:case q.pki.oids.sha512:case q.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+F);}g=g.authenticatedAttributes||[];if(0<g.length){for(var H=!1,x=!1,z=0;z<g.length;++z){var m=g[z];if(!H&&m.type===q.pki.oids.contentType){if(H=!0,x)break}else if(!x&&m.type===q.pki.oids.messageDigest&&(x=!0,H))break}if(!H||
!x)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.");}d.signers.push({key:W,version:1,issuer:t,serialNumber:A,digestAlgorithm:F,signatureAlgorithm:q.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:g,unauthenticatedAttributes:[]})},sign:function(g){g=g||{};if("object"!==typeof d.content||null===d.contentInfo)if(d.contentInfo=f.create(f.Class.UNIVERSAL,
f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(q.pki.oids.data).getBytes())]),"content"in d){var t;d.content instanceof q.util.ByteBuffer?t=d.content.bytes():"string"===typeof d.content&&(t=q.util.encodeUtf8(d.content));g.detached?d.detachedContent=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t):d.contentInfo.value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,t)]))}if(0!==d.signers.length){g={};for(t=0;t<d.signers.length;++t){var A=
d.signers[t],W=A.digestAlgorithm;W in g||(g[W]=q.md[q.pki.oids[W]].create());A.md=0===A.authenticatedAttributes.length?g[W]:q.md[q.pki.oids[W]].create()}d.digestAlgorithmIdentifiers=[];for(W in g)d.digestAlgorithmIdentifiers.push(f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(W).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]));d.detachedContent?t=d.detachedContent:(t=d.contentInfo.value[1],t=t.value[0]);if(!t)throw Error("Could not sign PKCS#7 message; there is no content to sign.");
W=f.derToOid(d.contentInfo.value[0].value);var F=f.toDer(t);F.getByte();f.getBerValueLength(F);F=F.getBytes();for(var H in g)g[H].start().update(F);H=new Date;for(t=0;t<d.signers.length;++t){A=d.signers[t];if(0===A.authenticatedAttributes.length){if(W!==q.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.");}else{A.authenticatedAttributesAsn1=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);F=f.create(f.Class.UNIVERSAL,
f.Type.SET,!0,[]);for(var x=0;x<A.authenticatedAttributes.length;++x){var z=A.authenticatedAttributes[x];z.type===q.pki.oids.messageDigest?z.value=g[A.digestAlgorithm].digest():z.type!==q.pki.oids.signingTime||z.value||(z.value=H);F.value.push(u(z));A.authenticatedAttributesAsn1.value.push(u(z))}F=f.toDer(F).getBytes();A.md.start().update(F)}A.signature=A.key.sign(A.md,"RSASSA-PKCS1-V1_5")}g=d;W=d.signers;H=[];for(t=0;t<W.length;++t){A=H;F=A.push;x=W[t];z=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(x.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[q.pki.distinguishedNameToAsn1({attributes:x.issuer}),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,q.util.hexToBytes(x.serialNumber))]),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(x.digestAlgorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])]);x.authenticatedAttributesAsn1&&z.value.push(x.authenticatedAttributesAsn1);
z.value.push(f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(x.signatureAlgorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]));z.value.push(f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,x.signature));if(0<x.unauthenticatedAttributes.length){for(var m=f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[]),P=0;P<x.unauthenticatedAttributes.length;++P)m.values.push(u(x.unauthenticatedAttributes[P]));z.value.push(m)}F.call(A,z)}g.signerInfos=
H}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.");},addCertificate:function(g){"string"===typeof g&&(g=q.pki.certificateFromPem(g));d.certificates.push(g)},addCertificateRevokationList:function(g){throw Error("PKCS#7 CRL support not yet implemented.");}}};k.createEncryptedData=function(){var d=null;return d={type:q.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:q.pki.oids["aes256-CBC"]},fromAsn1:function(g){I(d,g,k.asn1.encryptedDataValidator)},
decrypt:function(g){void 0!==g&&(d.encryptedContent.key=g);V(d)}}};k.createEnvelopedData=function(){var d=null;return d={type:q.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:q.pki.oids["aes256-CBC"]},fromAsn1:function(g){var t=I(d,g,k.asn1.envelopedDataValidator);g=d;t=t.recipientInfos.value;for(var A=[],W=0;W<t.length;++W){var F=A,H=F.push,x={};var z=[];if(!f.validate(t[W],k.asn1.recipientInfoValidator,x,z))throw g=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo."),
g.errors=z,g;z={version:x.version.charCodeAt(0),issuer:q.pki.RDNAttributesAsArray(x.issuer),serialNumber:q.util.createBuffer(x.serial).toHex(),encryptedContent:{algorithm:f.derToOid(x.encAlgorithm),parameter:x.encParameter.value,content:x.encKey}};H.call(F,z)}g.recipients=A},toAsn1:function(){for(var g=f,t=g.create,A=f.Class.UNIVERSAL,W=f.Type.SEQUENCE,F=f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(d.type).getBytes()),H=f,x=H.create,z=f.Class.CONTEXT_SPECIFIC,m=f,P=m.create,l=f.Class.UNIVERSAL,
e=f.Type.SEQUENCE,w=f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(d.version).getBytes()),J=f,h=J.create,y=f.Class.UNIVERSAL,G=f.Type.SET,M=d.recipients,S=[],Z=0;Z<M.length;++Z){var ca=S,ea=ca.push;var ia=M[Z];ia=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(ia.version).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[q.pki.distinguishedNameToAsn1({attributes:ia.issuer}),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,
q.util.hexToBytes(ia.serialNumber))]),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(ia.encryptedContent.algorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")]),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,ia.encryptedContent.content)]);ea.call(ca,ia)}J=h.call(J,y,G,!0,S);h=f;y=h.create;G=f.Class.UNIVERSAL;M=f.Type.SEQUENCE;S=d.encryptedContent;S=[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(q.pki.oids.data).getBytes()),
f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(S.algorithm).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,S.parameter.getBytes())]),f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,S.content.getBytes())])];return t.call(g,A,W,!0,[F,x.call(H,z,0,!0,[P.call(m,l,e,!0,[w,J,y.call(h,G,M,!0,S)])])])},findRecipient:function(g){for(var t=g.issuer.attributes,A=0;A<d.recipients.length;++A){var W=d.recipients[A],
F=W.issuer;if(W.serialNumber===g.serialNumber&&F.length===t.length){for(var H=!0,x=0;x<t.length;++x)if(F[x].type!==t[x].type||F[x].value!==t[x].value){H=!1;break}if(H)return W}}return null},decrypt:function(g,t){if(void 0===d.encryptedContent.key&&void 0!==g&&void 0!==t)switch(g.encryptedContent.algorithm){case q.pki.oids.rsaEncryption:case q.pki.oids.desCBC:g=t.decrypt(g.encryptedContent.content);d.encryptedContent.key=q.util.createBuffer(g);break;default:throw Error("Unsupported asymmetric cipher, OID "+
g.encryptedContent.algorithm);}V(d)},addRecipient:function(g){d.recipients.push({version:0,issuer:g.issuer.attributes,serialNumber:g.serialNumber,encryptedContent:{algorithm:q.pki.oids.rsaEncryption,key:g.publicKey}})},encrypt:function(g,t){if(void 0===d.encryptedContent.content){t=t||d.encryptedContent.algorithm;g=g||d.encryptedContent.key;var A;switch(t){case q.pki.oids["aes128-CBC"]:var W=A=16;var F=q.aes.createEncryptionCipher;break;case q.pki.oids["aes192-CBC"]:A=24;W=16;F=q.aes.createEncryptionCipher;
break;case q.pki.oids["aes256-CBC"]:A=32;W=16;F=q.aes.createEncryptionCipher;break;case q.pki.oids["des-EDE3-CBC"]:A=24;W=8;F=q.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+t);}if(void 0===g)g=q.util.createBuffer(q.random.getBytes(A));else if(g.length()!=A)throw Error("Symmetric key has wrong length; got "+g.length()+" bytes, expected "+A+".");d.encryptedContent.algorithm=t;d.encryptedContent.key=g;d.encryptedContent.parameter=q.util.createBuffer(q.random.getBytes(W));
g=F(g);g.start(d.encryptedContent.parameter.copy());g.update(d.content);if(!g.finish())throw Error("Symmetric encryption failed.");d.encryptedContent.content=g.output}for(g=0;g<d.recipients.length;++g)if(t=d.recipients[g],void 0===t.encryptedContent.content)switch(t.encryptedContent.algorithm){case q.pki.oids.rsaEncryption:t.encryptedContent.content=t.encryptedContent.key.encrypt(d.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm);
}}}}},function(Q,E,C){function u(f,k){k=k.toString(16);"8"<=k[0]&&(k="00"+k);k=q.util.hexToBytes(k);f.putInt32(k.length);f.putBytes(k)}function I(f,k){f.putInt32(k.length);f.putString(k)}function V(){for(var f=q.md.sha1.create(),k=arguments.length,d=0;d<k;++d)f.update(arguments[d]);return f.digest()}var q=C(5);C(19);C(25);C(38);C(26);C(7);Q=Q.exports=q.ssh=q.ssh||{};Q.privateKeyToPutty=function(f,k,d){d=d||"";k=k||"";var g=""===k?"none":"aes256-cbc";var t="PuTTY-User-Key-File-2: ssh-rsa\r\nEncryption: "+
(g+"\r\nComment: ")+(d+"\r\n");var A=q.util.createBuffer();I(A,"ssh-rsa");u(A,f.e);u(A,f.n);var W=q.util.encode64(A.bytes(),64),F=Math.floor(W.length/66)+1;t+="Public-Lines: "+F+"\r\n";t+=W;W=q.util.createBuffer();u(W,f.d);u(W,f.p);u(W,f.q);u(W,f.qInv);k?(F=W.length()+16-1,F-=F%16,f=V(W.bytes()),f.truncate(f.length()-F+W.length()),W.putBuffer(f),F=q.util.createBuffer(),F.putBuffer(V("\x00\x00\x00\x00",k)),F.putBuffer(V("\x00\x00\x00\u0001",k)),F=q.aes.createEncryptionCipher(F.truncate(8),"CBC"),F.start(q.util.createBuffer().fillWithByte(0,
16)),F.update(W.copy()),F.finish(),F=F.output,F.truncate(16),f=q.util.encode64(F.bytes(),64)):f=q.util.encode64(W.bytes(),64);F=Math.floor(f.length/66)+1;t+="\r\nPrivate-Lines: "+F+"\r\n";t+=f;k=V("putty-private-key-file-mac-key",k);F=q.util.createBuffer();I(F,"ssh-rsa");I(F,g);I(F,d);F.putInt32(A.length());F.putBuffer(A);F.putInt32(W.length());F.putBuffer(W);d=q.hmac.create();d.start("sha1",k);d.update(F.bytes());return t+="\r\nPrivate-MAC: "+d.digest().toHex()+"\r\n"};Q.publicKeyToOpenSSH=function(f,
k){k=k||"";var d=q.util.createBuffer();I(d,"ssh-rsa");u(d,f.e);u(d,f.n);return"ssh-rsa "+q.util.encode64(d.bytes())+" "+k};Q.privateKeyToOpenSSH=function(f,k){return k?q.pki.encryptRsaPrivateKey(f,k,{legacy:!0,algorithm:"aes128"}):q.pki.privateKeyToPem(f)};Q.getPublicKeyFingerprint=function(f,k){k=k||{};var d=k.md||q.md.md5.create(),g=q.util.createBuffer();I(g,"ssh-rsa");u(g,f.e);u(g,f.n);d.start();d.update(g.getBytes());f=d.digest();if("hex"===k.encoding)return f=f.toHex(),k.delimiter?f.match(/.{2}/g).join(k.delimiter):
f;if("binary"===k.encoding)return f.getBytes();if(k.encoding)throw Error('Unknown encoding "'+k.encoding+'".');return f}},function(Q,E,C){var u=C(5);C(60);C(62);C(7);var I={},V=0;u.debug.set("forge.task","tasks",I);var q={};u.debug.set("forge.task","queues",q);var f={ready:{}};f.ready.stop="ready";f.ready.start="running";f.ready.cancel="done";f.ready.fail="error";f.running={};f.running.stop="ready";f.running.start="running";f.running.block="blocked";f.running.unblock="running";f.running.sleep="sleeping";
f.running.wakeup="running";f.running.cancel="done";f.running.fail="error";f.blocked={};f.blocked.stop="blocked";f.blocked.start="blocked";f.blocked.block="blocked";f.blocked.unblock="blocked";f.blocked.sleep="blocked";f.blocked.wakeup="blocked";f.blocked.cancel="done";f.blocked.fail="error";f.sleeping={};f.sleeping.stop="sleeping";f.sleeping.start="sleeping";f.sleeping.block="sleeping";f.sleeping.unblock="sleeping";f.sleeping.sleep="sleeping";f.sleeping.wakeup="sleeping";f.sleeping.cancel="done";
f.sleeping.fail="error";f.done={};f.done.stop="done";f.done.start="done";f.done.block="done";f.done.unblock="done";f.done.sleep="done";f.done.wakeup="done";f.done.cancel="done";f.done.fail="error";f.error={};f.error.stop="error";f.error.start="error";f.error.block="error";f.error.unblock="error";f.error.sleep="error";f.error.wakeup="error";f.error.cancel="error";f.error.fail="error";var k=function(A){this.id=-1;this.name=A.name||"?";this.parent=A.parent||null;this.run=A.run;this.subtasks=[];this.error=
!1;this.state="ready";this.blocks=0;this.userData=this.swapTime=this.timeoutId=null;this.id=V++;I[this.id]=this};k.prototype.debug=function(A){u.log.debug("forge.task",A||"","[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",q)};k.prototype.next=function(A,W){"function"===typeof A&&(W=A,A=this.name);A=new k({run:W,name:A,parent:this});A.state="running";A.type=this.type;A.successCallback=this.successCallback||null;A.failureCallback=this.failureCallback||null;this.subtasks.push(A);
return this};k.prototype.parallel=function(A,W){u.util.isArray(A)&&(W=A,A=this.name);return this.next(A,function(F){F.block(W.length);for(var H=function(z,m){u.task.start({type:z,run:function(P){W[m](P)},success:function(P){F.unblock()},failure:function(P){F.unblock()}})},x=0;x<W.length;x++)H(A+"__parallel-"+F.id+"-"+x,x)})};k.prototype.stop=function(){this.state=f[this.state].stop};k.prototype.start=function(){this.error=!1;this.state=f[this.state].start;"running"===this.state&&(this.start=new Date,
this.run(this),g(this,0))};k.prototype.block=function(A){this.blocks+="undefined"===typeof A?1:A;0<this.blocks&&(this.state=f[this.state].block)};k.prototype.unblock=function(A){this.blocks-="undefined"===typeof A?1:A;0===this.blocks&&"done"!==this.state&&(this.state="running",g(this,0));return this.blocks};k.prototype.sleep=function(A){this.state=f[this.state].sleep;var W=this;this.timeoutId=setTimeout(function(){W.timeoutId=null;W.state="running";g(W,0)},"undefined"===typeof A?0:A)};k.prototype.wait=
function(A){A.wait(this)};k.prototype.wakeup=function(){"sleeping"===this.state&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state="running",g(this,0))};k.prototype.cancel=function(){this.state=f[this.state].cancel;this.permitsNeeded=0;null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null);this.subtasks=[]};k.prototype.fail=function(A){this.error=!0;t(this,!0);if(A)A.error=this.error,A.swapTime=this.swapTime,A.userData=this.userData,g(A,0);else{if(null!==this.parent){for(A=
this.parent;null!==A.parent;)A.error=this.error,A.swapTime=this.swapTime,A.userData=this.userData,A=A.parent;t(A,!0)}this.failureCallback&&this.failureCallback(this)}};var d=function(A){A.error=!1;A.state=f[A.state].start;setTimeout(function(){"running"===A.state&&(A.swapTime=+new Date,A.run(A),g(A,0))},0)},g=function(A,W){var F=30<W||20<+new Date-A.swapTime,H=function(x){x++;if("running"===A.state)if(F&&(A.swapTime=+new Date),0<A.subtasks.length){var z=A.subtasks.shift();z.error=A.error;z.swapTime=
A.swapTime;z.userData=A.userData;z.run(z);z.error||g(z,x)}else t(A),A.error||null===A.parent||(A.parent.error=A.error,A.parent.swapTime=A.swapTime,A.parent.userData=A.userData,g(A.parent,x))};F?setTimeout(H,0):H(W)},t=function(A,W){A.state="done";delete I[A.id];null===A.parent&&(A.type in q?0===q[A.type].length?u.log.error("forge.task","[%s][%s] task queue empty [%s]",A.id,A.name,A.type):q[A.type][0]!==A?u.log.error("forge.task","[%s][%s] task not first in queue [%s]",A.id,A.name,A.type):(q[A.type].shift(),
0===q[A.type].length?delete q[A.type]:q[A.type][0].start()):u.log.error("forge.task","[%s][%s] task queue missing [%s]",A.id,A.name,A.type),W||(A.error&&A.failureCallback?A.failureCallback(A):!A.error&&A.successCallback&&A.successCallback(A)))};Q.exports=u.task=u.task||{};u.task.start=function(A){var W=new k({run:A.run,name:A.name||"?"});W.type=A.type;W.successCallback=A.success||null;W.failureCallback=A.failure||null;W.type in q?q[A.type].push(W):(q[W.type]=[W],d(W))};u.task.cancel=function(A){A in
q&&(q[A]=[q[A][0]])};u.task.createCondition=function(){var A={tasks:{},wait:function(W){W.id in A.tasks||(W.block(),A.tasks[W.id]=W)},notify:function(){var W=A.tasks;A.tasks={};for(var F in W)W[F].unblock()}};return A}},function(Q,E,C){function u(M,S){if(!M)return 0;if(!S||0>S)S=1;M/=S;var Z=Math.pow(2,Math.log(Math.abs(M))/Math.log(2)-52);M+=0<=M?Z:-Z;return(0>M?-1:1)*Math.round(Math.abs(M))*S}function I(M){return void 0===M||null===M?"":M.toString()}function V(M){return function(S){var Z=I(S);if(Z.length>
M)throw Error("Value ".concat(S," is longer thant ").concat(M,"."));return Z}}function q(M){return function(S){var Z=I(S);if(!M.test(Z))throw Z=M.toString(),Error("Value ".concat(S," does not match ").concat(Z,"."));return Z}}function f(M){if(M instanceof Date){var S=("00"+M.getDate()).slice(-2),Z=("00"+(M.getMonth()+1)).slice(-2);M=M.getFullYear().toString();return"".concat(S,"-").concat(Z,"-").concat(M)}throw Error("Date expected and ".concat(M," found."));}function k(M){if(M instanceof Date){var S=
("00"+M.getHours()).slice(-2),Z=("00"+M.getMinutes()).slice(-2);M=("00"+M.getSeconds()).slice(-2);return"".concat(S,":").concat(Z,":").concat(M)}throw Error("Date expected and ".concat(M," found."));}function d(M){if("number"===typeof M)return u(M,.01).toFixed(2);throw Error("Number expected and ".concat(M," found."));}function g(M,S){var Z="undefined"!==typeof Symbol&&M[Symbol.iterator]||M["@@iterator"];if(!Z){if(Array.isArray(M)||(Z=t(M))||S&&M&&"number"===typeof M.length){Z&&(M=Z);var ca=0;S=function(){};
return{s:S,n:function(){return ca>=M.length?{done:!0}:{done:!1,value:M[ca++]}},e:function(r){throw r;},f:S}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var ea=!0,ia=!1,na;return{s:function(){Z=Z.call(M)},n:function(){var r=Z.next();ea=r.done;return r},e:function(r){ia=!0;na=r},f:function(){try{if(!ea&&null!=Z["return"])Z["return"]()}finally{if(ia)throw na;}}}}function t(M,S){if(M){if("string"===
typeof M)return A(M,S);var Z=Object.prototype.toString.call(M).slice(8,-1);"Object"===Z&&M.constructor&&(Z=M.constructor.name);if("Map"===Z||"Set"===Z)return Array.from(M);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return A(M,S)}}function A(M,S){if(null==S||S>M.length)S=M.length;for(var Z=0,ca=Array(S);Z<S;Z++)ca[Z]=M[Z];return ca}function W(M,S){S=g(S);var Z;try{for(S.s();!(Z=S.n()).done;){var ca=Z.value,ea,ia;var na=ca;var r=Array.isArray(na)?na:void 0;if(!(ia=r)){var n=
na=void 0,v=null==ca?null:"undefined"!==typeof Symbol&&ca[Symbol.iterator]||ca["@@iterator"];if(null!=v){var D=[],U=!0,N=!1;try{for(v=v.call(ca);!(U=(n=v.next()).done)&&(D.push(n.value),3!==D.length);U=!0);}catch(ua){N=!0,na=ua}finally{try{if(!U&&null!=v["return"])v["return"]()}finally{if(N)throw na;}}ia=D}else ia=void 0}if(!(ea=ia||t(ca,3)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
var O=ea;var K=O[1],pa=O[2],xa=M.querySelector(O[0]);xa&&(void 0===K&&xa.parentNode?xa.parentNode.removeChild(xa):xa.textContent=pa(K))}}catch(ua){S.e(ua)}finally{S.f()}}function F(M){return M.parentNode?(M.parentNode.removeChild(M),!0):!1}function H(M,S,Z,ca){ca=ca||{};var ea=(new DOMParser).parseFromString(G,"application/xml"),ia=M.description;Z=[["Emisor>NIF",M.issuer.irsId,J],["Emisor>ApellidosNombreRazonSocial",M.issuer.name,e],["CabeceraFactura>SerieFactura",M.id.serie,m],["CabeceraFactura>NumFactura",
M.id.number,m],["CabeceraFactura>FechaExpedicionFactura",M.id.issuedTime,f],["CabeceraFactura>HoraExpedicionFactura",M.id.issuedTime,k],["FechaOperacion",ia.operationDate,f],["DescripcionFactura",ia.text,w],["ImporteTotalFactura",M.total,d],["Software>LicenciaTBAI",Z.license,m],["Software>Nombre",Z.name,e],["Software>Version",Z.version,m],["EntidadDesarrolladora>NIF",Z.developerIrsId,J]];S?Z=Z.concat([["SerieFacturaAnterior",S.serie,m],["NumFacturaAnterior",S.number,m],["FechaExpedicionFacturaAnterior",
S.issuedTime,f],["SignatureValueFirmaFacturaAnterior",S.hash,l]]):ea.querySelectorAll("EncadenamientoFacturaAnterior").forEach(F);if(S=M.recipient){ia="\n        <IDDestinatario>\n            <NIF/>\n            <ApellidosNombreRazonSocial/>\n            <CodigoPostal/>\n            <Direccion/>\n        </IDDestinatario>\n    ".replace(/>\s+</g,"><");ia=(new DOMParser).parseFromString(ia,"application/xml");W(ia,[["NIF",S.irsId,J],["ApellidosNombreRazonSocial",S.name,e],["CodigoPostal",S.postal,h],
["Direccion",S.address,w]]);S.postal||ia.querySelectorAll("CodigoPostal").forEach(F);S.address||ia.querySelectorAll("Direccion").forEach(F);S=ea.querySelector("Destinatarios");if(!S)throw Error("Missing Destinatarios element");S.appendChild(ia.documentElement)}else ea.querySelectorAll("Destinatarios").forEach(F);ca.deviceId?Z=Z.concat([["NumSerieDispositivo",ca.deviceId,P]]):ea.querySelectorAll("NumSerieDispositivo").forEach(F);W(ea,Z);if(ca=ea.querySelector("TipoDesglose")){Z=M.vatLines;S=ea.createElement("DesgloseFactura");
ca.appendChild(S);ia=ea.createElement("Sujeta");var na=ea.createElement("NoExenta"),r=ea.createElement("DetalleNoExenta"),n=ea.createElement("TipoNoExenta");ca=ea.createElement("DesgloseIVA");if(6<Z.length)throw Error("Not exempted VAT max. occurs is 6");S.appendChild(ia);ia.appendChild(na);na.appendChild(r);n.textContent="S1";r.appendChild(n);r.appendChild(ca);Z=g(Z);var v;try{for(Z.s();!(v=Z.n()).done;){S=ea;ia=ca;var D=v.value,U=S.createElement("DetalleIVA"),N=S.createElement("BaseImponible"),
O=S.createElement("TipoImpositivo"),K=S.createElement("CuotaImpuesto");N.textContent=d(D.base);O.textContent=d(D.rate);K.textContent=d(D.amount);ia.appendChild(U);U.appendChild(N);U.appendChild(O);U.appendChild(K)}}catch(Ka){Z.e(Ka)}finally{Z.f()}}else throw Error("TipoDesglose XML node is required.");if(M.lines.length>y)throw Error("Only up to 1000 invoice lines allowed");if(0<M.lines.length){v=ea.querySelector("DetallesFactura");if(!v)throw Error("Missing DetallesFactura element");D=g(M.lines);
var pa;try{for(D.s();!(pa=D.n()).done;){U=ea;N=v;
var xa=pa.value,ua=U.createElement("IDDetalleFactura"),za=U.createElement("DescripcionDetalle"),ta=U.createElement("Cantidad"),c=U.createElement("ImporteUnitario"),X=U.createElement("Descuento"),ka=U.createElement("ImporteTotal");
za.textContent=w(xa.description);

var ja=xa.quantity;
if("number"===typeof ja)var la=u(ja,1E-8).toFixed(8);
else throw Error("Number expected and ".concat(ja," found."));
ta.textContent=la;

var ja=xa.price;
if("number"===typeof ja)var la=u(ja,1E-8).toFixed(8);
else throw Error("Number expected and ".concat(ja," found."));
c.textContent=la;
X.textContent=
d(xa.discountAmount);ka.textContent=d(xa.amountWithVat);N.appendChild(ua);ua.appendChild(za);ua.appendChild(ta);ua.appendChild(c);ua.appendChild(X);ua.appendChild(ka)}}catch(Ka){D.e(Ka)}finally{D.f()}}else ea.querySelectorAll("DetallesFactura").forEach(F);pa=M.vatKeys;M=ea.querySelector("Claves");if(!M)throw Error("Missing Claves element");pa=g(pa);var Ba;try{for(pa.s();!(Ba=pa.n()).done;){xa=ea;ua=M;var Ha=Ba.value,Ma=xa.createElement("IDClave"),Sa=xa.createElement("ClaveRegimenIvaOpTrascendencia");
Sa.textContent=Ha;ua.appendChild(Ma);Ma.appendChild(Sa)}}catch(Ka){pa.e(Ka)}finally{pa.f()}return ea}function x(M,S,Z,ca){M=H(M,S,Z,ca);return(new XMLSerializer).serializeToString(M)}C.r(E);C.d(E,"getTbaiId",function(){return z.d});C.d(E,"getTbaiChainInfo",function(){return z.c});C.d(E,"Irs",function(){return z.a});C.d(E,"getTbaiUrlFromBaseURL",function(){return z.f});C.d(E,"getTbaiUrl",function(){return z.e});C.d(E,"TbaiSigner",function(){return z.b});C.d(E,"InvoiceId",function(){});C.d(E,"PreviousInvoiceId",
function(){});C.d(E,"toXmlDocument",function(){return H});C.d(E,"toXml",function(){return x});var z=C(44);C(45);var m=V(20),P=V(30),l=function(M){return function(S){return I(S).substr(0,M)}}(100),e=V(120),w=V(250),J=q(/^(([a-z|A-Z]{1}\d{7}[a-z|A-Z]{1})|(\d{8}[a-z|A-Z]{1})|([a-z|A-Z]{1}\d{8}))$/),h=q(/^\d{5}$/),y=1E3,G='\n<tbai:TicketBai xmlns:tbai="urn:ticketbai:emision">\n    <Cabecera>\n        <IDVersionTBAI>1.2</IDVersionTBAI>\n    </Cabecera>\n    <Sujetos>\n        <Emisor>\n            <NIF>????</NIF>\n            <ApellidosNombreRazonSocial>????</ApellidosNombreRazonSocial>\n        </Emisor>\n        <Destinatarios/>\n    </Sujetos>\n    <Factura>\n        <CabeceraFactura>\n            <SerieFactura>????</SerieFactura>\n            <NumFactura>????</NumFactura>\n            <FechaExpedicionFactura>????</FechaExpedicionFactura>\n            <HoraExpedicionFactura>????</HoraExpedicionFactura>\n            <FacturaSimplificada>S</FacturaSimplificada>\n        </CabeceraFactura>\n        <DatosFactura>\n            <FechaOperacion>????</FechaOperacion>\n            <DescripcionFactura>????</DescripcionFactura>\n            <DetallesFactura></DetallesFactura>\n            <ImporteTotalFactura>????</ImporteTotalFactura>\n            <Claves></Claves>\n        </DatosFactura>\n        <TipoDesglose/>\n    </Factura>\n    <HuellaTBAI>\n        <EncadenamientoFacturaAnterior>\n            <SerieFacturaAnterior>????</SerieFacturaAnterior>\n            <NumFacturaAnterior>????</NumFacturaAnterior>\n            <FechaExpedicionFacturaAnterior>????</FechaExpedicionFacturaAnterior>\n            <SignatureValueFirmaFacturaAnterior>????</SignatureValueFirmaFacturaAnterior>\n        </EncadenamientoFacturaAnterior>\n        <Software>\n            <LicenciaTBAI>????</LicenciaTBAI>\n            <EntidadDesarrolladora>\n                <NIF>????</NIF>\n            </EntidadDesarrolladora>\n            <Nombre>????</Nombre>\n            <Version>????</Version>\n        </Software>\n        <NumSerieDispositivo>????</NumSerieDispositivo>\n    </HuellaTBAI>\n</tbai:TicketBai>'.replace(/>\s+</g,
"><").replace(/\s*xmlns/g," xmlns")}])});}).call(this || window)
