(function(){/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <http://feross.org>
 @license  MIT
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
**************************************************************************** ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(R){var G=0;return function(){return G<R.length?{done:!1,value:R[G++]}:{done:!0}}};$jscomp.arrayIterator=function(R){return{next:$jscomp.arrayIteratorImpl(R)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(R,G,E){if(R==Array.prototype||R==Object.prototype)return R;R[G]=E.value;return R};$jscomp.getGlobal=function(R){R=["object"==typeof globalThis&&globalThis,R,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var G=0;G<R.length;++G){var E=R[G];if(E&&E.Math==Math)return E}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(R,G){var E=$jscomp.propertyToPolyfillSymbol[G];if(null==E)return R[G];E=R[E];return void 0!==E?E:R[G]};
$jscomp.polyfill=function(R,G,E,u){G&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(R,G,E,u):$jscomp.polyfillUnisolated(R,G,E,u))};$jscomp.polyfillUnisolated=function(R,G,E,u){E=$jscomp.global;R=R.split(".");for(u=0;u<R.length-1;u++){var J=R[u];if(!(J in E))return;E=E[J]}R=R[R.length-1];u=E[R];G=G(u);G!=u&&null!=G&&$jscomp.defineProperty(E,R,{configurable:!0,writable:!0,value:G})};
$jscomp.polyfillIsolated=function(R,G,E,u){var J=R.split(".");R=1===J.length;u=J[0];u=!R&&u in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var W=0;W<J.length-1;W++){var l=J[W];if(!(l in u))return;u=u[l]}J=J[J.length-1];E=$jscomp.IS_SYMBOL_NATIVE&&"es6"===E?u[J]:null;G=G(E);null!=G&&(R?$jscomp.defineProperty($jscomp.polyfills,J,{configurable:!0,writable:!0,value:G}):G!==E&&(void 0===$jscomp.propertyToPolyfillSymbol[J]&&($jscomp.propertyToPolyfillSymbol[J]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(J):
$jscomp.POLYFILL_PREFIX+J),$jscomp.defineProperty(u,$jscomp.propertyToPolyfillSymbol[J],{configurable:!0,writable:!0,value:G})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(R){if(R)return R;var G=function(J,W){this.$jscomp$symbol$id_=J;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:W})};G.prototype.toString=function(){return this.$jscomp$symbol$id_};var E=0,u=function(J){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new G("jscomp_symbol_"+(J||"")+"_"+E++,J)};return u},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(R){if(R)return R;R=Symbol("Symbol.iterator");for(var G="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),E=0;E<G.length;E++){var u=$jscomp.global[G[E]];"function"===typeof u&&"function"!=typeof u.prototype[R]&&$jscomp.defineProperty(u.prototype,R,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return R},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(R){return R?R:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(R){R={next:R};R[Symbol.iterator]=function(){return this};return R};$jscomp.createTemplateTagFirstArg=function(R){return R.raw=R};$jscomp.createTemplateTagFirstArgWithRaw=function(R,G){R.raw=G;return R};$jscomp.makeIterator=function(R){var G="undefined"!=typeof Symbol&&Symbol.iterator&&R[Symbol.iterator];return G?G.call(R):$jscomp.arrayIterator(R)};
$jscomp.arrayFromIterator=function(R){for(var G,E=[];!(G=R.next()).done;)E.push(G.value);return E};$jscomp.arrayFromIterable=function(R){return R instanceof Array?R:$jscomp.arrayFromIterator($jscomp.makeIterator(R))};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(R){var G=function(){};G.prototype=R;return new G};
$jscomp.getConstructImplementation=function(){function R(){function E(){}new E;Reflect.construct(E,[],function(){});return new E instanceof E}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(R())return Reflect.construct;var G=Reflect.construct;return function(E,u,J){E=G(E,u);J&&Reflect.setPrototypeOf(E,J.prototype);return E}}return function(E,u,J){void 0===J&&(J=E);J=$jscomp.objectCreate(J.prototype||Object.prototype);return Function.prototype.apply.call(E,J,u)||
J}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var R={a:!0},G={};try{return G.__proto__=R,G.a}catch(E){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(R,G){R.__proto__=G;if(R.__proto__!==G)throw new TypeError(R+" is not extensible");return R}:null;
$jscomp.inherits=function(R,G){R.prototype=$jscomp.objectCreate(G.prototype);R.prototype.constructor=R;if($jscomp.setPrototypeOf){var E=$jscomp.setPrototypeOf;E(R,G)}else for(E in G)if("prototype"!=E)if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(G,E);u&&Object.defineProperty(R,E,u)}else R[E]=G[E];R.superClass_=G.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(R){if(!(R instanceof Object))throw new TypeError("Iterator result "+R+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(R){this.yieldResult=R};
$jscomp.generator.Context.prototype.throw_=function(R){this.abruptCompletion_={exception:R,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(R){this.abruptCompletion_={return:R};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(R){this.abruptCompletion_={jumpTo:R};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(R,G){this.nextAddress=G;return{value:R}};
$jscomp.generator.Context.prototype.yieldAll=function(R,G){R=$jscomp.makeIterator(R);var E=R.next();$jscomp.generator.ensureIteratorResultIsObject_(E);if(E.done)this.yieldResult=E.value,this.nextAddress=G;else return this.yieldAllIterator_=R,this.yield(E.value,G)};$jscomp.generator.Context.prototype.jumpTo=function(R){this.nextAddress=R};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(R,G){this.catchAddress_=R;void 0!=G&&(this.finallyAddress_=G)};$jscomp.generator.Context.prototype.setFinallyBlock=function(R){this.catchAddress_=0;this.finallyAddress_=R||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(R,G){this.nextAddress=R;this.catchAddress_=G||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(R){this.catchAddress_=R||0;R=this.abruptCompletion_.exception;this.abruptCompletion_=null;return R};$jscomp.generator.Context.prototype.enterFinallyBlock=function(R,G,E){E?this.finallyContexts_[E]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=R||0;this.finallyAddress_=G||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(R,G){G=this.finallyContexts_.splice(G||0)[0];if(G=this.abruptCompletion_=this.abruptCompletion_||G){if(G.isException)return this.jumpToErrorHandler_();void 0!=G.jumpTo&&this.finallyAddress_<G.jumpTo?(this.nextAddress=G.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=R};$jscomp.generator.Context.prototype.forIn=function(R){return new $jscomp.generator.Context.PropertyIterator(R)};
$jscomp.generator.Context.PropertyIterator=function(R){this.object_=R;this.properties_=[];for(var G in R)this.properties_.push(G);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var R=this.properties_.pop();if(R in this.object_)return R}return null};$jscomp.generator.Engine_=function(R){this.context_=new $jscomp.generator.Context;this.program_=R};
$jscomp.generator.Engine_.prototype.next_=function(R){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,R,this.context_.next_);this.context_.next_(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(R){this.context_.start_();var G=this.context_.yieldAllIterator_;if(G)return this.yieldAllStep_("return"in G?G["return"]:function(E){return{value:E,done:!0}},R,this.context_.return);this.context_.return(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(R){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],R,this.context_.next_);this.context_.throw_(R);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(R,G,E){try{var u=R.call(this.context_.yieldAllIterator_,G);$jscomp.generator.ensureIteratorResultIsObject_(u);if(!u.done)return this.context_.stop_(),u;var J=u.value}catch(W){return this.context_.yieldAllIterator_=null,this.context_.throw_(W),this.nextStep_()}this.context_.yieldAllIterator_=null;E.call(this.context_,J);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var R=this.program_(this.context_);if(R)return this.context_.stop_(),{value:R.value,done:!1}}catch(G){this.context_.yieldResult=void 0,this.context_.throw_(G)}this.context_.stop_();if(this.context_.abruptCompletion_){R=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(R.isException)throw R.exception;return{value:R.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(R){this.next=function(G){return R.next_(G)};this.throw=function(G){return R.throw_(G)};this.return=function(G){return R.return_(G)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(R,G){G=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(G));$jscomp.setPrototypeOf&&R.prototype&&$jscomp.setPrototypeOf(G,R.prototype);return G};
$jscomp.asyncExecutePromiseGenerator=function(R){function G(u){return R.next(u)}function E(u){return R.throw(u)}return new Promise(function(u,J){function W(l){l.done?u(l.value):Promise.resolve(l.value).then(G,E).then(W,J)}W(R.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(R){return $jscomp.asyncExecutePromiseGenerator(R())};$jscomp.asyncExecutePromiseGeneratorProgram=function(R){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(R)))};
$jscomp.polyfill("Reflect",function(R){return R?R:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(R){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Reflect.setPrototypeOf",function(R){if(R)return R;if($jscomp.setPrototypeOf){var G=$jscomp.setPrototypeOf;return function(E,u){try{return G(E,u),!0}catch(J){return!1}}}return null},"es6","es5");
$jscomp.polyfill("Promise",function(R){function G(){this.batch_=null}function E(l){return l instanceof J?l:new J(function(h,p){h(l)})}if(R&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return R;G.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(l)};
var u=$jscomp.global.setTimeout;G.prototype.asyncExecuteFunction=function(l){u(l,0)};G.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=this.batch_;this.batch_=[];for(var h=0;h<l.length;++h){var p=l[h];l[h]=null;try{p()}catch(c){this.asyncThrow_(c)}}}this.batch_=null};G.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var J=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var h=this.createResolveAndReject_();
try{l(h.resolve,h.reject)}catch(p){h.reject(p)}};J.prototype.createResolveAndReject_=function(){function l(c){return function(f){p||(p=!0,c.call(h,f))}}var h=this,p=!1;return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};J.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof J)this.settleSameAsPromise_(l);else{a:switch(typeof l){case "object":var h=null!=l;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(l):
this.fulfill_(l)}};J.prototype.resolveToNonPromiseObj_=function(l){var h=void 0;try{h=l.then}catch(p){this.reject_(p);return}"function"==typeof h?this.settleSameAsThenable_(h,l):this.fulfill_(l)};J.prototype.reject_=function(l){this.settle_(2,l)};J.prototype.fulfill_=function(l){this.settle_(1,l)};J.prototype.settle_=function(l,h){if(0!=this.state_)throw Error("Cannot settle("+l+", "+h+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=h;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};J.prototype.scheduleUnhandledRejectionCheck_=function(){var l=this;u(function(){if(l.notifyUnhandledRejection_()){var h=$jscomp.global.console;"undefined"!==typeof h&&h.error(l.result_)}},1)};J.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var l=$jscomp.global.CustomEvent,h=$jscomp.global.Event,p=$jscomp.global.dispatchEvent;if("undefined"===typeof p)return!0;"function"===typeof l?l=new l("unhandledrejection",{cancelable:!0}):
"function"===typeof h?l=new h("unhandledrejection",{cancelable:!0}):(l=$jscomp.global.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.result_;return p(l)};J.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)W.asyncExecute(this.onSettledCallbacks_[l]);this.onSettledCallbacks_=null}};var W=new G;J.prototype.settleSameAsPromise_=function(l){var h=this.createResolveAndReject_();
l.callWhenSettled_(h.resolve,h.reject)};J.prototype.settleSameAsThenable_=function(l,h){var p=this.createResolveAndReject_();try{l.call(h,p.resolve,p.reject)}catch(c){p.reject(c)}};J.prototype.then=function(l,h){function p(z,M){return"function"==typeof z?function(A){try{c(z(A))}catch(F){f(F)}}:M}var c,f,r=new J(function(z,M){c=z;f=M});this.callWhenSettled_(p(l,c),p(h,f));return r};J.prototype.catch=function(l){return this.then(void 0,l)};J.prototype.callWhenSettled_=function(l,h){function p(){switch(c.state_){case 1:l(c.result_);
break;case 2:h(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?W.asyncExecute(p):this.onSettledCallbacks_.push(p);this.isRejectionHandled_=!0};J.resolve=E;J.reject=function(l){return new J(function(h,p){p(l)})};J.race=function(l){return new J(function(h,p){for(var c=$jscomp.makeIterator(l),f=c.next();!f.done;f=c.next())E(f.value).callWhenSettled_(h,p)})};J.all=function(l){var h=$jscomp.makeIterator(l),p=h.next();return p.done?E([]):new J(function(c,
f){function r(A){return function(F){z[A]=F;M--;0==M&&c(z)}}var z=[],M=0;do z.push(void 0),M++,E(p.value).callWhenSettled_(r(z.length-1),f),p=h.next();while(!p.done)})};return J},"es6","es3");$jscomp.owns=function(R,G){return Object.prototype.hasOwnProperty.call(R,G)};$jscomp.polyfill("Object.entries",function(R){return R?R:function(G){var E=[],u;for(u in G)$jscomp.owns(G,u)&&E.push([u,G[u]]);return E}},"es8","es3");
$jscomp.polyfill("Array.prototype.fill",function(R){return R?R:function(G,E,u){var J=this.length||0;0>E&&(E=Math.max(0,J+E));if(null==u||u>J)u=J;u=Number(u);0>u&&(u=Math.max(0,J+u));for(E=Number(E||0);E<u;E++)this[E]=G;return this}},"es6","es3");$jscomp.typedArrayFill=function(R){return R?R:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.iteratorFromArray=function(R,G){R instanceof String&&(R+="");var E=0,u=!1,J={next:function(){if(!u&&E<R.length){var W=E++;return{value:G(W,R[W]),done:!1}}u=!0;return{done:!0,value:void 0}}};J[Symbol.iterator]=function(){return J};return J};$jscomp.polyfill("Array.prototype.values",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(G,E){return E})}},"es8","es3");
$jscomp.polyfill("Array.from",function(R){return R?R:function(G,E,u){E=null!=E?E:function(h){return h};var J=[],W="undefined"!=typeof Symbol&&Symbol.iterator&&G[Symbol.iterator];if("function"==typeof W){G=W.call(G);for(var l=0;!(W=G.next()).done;)J.push(E.call(u,W.value,l++))}else for(W=G.length,l=0;l<W;l++)J.push(E.call(u,G[l],l));return J}},"es6","es3");
$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(R,G){for(var E=1;E<arguments.length;E++){var u=arguments[E];if(u)for(var J in u)$jscomp.owns(u,J)&&(R[J]=u[J])}return R};$jscomp.polyfill("Object.assign",function(R){return R||$jscomp.assign},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(G){return G})}},"es6","es3");
$jscomp.polyfill("Array.prototype.entries",function(R){return R?R:function(){return $jscomp.iteratorFromArray(this,function(G,E){return[G,E]})}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var R={},G=Object.create(new $jscomp.global.Proxy(R,{get:function(E,u,J){return E==R&&"q"==u&&J==G}}));return!0===G.q}catch(E){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.polyfill("WeakMap",function(R){function G(){if(!R||!Object.seal)return!1;try{var c=Object.seal({}),f=Object.seal({}),r=new R([[c,2],[f,3]]);if(2!=r.get(c)||3!=r.get(f))return!1;r.delete(c);r.set(f,4);return!r.has(c)&&4==r.get(f)}catch(z){return!1}}function E(){}function u(c){var f=typeof c;return"object"===f&&null!==c||"function"===f}function J(c){if(!$jscomp.owns(c,l)){var f=new E;$jscomp.defineProperty(c,l,{value:f})}}function W(c){if(!$jscomp.ISOLATE_POLYFILLS){var f=Object[c];f&&(Object[c]=
function(r){if(r instanceof E)return r;Object.isExtensible(r)&&J(r);return f(r)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(R&&$jscomp.ES6_CONFORMANCE)return R}else if(G())return R;var l="$jscomp_hidden_"+Math.random();W("freeze");W("preventExtensions");W("seal");var h=0,p=function(c){this.id_=(h+=Math.random()+1).toString();if(c){c=$jscomp.makeIterator(c);for(var f;!(f=c.next()).done;)f=f.value,this.set(f[0],f[1])}};p.prototype.set=function(c,f){if(!u(c))throw Error("Invalid WeakMap key");
J(c);if(!$jscomp.owns(c,l))throw Error("WeakMap key fail: "+c);c[l][this.id_]=f;return this};p.prototype.get=function(c){return u(c)&&$jscomp.owns(c,l)?c[l][this.id_]:void 0};p.prototype.has=function(c){return u(c)&&$jscomp.owns(c,l)&&$jscomp.owns(c[l],this.id_)};p.prototype.delete=function(c){return u(c)&&$jscomp.owns(c,l)&&$jscomp.owns(c[l],this.id_)?delete c[l][this.id_]:!1};return p},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(R){function G(){if($jscomp.ASSUME_NO_NATIVE_MAP||!R||"function"!=typeof R||!R.prototype.entries||"function"!=typeof Object.seal)return!1;try{var p=Object.seal({x:4}),c=new R($jscomp.makeIterator([[p,"s"]]));if("s"!=c.get(p)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var f=c.entries(),r=f.next();if(r.done||r.value[0]!=p||"s"!=r.value[1])return!1;r=f.next();return r.done||4!=r.value[0].x||"t"!=r.value[1]||!f.next().done?!1:!0}catch(z){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(R&&$jscomp.ES6_CONFORMANCE)return R}else if(G())return R;var E=new WeakMap,u=function(p){this.data_={};this.head_=l();this.size=0;if(p){p=$jscomp.makeIterator(p);for(var c;!(c=p.next()).done;)c=c.value,this.set(c[0],c[1])}};u.prototype.set=function(p,c){p=0===p?0:p;var f=J(this,p);f.list||(f.list=this.data_[f.id]=[]);f.entry?f.entry.value=c:(f.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:p,value:c},f.list.push(f.entry),
this.head_.previous.next=f.entry,this.head_.previous=f.entry,this.size++);return this};u.prototype.delete=function(p){p=J(this,p);return p.entry&&p.list?(p.list.splice(p.index,1),p.list.length||delete this.data_[p.id],p.entry.previous.next=p.entry.next,p.entry.next.previous=p.entry.previous,p.entry.head=null,this.size--,!0):!1};u.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};u.prototype.has=function(p){return!!J(this,p).entry};u.prototype.get=function(p){return(p=
J(this,p).entry)&&p.value};u.prototype.entries=function(){return W(this,function(p){return[p.key,p.value]})};u.prototype.keys=function(){return W(this,function(p){return p.key})};u.prototype.values=function(){return W(this,function(p){return p.value})};u.prototype.forEach=function(p,c){for(var f=this.entries(),r;!(r=f.next()).done;)r=r.value,p.call(c,r[1],r[0],this)};u.prototype[Symbol.iterator]=u.prototype.entries;var J=function(p,c){var f=c&&typeof c;"object"==f||"function"==f?E.has(c)?f=E.get(c):
(f=""+ ++h,E.set(c,f)):f="p_"+c;var r=p.data_[f];if(r&&$jscomp.owns(p.data_,f))for(p=0;p<r.length;p++){var z=r[p];if(c!==c&&z.key!==z.key||c===z.key)return{id:f,list:r,index:p,entry:z}}return{id:f,list:r,index:-1,entry:void 0}},W=function(p,c){var f=p.head_;return $jscomp.iteratorPrototype(function(){if(f){for(;f.head!=p.head_;)f=f.previous;for(;f.next!=f.head;)return f=f.next,{done:!1,value:c(f)};f=null}return{done:!0,value:void 0}})},l=function(){var p={};return p.previous=p.next=p.head=p},h=0;
return u},"es6","es3");$jscomp.polyfill("Object.setPrototypeOf",function(R){return R||$jscomp.setPrototypeOf},"es6","es5");$jscomp.checkStringArgs=function(R,G,E){if(null==R)throw new TypeError("The 'this' value for String.prototype."+E+" must not be null or undefined");if(G instanceof RegExp)throw new TypeError("First argument to String.prototype."+E+" must not be a regular expression");return R+""};
$jscomp.polyfill("String.prototype.startsWith",function(R){return R?R:function(G,E){var u=$jscomp.checkStringArgs(this,G,"startsWith");G+="";var J=u.length,W=G.length;E=Math.max(0,Math.min(E|0,u.length));for(var l=0;l<W&&E<J;)if(u[E++]!=G[l++])return!1;return l>=W}},"es6","es3");$jscomp.polyfill("Object.values",function(R){return R?R:function(G){var E=[],u;for(u in G)$jscomp.owns(G,u)&&E.push(G[u]);return E}},"es8","es3");
(function(R,G){"object"===typeof exports&&"object"===typeof module?module.exports=G():"function"===typeof define&&define.amd?define([],G):"object"===typeof exports?exports.tbai=G():R.tbai=G()})(window,function(){return function(R){function G(u){if(E[u])return E[u].exports;var J=E[u]={i:u,l:!1,exports:{}};R[u].call(J.exports,J,J.exports,G);J.l=!0;return J.exports}var E={};G.m=R;G.c=E;G.d=function(u,J,W){G.o(u,J)||Object.defineProperty(u,J,{enumerable:!0,get:W})};G.r=function(u){"undefined"!==typeof Symbol&&
Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})};G.t=function(u,J){J&1&&(u=G(u));if(J&8||J&4&&"object"===typeof u&&u&&u.__esModule)return u;var W=Object.create(null);G.r(W);Object.defineProperty(W,"default",{enumerable:!0,value:u});if(J&2&&"string"!=typeof u)for(var l in u)G.d(W,l,function(h){return u[h]}.bind(null,l));return W};G.n=function(u){var J=u&&u.__esModule?function(){return u["default"]}:function(){return u};
G.d(J,"a",J);return J};G.o=function(u,J){return Object.prototype.hasOwnProperty.call(u,J)};G.p="";return G(G.s=83)}([function(R,G,E){function u(m,U,aa){var pa=U,ua=new M({},Object),Ca=new p;if(!1===(0,l.checkBufferParams)(Ca,m,U,aa))return ua.error=Ca.error,{offset:-1,result:ua};if(0===(new Uint8Array(m,U,aa)).length)return this.error="Zero buffer length",{offset:-1,result:ua};U=ua.idBlock.fromBER(m,U,aa);ua.warnings.concat(ua.idBlock.warnings);if(-1===U)return ua.error=ua.idBlock.error,{offset:-1,
result:ua};aa-=ua.idBlock.blockLength;U=ua.lenBlock.fromBER(m,U,aa);ua.warnings.concat(ua.lenBlock.warnings);if(-1===U)return ua.error=ua.lenBlock.error,{offset:-1,result:ua};aa-=ua.lenBlock.blockLength;if(!1===ua.idBlock.isConstructed&&!0===ua.lenBlock.isIndefiniteForm)return ua.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ua};Ca=M;switch(ua.idBlock.tagClass){case 1:if(37<=ua.idBlock.tagNumber&&!1===ua.idBlock.isHexOnly)return ua.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",
{offset:-1,result:ua};switch(ua.idBlock.tagNumber){case 0:if(!0===ua.idBlock.isConstructed&&0<ua.lenBlock.length)return ua.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ua};Ca=S;break;case 1:Ca=e;break;case 2:Ca=na;break;case 3:Ca=ba;break;case 4:Ca=Q;break;case 5:Ca=g;break;case 6:Ca=V;break;case 10:Ca=v;break;case 12:Ca=K;break;case 13:Ca=Da;break;case 14:Ca=T;break;case 15:return ua.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ua};case 16:Ca=q;break;case 17:Ca=
H;break;case 18:Ca=Ta;break;case 19:Ca=Fa;break;case 20:Ca=Ka;break;case 21:Ca=ca;break;case 22:Ca=ka;break;case 23:Ca=Ra;break;case 24:Ca=Ia;break;case 25:Ca=ra;break;case 26:Ca=Aa;break;case 27:Ca=La;break;case 28:Ca=ma;break;case 29:Ca=Ua;break;case 30:Ca=N;break;case 31:Ca=Ha;break;case 32:Ca=Va;break;case 33:Ca=Pa;break;case 34:Ca=d;break;default:var Sa=!0===ua.idBlock.isConstructed?new B:new F;Sa.idBlock=ua.idBlock;Sa.lenBlock=ua.lenBlock;Sa.warnings=ua.warnings;ua=Sa;ua.fromBER(m,U,aa)}break;
default:Ca=!0===ua.idBlock.isConstructed?B:F}ua instanceof Ca||(Ca=new Ca,Ca.idBlock=ua.idBlock,Ca.lenBlock=ua.lenBlock,Ca.warnings=ua.warnings,Ca.valueBeforeDecode=ua.valueBeforeDecode.slice(0),ua=Ca);U=ua.fromBER(m,U,!0===ua.lenBlock.isIndefiniteForm?aa:ua.lenBlock.length);ua.valueBeforeDecode=m.slice(pa,pa+ua.blockLength);return{offset:U,result:ua}}function J(m){return 0===m.byteLength?(m=new M({},Object),m.error="Input buffer has zero length",{offset:-1,result:m}):u(m,0,m.byteLength)}function W(m,
U,aa){if(aa instanceof da){for(var pa=0;pa<aa.value.length;pa++)if(!0===W(m,U,aa.value[pa]).verified)return{verified:!0,result:m};m={verified:!1,result:{error:"Wrong values for Choice type"}};aa.hasOwnProperty("name")&&(m.name=aa.name);return m}if(aa instanceof va)return aa.hasOwnProperty("name")&&(m[aa.name]=U),{verified:!0,result:m};if(!1===m instanceof Object)return{verified:!1,result:{error:"Wrong root object"}};if(!1===U instanceof Object)return{verified:!1,result:{error:"Wrong ASN.1 data"}};
if(!1===aa instanceof Object||!1==="idBlock"in aa||!1==="fromBER"in aa.idBlock||!1==="toBER"in aa.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};pa=aa.idBlock.toBER(!1);if(0===pa.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===aa.idBlock.fromBER(pa,0,pa.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===aa.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
if(aa.idBlock.tagClass!==U.idBlock.tagClass)return{verified:!1,result:m};if(!1===aa.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(aa.idBlock.tagNumber!==U.idBlock.tagNumber)return{verified:!1,result:m};if(!1===aa.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(aa.idBlock.isConstructed!==U.idBlock.isConstructed)return{verified:!1,result:m};if(!1==="isHexOnly"in aa.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};
if(aa.idBlock.isHexOnly!==U.idBlock.isHexOnly)return{verified:!1,result:m};if(!0===aa.idBlock.isHexOnly){if(!1==="valueHex"in aa.idBlock)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};pa=new Uint8Array(aa.idBlock.valueHex);var ua=new Uint8Array(U.idBlock.valueHex);if(pa.length!==ua.length)return{verified:!1,result:m};for(var Ca=0;Ca<pa.length;Ca++)if(pa[Ca]!==ua[1])return{verified:!1,result:m}}aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(m[aa.name]=
U));if(!0===aa.idBlock.isConstructed){pa=0;ua={verified:!1};Ca=aa.valueBlock.value.length;0<Ca&&aa.valueBlock.value[0]instanceof oa&&(Ca=U.valueBlock.value.length);if(0===Ca)return{verified:!0,result:m};if(0===U.valueBlock.value.length&&0!==aa.valueBlock.value.length){U=!0;for(pa=0;pa<aa.valueBlock.value.length;pa++)U=U&&(aa.valueBlock.value[pa].optional||!1);if(!0===U)return{verified:!0,result:m};aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&delete m[aa.name]);
m.error="Inconsistent object length";return{verified:!1,result:m}}for(var Sa=0;Sa<Ca;Sa++)if(Sa-pa>=U.valueBlock.value.length){if(!1===aa.valueBlock.value[Sa].optional)return U={verified:!1,result:m},m.error="Inconsistent length between ASN.1 data and schema",aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete m[aa.name],U.name=aa.name)),U}else if(aa.valueBlock.value[0]instanceof oa){ua=W(m,U.valueBlock.value[Sa],aa.valueBlock.value[0].value);if(!1===ua.verified)if(!0===
aa.valueBlock.value[0].optional)pa++;else return aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&delete m[aa.name]),ua;if("name"in aa.valueBlock.value[0]&&0<aa.valueBlock.value[0].name.length){var $a="local"in aa.valueBlock.value[0]&&!0===aa.valueBlock.value[0].local?U:m;"undefined"===typeof $a[aa.valueBlock.value[0].name]&&($a[aa.valueBlock.value[0].name]=[]);$a[aa.valueBlock.value[0].name].push(U.valueBlock.value[Sa])}}else if(ua=W(m,U.valueBlock.value[Sa-pa],
aa.valueBlock.value[Sa]),!1===ua.verified)if(!0===aa.valueBlock.value[Sa].optional)pa++;else return aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&delete m[aa.name]),ua;return!1===ua.verified?(U={verified:!1,result:m},aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete m[aa.name],U.name=aa.name)),U):{verified:!0,result:m}}return"primitiveSchema"in aa&&"valueHex"in U.valueBlock?(U=J(U.valueBlock.valueHex),-1===U.offset?(U={verified:!1,
result:U.result},aa.hasOwnProperty("name")&&(aa.name=aa.name.replace(/^\s+|\s+$/g,""),""!==aa.name&&(delete m[aa.name],U.name=aa.name)),U):W(m,U.result,aa.primitiveSchema)):{verified:!0,result:m}}Object.defineProperty(G,"__esModule",{value:!0});G.fromBER=J;G.compareSchema=W;G.verifySchema=function(m,U){if(!1===U instanceof Object)return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};m=J(m);return-1===m.offset?{verified:!1,result:m.result}:W(m.result,m.result,U)};G.fromJSON=function(m){};G.RawData=
G.Repeated=G.Any=G.Choice=G.TIME=G.Duration=G.DateTime=G.TimeOfDay=G.DATE=G.GeneralizedTime=G.UTCTime=G.CharacterString=G.GeneralString=G.VisibleString=G.GraphicString=G.IA5String=G.VideotexString=G.TeletexString=G.PrintableString=G.NumericString=G.UniversalString=G.BmpString=G.RelativeObjectIdentifier=G.Utf8String=G.ObjectIdentifier=G.Enumerated=G.Integer=G.BitString=G.OctetString=G.Null=G.Set=G.Sequence=G.Boolean=G.EndOfContent=G.Constructed=G.Primitive=G.BaseBlock=G.ValueBlock=G.HexBlock=void 0;
var l=E(70),h=[new Uint8Array([1])],p=function(m){m=void 0===m?{}:m;this.blockLength=(0,l.getParametersValue)(m,"blockLength",0);this.error=(0,l.getParametersValue)(m,"error","");this.warnings=(0,l.getParametersValue)(m,"warnings",[]);this.valueBeforeDecode="valueBeforeDecode"in m?m.valueBeforeDecode.slice(0):new ArrayBuffer(0)};p.blockName=function(){return"baseBlock"};p.prototype.toJSON=function(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,
valueBeforeDecode:(0,l.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}};R=function(m){var U=function(aa){aa=void 0===aa?{}:aa;var pa=m.call(this,aa)||this;pa.isHexOnly=(0,l.getParametersValue)(aa,"isHexOnly",!1);pa.valueHex="valueHex"in aa?aa.valueHex.slice(0):new ArrayBuffer(0);return pa};$jscomp.inherits(U,m);U.blockName=function(){return"hexBlock"};U.prototype.fromBER=function(aa,pa,ua){if(!1===(0,l.checkBufferParams)(this,aa,pa,ua))return-1;if(0===(new Uint8Array(aa,
pa,ua)).length)return this.warnings.push("Zero buffer length"),pa;this.valueHex=aa.slice(pa,pa+ua);this.blockLength=ua;return pa+ua};U.prototype.toBER=function(aa){aa=void 0===aa?!1:aa;return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===aa?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)};U.prototype.toJSON=function(){var aa={};try{aa=m.prototype.toJSON.call(this)}catch(pa){}aa.blockName=this.constructor.blockName();aa.isHexOnly=this.isHexOnly;
aa.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return aa};return U};G.HexBlock=R;var c=R(p),f=function(m){m=void 0===m?{}:m;var U=c.call(this)||this;"idBlock"in m?(U.isHexOnly=(0,l.getParametersValue)(m.idBlock,"isHexOnly",!1),U.valueHex=(0,l.getParametersValue)(m.idBlock,"valueHex",new ArrayBuffer(0)),U.tagClass=(0,l.getParametersValue)(m.idBlock,"tagClass",-1),U.tagNumber=(0,l.getParametersValue)(m.idBlock,"tagNumber",-1),U.isConstructed=(0,l.getParametersValue)(m.idBlock,
"isConstructed",!1)):(U.tagClass=-1,U.tagNumber=-1,U.isConstructed=!1);return U};$jscomp.inherits(f,c);f.blockName=function(){return"identificationBlock"};f.prototype.toBER=function(m){m=void 0===m?!1:m;var U=0;switch(this.tagClass){case 1:U|=0;break;case 2:U|=64;break;case 3:U|=128;break;case 4:U|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}this.isConstructed&&(U|=32);if(31>this.tagNumber&&!this.isHexOnly){var aa=new ArrayBuffer(1);var pa=new Uint8Array(aa);m||(pa[0]=
U|this.tagNumber&31);return aa}if(!1===this.isHexOnly){aa=(0,l.utilToBase)(this.tagNumber,7);var ua=new Uint8Array(aa),Ca=aa.byteLength;aa=new ArrayBuffer(Ca+1);pa=new Uint8Array(aa);pa[0]=U|31;if(!m){for(m=0;m<Ca-1;m++)pa[m+1]=ua[m]|128;pa[Ca]=ua[Ca-1]}return aa}aa=new ArrayBuffer(this.valueHex.byteLength+1);pa=new Uint8Array(aa);pa[0]=U|31;if(!1===m){ua=new Uint8Array(this.valueHex);for(m=0;m<ua.length-1;m++)pa[m+1]=ua[m]|128;pa[this.valueHex.byteLength]=ua[ua.length-1]}return aa};f.prototype.fromBER=
function(m,U,aa){if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;var pa=new Uint8Array(m,U,aa);if(0===pa.length)return this.error="Zero buffer length",-1;switch(pa[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32===(pa[0]&32);this.isHexOnly=!1;m=pa[0]&31;if(31!==m)this.tagNumber=m,this.blockLength=1;else{m=1;this.valueHex=new ArrayBuffer(255);
var ua=255;for(aa=new Uint8Array(this.valueHex);pa[m]&128;){aa[m-1]=pa[m]&127;m++;if(m>=pa.length)return this.error="End of input reached before message was fully decoded",-1;if(m===ua){ua+=255;var Ca=new ArrayBuffer(ua);Ca=new Uint8Array(Ca);for(var Sa=0;Sa<aa.length;Sa++)Ca[Sa]=aa[Sa];this.valueHex=new ArrayBuffer(ua);aa=new Uint8Array(this.valueHex)}}this.blockLength=m+1;aa[m-1]=pa[m]&127;pa=new ArrayBuffer(m);pa=new Uint8Array(pa);for(ua=0;ua<m;ua++)pa[ua]=aa[ua];this.valueHex=new ArrayBuffer(m);
aa=new Uint8Array(this.valueHex);aa.set(pa);9>=this.blockLength?this.tagNumber=(0,l.utilFromBase)(aa,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return U+this.blockLength};f.prototype.toJSON=function(){var m={};try{m=c.prototype.toJSON.call(this)}catch(U){}m.blockName=
this.constructor.blockName();m.tagClass=this.tagClass;m.tagNumber=this.tagNumber;m.isConstructed=this.isConstructed;return m};var r=function(m){m=void 0===m?{}:m;var U=p.call(this)||this;"lenBlock"in m?(U.isIndefiniteForm=(0,l.getParametersValue)(m.lenBlock,"isIndefiniteForm",!1),U.longFormUsed=(0,l.getParametersValue)(m.lenBlock,"longFormUsed",!1),U.length=(0,l.getParametersValue)(m.lenBlock,"length",0)):(U.isIndefiniteForm=!1,U.longFormUsed=!1,U.length=0);return U};$jscomp.inherits(r,p);r.blockName=
function(){return"lengthBlock"};r.prototype.fromBER=function(m,U,aa){if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,U,aa);if(0===m.length)return this.error="Zero buffer length",-1;if(255===m[0])return this.error="Length block 0xFF is reserved by standard",-1;this.isIndefiniteForm=128===m[0];if(!0===this.isIndefiniteForm)return this.blockLength=1,U+this.blockLength;this.longFormUsed=!!(m[0]&128);if(!1===this.longFormUsed)return this.length=m[0],this.blockLength=1,U+this.blockLength;
aa=m[0]&127;if(8<aa)return this.error="Too big integer",-1;if(aa+1>m.length)return this.error="End of input reached before message was fully decoded",-1;for(var pa=new Uint8Array(aa),ua=0;ua<aa;ua++)pa[ua]=m[ua+1];0===pa[aa-1]&&this.warnings.push("Needlessly long encoded length");this.length=(0,l.utilFromBase)(pa,8);this.longFormUsed&&127>=this.length&&this.warnings.push("Unneccesary usage of long length form");this.blockLength=aa+1;return U+this.blockLength};r.prototype.toBER=function(m){m=void 0===
m?!1:m;127<this.length&&(this.longFormUsed=!0);if(this.isIndefiniteForm){var U=new ArrayBuffer(1);!1===m&&(m=new Uint8Array(U),m[0]=128);return U}if(!0===this.longFormUsed){var aa=(0,l.utilToBase)(this.length,8);if(127<aa.byteLength)return this.error="Too big length",new ArrayBuffer(0);U=new ArrayBuffer(aa.byteLength+1);if(!0===m)return U;var pa=new Uint8Array(aa);m=new Uint8Array(U);m[0]=aa.byteLength|128;for(var ua=0;ua<aa.byteLength;ua++)m[ua+1]=pa[ua];return U}U=new ArrayBuffer(1);!1===m&&(m=
new Uint8Array(U),m[0]=this.length);return U};r.prototype.toJSON=function(){var m={};try{m=p.prototype.toJSON.call(this)}catch(U){}m.blockName=this.constructor.blockName();m.isIndefiniteForm=this.isIndefiniteForm;m.longFormUsed=this.longFormUsed;m.length=this.length;return m};var z=function(m){m=void 0===m?{}:m;return p.call(this,m)||this};$jscomp.inherits(z,p);z.blockName=function(){return"valueBlock"};z.prototype.fromBER=function(m,U,aa){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');
};z.prototype.toBER=function(m){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"');};G.ValueBlock=z;var M=function(m,U){m=void 0===m?{}:m;U=void 0===U?z:U;var aa=p.call(this,m)||this;"name"in m&&(aa.name=m.name);"optional"in m&&(aa.optional=m.optional);"primitiveSchema"in m&&(aa.primitiveSchema=m.primitiveSchema);aa.idBlock=new f(m);aa.lenBlock=new r(m);aa.valueBlock=new U(m);return aa};$jscomp.inherits(M,p);M.blockName=function(){return"BaseBlock"};M.prototype.fromBER=
function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};M.prototype.toBER=function(m){m=void 0===m?!1:m;var U=this.idBlock.toBER(m);var aa=this.valueBlock.toBER(!0);
this.lenBlock.length=aa.byteLength;aa=this.lenBlock.toBER(m);U=(0,l.utilConcatBuf)(U,aa);aa=!1===m?this.valueBlock.toBER(m):new ArrayBuffer(this.lenBlock.length);U=(0,l.utilConcatBuf)(U,aa);!0===this.lenBlock.isIndefiniteForm&&(aa=new ArrayBuffer(2),!1===m&&(m=new Uint8Array(aa),m[0]=0,m[1]=0),U=(0,l.utilConcatBuf)(U,aa));return U};M.prototype.toJSON=function(){var m={};try{m=p.prototype.toJSON.call(this)}catch(U){}m.idBlock=this.idBlock.toJSON();m.lenBlock=this.lenBlock.toJSON();m.valueBlock=this.valueBlock.toJSON();
"name"in this&&(m.name=this.name);"optional"in this&&(m.optional=this.optional);"primitiveSchema"in this&&(m.primitiveSchema=this.primitiveSchema.toJSON());return m};G.BaseBlock=M;var A=function(m){m=void 0===m?{}:m;var U=z.call(this,m)||this;U.valueHex="valueHex"in m?m.valueHex.slice(0):new ArrayBuffer(0);U.isHexOnly=(0,l.getParametersValue)(m,"isHexOnly",!0);return U};$jscomp.inherits(A,z);A.prototype.fromBER=function(m,U,aa){if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,
U,aa);if(0===m.length)return this.warnings.push("Zero buffer length"),U;this.valueHex=new ArrayBuffer(m.length);for(var pa=new Uint8Array(this.valueHex),ua=0;ua<m.length;ua++)pa[ua]=m[ua];this.blockLength=aa;return U+aa};A.prototype.toBER=function(m){return this.valueHex.slice(0)};A.blockName=function(){return"PrimitiveValueBlock"};A.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(U){}m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);m.isHexOnly=
this.isHexOnly;return m};var F=function(m){m=void 0===m?{}:m;m=M.call(this,m,A)||this;m.idBlock.isConstructed=!1;return m};$jscomp.inherits(F,M);F.blockName=function(){return"PRIMITIVE"};G.Primitive=F;var y=function(m){m=void 0===m?{}:m;var U=z.call(this,m)||this;U.value=(0,l.getParametersValue)(m,"value",[]);U.isIndefiniteForm=(0,l.getParametersValue)(m,"isIndefiniteForm",!1);return U};$jscomp.inherits(y,z);y.prototype.fromBER=function(m,U,aa){var pa=aa;if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;
if(0===(new Uint8Array(m,U,aa)).length)return this.warnings.push("Zero buffer length"),U;for(var ua=U;0<(!0===this.isIndefiniteForm?1:aa);){var Ca=u(m,ua,aa);if(-1===Ca.offset)return this.error=Ca.result.error,this.warnings.concat(Ca.result.warnings),-1;ua=Ca.offset;this.blockLength+=Ca.result.blockLength;aa-=Ca.result.blockLength;this.value.push(Ca.result);if(!0===this.isIndefiniteForm&&Ca.result.constructor.blockName()===S.blockName())break}!0===this.isIndefiniteForm&&(this.value[this.value.length-
1].constructor.blockName()===S.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded"));this.valueBeforeDecode=m.slice(U,U+pa);return ua};y.prototype.toBER=function(m){m=void 0===m?!1:m;for(var U=new ArrayBuffer(0),aa=0;aa<this.value.length;aa++){var pa=this.value[aa].toBER(m);U=(0,l.utilConcatBuf)(U,pa)}return U};y.blockName=function(){return"ConstructedValueBlock"};y.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(aa){}m.isIndefiniteForm=this.isIndefiniteForm;
m.value=[];for(var U=0;U<this.value.length;U++)m.value.push(this.value[U].toJSON());return m};var B=function(m){m=void 0===m?{}:m;m=M.call(this,m,y)||this;m.idBlock.isConstructed=!0;return m};$jscomp.inherits(B,M);B.blockName=function(){return"CONSTRUCTED"};B.prototype.fromBER=function(m,U,aa){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;
0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};G.Constructed=B;var t=function(m){m=void 0===m?{}:m;return z.call(this,m)||this};$jscomp.inherits(t,z);t.prototype.fromBER=function(m,U,aa){return U};t.prototype.toBER=function(m){return new ArrayBuffer(0)};t.blockName=function(){return"EndOfContentValueBlock"};
var S=function(m){m=void 0===m?{}:m;m=M.call(this,m,t)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=0;return m};$jscomp.inherits(S,M);S.blockName=function(){return"EndOfContent"};G.EndOfContent=S;var k=function(m){m=void 0===m?{}:m;var U=z.call(this,m)||this;U.value=(0,l.getParametersValue)(m,"value",!1);U.isHexOnly=(0,l.getParametersValue)(m,"isHexOnly",!1);"valueHex"in m?U.valueHex=m.valueHex.slice(0):(U.valueHex=new ArrayBuffer(1),!0===U.value&&((new Uint8Array(U.valueHex))[0]=255));return U};
$jscomp.inherits(k,z);k.prototype.fromBER=function(m,U,aa){if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,U,aa);1<aa&&this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=!0;this.valueHex=new ArrayBuffer(m.length);for(var pa=new Uint8Array(this.valueHex),ua=0;ua<m.length;ua++)pa[ua]=m[ua];0!==l.utilDecodeTC.call(this)?this.value=!0:this.value=!1;this.blockLength=aa;return U+aa};k.prototype.toBER=function(m){return this.valueHex};k.blockName=function(){return"BooleanValueBlock"};
k.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(U){}m.value=this.value;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var e=function(m){m=void 0===m?{}:m;m=M.call(this,m,k)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=1;return m};$jscomp.inherits(e,M);e.blockName=function(){return"Boolean"};G.Boolean=e;var q=function(m){m=void 0===m?{}:m;m=B.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=
16;return m};$jscomp.inherits(q,B);q.blockName=function(){return"Sequence"};G.Sequence=q;var H=function(m){m=void 0===m?{}:m;m=B.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=17;return m};$jscomp.inherits(H,B);H.blockName=function(){return"Set"};G.Set=H;var g=function(m){m=void 0===m?{}:m;m=M.call(this,m,p)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=5;return m};$jscomp.inherits(g,M);g.blockName=function(){return"Null"};g.prototype.fromBER=function(m,U,aa){0<this.lenBlock.length&&
this.warnings.push("Non-zero length of value block for Null type");0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);this.blockLength+=aa;return U+aa>m.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):U+aa};g.prototype.toBER=function(m){m=void 0===m?!1:m;var U=new ArrayBuffer(2);if(!0===m)return U;m=new Uint8Array(U);m[0]=
5;m[1]=0;return U};G.Null=g;var x=R(y),I=function(m){m=void 0===m?{}:m;var U=x.call(this,m)||this;U.isConstructed=(0,l.getParametersValue)(m,"isConstructed",!1);return U};$jscomp.inherits(I,x);I.prototype.fromBER=function(m,U,aa){if(!0===this.isConstructed){this.isHexOnly=!1;m=y.prototype.fromBER.call(this,m,U,aa);if(-1===m)return m;for(aa=0;aa<this.value.length;aa++){U=this.value[aa].constructor.blockName();if(U===S.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",
-1;if(U!==Q.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,m=x.prototype.fromBER.call(this,m,U,aa),this.blockLength=aa;return m};I.prototype.toBER=function(m){m=void 0===m?!1:m;if(!0===this.isConstructed)return y.prototype.toBER.call(this,m);var U=new ArrayBuffer(this.valueHex.byteLength);return!0===m||0===this.valueHex.byteLength?U:U=this.valueHex.slice(0)};I.blockName=function(){return"OctetStringValueBlock"};I.prototype.toJSON=function(){var m=
{};try{m=x.prototype.toJSON.call(this)}catch(U){}m.isConstructed=this.isConstructed;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var Q=function(m){m=void 0===m?{}:m;m=M.call(this,m,I)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=4;return m};$jscomp.inherits(Q,M);Q.prototype.fromBER=function(m,U,aa){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return 0===
aa?(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),U):M.prototype.fromBER.call(this,m,U,aa)};Q.blockName=function(){return"OctetString"};Q.prototype.isEqual=function(m){return!1===m instanceof Q||JSON.stringify(this)!==JSON.stringify(m)?!1:!0};G.OctetString=Q;var Z=R(y),Y=function(m){m=void 0===m?{}:m;var U=Z.call(this,m)||this;U.unusedBits=(0,l.getParametersValue)(m,"unusedBits",0);U.isConstructed=
(0,l.getParametersValue)(m,"isConstructed",!1);U.blockLength=U.valueHex.byteLength;return U};$jscomp.inherits(Y,Z);Y.prototype.fromBER=function(m,U,aa){if(0===aa)return U;if(!0===this.isConstructed){U=y.prototype.fromBER.call(this,m,U,aa);if(-1===U)return U;for(aa=0;aa<this.value.length;aa++){m=this.value[aa].constructor.blockName();if(m===S.blockName())if(!0===this.isIndefiniteForm)break;else return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1;if(m!==ba.blockName())return this.error=
"BIT STRING may consists of BIT STRINGs only",-1;if(0<this.unusedBits&&0<this.value[aa].valueBlock.unusedBits)return this.error='Usign of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=this.value[aa].valueBlock.unusedBits;if(7<this.unusedBits)return this.error="Unused bits for BitString must be in range 0-7",-1}return U}if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,U,aa);this.unusedBits=m[0];if(7<this.unusedBits)return this.error=
"Unused bits for BitString must be in range 0-7",-1;this.valueHex=new ArrayBuffer(m.length-1);for(var pa=new Uint8Array(this.valueHex),ua=0;ua<aa-1;ua++)pa[ua]=m[ua+1];this.blockLength=m.length;return U+aa};Y.prototype.toBER=function(m){m=void 0===m?!1:m;if(!0===this.isConstructed)return y.prototype.toBER.call(this,m);if(!0===m)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);m=new Uint8Array(this.valueHex);var U=new ArrayBuffer(this.valueHex.byteLength+
1),aa=new Uint8Array(U);aa[0]=this.unusedBits;for(var pa=0;pa<this.valueHex.byteLength;pa++)aa[pa+1]=m[pa];return U};Y.blockName=function(){return"BitStringValueBlock"};Y.prototype.toJSON=function(){var m={};try{m=Z.prototype.toJSON.call(this)}catch(U){}m.unusedBits=this.unusedBits;m.isConstructed=this.isConstructed;m.isHexOnly=this.isHexOnly;m.valueHex=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);return m};var ba=function(m){m=void 0===m?{}:m;m=M.call(this,m,Y)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=3;return m};$jscomp.inherits(ba,M);ba.blockName=function(){return"BitString"};ba.prototype.fromBER=function(m,U,aa){if(0===aa)return U;this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return M.prototype.fromBER.call(this,m,U,aa)};ba.prototype.isEqual=function(m){return!1===m instanceof ba||JSON.stringify(this)!==JSON.stringify(m)?!1:!0};G.BitString=ba;var ha=R(z),ia=function(m){m=void 0===m?{}:m;var U=ha.call(this,
m)||this;"value"in m&&(U.valueDec=m.value);return U};$jscomp.inherits(ia,ha);ia.prototype.fromDER=function(m,U,aa,pa){pa=void 0===pa?0:pa;m=this.fromBER(m,U,aa);if(-1===m)return m;U=new Uint8Array(this._valueHex);0===U[0]&&0!==(U[1]&128)?(pa=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(pa)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=pa.slice(0)):0!==pa&&this._valueHex.byteLength<pa&&(1<pa-this._valueHex.byteLength&&(pa=this._valueHex.byteLength+
1),aa=new ArrayBuffer(pa),(new Uint8Array(aa)).set(U,pa-this._valueHex.byteLength),this._valueHex=aa.slice(0));return m};ia.prototype.toDER=function(m){m=void 0===m?!1:m;var U=new Uint8Array(this._valueHex);switch(!0){case 0!==(U[0]&128):var aa=new ArrayBuffer(this._valueHex.byteLength+1),pa=new Uint8Array(aa);pa[0]=0;pa.set(U,1);this._valueHex=aa.slice(0);break;case 0===U[0]&&0===(U[1]&128):U=new ArrayBuffer(this._valueHex.byteLength-1),(new Uint8Array(U)).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-
1)),this._valueHex=U.slice(0)}return this.toBER(m)};ia.prototype.fromBER=function(m,U,aa){m=ha.prototype.fromBER.call(this,m,U,aa);if(-1===m)return m;this.blockLength=aa;return U+aa};ia.prototype.toBER=function(m){return this.valueHex.slice(0)};ia.blockName=function(){return"IntegerValueBlock"};ia.prototype.toJSON=function(){var m={};try{m=ha.prototype.toJSON.call(this)}catch(U){}m.valueDec=this.valueDec;return m};ia.prototype.toString=function(){function m(cb,ab){var kb=new Uint8Array([0]);cb=new Uint8Array(cb);
var db=new Uint8Array(ab);ab=cb.slice(0);cb=ab.length-1;db=db.slice(0);for(var gb=db.length-1,sb,lb=0,Mb=gb<cb?cb:gb;0<=Mb;Mb--,lb++){switch(!0){case lb<db.length:sb=ab[cb-lb]+db[gb-lb]+kb[0];break;default:sb=ab[cb-lb]+kb[0]}kb[0]=sb/10;switch(!0){case lb>=ab.length:ab=(0,l.utilConcatView)(new Uint8Array([sb%10]),ab);break;default:ab[cb-lb]=sb%10}}0<kb[0]&&(ab=(0,l.utilConcatView)(kb,ab));return ab.slice(0)}function U(cb){if(cb>=h.length)for(var ab=h.length;ab<=cb;ab++){for(var kb=new Uint8Array([0]),
db=h[ab-1].slice(0),gb=db.length-1;0<=gb;gb--){var sb=new Uint8Array([(db[gb]<<1)+kb[0]]);kb[0]=sb[0]/10;db[gb]=sb[0]%10}0<kb[0]&&(db=(0,l.utilConcatView)(kb,db));h.push(db)}return h[cb]}function aa(cb,ab){var kb=0;cb=new Uint8Array(cb);var db=new Uint8Array(ab);ab=cb.slice(0);cb=ab.length-1;for(var gb=db.slice(0),sb=gb.length-1,lb=0,Mb=sb;0<=Mb;Mb--,lb++)switch(db=ab[cb-lb]-gb[sb-lb]-kb,!0){case 0>db:kb=1;ab[cb-lb]=db+10;break;default:kb=0,ab[cb-lb]=db}if(0<kb)for(gb=cb-sb+1;0<=gb;gb--,lb++)if(db=
ab[cb-lb]-kb,0>db)kb=1,ab[cb-lb]=db+10;else{ab[cb-lb]=db;break}return ab.slice()}for(var pa=8*this._valueHex.byteLength-1,ua=new Uint8Array(8*this._valueHex.byteLength/3),Ca=0,Sa,$a=new Uint8Array(this._valueHex),Oa="",Za=!1,bb=this._valueHex.byteLength-1;0<=bb;bb--){Sa=$a[bb];for(var Ya=0;8>Ya;Ya++){if(1===(Sa&1))switch(Ca){case pa:ua=aa(U(Ca),ua);Oa="-";break;default:ua=m(ua,U(Ca))}Ca++;Sa>>=1}}for(pa=0;pa<ua.length;pa++)ua[pa]&&(Za=!0),Za&&(Oa+="0123456789".charAt(ua[pa]));!1===Za&&(Oa+="0");return Oa};
$jscomp.global.Object.defineProperties(ia.prototype,{valueHex:{configurable:!0,enumerable:!0,set:function(m){this._valueHex=m.slice(0);4<=m.byteLength?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,0<m.byteLength&&(this._valueDec=l.utilDecodeTC.call(this)))},get:function(){return this._valueHex}},valueDec:{configurable:!0,enumerable:!0,set:function(m){this._valueDec=m;this.isHexOnly=!1;this._valueHex=(0,l.utilEncodeTC)(m)},get:function(){return this._valueDec}}});
var na=function(m){m=void 0===m?{}:m;m=M.call(this,m,ia)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=2;return m};$jscomp.inherits(na,M);na.blockName=function(){return"Integer"};na.prototype.isEqual=function(m){return m instanceof na?this.valueBlock.isHexOnly&&m.valueBlock.isHexOnly?(0,l.isEqualBuffer)(this.valueBlock.valueHex,m.valueBlock.valueHex):this.valueBlock.isHexOnly===m.valueBlock.isHexOnly?this.valueBlock.valueDec===m.valueBlock.valueDec:!1:m instanceof ArrayBuffer?(0,l.isEqualBuffer)(this.valueBlock.valueHex,
m):!1};na.prototype.convertToDER=function(){var m=new na({valueHex:this.valueBlock.valueHex});m.valueBlock.toDER();return m};na.prototype.convertFromDER=function(){var m=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,U=new na({valueHex:this.valueBlock.valueHex});U.valueBlock.fromDER(U.valueBlock.valueHex,0,U.valueBlock.valueHex.byteLength,m);return U};G.Integer=na;var v=function(m){m=void 0===m?{}:m;m=na.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=10;return m};$jscomp.inherits(v,na);v.blockName=function(){return"Enumerated"};G.Enumerated=v;var n=R(p),w=function(m){m=void 0===m?{}:m;var U=n.call(this,m)||this;U.valueDec=(0,l.getParametersValue)(m,"valueDec",-1);U.isFirstSid=(0,l.getParametersValue)(m,"isFirstSid",!1);return U};$jscomp.inherits(w,n);w.blockName=function(){return"sidBlock"};w.prototype.fromBER=function(m,U,aa){if(0===aa)return U;if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,U,aa);
this.valueHex=new ArrayBuffer(aa);for(var pa=new Uint8Array(this.valueHex),ua=0;ua<aa&&(pa[ua]=m[ua]&127,this.blockLength++,0!==(m[ua]&128));ua++);aa=new ArrayBuffer(this.blockLength);ua=new Uint8Array(aa);for(var Ca=0;Ca<this.blockLength;Ca++)ua[Ca]=pa[Ca];this.valueHex=aa.slice(0);pa=new Uint8Array(this.valueHex);if(0!==(m[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===pa[0]&&this.warnings.push("Needlessly long format of SID encoding");
8>=this.blockLength?this.valueDec=(0,l.utilFromBase)(pa,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only"));return U+this.blockLength};w.prototype.toBER=function(m){m=void 0===m?!1:m;if(this.isHexOnly){if(!0===m)return new ArrayBuffer(this.valueHex.byteLength);var U=new Uint8Array(this.valueHex);var aa=new ArrayBuffer(this.blockLength);m=new Uint8Array(aa);for(var pa=0;pa<this.blockLength-1;pa++)m[pa]=U[pa]|128;m[this.blockLength-1]=U[this.blockLength-1];return aa}U=(0,
l.utilToBase)(this.valueDec,7);if(0===U.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);aa=new ArrayBuffer(U.byteLength);if(!1===m){pa=new Uint8Array(U);m=new Uint8Array(aa);for(var ua=0;ua<U.byteLength-1;ua++)m[ua]=pa[ua]|128;m[U.byteLength-1]=pa[U.byteLength-1]}return aa};w.prototype.toString=function(){if(!0===this.isHexOnly)var m=(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){var U=this.valueDec;39>=this.valueDec?m="0.":
79>=this.valueDec?(m="1.",U-=40):(m="2.",U-=80);m+=U.toString()}else m=this.valueDec.toString();return m};w.prototype.toJSON=function(){var m={};try{m=n.prototype.toJSON.call(this)}catch(U){}m.valueDec=this.valueDec;m.isFirstSid=this.isFirstSid;return m};var D=function(m){m=void 0===m?{}:m;var U=z.call(this,m)||this;U.fromString((0,l.getParametersValue)(m,"value",""));return U};$jscomp.inherits(D,z);D.prototype.fromBER=function(m,U,aa){for(;0<aa;){var pa=new w;U=pa.fromBER(m,U,aa);if(-1===U){this.blockLength=
0;this.error=pa.error;break}0===this.value.length&&(pa.isFirstSid=!0);this.blockLength+=pa.blockLength;aa-=pa.blockLength;this.value.push(pa)}return U};D.prototype.toBER=function(m){m=void 0===m?!1:m;for(var U=new ArrayBuffer(0),aa=0;aa<this.value.length;aa++){var pa=this.value[aa].toBER(m);if(0===pa.byteLength)return this.error=this.value[aa].error,new ArrayBuffer(0);U=(0,l.utilConcatBuf)(U,pa)}return U};D.prototype.fromString=function(m){this.value=[];var U=0,aa=!1;do{var pa=m.indexOf(".",U);var ua=
-1===pa?m.substr(U):m.substr(U,pa-U);U=pa+1;if(aa){aa=this.value[0];var Ca=0;switch(aa.valueDec){case 0:break;case 1:Ca=40;break;case 2:Ca=80;break;default:return this.value=[],!1}ua=parseInt(ua,10);if(isNaN(ua))break;aa.valueDec=ua+Ca;aa=!1}else{Ca=new w;Ca.valueDec=parseInt(ua,10);if(isNaN(Ca.valueDec))break;0===this.value.length&&(aa=Ca.isFirstSid=!0);this.value.push(Ca)}}while(-1!==pa);return!0};D.prototype.toString=function(){for(var m="",U,aa=0;aa<this.value.length;aa++){U=this.value[aa].isHexOnly;
var pa=this.value[aa].toString();0!==aa&&(m+=".");U?(pa="{"+pa+"}",m=this.value[aa].isFirstSid?"2.{"+pa+" - 80}":m+pa):m+=pa}return m};D.blockName=function(){return"ObjectIdentifierValueBlock"};D.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(aa){}m.value=this.toString();m.sidArray=[];for(var U=0;U<this.value.length;U++)m.sidArray.push(this.value[U].toJSON());return m};var V=function(m){m=void 0===m?{}:m;m=M.call(this,m,D)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=
6;return m};$jscomp.inherits(V,M);V.blockName=function(){return"ObjectIdentifier"};G.ObjectIdentifier=V;var P=R(p),O=function(m){m=void 0===m?{}:m;m=P.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(O,P);O.blockName=function(){return"Utf8StringValueBlock"};O.prototype.toJSON=function(){var m={};try{m=P.prototype.toJSON.call(this)}catch(U){}m.value=this.value;return m};var K=function(m){m=void 0===m?{}:m;var U=M.call(this,m,O)||this;"value"in m&&U.fromString(m.value);U.idBlock.tagClass=
1;U.idBlock.tagNumber=12;return U};$jscomp.inherits(K,M);K.blockName=function(){return"Utf8String"};K.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&
(this.blockLength+=this.valueBlock.blockLength);return m};K.prototype.fromBuffer=function(m){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(m));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(U){this.warnings.push('Error during "decodeURIComponent": '+U+", using raw string")}};K.prototype.fromString=function(m){var U=unescape(encodeURIComponent(m)),aa=U.length;this.valueBlock.valueHex=new ArrayBuffer(aa);for(var pa=new Uint8Array(this.valueBlock.valueHex),
ua=0;ua<aa;ua++)pa[ua]=U.charCodeAt(ua);this.valueBlock.value=m};G.Utf8String=K;var qa=R(p),ya=function(m){m=void 0===m?{}:m;var U=qa.call(this,m)||this;U.valueDec=(0,l.getParametersValue)(m,"valueDec",-1);return U};$jscomp.inherits(ya,qa);ya.blockName=function(){return"relativeSidBlock"};ya.prototype.fromBER=function(m,U,aa){if(0===aa)return U;if(!1===(0,l.checkBufferParams)(this,m,U,aa))return-1;m=new Uint8Array(m,U,aa);this.valueHex=new ArrayBuffer(aa);for(var pa=new Uint8Array(this.valueHex),
ua=0;ua<aa&&(pa[ua]=m[ua]&127,this.blockLength++,0!==(m[ua]&128));ua++);aa=new ArrayBuffer(this.blockLength);ua=new Uint8Array(aa);for(var Ca=0;Ca<this.blockLength;Ca++)ua[Ca]=pa[Ca];this.valueHex=aa.slice(0);pa=new Uint8Array(this.valueHex);if(0!==(m[this.blockLength-1]&128))return this.error="End of input reached before message was fully decoded",-1;0===pa[0]&&this.warnings.push("Needlessly long format of SID encoding");8>=this.blockLength?this.valueDec=(0,l.utilFromBase)(pa,7):(this.isHexOnly=
!0,this.warnings.push("Too big SID for decoding, hex only"));return U+this.blockLength};ya.prototype.toBER=function(m){m=void 0===m?!1:m;if(this.isHexOnly){if(!0===m)return new ArrayBuffer(this.valueHex.byteLength);var U=new Uint8Array(this.valueHex);var aa=new ArrayBuffer(this.blockLength);m=new Uint8Array(aa);for(var pa=0;pa<this.blockLength-1;pa++)m[pa]=U[pa]|128;m[this.blockLength-1]=U[this.blockLength-1];return aa}U=(0,l.utilToBase)(this.valueDec,7);if(0===U.byteLength)return this.error="Error during encoding SID value",
new ArrayBuffer(0);aa=new ArrayBuffer(U.byteLength);if(!1===m){pa=new Uint8Array(U);m=new Uint8Array(aa);for(var ua=0;ua<U.byteLength-1;ua++)m[ua]=pa[ua]|128;m[U.byteLength-1]=pa[U.byteLength-1]}return aa};ya.prototype.toString=function(){return!0===this.isHexOnly?(0,l.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString()};ya.prototype.toJSON=function(){var m={};try{m=qa.prototype.toJSON.call(this)}catch(U){}m.valueDec=this.valueDec;return m};var xa=function(m){m=void 0===
m?{}:m;var U=z.call(this,m)||this;U.fromString((0,l.getParametersValue)(m,"value",""));return U};$jscomp.inherits(xa,z);xa.prototype.fromBER=function(m,U,aa){for(;0<aa;){var pa=new ya;U=pa.fromBER(m,U,aa);if(-1===U){this.blockLength=0;this.error=pa.error;break}this.blockLength+=pa.blockLength;aa-=pa.blockLength;this.value.push(pa)}return U};xa.prototype.toBER=function(m){m=void 0===m?!1:m;for(var U=new ArrayBuffer(0),aa=0;aa<this.value.length;aa++){var pa=this.value[aa].toBER(m);if(0===pa.byteLength)return this.error=
this.value[aa].error,new ArrayBuffer(0);U=(0,l.utilConcatBuf)(U,pa)}return U};xa.prototype.fromString=function(m){this.value=[];var U=0;do{var aa=m.indexOf(".",U);var pa=-1===aa?m.substr(U):m.substr(U,aa-U);U=aa+1;var ua=new ya;ua.valueDec=parseInt(pa,10);if(isNaN(ua.valueDec))break;this.value.push(ua)}while(-1!==aa);return!0};xa.prototype.toString=function(){for(var m="",U,aa=0;aa<this.value.length;aa++){U=this.value[aa].isHexOnly;var pa=this.value[aa].toString();0!==aa&&(m+=".");U&&(pa="{"+pa+"}");
m+=pa}return m};xa.blockName=function(){return"RelativeObjectIdentifierValueBlock"};xa.prototype.toJSON=function(){var m={};try{m=z.prototype.toJSON.call(this)}catch(aa){}m.value=this.toString();m.sidArray=[];for(var U=0;U<this.value.length;U++)m.sidArray.push(this.value[U].toJSON());return m};var Da=function(m){m=void 0===m?{}:m;m=M.call(this,m,xa)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=13;return m};$jscomp.inherits(Da,M);Da.blockName=function(){return"RelativeObjectIdentifier"};G.RelativeObjectIdentifier=
Da;var ea=R(p),b=function(m){m=void 0===m?{}:m;m=ea.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(b,ea);b.blockName=function(){return"BmpStringValueBlock"};b.prototype.toJSON=function(){var m={};try{m=ea.prototype.toJSON.call(this)}catch(U){}m.value=this.value;return m};var N=function(m){m=void 0===m?{}:m;var U=M.call(this,m,b)||this;"value"in m&&U.fromString(m.value);U.idBlock.tagClass=1;U.idBlock.tagNumber=30;return U};$jscomp.inherits(N,M);N.blockName=function(){return"BmpString"};
N.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};N.prototype.fromBuffer=function(m){m=
m.slice(0);for(var U=new Uint8Array(m),aa=0;aa<U.length;aa+=2){var pa=U[aa];U[aa]=U[aa+1];U[aa+1]=pa}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(m))};N.prototype.fromString=function(m){var U=m.length;this.valueBlock.valueHex=new ArrayBuffer(2*U);for(var aa=new Uint8Array(this.valueBlock.valueHex),pa=0;pa<U;pa++){var ua=(0,l.utilToBase)(m.charCodeAt(pa),8);ua=new Uint8Array(ua);if(!(2<ua.length))for(var Ca=2-ua.length,Sa=ua.length-1;0<=Sa;Sa--)aa[2*pa+Sa+Ca]=ua[Sa]}this.valueBlock.value=
m};G.BmpString=N;var ja=R(p),fa=function(m){m=void 0===m?{}:m;m=ja.call(this,m)||this;m.isHexOnly=!0;m.value="";return m};$jscomp.inherits(fa,ja);fa.blockName=function(){return"UniversalStringValueBlock"};fa.prototype.toJSON=function(){var m={};try{m=ja.prototype.toJSON.call(this)}catch(U){}m.value=this.value;return m};var ma=function(m){m=void 0===m?{}:m;var U=M.call(this,m,fa)||this;"value"in m&&U.fromString(m.value);U.idBlock.tagClass=1;U.idBlock.tagNumber=28;return U};$jscomp.inherits(ma,M);ma.blockName=
function(){return"UniversalString"};ma.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);return m};
ma.prototype.fromBuffer=function(m){m=m.slice(0);for(var U=new Uint8Array(m),aa=0;aa<U.length;aa+=4)U[aa]=U[aa+3],U[aa+1]=U[aa+2],U[aa+2]=0,U[aa+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(m))};ma.prototype.fromString=function(m){var U=m.length;this.valueBlock.valueHex=new ArrayBuffer(4*U);for(var aa=new Uint8Array(this.valueBlock.valueHex),pa=0;pa<U;pa++){var ua=(0,l.utilToBase)(m.charCodeAt(pa),8);ua=new Uint8Array(ua);if(!(4<ua.length))for(var Ca=4-ua.length,Sa=ua.length-
1;0<=Sa;Sa--)aa[4*pa+Sa+Ca]=ua[Sa]}this.valueBlock.value=m};G.UniversalString=ma;var ta=R(p),za=function(m){m=void 0===m?{}:m;m=ta.call(this,m)||this;m.value="";m.isHexOnly=!0;return m};$jscomp.inherits(za,ta);za.blockName=function(){return"SimpleStringValueBlock"};za.prototype.toJSON=function(){var m={};try{m=ta.prototype.toJSON.call(this)}catch(U){}m.value=this.value;return m};var Ga=function(m){m=void 0===m?{}:m;var U=M.call(this,m,za)||this;"value"in m&&U.fromString(m.value);return U};$jscomp.inherits(Ga,
M);Ga.blockName=function(){return"SIMPLESTRING"};Ga.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);
return m};Ga.prototype.fromBuffer=function(m){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(m))};Ga.prototype.fromString=function(m){var U=m.length;this.valueBlock.valueHex=new ArrayBuffer(U);for(var aa=new Uint8Array(this.valueBlock.valueHex),pa=0;pa<U;pa++)aa[pa]=m.charCodeAt(pa);this.valueBlock.value=m};var Ta=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=18;return m};$jscomp.inherits(Ta,Ga);Ta.blockName=function(){return"NumericString"};
G.NumericString=Ta;var Fa=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=19;return m};$jscomp.inherits(Fa,Ga);Fa.blockName=function(){return"PrintableString"};G.PrintableString=Fa;var Ka=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=20;return m};$jscomp.inherits(Ka,Ga);Ka.blockName=function(){return"TeletexString"};G.TeletexString=Ka;var ca=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=21;return m};$jscomp.inherits(ca,Ga);ca.blockName=function(){return"VideotexString"};G.VideotexString=ca;var ka=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=22;return m};$jscomp.inherits(ka,Ga);ka.blockName=function(){return"IA5String"};G.IA5String=ka;var ra=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=25;return m};$jscomp.inherits(ra,Ga);ra.blockName=function(){return"GraphicString"};
G.GraphicString=ra;var Aa=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=26;return m};$jscomp.inherits(Aa,Ga);Aa.blockName=function(){return"VisibleString"};G.VisibleString=Aa;var La=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=27;return m};$jscomp.inherits(La,Ga);La.blockName=function(){return"GeneralString"};G.GeneralString=La;var Ua=function(m){m=void 0===m?{}:m;m=Ga.call(this,m)||this;m.idBlock.tagClass=
1;m.idBlock.tagNumber=29;return m};$jscomp.inherits(Ua,Ga);Ua.blockName=function(){return"CharacterString"};G.CharacterString=Ua;var Ra=function(m){m=void 0===m?{}:m;var U=Aa.call(this,m)||this;U.year=0;U.month=0;U.day=0;U.hour=0;U.minute=0;U.second=0;if("value"in m){U.fromString(m.value);U.valueBlock.valueHex=new ArrayBuffer(m.value.length);for(var aa=new Uint8Array(U.valueBlock.valueHex),pa=0;pa<m.value.length;pa++)aa[pa]=m.value.charCodeAt(pa)}"valueDate"in m&&(U.fromDate(m.valueDate),U.valueBlock.valueHex=
U.toBuffer());U.idBlock.tagClass=1;U.idBlock.tagNumber=23;return U};$jscomp.inherits(Ra,Aa);Ra.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&
(this.blockLength+=this.valueBlock.blockLength);return m};Ra.prototype.fromBuffer=function(m){this.fromString(String.fromCharCode.apply(null,new Uint8Array(m)))};Ra.prototype.toBuffer=function(){for(var m=this.toString(),U=new ArrayBuffer(m.length),aa=new Uint8Array(U),pa=0;pa<m.length;pa++)aa[pa]=m.charCodeAt(pa);return U};Ra.prototype.fromDate=function(m){this.year=m.getUTCFullYear();this.month=m.getUTCMonth()+1;this.day=m.getUTCDate();this.hour=m.getUTCHours();this.minute=m.getUTCMinutes();this.second=
m.getUTCSeconds()};Ra.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};Ra.prototype.fromString=function(m){m=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(m);if(null===m)this.error="Wrong input string for convertion";else{var U=parseInt(m[1],10);this.year=50<=U?1900+U:2E3+U;this.month=parseInt(m[2],10);this.day=parseInt(m[3],10);this.hour=parseInt(m[4],10);this.minute=parseInt(m[5],10);this.second=parseInt(m[6],10)}};
Ra.prototype.toString=function(){var m=Array(7);m[0]=(0,l.padNumber)(2E3>this.year?this.year-1900:this.year-2E3,2);m[1]=(0,l.padNumber)(this.month,2);m[2]=(0,l.padNumber)(this.day,2);m[3]=(0,l.padNumber)(this.hour,2);m[4]=(0,l.padNumber)(this.minute,2);m[5]=(0,l.padNumber)(this.second,2);m[6]="Z";return m.join("")};Ra.blockName=function(){return"UTCTime"};Ra.prototype.toJSON=function(){var m={};try{m=Aa.prototype.toJSON.call(this)}catch(U){}m.year=this.year;m.month=this.month;m.day=this.day;m.hour=
this.hour;m.minute=this.minute;m.second=this.second;return m};G.UTCTime=Ra;var Ia=function(m){m=void 0===m?{}:m;var U=Aa.call(this,m)||this;U.year=0;U.month=0;U.day=0;U.hour=0;U.minute=0;U.second=0;U.millisecond=0;if("value"in m){U.fromString(m.value);U.valueBlock.valueHex=new ArrayBuffer(m.value.length);for(var aa=new Uint8Array(U.valueBlock.valueHex),pa=0;pa<m.value.length;pa++)aa[pa]=m.value.charCodeAt(pa)}"valueDate"in m&&(U.fromDate(m.valueDate),U.valueBlock.valueHex=U.toBuffer());U.idBlock.tagClass=
1;U.idBlock.tagNumber=24;return U};$jscomp.inherits(Ia,Aa);Ia.prototype.fromBER=function(m,U,aa){m=this.valueBlock.fromBER(m,U,!0===this.lenBlock.isIndefiniteForm?aa:this.lenBlock.length);if(-1===m)return this.error=this.valueBlock.error,m;this.fromBuffer(this.valueBlock.valueHex);0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength);0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength);0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength);
return m};Ia.prototype.fromBuffer=function(m){this.fromString(String.fromCharCode.apply(null,new Uint8Array(m)))};Ia.prototype.toBuffer=function(){for(var m=this.toString(),U=new ArrayBuffer(m.length),aa=new Uint8Array(U),pa=0;pa<m.length;pa++)aa[pa]=m.charCodeAt(pa);return U};Ia.prototype.fromDate=function(m){this.year=m.getUTCFullYear();this.month=m.getUTCMonth()+1;this.day=m.getUTCDate();this.hour=m.getUTCHours();this.minute=m.getUTCMinutes();this.second=m.getUTCSeconds();this.millisecond=m.getUTCMilliseconds()};
Ia.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};Ia.prototype.fromString=function(m){var U=!1,aa=0,pa=0,ua=0;if("Z"===m[m.length-1])m=m.substr(0,m.length-1),U=!0;else{var Ca=new Number(m[m.length-1]);if(isNaN(Ca.valueOf()))throw Error("Wrong input string for convertion");}if(U){if(-1!==m.indexOf("+"))throw Error("Wrong input string for convertion");if(-1!==m.indexOf("-"))throw Error("Wrong input string for convertion");
}else{Ca=1;var Sa=m.indexOf("+");-1===Sa&&(Sa=m.indexOf("-"),Ca=-1);if(-1!==Sa){var $a=m.substr(Sa+1);m=m.substr(0,Sa);if(2!==$a.length&&4!==$a.length)throw Error("Wrong input string for convertion");Sa=new Number($a.substr(0,2));if(isNaN(Sa.valueOf()))throw Error("Wrong input string for convertion");pa=Ca*Sa;if(4===$a.length){Sa=new Number($a.substr(2,2));if(isNaN(Sa.valueOf()))throw Error("Wrong input string for convertion");ua=Ca*Sa}}}$a=m.indexOf(".");-1===$a&&($a=m.indexOf(","));if(-1!==$a){aa=
new Number("0"+m.substr($a));if(isNaN(aa.valueOf()))throw Error("Wrong input string for convertion");aa=aa.valueOf();m=m.substr(0,$a)}switch(!0){case 8===m.length:Ca=/(\d{4})(\d{2})(\d{2})/ig;if(-1!==$a)throw Error("Wrong input string for convertion");break;case 10===m.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})/ig;-1!==$a&&(aa*=60,this.minute=Math.floor(aa),aa=60*(aa-this.minute),this.second=Math.floor(aa),aa=1E3*(aa-this.second),this.millisecond=Math.floor(aa));break;case 12===m.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig;
-1!==$a&&(aa*=60,this.second=Math.floor(aa),aa=1E3*(aa-this.second),this.millisecond=Math.floor(aa));break;case 14===m.length:Ca=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig;-1!==$a&&(this.millisecond=Math.floor(1E3*aa));break;default:throw Error("Wrong input string for convertion");}aa=Ca.exec(m);if(null===aa)throw Error("Wrong input string for convertion");for(m=1;m<aa.length;m++)switch(m){case 1:this.year=parseInt(aa[m],10);break;case 2:this.month=parseInt(aa[m],10);break;case 3:this.day=parseInt(aa[m],
10);break;case 4:this.hour=parseInt(aa[m],10)+pa;break;case 5:this.minute=parseInt(aa[m],10)+ua;break;case 6:this.second=parseInt(aa[m],10);break;default:throw Error("Wrong input string for convertion");}!1===U&&(U=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond),this.year=U.getUTCFullYear(),this.month=U.getUTCMonth(),this.day=U.getUTCDay(),this.hour=U.getUTCHours(),this.minute=U.getUTCMinutes(),this.second=U.getUTCSeconds(),this.millisecond=U.getUTCMilliseconds())};
Ia.prototype.toString=function(){var m=[];m.push((0,l.padNumber)(this.year,4));m.push((0,l.padNumber)(this.month,2));m.push((0,l.padNumber)(this.day,2));m.push((0,l.padNumber)(this.hour,2));m.push((0,l.padNumber)(this.minute,2));m.push((0,l.padNumber)(this.second,2));0!==this.millisecond&&(m.push("."),m.push((0,l.padNumber)(this.millisecond,3)));m.push("Z");return m.join("")};Ia.blockName=function(){return"GeneralizedTime"};Ia.prototype.toJSON=function(){var m={};try{m=Aa.prototype.toJSON.call(this)}catch(U){}m.year=
this.year;m.month=this.month;m.day=this.day;m.hour=this.hour;m.minute=this.minute;m.second=this.second;m.millisecond=this.millisecond;return m};G.GeneralizedTime=Ia;var Ha=function(m){m=void 0===m?{}:m;m=K.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=31;return m};$jscomp.inherits(Ha,K);Ha.blockName=function(){return"DATE"};G.DATE=Ha;var Va=function(m){m=void 0===m?{}:m;m=K.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=32;return m};$jscomp.inherits(Va,K);Va.blockName=function(){return"TimeOfDay"};
G.TimeOfDay=Va;var Pa=function(m){m=void 0===m?{}:m;m=K.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=33;return m};$jscomp.inherits(Pa,K);Pa.blockName=function(){return"DateTime"};G.DateTime=Pa;var d=function(m){m=void 0===m?{}:m;m=K.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=34;return m};$jscomp.inherits(d,K);d.blockName=function(){return"Duration"};G.Duration=d;var T=function(m){m=void 0===m?{}:m;m=K.call(this,m)||this;m.idBlock.tagClass=1;m.idBlock.tagNumber=14;return m};
$jscomp.inherits(T,K);T.blockName=function(){return"TIME"};G.TIME=T;var da=function(m){m=void 0===m?{}:m;this.value=(0,l.getParametersValue)(m,"value",[]);this.optional=(0,l.getParametersValue)(m,"optional",!1)};G.Choice=da;var va=function(m){m=void 0===m?{}:m;this.name=(0,l.getParametersValue)(m,"name","");this.optional=(0,l.getParametersValue)(m,"optional",!1)};G.Any=va;var oa=function(m){m=void 0===m?{}:m;this.name=(0,l.getParametersValue)(m,"name","");this.optional=(0,l.getParametersValue)(m,
"optional",!1);this.value=(0,l.getParametersValue)(m,"value",new va);this.local=(0,l.getParametersValue)(m,"local",!1)};G.Repeated=oa;R=function(m){m=void 0===m?{}:m;this.data=(0,l.getParametersValue)(m,"data",new ArrayBuffer(0))};R.prototype.fromBER=function(m,U,aa){this.data=m.slice(U,aa);return U+aa};R.prototype.toBER=function(m){return this.data};G.RawData=R},function(R,G,E){function u(y,B,t){return!1===y instanceof Object?t:B in y?y[B]:t}function J(y,B,t,S){B=void 0===B?0:B;t=void 0===t?y.byteLength-
B:t;S=void 0===S?!1:S;var k="";y=$jscomp.makeIterator(new Uint8Array(y,B,t));for(B=y.next();!B.done;B=y.next())B=B.value.toString(16).toUpperCase(),1===B.length&&(k+="0"),k+=B,S&&(k+=" ");return k.trim()}function W(y,B){var t=0;if(1===y.length)return y[0];for(var S=y.length-1;0<=S;S--)t+=y[y.length-1-S]*Math.pow(2,B*S);return t}function l(y,B,t){var S=void 0===t?-1:t;t=y;for(var k=Math.pow(2,B),e=1;8>e;e++){if(y<k){if(0>S)y=new ArrayBuffer(e),S=e;else{if(S<e)break;y=new ArrayBuffer(S)}k=new Uint8Array(y);
for(--e;0<=e;e--){var q=Math.pow(2,e*B);k[S-e-1]=Math.floor(t/q);t-=k[S-e-1]*q}return y}k*=Math.pow(2,B)}return new ArrayBuffer(0)}function h(y){for(var B=[],t=0;t<arguments.length;++t)B[t-0]=arguments[t];var S=0;t=0;for(var k=$jscomp.makeIterator(B),e=k.next();!e.done;e=k.next())S+=e.value.byteLength;S=new ArrayBuffer(S);k=new Uint8Array(S);B=$jscomp.makeIterator(B);for(e=B.next();!e.done;e=B.next())e=e.value,k.set(new Uint8Array(e),t),t+=e.byteLength;return S}function p(y,B){if(y.byteLength!==B.byteLength)return!1;
y=new Uint8Array(y);B=new Uint8Array(B);for(var t=0;t<y.length;t++)if(y[t]!==B[t])return!1;return!0}function c(y,B,t,S){t=void 0===t?!1:t;var k=0,e=0,q=0,H="";B=(void 0===B?0:B)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(void 0===S?0:S){for(var g=S=0;g<y.length;g++)if(0!==y.charCodeAt(g)){S=g;break}y=y.slice(S)}for(;k<y.length;){var x=y.charCodeAt(k++);k>=y.length&&(e=1);var I=y.charCodeAt(k++);k>=y.length&&
(q=1);g=y.charCodeAt(k++);S=x>>2;x=(x&3)<<4|I>>4;I=(I&15)<<2|g>>6;g&=63;1===e?I=g=64:1===q&&(g=64);H=t?64===I?H+(""+B.charAt(S)+B.charAt(x)):64===g?H+(""+B.charAt(S)+B.charAt(x)+B.charAt(I)):H+(""+B.charAt(S)+B.charAt(x)+B.charAt(I)+B.charAt(g)):H+(""+B.charAt(S)+B.charAt(x)+B.charAt(I)+B.charAt(g))}return H}function f(y,B,t){function S(Z){for(var Y=0;64>Y;Y++)if(k.charAt(Y)===Z)return Y;return 64}t=void 0===t?!1:t;var k=(void 0===B?0:B)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=0;for(B="";e<y.length;){var q=S(y.charAt(e++)),H=e>=y.length?0:S(y.charAt(e++)),g=e>=y.length?0:S(y.charAt(e++)),x=e>=y.length?0:S(y.charAt(e++)),I=((64===H?0:H)&15)<<4|(64===g?0:g)>>2,Q=((64===g?0:g)&3)<<6|(64===x?0:x);B+=String.fromCharCode((64===q?0:q)<<2|(64===H?0:H)>>4);64!==g&&(B+=String.fromCharCode(I));64!==x&&(B+=String.fromCharCode(Q))}if(t){y=-1;for(t=B.length-1;0<=t;t--)if(0!==B.charCodeAt(t)){y=t;break}B=-1!==y?B.slice(0,
y+1):""}return B}function r(y){var B="";y=new Uint8Array(y);y=$jscomp.makeIterator(y);for(var t=y.next();!t.done;t=y.next())B+=String.fromCharCode(t.value);return B}function z(y){for(var B=y.length,t=new ArrayBuffer(B),S=new Uint8Array(t),k=0;k<B;k++)S[k]=y.charCodeAt(k);return t}function M(y){var B=Math.log(y)/F;y=Math.floor(B);B=Math.round(B);return y===B?y:B}function A(y,B){B=$jscomp.makeIterator(B);for(var t=B.next();!t.done;t=B.next())delete y[t.value]}E.d(G,"e",function(){return u});E.d(G,"b",
function(){return J});E.d(G,"k",function(){return W});E.d(G,"l",function(){return l});E.d(G,"j",function(){return h});E.d(G,"f",function(){return p});E.d(G,"i",function(){return c});E.d(G,"d",function(){return f});E.d(G,"a",function(){return r});E.d(G,"h",function(){return z});E.d(G,"g",function(){return M});E.d(G,"c",function(){return A});var F=Math.log(2)},function(R,G,E){(function(u,J){function W(v,n){for(var w=1;w<arguments.length;++w);w=arguments[0];for(var D=1;D<arguments.length;D++){var V=
arguments[D],P;for(P in V)V.hasOwnProperty(P)&&(w[P]=V[P])}return w}function l(v){return function(n){n.localName=v.localName||n.name;n.namespaceURI=v.namespaceURI||n.namespaceURI||null;n.prefix=v.prefix||n.prefix||null;n.parser=v.parser||n.parser;n.target!==n&&(n.items=W({},n.items));n.target=n}}function h(v){v=void 0===v?{}:v;return function(n,w){var D=n.constructor;D.items||(D.items={});D.target!==D&&(D.items=W({},D.items));D.target=n;D.items[w]=v.parser?{parser:v.parser,required:v.required||!1,
maxOccurs:v.maxOccurs||1E9,minOccurs:void 0===v.minOccurs?0:v.minOccurs,noRoot:v.noRoot||!1}:{namespaceURI:v.namespaceURI||null,required:v.required||!1,prefix:v.prefix||null,defaultValue:v.defaultValue,converter:v.converter,noRoot:v.noRoot||!1};v.localName=v.localName||v.parser&&v.parser.localName||w;D.items[w].namespaceURI=v.namespaceURI||v.parser&&v.parser.namespaceURI||null;D.items[w].prefix=v.prefix||v.parser&&v.parser.prefix||null;D.items[w].localName=v.localName;D.items[w].type="element";f(n,
w,v)}}function p(v){v=void 0===v?{required:!1,namespaceURI:null}:v;return function(n,w){var D=n.constructor;v.localName||(v.localName=w);D.items||(D.items={});D.target!==D&&(D.items=W({},D.items));D.target=n;D.items[w]=v;D.items[w].type="attribute";f(n,w,v)}}function c(v){v=void 0===v?{required:!1}:v;return function(n,w){var D=n.constructor;D.items||(D.items={});D.target!==D&&(D.items=W({},D.items));D.target=n;D.items[w]=v;D.items[w].type="content";f(n,w,v)}}function f(v,n,w){var D="_"+n;Object.defineProperty(v,
D,{writable:!0,enumerable:!1});Object.defineProperty(v,n,{set:function(V){this[D]!==V&&(this.element=null,this[D]=V)},get:function(){if(void 0===this[D]){var V=w.defaultValue;w.parser&&(V=new w.parser,V.localName=w.localName);this[D]=V}return this[D]}})}function r(v,n){for(var w=1;w<arguments.length;++w);w=v;for(var D=/[^%](%\d+)/g,V,P=[];V=D.exec(w);)P.push({arg:V[1],index:V.index});for(D=P.length-1;0<=D;D--){var O=P[D];V=O.arg.substring(1);O=O.index+1;w=w.substring(0,O)+arguments[+V]+w.substring(O+
1+V.length)}return w=w.replace("%%","%")}function z(v,n){var w=null==v.ownerDocument?v:v.ownerDocument,D=document.createNSResolver(null==v.ownerDocument?v.documentElement:v.ownerDocument.documentElement);v=w.evaluate(n,v,D,XPathResult.ANY_TYPE,null);for(n=[];w=v.iterateNext();)n.push(w);return n}function M(v){v=v.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return(new DOMParser).parseFromString(v,"application/xml")}function A(v,n){return(v=Z(v,n))&&0<v.length?v[0]:null}function F(v,n){n=void 0===n?{}:
n;if(v&&v.nodeType===x.Element){v.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==v.namespaceURI&&!n[v.prefix||""]&&(n[v.prefix?v.prefix:""]=v.namespaceURI);for(var w=0;w<v.childNodes.length;w++){var D=v.childNodes.item(w);D&&D.nodeType===x.Element&&F(D,n)}}}function y(v){var n={};F(v,n);return n}function B(v,n){for(var w=1;w<arguments.length;++w);w=arguments[0];for(var D=1;D<arguments.length;D++){var V=arguments[D],P;for(P in V)V.hasOwnProperty(P)&&(w[P]=V[P])}return w}function t(v){return v&&
v.nodeType===x.Element}function S(v){return v&&v.nodeType===x.Document}E.d(G,"a",function(){return"application/xml"});E.d(G,"b",function(){return g});E.d(G,"c",function(){return na});E.d(G,"d",function(){return M});E.d(G,"e",function(){return y});E.d(G,"f",function(){return q});E.d(G,"g",function(){return p});E.d(G,"h",function(){return Y});E.d(G,"i",function(){return h});E.d(G,"j",function(){return ia});E.d(G,"k",function(){return c});E.d(G,"l",function(){return l});E.d(G,"m",function(){return e});
E.d(G,"n",function(){return x});E.d(G,"o",function(){return ba});E.d(G,"p",function(){return ha});E.d(G,"q",function(){return B});E.d(G,"r",function(){return S});E.d(G,"s",function(){return t});var k=function(v){this.items=[];v&&(this.items=v)};k.prototype.Item=function(v){return this.items[v]||null};k.prototype.Add=function(v){this.items.push(v)};k.prototype.Pop=function(){return this.items.pop()};k.prototype.RemoveAt=function(v){this.items=this.items.filter(function(n,w){return w!==v})};k.prototype.Clear=
function(){this.items=[]};k.prototype.GetIterator=function(){return this.items};k.prototype.ForEach=function(v){this.GetIterator().forEach(v)};k.prototype.Map=function(v){return new k(this.GetIterator().map(v))};k.prototype.Filter=function(v){return new k(this.GetIterator().filter(v))};k.prototype.Sort=function(v){return new k(this.GetIterator().sort(v))};k.prototype.Every=function(v){return this.GetIterator().every(v)};k.prototype.Some=function(v){return this.GetIterator().some(v)};k.prototype.IsEmpty=
function(){return 0===this.Count};$jscomp.global.Object.defineProperties(k.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});var e=function(v,n){for(var w=1;w<arguments.length;++w);this.prefix="XMLJS";this.code=v;this.name=this.constructor.name;arguments[0]=H[v];w=r.apply(this,arguments);for(var D=""+this.prefix,V=v+"";4>V.length;)V="0"+V;this.message=D+V+": "+w;this.stack=Error(this.message).stack},q;(function(v){v[v.NONE=0]="NONE";v[v.NULL_REFERENCE=1]=
"NULL_REFERENCE";v[v.NULL_PARAM=2]="NULL_PARAM";v[v.DECORATOR_NULL_PARAM=3]="DECORATOR_NULL_PARAM";v[v.COLLECTION_LIMIT=4]="COLLECTION_LIMIT";v[v.METHOD_NOT_IMPLEMENTED=5]="METHOD_NOT_IMPLEMENTED";v[v.METHOD_NOT_SUPPORTED=6]="METHOD_NOT_SUPPORTED";v[v.PARAM_REQUIRED=7]="PARAM_REQUIRED";v[v.CONVERTER_UNSUPPORTED=8]="CONVERTER_UNSUPPORTED";v[v.ELEMENT_MALFORMED=9]="ELEMENT_MALFORMED";v[v.ELEMENT_MISSING=10]="ELEMENT_MISSING";v[v.ATTRIBUTE_MISSING=11]="ATTRIBUTE_MISSING";v[v.CONTENT_MISSING=12]="CONTENT_MISSING";
v[v.CRYPTOGRAPHIC=13]="CRYPTOGRAPHIC";v[v.CRYPTOGRAPHIC_NO_MODULE=14]="CRYPTOGRAPHIC_NO_MODULE";v[v.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM=15]="CRYPTOGRAPHIC_UNKNOWN_TRANSFORM";v[v.ALGORITHM_NOT_SUPPORTED=16]="ALGORITHM_NOT_SUPPORTED";v[v.ALGORITHM_WRONG_NAME=17]="ALGORITHM_WRONG_NAME";v[v.XML_EXCEPTION=18]="XML_EXCEPTION"})(q||(q={}));var H={};H[q.NONE]="No description";H[q.NULL_REFERENCE]="Null reference";H[q.NULL_PARAM]="'%1' has empty '%2' object";H[q.DECORATOR_NULL_PARAM]="Decorator '%1' has empty '%2' parameter";
H[q.COLLECTION_LIMIT]="Collection of '%1' in element '%2' has wrong amount of items";H[q.METHOD_NOT_IMPLEMENTED]="Method is not implemented";H[q.METHOD_NOT_SUPPORTED]="Method is not supported";H[q.PARAM_REQUIRED]="Required parameter is missing '%1'";H[q.CONVERTER_UNSUPPORTED]="Converter is not supported";H[q.ELEMENT_MALFORMED]="Malformed element '%1'";H[q.ELEMENT_MISSING]="Element '%1' is missing in '%2'";H[q.ATTRIBUTE_MISSING]="Attribute '%1' is missing in '%2'";H[q.CONTENT_MISSING]="Content is missing in '%1'";
H[q.CRYPTOGRAPHIC]="Cryptographic error: %1";H[q.CRYPTOGRAPHIC_NO_MODULE]="WebCrypto module is not found";H[q.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM]="Unknown transform %1";H[q.ALGORITHM_NOT_SUPPORTED]="Algorithm is not supported '%1'";H[q.ALGORITHM_WRONG_NAME]="Algorithm wrong name in use '%1'";H[q.XML_EXCEPTION]="XML exception: %1";var g=function(){};g.ToString=function(v,n){n=void 0===n?"utf8":n;v=new Uint8Array(v);switch(n.toLowerCase()){case "utf8":return this.ToUtf8String(v);case "binary":return this.ToBinary(v);
case "hex":return this.ToHex(v);case "base64":return this.ToBase64(v);case "base64url":return this.ToBase64Url(v);default:throw new e(q.CONVERTER_UNSUPPORTED);}};g.FromString=function(v,n){switch((void 0===n?"utf8":n).toLowerCase()){case "utf8":return this.FromUtf8String(v);case "binary":return this.FromBinary(v);case "hex":return this.FromHex(v);case "base64":return this.FromBase64(v);case "base64url":return this.FromBase64Url(v);default:throw new e(q.CONVERTER_UNSUPPORTED);}};g.ToBase64=function(v){if("undefined"!==
typeof btoa)return v=this.ToString(v,"binary"),btoa(v);if("undefined"!==typeof u)return u.from(v).toString("base64");throw new e(q.CONVERTER_UNSUPPORTED);};g.FromBase64=function(v){v=v.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"").replace(/\s/g,"");if("undefined"!==typeof atob)return this.FromBinary(atob(v));if("undefined"!==typeof u)return new Uint8Array(u.from(v,"base64"));throw new e(q.CONVERTER_UNSUPPORTED);};g.FromBase64Url=function(v){return this.FromBase64(this.Base64Padding(v.replace(/\-/g,
"+").replace(/_/g,"/")))};g.ToBase64Url=function(v){return this.ToBase64(v).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")};g.FromUtf8String=function(v){v=unescape(encodeURIComponent(v));for(var n=new Uint8Array(v.length),w=0;w<v.length;w++)n[w]=v.charCodeAt(w);return n};g.ToUtf8String=function(v){v=String.fromCharCode.apply(null,v);return decodeURIComponent(escape(v))};g.FromBinary=function(v){for(var n=v.length,w=new Uint8Array(n),D=0;D<n;D++)w[D]=v.charCodeAt(D);return w};g.ToBinary=function(v){for(var n=
"",w=0;w<v.length;w++)n+=String.fromCharCode(v[w]);return n};g.ToHex=function(v){for(var n=[],w=0;w<v.length;w++){var D=v[w].toString(16);n.push(1===D.length?"0"+D:D)}return n.join("")};g.FromHex=function(v){for(var n=new Uint8Array(v.length/2),w=0;w<v.length;w+=2){var D=v.slice(w,w+2);n[w/2]=parseInt(D,16)}return n};g.ToDateTime=function(v){return new Date(v)};g.FromDateTime=function(v){return v.toISOString()};g.Base64Padding=function(v){var n=4-v.length%4;if(4>n)for(var w=0;w<n;w++)v+="=";return v};
var x;(function(v){v[v.None=0]="None";v[v.Element=1]="Element";v[v.Attribute=2]="Attribute";v[v.Text=3]="Text";v[v.CDATA=4]="CDATA";v[v.EntityReference=5]="EntityReference";v[v.Entity=6]="Entity";v[v.ProcessingInstruction=7]="ProcessingInstruction";v[v.Comment=8]="Comment";v[v.Document=9]="Document";v[v.DocumentType=10]="DocumentType";v[v.DocumentFragment=11]="DocumentFragment";v[v.Notation=12]="Notation";v[v.Whitespace=13]="Whitespace";v[v.SignificantWhitespace=14]="SignificantWhitespace";v[v.EndElement=
15]="EndElement";v[v.EndEntity=16]="EndEntity";v[v.XmlDeclaration=17]="XmlDeclaration"})(x||(x={}));var I=function(v,n){throw Error("Not implemented");};if("undefined"===typeof self){var Q=E(66);I=E(69);J.XMLSerializer=Q.XMLSerializer;J.DOMParser=Q.DOMParser;J.DOMImplementation=Q.DOMImplementation;J.document=(new DOMImplementation).createDocument("http://www.w3.org/1999/xhtml","html",null)}else J=self;var Z="undefined"!==typeof self?z:I,Y={get:function(v){if(v)return g.ToBase64(v)},set:function(v){return g.FromBase64(v)}},
ba={get:function(v){return v?v.toString():"0"},set:function(v){return Number(v)}},ha=function(v){v=void 0===v?{}:v;this.prefix=this.GetStatic().prefix||null;this.localName=this.GetStatic().localName;this.namespaceURI=this.GetStatic().namespaceURI;if(v){v=$jscomp.makeIterator(Object.entries(v));for(var n=v.next();!n.done;n=v.next()){var w=$jscomp.makeIterator(n.value);n=w.next().value;w=w.next().value;void 0!==w&&(this[n]=w)}}};ha.LoadXml=function(v){var n=new this;n.LoadXml(v);return n};ha.GetElement=
function(v,n,w){w=void 0===w?!0:w;var D=v.getElementsByTagName(n);if(w&&0===D.length)throw new e(q.ELEMENT_MISSING,n,v.localName);return D[0]||null};ha.GetAttribute=function(v,n,w,D){D=void 0===D?!0:D;if(v.hasAttribute(n))return v.getAttribute(n);if(D)throw new e(q.ATTRIBUTE_MISSING,n,v.localName);return w};ha.GetElementById=function(v,n){if(null==v||null==n)return null;var w=null;S(v)&&(w=v.getElementById(n));null==w&&(w=A(v,"//*[@Id='"+n+"']"),null==w&&(w=A(v,"//*[@ID='"+n+"']"),null==w&&(w=A(v,
"//*[@id='"+n+"']"))));return w};ha.CreateDocument=function(v,n,w){n=void 0===n?null:n;w=void 0===w?null:w;var D="",V="",P="";w&&(D=w+":",V=":"+w);n&&(P=" xmlns"+V+'="'+n+'"');v=""+D+(void 0===v?"xml_root":v);return(new DOMParser).parseFromString("<"+v+P+"></"+v+">","application/xml")};ha.GetChildren=function(v,n,w){v=S(v)?v.documentElement:v;for(var D=[],V=0;V<v.childNodes.length;V++){var P=v.childNodes[V];!t(P)||P.localName!==n||P.namespaceURI!==w&&w||D.push(P)}return D};ha.GetFirstChild=function(v,
n,w){v=S(v)?v.documentElement:v;for(var D=0;D<v.childNodes.length;D++){var V=v.childNodes[D];if(t(V)&&V.localName===n&&(V.namespaceURI===w||!w))return V}return null};ha.GetChild=function(v,n,w,D){D=void 0===D?!0:D;for(var V=0;V<v.childNodes.length;V++){var P=v.childNodes[V];if(t(P)&&P.localName===n&&(P.namespaceURI===w||!w))return P}if(D)throw new e(q.ELEMENT_MISSING,n,v.localName);return null};ha.prototype.HasChanged=function(){var v=this.GetStatic();if(v.items)for(var n in v.items)if(v.items.hasOwnProperty(n)){var w=
this[n];if(v.items[n].parser&&w&&w.HasChanged())return!0}return null===this.element};ha.prototype.GetXml=function(v){if(!v&&!this.HasChanged())return this.element||null;v=this.CreateDocument();var n=this.CreateElement(),w=this.GetStatic(),D=this.localName;if(w.items)for(var V in w.items)if(w.items.hasOwnProperty(V)){var P=this[V],O=w.items[V];switch(O.type){case "content":var K=O.converter?O.converter.get(P):P;if(O.required&&(null===K||void 0===K))throw new e(q.CONTENT_MISSING,D);if(O.defaultValue!==
P||O.required)n.textContent=K;break;case "attribute":K=O.converter?O.converter.get(P):P;if(O.required&&(null===K||void 0===K))throw new e(q.ATTRIBUTE_MISSING,O.localName,D);if(O.defaultValue!==P||O.required)O.namespaceURI?n.setAttributeNS(O.namespaceURI,O.localName,K):n.setAttribute(O.localName,K);break;case "element":K=null;if(O.parser){if(O.required&&!P||O.minOccurs&&!P.Count)throw new e(q.ELEMENT_MISSING,P.localName,D);P&&(K=P.GetXml(void 0===P.element&&(O.required||P.Count)))}else{var qa=O.converter?
O.converter.get(P):P;if(O.required&&void 0===qa)throw new e(q.ELEMENT_MISSING,O.localName,D);if(P!==O.defaultValue||O.required)if(K=O.namespaceURI?v.createElementNS(O.namespaceURI,(O.prefix?O.prefix+":":"")+O.localName):v.createElement((O.prefix?O.prefix+":":"")+O.localName),Array.isArray(qa)){qa=$jscomp.makeIterator(qa);for(var ya=qa.next();!ya.done;ya=qa.next())ya=ya.value,ya=ya instanceof ha?ya.GetXml(!0):ya,null!==ya&&K.appendChild(ya)}else qa instanceof ha?K.appendChild(qa.GetXml(!0)):K.textContent=
qa}if(K)if(O.noRoot){qa=[];for(ya=0;ya<K.childNodes.length;ya++){var xa=K.childNodes.item(ya);t(xa)&&qa.push(xa)}if(qa.length<O.minOccurs||qa.length>O.maxOccurs)throw new e(q.COLLECTION_LIMIT,P.localName,w.localName);qa.forEach(function(Da){return n.appendChild(Da.cloneNode(!0))})}else{if(K.childNodes.length<O.minOccurs||K.childNodes.length>O.maxOccurs)throw new e(q.COLLECTION_LIMIT,P.localName,w.localName);n.appendChild(K)}}}this.OnGetXml(n);return this.element=n};ha.prototype.LoadXml=function(v){v=
"string"===typeof v?M(v).documentElement:v;if(!v)throw new e(q.PARAM_REQUIRED,"element");var n=this.GetStatic(),w=this.localName;if(v.localName!==w||v.namespaceURI!=this.NamespaceURI)throw new e(q.ELEMENT_MALFORMED,w);if(n.items)for(var D in n.items)if(n.items.hasOwnProperty(D)){var V=n.items[D];switch(V.type){case "content":if(V.required&&!v.textContent)throw new e(q.CONTENT_MISSING,w);v.textContent?(V=V.converter?V.converter.set(v.textContent):v.textContent,this[D]=V):this[D]=V.defaultValue;break;
case "attribute":if(!V.localName)throw new e(q.PARAM_REQUIRED,"localName");if(V.namespaceURI){var P=v.hasAttributeNS.bind(v,V.namespaceURI,V.localName);var O=v.getAttributeNS.bind(v,V.namespaceURI,V.localName)}else P=v.hasAttribute.bind(v,V.localName),O=v.getAttribute.bind(v,V.localName);if(V.required&&!P())throw new e(q.ATTRIBUTE_MISSING,V.localName,w);P()?(V=V.converter?V.converter.set(O()):O(),this[D]=V):this[D]=V.defaultValue;break;case "element":if(V.noRoot){if(!V.parser)throw new e(q.XML_EXCEPTION,
"Schema for '"+V.localName+"' with flag noRoot must have 'parser'");P=new V.parser;if(!(P instanceof ia))throw new e(q.XML_EXCEPTION,"Schema for '"+V.localName+"' with flag noRoot must have 'parser' like instance of XmlCollection");P.OnLoadXml(v);delete P.element;if(P.Count<V.minOccurs||P.Count>V.maxOccurs)throw new e(q.COLLECTION_LIMIT,V.parser.localName,w);this[D]=P}else{P=null;for(O=0;O<v.childNodes.length;O++){var K=v.childNodes.item(O);if(t(K)&&K.localName===V.localName&&K.namespaceURI==V.namespaceURI){P=
K;break}}if(V.required&&!P)throw new e(q.ELEMENT_MISSING,V.parser?V.parser.localName:V.localName,w);V.parser?P&&(O=new V.parser,O.localName=V.localName,O.namespaceURI=V.namespaceURI,this[D]=O,O.LoadXml(P)):P?(V=V.converter?V.converter.set(P.textContent):P.textContent,this[D]=V):this[D]=V.defaultValue}}}this.OnLoadXml(v);this.prefix=v.prefix||"";this.element=v};ha.prototype.toString=function(){var v=this.GetXml();return v?(new XMLSerializer).serializeToString(v):""};ha.prototype.GetElement=function(v,
n){n=void 0===n?!0:n;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return ha.GetElement(this.element,v,n)};ha.prototype.GetChildren=function(v,n){if(!this.element)throw new e(q.NULL_PARAM,this.localName);return ha.GetChildren(this.element,v,n||this.NamespaceURI||void 0)};ha.prototype.GetChild=function(v,n){n=void 0===n?!0:n;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return ha.GetChild(this.element,v,this.NamespaceURI||void 0,n)};ha.prototype.GetFirstChild=function(v,n){if(!this.element)throw new e(q.NULL_PARAM,
this.localName);return ha.GetFirstChild(this.element,v,n)};ha.prototype.GetAttribute=function(v,n,w){w=void 0===w?!0:w;if(!this.element)throw new e(q.NULL_PARAM,this.localName);return ha.GetAttribute(this.element,v,n,w)};ha.prototype.IsEmpty=function(){return void 0===this.Element};ha.prototype.OnLoadXml=function(v){};ha.prototype.GetStatic=function(){return this.constructor};ha.prototype.GetPrefix=function(){return this.Prefix?this.prefix+":":""};ha.prototype.OnGetXml=function(v){};ha.prototype.CreateElement=
function(v,n,w,D){w=void 0===w?null:w;D=void 0===D?null:D;v||(v=this.CreateDocument());n=n||this.localName;w=w||this.NamespaceURI;D=D||this.prefix;n=(D?D+":":"")+n;w=w?v.createElementNS(w,n):v.createElement(n);v.importNode(w,!0);return w};ha.prototype.CreateDocument=function(){return ha.CreateDocument(this.localName,this.NamespaceURI,this.Prefix)};$jscomp.global.Object.defineProperties(ha.prototype,{Element:{configurable:!0,enumerable:!0,get:function(){return this.element}},Prefix:{configurable:!0,
enumerable:!0,get:function(){return this.prefix},set:function(v){this.prefix=v}},LocalName:{configurable:!0,enumerable:!0,get:function(){return this.localName}},NamespaceURI:{configurable:!0,enumerable:!0,get:function(){return this.namespaceURI||null}}});var ia=function(){var v=ha.apply(this,arguments)||this;v.MaxOccurs=Number.MAX_VALUE;v.MinOccurs=0;v.items=[];return v};$jscomp.inherits(ia,ha);ia.prototype.HasChanged=function(){var v=ha.prototype.HasChanged.call(this),n=this.Some(function(w){return w.HasChanged()});
return v||n};ia.prototype.Item=function(v){return this.items[v]||null};ia.prototype.Add=function(v){this.items.push(v);this.element=null};ia.prototype.Pop=function(){this.element=null;return this.items.pop()};ia.prototype.RemoveAt=function(v){this.items=this.items.filter(function(n,w){return w!==v});this.element=null};ia.prototype.Clear=function(){this.items=[];this.element=null};ia.prototype.GetIterator=function(){return this.items};ia.prototype.ForEach=function(v){this.GetIterator().forEach(v)};
ia.prototype.Map=function(v){return new k(this.GetIterator().map(v))};ia.prototype.Filter=function(v){return new k(this.GetIterator().filter(v))};ia.prototype.Sort=function(v){return new k(this.GetIterator().sort(v))};ia.prototype.Every=function(v){return this.GetIterator().every(v)};ia.prototype.Some=function(v){return this.GetIterator().some(v)};ia.prototype.IsEmpty=function(){return 0===this.Count};ia.prototype.OnGetXml=function(v){for(var n=$jscomp.makeIterator(this.GetIterator()),w=n.next();!w.done;w=
n.next())(w=w.value.GetXml())&&v.appendChild(w)};ia.prototype.OnLoadXml=function(v){var n=this.GetStatic();if(!n.parser)throw new e(q.XML_EXCEPTION,n.localName+" doesn't have required 'parser' in @XmlElement");for(var w=0;w<v.childNodes.length;w++){var D=v.childNodes.item(w);if(t(D)&&D.localName===n.parser.localName&&D.namespaceURI==n.namespaceURI){var V=new n.parser;V.LoadXml(D);this.Add(V)}}};$jscomp.global.Object.defineProperties(ia.prototype,{Count:{configurable:!0,enumerable:!0,get:function(){return this.items.length}}});
var na=function(){return k.apply(this,arguments)||this};$jscomp.inherits(na,k);na.prototype.Add=function(v){v.prefix=v.prefix||"";v.namespace=v.namespace||"";k.prototype.Add.call(this,v)};na.prototype.GetPrefix=function(v,n){n=void 0===n?this.Count-1:n;var w=this.Count-1;v=v||"";for(n>w&&(n=w);0<=n;n--)if(w=this.items[n],w.prefix===v)return w;return null};na.prototype.GetNamespace=function(v,n){n=void 0===n?this.Count-1:n;var w=this.Count-1;v=v||"";for(n>w&&(n=w);0<=n;n--)if(w=this.items[n],w.namespace===
v)return w;return null}}).call(this,E(6).Buffer,E(19))},function(R,G,E){E.d(G,"a",function(){return W});var u=E(0);E.n(u);var J=E(1),W=function(l){l=void 0===l?{}:l;this.algorithmId=Object(J.e)(l,"algorithmId",W.defaultValues("algorithmId"));"algorithmParams"in l&&(this.algorithmParams=Object(J.e)(l,"algorithmParams",W.defaultValues("algorithmParams")));"schema"in l&&this.fromSchema(l.schema)};W.defaultValues=function(l){switch(l){case "algorithmId":return"";case "algorithmParams":return new u.Any;
default:throw Error("Invalid member name for AlgorithmIdentifier class: "+l);}};W.compareWithDefault=function(l,h){switch(l){case "algorithmId":return""===h;case "algorithmParams":return h instanceof u.Any;default:throw Error("Invalid member name for AlgorithmIdentifier class: "+l);}};W.schema=function(l){l=void 0===l?{}:l;l=Object(J.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",optional:l.optional||!1,value:[new u.ObjectIdentifier({name:l.algorithmIdentifier||""}),new u.Any({name:l.algorithmParams||
"",optional:!0})]})};W.prototype.fromSchema=function(l){Object(J.c)(l,["algorithm","params"]);l=u.compareSchema(l,l,W.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=l.result.algorithm.valueBlock.toString();"params"in l.result&&(this.algorithmParams=l.result.params)};W.prototype.toSchema=function(){var l=[];l.push(new u.ObjectIdentifier({value:this.algorithmId}));
"algorithmParams"in this&&!1===this.algorithmParams instanceof u.Any&&l.push(this.algorithmParams);return new u.Sequence({value:l})};W.prototype.toJSON=function(){var l={algorithmId:this.algorithmId};"algorithmParams"in this&&!1===this.algorithmParams instanceof u.Any&&(l.algorithmParams=this.algorithmParams.toJSON());return l};W.prototype.isEqual=function(l){return!1===l instanceof W||this.algorithmId!==l.algorithmId?!1:"algorithmParams"in this?"algorithmParams"in l?JSON.stringify(this.algorithmParams)===
JSON.stringify(l.algorithmParams):!1:"algorithmParams"in l?!1:!0}},function(R,G,E){(function(u,J){function W(k,e,q){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof J&&"undefined"===typeof window){if("undefined"===typeof J[u.pid])J[u.pid]={};else if("object"!==typeof J[u.pid])throw Error("Name global."+u.pid+" already exists and it is not an object");if("undefined"===typeof J[u.pid].pkijs)J[u.pid].pkijs={};else if("object"!==typeof J[u.pid].pkijs)throw Error("Name global."+u.pid+".pkijs already exists and it is not an object");
J[u.pid].pkijs.engine={name:k,crypto:e,subtle:q}}else S.name!==k&&(S={name:k,crypto:e,subtle:q})}function l(){if("undefined"!==typeof u&&"pid"in u&&"undefined"!==typeof J&&"undefined"===typeof window){try{var k=J[u.pid].pkijs.engine}catch(e){throw Error('Please call "setEngine" before call to "getEngine"');}return k}return S}function h(){var k=l();if(null!==k.subtle)return k.subtle}function p(k){return l().subtle.getRandomValues(k)}function c(k){return l().subtle.getOIDByAlgorithm(k)}function f(k){if(0!==
k.byteLength%2)return new ArrayBuffer(0);var e=k.byteLength/2,q=new ArrayBuffer(e);(new Uint8Array(q)).set(new Uint8Array(k,0,e));q=new y.Integer({valueHex:q});var H=new ArrayBuffer(e);(new Uint8Array(H)).set(new Uint8Array(k,e,e));k=new y.Integer({valueHex:H});return(new y.Sequence({value:[q.convertToDER(),k.convertToDER()]})).toBER(!1)}function r(k){var e=!1,q="";k=k.trim();for(var H=0;H<k.length;H++)32===k.charCodeAt(H)?!1===e&&(e=!0):(e&&(q+=" ",e=!1),q+=k[H]);return q.toLowerCase()}function z(k){if(!1===
k instanceof y.Sequence||2!==k.valueBlock.value.length||!1===k.valueBlock.value[0]instanceof y.Integer||!1===k.valueBlock.value[1]instanceof y.Integer)return new ArrayBuffer(0);var e=k.valueBlock.value[0].convertFromDER();k=k.valueBlock.value[1].convertFromDER();switch(!0){case e.valueBlock.valueHex.byteLength<k.valueBlock.valueHex.byteLength:if(1!==k.valueBlock.valueHex.byteLength-e.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");var q=k.valueBlock.valueHex.byteLength;
e=new Uint8Array(e.valueBlock.valueHex);q=new ArrayBuffer(q);var H=new Uint8Array(q);H.set(e,1);H[0]=0;return Object(B.j)(q,k.valueBlock.valueHex);case e.valueBlock.valueHex.byteLength>k.valueBlock.valueHex.byteLength:if(1!==e.valueBlock.valueHex.byteLength-k.valueBlock.valueHex.byteLength)throw Error("Incorrect DER integer decoding");q=e.valueBlock.valueHex.byteLength;k=new Uint8Array(k.valueBlock.valueHex);q=new ArrayBuffer(q);H=new Uint8Array(q);H.set(k,1);H[0]=0;return Object(B.j)(e.valueBlock.valueHex,
q);default:if(e.valueBlock.valueHex.byteLength%2){q=e.valueBlock.valueHex.byteLength+1;H=new Uint8Array(e.valueBlock.valueHex);e=new ArrayBuffer(q);var g=new Uint8Array(e);g.set(H,1);g[0]=0;k=new Uint8Array(k.valueBlock.valueHex);q=new ArrayBuffer(q);H=new Uint8Array(q);H.set(k,1);H[0]=0;return Object(B.j)(e,q)}}return Object(B.j)(e.valueBlock.valueHex,k.valueBlock.valueHex)}function M(k){return l().subtle.getAlgorithmByOID(k)}function A(k,e,q,H){switch(k.toUpperCase()){case "SHA-1":case "SHA-256":case "SHA-384":case "SHA-512":break;
default:return Promise.reject("Unknown hash function: "+k)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===H instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');if(255<q)return Promise.reject('Please set "Counter" variable to value less or equal to 255');var g=new ArrayBuffer(4),x=new Uint8Array(g);x[0]=0;x[1]=0;x[2]=0;x[3]=q;x=
new ArrayBuffer(0);var I=h();if("undefined"===typeof I)return Promise.reject("Unable to create WebCrypto object");x=Object(B.j)(x,e);x=Object(B.j)(x,g);x=Object(B.j)(x,H);return I.digest({name:k},x).then(function(Q){return{counter:q,result:Q}})}function F(k,e,q,H){var g=0,x=1,I=[];switch(k.toUpperCase()){case "SHA-1":g=160;break;case "SHA-256":g=256;break;case "SHA-384":g=384;break;case "SHA-512":g=512;break;default:return Promise.reject("Unknown hash function: "+k)}if(!1===e instanceof ArrayBuffer)return Promise.reject('Please set "Zbuffer" as "ArrayBuffer"');
if(0===e.byteLength)return Promise.reject('"Zbuffer" has zero length, error');if(!1===H instanceof ArrayBuffer)return Promise.reject('Please set "SharedInfo" as "ArrayBuffer"');g=q/g;0<Math.floor(g)&&(x=Math.floor(g),0<g-x&&x++);for(g=1;g<=x;g++)I.push(A(k,e,g,H));return Promise.all(I).then(function(Q){for(var Z=new ArrayBuffer(0),Y=1,ba=!0;ba;){ba=!1;for(var ha=$jscomp.makeIterator(Q),ia=ha.next();!ia.done;ia=ha.next())if(ia=ia.value,ia.counter===Y){Z=Object(B.j)(Z,ia.result);ba=!0;break}Y++}q>>=
3;if(Z.byteLength>q){Q=new ArrayBuffer(q);Y=new Uint8Array(Q);Z=new Uint8Array(Z);for(ba=0;ba<q;ba++)Y[ba]=Z[ba];return Q}return Z})}E.d(G,"i",function(){return W});E.d(G,"e",function(){return l});E.d(G,"d",function(){return h});E.d(G,"g",function(){return p});E.d(G,"f",function(){return c});E.d(G,"a",function(){return f});E.d(G,"j",function(){return r});E.d(G,"b",function(){return z});E.d(G,"c",function(){return M});E.d(G,"h",function(){return F});var y=E(0);E.n(y);var B=E(1),t=E(35),S={name:"none",
crypto:null,subtle:null};(function(){if("undefined"!==typeof self&&"crypto"in self){var k="webcrypto",e=self.crypto;if("webkitSubtle"in self.crypto){try{var q=self.crypto.webkitSubtle}catch(H){q=self.crypto.subtle}k="safari"}"subtle"in self.crypto&&(q=self.crypto.subtle);S="undefined"===typeof q?{name:k,crypto:e,subtle:null}:{name:k,crypto:e,subtle:new t.a({name:k,crypto:self.crypto,subtle:q})}}W(S.name,S.crypto,S.subtle)})()}).call(this,E(31),E(19))},function(R,G){R.exports={options:{usePureJavaScript:!1}}},
function(R,G,E){(function(u){function J(){try{var n=new Uint8Array(1);n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===n.foo()&&"function"===typeof n.subarray&&0===n.subarray(1,1).byteLength}catch(w){return!1}}function W(n,w){if((l.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<w)throw new RangeError("Invalid typed array length");l.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(w),n.__proto__=l.prototype):(null===n&&(n=new l(w)),n.length=w);return n}function l(n,w,D){if(!(l.TYPED_ARRAY_SUPPORT||
this instanceof l))return new l(n,w,D);if("number"===typeof n){if("string"===typeof w)throw Error("If encoding is specified then the first argument must be a string");return c(this,n)}return h(this,n,w,D)}function h(n,w,D,V){if("number"===typeof w)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&w instanceof ArrayBuffer){w.byteLength;if(0>D||w.byteLength<D)throw new RangeError("'offset' is out of bounds");if(w.byteLength<D+(V||0))throw new RangeError("'length' is out of bounds");
w=void 0===D&&void 0===V?new Uint8Array(w):void 0===V?new Uint8Array(w,D):new Uint8Array(w,D,V);l.TYPED_ARRAY_SUPPORT?(n=w,n.__proto__=l.prototype):n=f(n,w);return n}if("string"===typeof w){V=n;n=D;if("string"!==typeof n||""===n)n="utf8";if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');D=M(w,n)|0;V=W(V,D);w=V.write(w,n);w!==D&&(V=V.slice(0,w));return V}return r(n,w)}function p(n){if("number"!==typeof n)throw new TypeError('"size" argument must be a number');if(0>
n)throw new RangeError('"size" argument must not be negative');}function c(n,w){p(w);n=W(n,0>w?0:z(w)|0);if(!l.TYPED_ARRAY_SUPPORT)for(var D=0;D<w;++D)n[D]=0;return n}function f(n,w){var D=0>w.length?0:z(w.length)|0;n=W(n,D);for(var V=0;V<D;V+=1)n[V]=w[V]&255;return n}function r(n,w){if(l.isBuffer(w)){var D=z(w.length)|0;n=W(n,D);if(0===n.length)return n;w.copy(n,0,0,D);return n}if(w){if("undefined"!==typeof ArrayBuffer&&w.buffer instanceof ArrayBuffer||"length"in w)return(D="number"!==typeof w.length)||
(D=w.length,D=D!==D),D?W(n,0):f(n,w);if("Buffer"===w.type&&ia(w.data))return f(n,w.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function z(n){if(n>=(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(l.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return n|0}function M(n,w){if(l.isBuffer(n))return n.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!==typeof n&&(n=""+n);var D=n.length;if(0===D)return 0;for(var V=!1;;)switch(w){case "ascii":case "latin1":case "binary":return D;case "utf8":case "utf-8":case void 0:return I(n).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*D;case "hex":return D>>>1;case "base64":return Z(n).length;default:if(V)return I(n).length;w=(""+w).toLowerCase();V=!0}}function A(n,
w,D){var V=!1;if(void 0===w||0>w)w=0;if(w>this.length)return"";if(void 0===D||D>this.length)D=this.length;if(0>=D)return"";D>>>=0;w>>>=0;if(D<=w)return"";for(n||(n="utf8");;)switch(n){case "hex":n=w;w=D;D=this.length;if(!n||0>n)n=0;if(!w||0>w||w>D)w=D;V="";for(D=n;D<w;++D)n=V,V=this[D],V=16>V?"0"+V.toString(16):V.toString(16),V=n+V;return V;case "utf8":case "utf-8":return t(this,w,D);case "ascii":n="";for(D=Math.min(this.length,D);w<D;++w)n+=String.fromCharCode(this[w]&127);return n;case "latin1":case "binary":n=
"";for(D=Math.min(this.length,D);w<D;++w)n+=String.fromCharCode(this[w]);return n;case "base64":return w=0===w&&D===this.length?ba.fromByteArray(this):ba.fromByteArray(this.slice(w,D)),w;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":w=this.slice(w,D);D="";for(n=0;n<w.length;n+=2)D+=String.fromCharCode(w[n]+256*w[n+1]);return D;default:if(V)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();V=!0}}function F(n,w,D){var V=n[w];n[w]=n[D];n[D]=V}function y(n,w,D,V,P){if(0===n.length)return-1;
"string"===typeof D?(V=D,D=0):2147483647<D?D=2147483647:-2147483648>D&&(D=-2147483648);D=+D;isNaN(D)&&(D=P?0:n.length-1);0>D&&(D=n.length+D);if(D>=n.length){if(P)return-1;D=n.length-1}else if(0>D)if(P)D=0;else return-1;"string"===typeof w&&(w=l.from(w,V));if(l.isBuffer(w))return 0===w.length?-1:B(n,w,D,V,P);if("number"===typeof w)return w&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?P?Uint8Array.prototype.indexOf.call(n,w,D):Uint8Array.prototype.lastIndexOf.call(n,
w,D):B(n,[w],D,V,P);throw new TypeError("val must be string, number or Buffer");}function B(n,w,D,V,P){function O(xa,Da){return 1===K?xa[Da]:xa.readUInt16BE(Da*K)}var K=1,qa=n.length,ya=w.length;if(void 0!==V&&(V=String(V).toLowerCase(),"ucs2"===V||"ucs-2"===V||"utf16le"===V||"utf-16le"===V)){if(2>n.length||2>w.length)return-1;K=2;qa/=2;ya/=2;D/=2}if(P)for(V=-1;D<qa;D++)if(O(n,D)===O(w,-1===V?0:D-V)){if(-1===V&&(V=D),D-V+1===ya)return V*K}else-1!==V&&(D-=D-V),V=-1;else for(D+ya>qa&&(D=qa-ya);0<=D;D--){qa=
!0;for(V=0;V<ya;V++)if(O(n,D+V)!==O(w,V)){qa=!1;break}if(qa)return D}return-1}function t(n,w,D){D=Math.min(n.length,D);for(var V=[];w<D;){var P=n[w],O=null,K=239<P?4:223<P?3:191<P?2:1;if(w+K<=D)switch(K){case 1:128>P&&(O=P);break;case 2:var qa=n[w+1];128===(qa&192)&&(P=(P&31)<<6|qa&63,127<P&&(O=P));break;case 3:qa=n[w+1];var ya=n[w+2];128===(qa&192)&&128===(ya&192)&&(P=(P&15)<<12|(qa&63)<<6|ya&63,2047<P&&(55296>P||57343<P)&&(O=P));break;case 4:qa=n[w+1];ya=n[w+2];var xa=n[w+3];128===(qa&192)&&128===
(ya&192)&&128===(xa&192)&&(P=(P&15)<<18|(qa&63)<<12|(ya&63)<<6|xa&63,65535<P&&1114112>P&&(O=P))}null===O?(O=65533,K=1):65535<O&&(O-=65536,V.push(O>>>10&1023|55296),O=56320|O&1023);V.push(O);w+=K}n=V.length;if(n<=na)V=String.fromCharCode.apply(String,V);else{D="";for(w=0;w<n;)D+=String.fromCharCode.apply(String,V.slice(w,w+=na));V=D}return V}function S(n,w,D){if(0!==n%1||0>n)throw new RangeError("offset is not uint");if(n+w>D)throw new RangeError("Trying to access beyond buffer length");}function k(n,
w,D,V,P,O){if(!l.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>P||w<O)throw new RangeError('"value" argument is out of bounds');if(D+V>n.length)throw new RangeError("Index out of range");}function e(n,w,D,V){0>w&&(w=65535+w+1);for(var P=0,O=Math.min(n.length-D,2);P<O;++P)n[D+P]=(w&255<<8*(V?P:1-P))>>>8*(V?P:1-P)}function q(n,w,D,V){0>w&&(w=4294967295+w+1);for(var P=0,O=Math.min(n.length-D,4);P<O;++P)n[D+P]=w>>>8*(V?P:3-P)&255}function H(n,w,D,V,P,O){if(D+V>n.length)throw new RangeError("Index out of range");
if(0>D)throw new RangeError("Index out of range");}function g(n,w,D,V,P){P||H(n,w,D,4,3.4028234663852886E38,-3.4028234663852886E38);ha.write(n,w,D,V,23,4);return D+4}function x(n,w,D,V,P){P||H(n,w,D,8,1.7976931348623157E308,-1.7976931348623157E308);ha.write(n,w,D,V,52,8);return D+8}function I(n,w){w=w||Infinity;for(var D,V=n.length,P=null,O=[],K=0;K<V;++K){D=n.charCodeAt(K);if(55295<D&&57344>D){if(!P){if(56319<D){-1<(w-=3)&&O.push(239,191,189);continue}else if(K+1===V){-1<(w-=3)&&O.push(239,191,189);
continue}P=D;continue}if(56320>D){-1<(w-=3)&&O.push(239,191,189);P=D;continue}D=(P-55296<<10|D-56320)+65536}else P&&-1<(w-=3)&&O.push(239,191,189);P=null;if(128>D){if(0>--w)break;O.push(D)}else if(2048>D){if(0>(w-=2))break;O.push(D>>6|192,D&63|128)}else if(65536>D){if(0>(w-=3))break;O.push(D>>12|224,D>>6&63|128,D&63|128)}else if(1114112>D){if(0>(w-=4))break;O.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw Error("Invalid code point");}return O}function Q(n){for(var w=[],D=0;D<n.length;++D)w.push(n.charCodeAt(D)&
255);return w}function Z(n){var w=ba,D=w.toByteArray;n=(n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")).replace(v,"");if(2>n.length)n="";else for(;0!==n.length%4;)n+="=";return D.call(w,n)}function Y(n,w,D,V){for(var P=0;P<V&&!(P+D>=w.length||P>=n.length);++P)w[P+D]=n[P];return P}var ba=E(63),ha=E(64),ia=E(65);G.Buffer=l;G.SlowBuffer=function(n){+n!=n&&(n=0);return l.alloc(+n)};G.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=void 0!==u.TYPED_ARRAY_SUPPORT?u.TYPED_ARRAY_SUPPORT:J();G.kMaxLength=l.TYPED_ARRAY_SUPPORT?
2147483647:1073741823;l.poolSize=8192;l._augment=function(n){n.__proto__=l.prototype;return n};l.from=function(n,w,D){return h(null,n,w,D)};l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0}));l.alloc=function(n,w,D){p(n);n=0>=n?W(null,n):void 0!==w?"string"===typeof D?W(null,n).fill(w,D):W(null,n).fill(w):W(null,n);return n};
l.allocUnsafe=function(n){return c(null,n)};l.allocUnsafeSlow=function(n){return c(null,n)};l.isBuffer=function(n){return!(null==n||!n._isBuffer)};l.compare=function(n,w){if(!l.isBuffer(n)||!l.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(n===w)return 0;for(var D=n.length,V=w.length,P=0,O=Math.min(D,V);P<O;++P)if(n[P]!==w[P]){D=n[P];V=w[P];break}return D<V?-1:V<D?1:0};l.isEncoding=function(n){switch(String(n).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};l.concat=function(n,w){if(!ia(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return l.alloc(0);var D;if(void 0===w)for(D=w=0;D<n.length;++D)w+=n[D].length;w=l.allocUnsafe(w);var V=0;for(D=0;D<n.length;++D){var P=n[D];if(!l.isBuffer(P))throw new TypeError('"list" argument must be an Array of Buffers');P.copy(w,V);V+=P.length}return w};l.byteLength=M;l.prototype._isBuffer=!0;l.prototype.swap16=function(){var n=this.length;if(0!==n%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var w=0;w<n;w+=2)F(this,w,w+1);return this};l.prototype.swap32=function(){var n=this.length;if(0!==n%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<n;w+=4)F(this,w,w+3),F(this,w+1,w+2);return this};l.prototype.swap64=function(){var n=this.length;if(0!==n%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<n;w+=8)F(this,w,w+7),F(this,w+1,w+6),F(this,w+2,w+5),F(this,w+3,w+4);return this};l.prototype.toString=function(){var n=this.length|
0;return 0===n?"":0===arguments.length?t(this,0,n):A.apply(this,arguments)};l.prototype.equals=function(n){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:0===l.compare(this,n)};l.prototype.inspect=function(){var n="",w=G.INSPECT_MAX_BYTES;0<this.length&&(n=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(n+=" ... "));return"<Buffer "+n+">"};l.prototype.compare=function(n,w,D,V,P){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");
void 0===w&&(w=0);void 0===D&&(D=n?n.length:0);void 0===V&&(V=0);void 0===P&&(P=this.length);if(0>w||D>n.length||0>V||P>this.length)throw new RangeError("out of range index");if(V>=P&&w>=D)return 0;if(V>=P)return-1;if(w>=D)return 1;w>>>=0;D>>>=0;V>>>=0;P>>>=0;if(this===n)return 0;var O=P-V,K=D-w,qa=Math.min(O,K);V=this.slice(V,P);n=n.slice(w,D);for(w=0;w<qa;++w)if(V[w]!==n[w]){O=V[w];K=n[w];break}return O<K?-1:K<O?1:0};l.prototype.includes=function(n,w,D){return-1!==this.indexOf(n,w,D)};l.prototype.indexOf=
function(n,w,D){return y(this,n,w,D,!0)};l.prototype.lastIndexOf=function(n,w,D){return y(this,n,w,D,!1)};l.prototype.write=function(n,w,D,V){if(void 0===w)V="utf8",D=this.length,w=0;else if(void 0===D&&"string"===typeof w)V=w,D=this.length,w=0;else if(isFinite(w))w|=0,isFinite(D)?(D|=0,void 0===V&&(V="utf8")):(V=D,D=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var P=this.length-w;if(void 0===D||D>P)D=P;if(0<n.length&&(0>D||0>w)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");
V||(V="utf8");for(P=!1;;)switch(V){case "hex":a:{w=Number(w)||0;V=this.length-w;D?(D=Number(D),D>V&&(D=V)):D=V;V=n.length;if(0!==V%2)throw new TypeError("Invalid hex string");D>V/2&&(D=V/2);for(V=0;V<D;++V){P=parseInt(n.substr(2*V,2),16);if(isNaN(P)){n=V;break a}this[w+V]=P}n=V}return n;case "utf8":case "utf-8":return Y(I(n,this.length-w),this,w,D);case "ascii":return Y(Q(n),this,w,D);case "latin1":case "binary":return Y(Q(n),this,w,D);case "base64":return Y(Z(n),this,w,D);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":V=
n;P=this.length-w;for(var O=[],K=0;K<V.length&&!(0>(P-=2));++K){var qa=V.charCodeAt(K);n=qa>>8;qa%=256;O.push(qa);O.push(n)}return Y(O,this,w,D);default:if(P)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase();P=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var na=4096;l.prototype.slice=function(n,w){var D=this.length;n=~~n;w=void 0===w?D:~~w;0>n?(n+=D,0>n&&(n=0)):n>D&&(n=D);0>w?(w+=D,0>w&&(w=0)):w>D&&(w=D);w<n&&(w=n);if(l.TYPED_ARRAY_SUPPORT)w=
this.subarray(n,w),w.__proto__=l.prototype;else{D=w-n;w=new l(D,void 0);for(var V=0;V<D;++V)w[V]=this[V+n]}return w};l.prototype.readUIntLE=function(n,w,D){n|=0;w|=0;D||S(n,w,this.length);D=this[n];for(var V=1,P=0;++P<w&&(V*=256);)D+=this[n+P]*V;return D};l.prototype.readUIntBE=function(n,w,D){n|=0;w|=0;D||S(n,w,this.length);D=this[n+--w];for(var V=1;0<w&&(V*=256);)D+=this[n+--w]*V;return D};l.prototype.readUInt8=function(n,w){w||S(n,1,this.length);return this[n]};l.prototype.readUInt16LE=function(n,
w){w||S(n,2,this.length);return this[n]|this[n+1]<<8};l.prototype.readUInt16BE=function(n,w){w||S(n,2,this.length);return this[n]<<8|this[n+1]};l.prototype.readUInt32LE=function(n,w){w||S(n,4,this.length);return(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};l.prototype.readUInt32BE=function(n,w){w||S(n,4,this.length);return 16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};l.prototype.readIntLE=function(n,w,D){n|=0;w|=0;D||S(n,w,this.length);D=this[n];for(var V=1,P=0;++P<w&&(V*=256);)D+=
this[n+P]*V;D>=128*V&&(D-=Math.pow(2,8*w));return D};l.prototype.readIntBE=function(n,w,D){n|=0;w|=0;D||S(n,w,this.length);D=w;for(var V=1,P=this[n+--D];0<D&&(V*=256);)P+=this[n+--D]*V;P>=128*V&&(P-=Math.pow(2,8*w));return P};l.prototype.readInt8=function(n,w){w||S(n,1,this.length);return this[n]&128?-1*(255-this[n]+1):this[n]};l.prototype.readInt16LE=function(n,w){w||S(n,2,this.length);n=this[n]|this[n+1]<<8;return n&32768?n|4294901760:n};l.prototype.readInt16BE=function(n,w){w||S(n,2,this.length);
n=this[n+1]|this[n]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(n,w){w||S(n,4,this.length);return this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};l.prototype.readInt32BE=function(n,w){w||S(n,4,this.length);return this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};l.prototype.readFloatLE=function(n,w){w||S(n,4,this.length);return ha.read(this,n,!0,23,4)};l.prototype.readFloatBE=function(n,w){w||S(n,4,this.length);return ha.read(this,n,!1,23,4)};l.prototype.readDoubleLE=function(n,
w){w||S(n,8,this.length);return ha.read(this,n,!0,52,8)};l.prototype.readDoubleBE=function(n,w){w||S(n,8,this.length);return ha.read(this,n,!1,52,8)};l.prototype.writeUIntLE=function(n,w,D,V){n=+n;w|=0;D|=0;V||k(this,n,w,D,Math.pow(2,8*D)-1,0);V=1;var P=0;for(this[w]=n&255;++P<D&&(V*=256);)this[w+P]=n/V&255;return w+D};l.prototype.writeUIntBE=function(n,w,D,V){n=+n;w|=0;D|=0;V||k(this,n,w,D,Math.pow(2,8*D)-1,0);V=D-1;var P=1;for(this[w+V]=n&255;0<=--V&&(P*=256);)this[w+V]=n/P&255;return w+D};l.prototype.writeUInt8=
function(n,w,D){n=+n;w|=0;D||k(this,n,w,1,255,0);l.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));this[w]=n&255;return w+1};l.prototype.writeUInt16LE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n&255,this[w+1]=n>>>8):e(this,n,w,!0);return w+2};l.prototype.writeUInt16BE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,2,65535,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>8,this[w+1]=n&255):e(this,n,w,!1);return w+2};l.prototype.writeUInt32LE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,4,4294967295,
0);l.TYPED_ARRAY_SUPPORT?(this[w+3]=n>>>24,this[w+2]=n>>>16,this[w+1]=n>>>8,this[w]=n&255):q(this,n,w,!0);return w+4};l.prototype.writeUInt32BE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,4,4294967295,0);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>24,this[w+1]=n>>>16,this[w+2]=n>>>8,this[w+3]=n&255):q(this,n,w,!1);return w+4};l.prototype.writeIntLE=function(n,w,D,V){n=+n;w|=0;V||(V=Math.pow(2,8*D-1),k(this,n,w,D,V-1,-V));V=0;var P=1,O=0;for(this[w]=n&255;++V<D&&(P*=256);)0>n&&0===O&&0!==this[w+V-1]&&(O=1),this[w+
V]=(n/P>>0)-O&255;return w+D};l.prototype.writeIntBE=function(n,w,D,V){n=+n;w|=0;V||(V=Math.pow(2,8*D-1),k(this,n,w,D,V-1,-V));V=D-1;var P=1,O=0;for(this[w+V]=n&255;0<=--V&&(P*=256);)0>n&&0===O&&0!==this[w+V+1]&&(O=1),this[w+V]=(n/P>>0)-O&255;return w+D};l.prototype.writeInt8=function(n,w,D){n=+n;w|=0;D||k(this,n,w,1,127,-128);l.TYPED_ARRAY_SUPPORT||(n=Math.floor(n));0>n&&(n=255+n+1);this[w]=n&255;return w+1};l.prototype.writeInt16LE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?
(this[w]=n&255,this[w+1]=n>>>8):e(this,n,w,!0);return w+2};l.prototype.writeInt16BE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,2,32767,-32768);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>8,this[w+1]=n&255):e(this,n,w,!1);return w+2};l.prototype.writeInt32LE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,4,2147483647,-2147483648);l.TYPED_ARRAY_SUPPORT?(this[w]=n&255,this[w+1]=n>>>8,this[w+2]=n>>>16,this[w+3]=n>>>24):q(this,n,w,!0);return w+4};l.prototype.writeInt32BE=function(n,w,D){n=+n;w|=0;D||k(this,n,w,4,2147483647,
-2147483648);0>n&&(n=4294967295+n+1);l.TYPED_ARRAY_SUPPORT?(this[w]=n>>>24,this[w+1]=n>>>16,this[w+2]=n>>>8,this[w+3]=n&255):q(this,n,w,!1);return w+4};l.prototype.writeFloatLE=function(n,w,D){return g(this,n,w,!0,D)};l.prototype.writeFloatBE=function(n,w,D){return g(this,n,w,!1,D)};l.prototype.writeDoubleLE=function(n,w,D){return x(this,n,w,!0,D)};l.prototype.writeDoubleBE=function(n,w,D){return x(this,n,w,!1,D)};l.prototype.copy=function(n,w,D,V){D||(D=0);V||0===V||(V=this.length);w>=n.length&&
(w=n.length);w||(w=0);0<V&&V<D&&(V=D);if(V===D||0===n.length||0===this.length)return 0;if(0>w)throw new RangeError("targetStart out of bounds");if(0>D||D>=this.length)throw new RangeError("sourceStart out of bounds");if(0>V)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length);n.length-w<V-D&&(V=n.length-w+D);var P=V-D;if(this===n&&D<w&&w<V)for(V=P-1;0<=V;--V)n[V+w]=this[V+D];else if(1E3>P||!l.TYPED_ARRAY_SUPPORT)for(V=0;V<P;++V)n[V+w]=this[V+D];else Uint8Array.prototype.set.call(n,
this.subarray(D,D+P),w);return P};l.prototype.fill=function(n,w,D,V){if("string"===typeof n){"string"===typeof w?(V=w,w=0,D=this.length):"string"===typeof D&&(V=D,D=this.length);if(1===n.length){var P=n.charCodeAt(0);256>P&&(n=P)}if(void 0!==V&&"string"!==typeof V)throw new TypeError("encoding must be a string");if("string"===typeof V&&!l.isEncoding(V))throw new TypeError("Unknown encoding: "+V);}else"number"===typeof n&&(n&=255);if(0>w||this.length<w||this.length<D)throw new RangeError("Out of range index");
if(D<=w)return this;w>>>=0;D=void 0===D?this.length:D>>>0;n||(n=0);if("number"===typeof n)for(V=w;V<D;++V)this[V]=n;else for(n=l.isBuffer(n)?n:I((new l(n,V)).toString()),P=n.length,V=0;V<D-w;++V)this[V+w]=n[V%P];return this};var v=/[^+\/0-9A-Za-z-_]/g}).call(this,E(19))},function(R,G,E){(function(u,J,W,l){function h(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw Error("Only 8, 16, 24, or 32 bits supported: "+e);}function p(e){this.data="";this.read=0;if("string"===typeof e)this.data=e;else if(r.isArrayBuffer(e)||
r.isArrayBufferView(e))if("undefined"!==typeof l&&e instanceof l)this.data=e.toString("binary");else{e=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,e)}catch(H){for(var q=0;q<e.length;++q)this.putByte(e[q])}}else if(e instanceof p||"object"===typeof e&&"string"===typeof e.data&&"number"===typeof e.read)this.data=e.data,this.read=e.read;this._constructedStringLength=0}var c=E(5),f=E(73),r=R.exports=c.util=c.util||{};(function(){if("undefined"!==typeof u&&u.nextTick&&!u.browser)r.nextTick=
u.nextTick,r.setImmediate="function"===typeof J?J:r.nextTick;else if("function"===typeof J)r.setImmediate=function(){return J.apply(void 0,arguments)},r.nextTick=function(I){return J(I)};else{r.setImmediate=function(I){setTimeout(I,0)};if("undefined"!==typeof window&&"function"===typeof window.postMessage){var e=[];r.setImmediate=function(I){e.push(I);1===e.length&&window.postMessage("forge.setImmediate","*")};window.addEventListener("message",function(I){I.source===window&&"forge.setImmediate"===
I.data&&(I.stopPropagation(),I=e.slice(),e.length=0,I.forEach(function(Q){Q()}))},!0)}if("undefined"!==typeof MutationObserver){var q=Date.now(),H=!0,g=document.createElement("div");e=[];(new MutationObserver(function(){var I=e.slice();e.length=0;I.forEach(function(Q){Q()})})).observe(g,{attributes:!0});var x=r.setImmediate;r.setImmediate=function(I){15<Date.now()-q?(q=Date.now(),x(I)):(e.push(I),1===e.length&&g.setAttribute("a",H=!H))}}r.nextTick=r.setImmediate}})();r.isNodejs="undefined"!==typeof u&&
u.versions&&u.versions.node;W=r.isNodejs?W:"undefined"===typeof self?window:self;r.globalScope=W;r.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};r.isArrayBuffer=function(e){return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer};r.isArrayBufferView=function(e){return e&&r.isArrayBuffer(e.buffer)&&void 0!==e.byteLength};r.ByteBuffer=p;r.ByteStringBuffer=p;r.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=
e;4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)};r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};r.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()};r.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};r.ByteStringBuffer.prototype.fillWithByte=function(e,q){e=String.fromCharCode(e);for(var H=this.data;0<q;)q&1&&(H+=e),q>>>=1,0<q&&(e+=e);this.data=H;this._optimizeConstructedString(q);
return this};r.ByteStringBuffer.prototype.putBytes=function(e){this.data+=e;this._optimizeConstructedString(e.length);return this};r.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(r.encodeUtf8(e))};r.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};r.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&
255))};r.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};r.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};r.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};r.ByteStringBuffer.prototype.putInt32Le=
function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};r.ByteStringBuffer.prototype.putInt=function(e,q){h(q);var H="";do q-=8,H+=String.fromCharCode(e>>q&255);while(0<q);return this.putBytes(H)};r.ByteStringBuffer.prototype.putSignedInt=function(e,q){0>e&&(e+=2<<q-1);return this.putInt(e,q)};r.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};r.ByteStringBuffer.prototype.getByte=
function(){return this.data.charCodeAt(this.read++)};r.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return e};r.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return e};r.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+
1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return e};r.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return e};r.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return e};r.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^
this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return e};r.ByteStringBuffer.prototype.getInt=function(e){h(e);var q=0;do q=(q<<8)+this.data.charCodeAt(this.read++),e-=8;while(0<e);return q};r.ByteStringBuffer.prototype.getSignedInt=function(e){var q=this.getInt(e);e=2<<e-2;q>=e&&(q-=e<<1);return q};r.ByteStringBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var q=this.data.slice(this.read,this.read+
e);this.read+=e}else 0===e?q="":(q=0===this.read?this.data:this.data.slice(this.read),this.clear());return q};r.ByteStringBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};r.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};r.ByteStringBuffer.prototype.setAt=function(e,q){this.data=this.data.substr(0,this.read+e)+String.fromCharCode(q)+this.data.substr(this.read+e+1);return this};r.ByteStringBuffer.prototype.last=
function(){return this.data.charCodeAt(this.data.length-1)};r.ByteStringBuffer.prototype.copy=function(){var e=r.createBuffer(this.data);e.read=this.read;return e};r.ByteStringBuffer.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),this.read=0);return this};r.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};r.ByteStringBuffer.prototype.truncate=function(e){e=Math.max(0,this.length()-e);this.data=this.data.substr(this.read,e);this.read=
0;return this};r.ByteStringBuffer.prototype.toHex=function(){for(var e="",q=this.read;q<this.data.length;++q){var H=this.data.charCodeAt(q);16>H&&(e+="0");e+=H.toString(16)}return e};r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())};r.DataBuffer=function(e,q){q=q||{};this.read=q.readOffset||0;this.growSize=q.growSize||1024;var H=r.isArrayBuffer(e),g=r.isArrayBufferView(e);H||g?(this.data=H?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),this.write=
"writeOffset"in q?q.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in q&&(this.write=q.writeOffset))};r.DataBuffer.prototype.length=function(){return this.write-this.read};r.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()};r.DataBuffer.prototype.accommodate=function(e,q){if(this.length()>=e)return this;q=Math.max(q||this.growSize,e);e=new Uint8Array(this.data.buffer,this.data.byteOffset,
this.data.byteLength);q=new Uint8Array(this.length()+q);q.set(e);this.data=new DataView(q.buffer);return this};r.DataBuffer.prototype.putByte=function(e){this.accommodate(1);this.data.setUint8(this.write++,e);return this};r.DataBuffer.prototype.fillWithByte=function(e,q){this.accommodate(q);for(var H=0;H<q;++H)this.data.setUint8(e);return this};r.DataBuffer.prototype.putBytes=function(e,q){if(r.isArrayBufferView(e)){q=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e=q.byteLength-q.byteOffset;
this.accommodate(e);var H=new Uint8Array(this.data.buffer,this.write);H.set(q);this.write+=e;return this}if(r.isArrayBuffer(e))return q=new Uint8Array(e),this.accommodate(q.byteLength),H=new Uint8Array(this.data.buffer),H.set(q,this.write),this.write+=q.byteLength,this;if(e instanceof r.DataBuffer||"object"===typeof e&&"number"===typeof e.read&&"number"===typeof e.write&&r.isArrayBufferView(e.data))return q=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(q.byteLength),H=new Uint8Array(e.data.byteLength,
this.write),H.set(q),this.write+=q.byteLength,this;e instanceof r.ByteStringBuffer&&(e=e.data,q="binary");q=q||"binary";if("string"===typeof e){if("hex"===q)return this.accommodate(Math.ceil(e.length/2)),q=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.hex.decode(e,q,this.write),this;if("base64"===q)return this.accommodate(3*Math.ceil(e.length/4)),q=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.base64.decode(e,q,this.write),this;"utf8"===q&&(e=r.encodeUtf8(e),
q="binary");if("binary"===q||"raw"===q)return this.accommodate(e.length),q=new Uint8Array(this.data.buffer,this.write),this.write+=r.binary.raw.decode(q),this;if("utf16"===q)return this.accommodate(2*e.length),q=new Uint16Array(this.data.buffer,this.write),this.write+=r.text.utf16.encode(q),this;throw Error("Invalid encoding: "+q);}throw Error("Invalid parameter: "+e);};r.DataBuffer.prototype.putBuffer=function(e){this.putBytes(e);e.clear();return this};r.DataBuffer.prototype.putString=function(e){return this.putBytes(e,
"utf16")};r.DataBuffer.prototype.putInt16=function(e){this.accommodate(2);this.data.setInt16(this.write,e);this.write+=2;return this};r.DataBuffer.prototype.putInt24=function(e){this.accommodate(3);this.data.setInt16(this.write,e>>8&65535);this.data.setInt8(this.write,e>>16&255);this.write+=3;return this};r.DataBuffer.prototype.putInt32=function(e){this.accommodate(4);this.data.setInt32(this.write,e);this.write+=4;return this};r.DataBuffer.prototype.putInt16Le=function(e){this.accommodate(2);this.data.setInt16(this.write,
e,!0);this.write+=2;return this};r.DataBuffer.prototype.putInt24Le=function(e){this.accommodate(3);this.data.setInt8(this.write,e>>16&255);this.data.setInt16(this.write,e>>8&65535,!0);this.write+=3;return this};r.DataBuffer.prototype.putInt32Le=function(e){this.accommodate(4);this.data.setInt32(this.write,e,!0);this.write+=4;return this};r.DataBuffer.prototype.putInt=function(e,q){h(q);this.accommodate(q/8);do q-=8,this.data.setInt8(this.write++,e>>q&255);while(0<q);return this};r.DataBuffer.prototype.putSignedInt=
function(e,q){h(q);this.accommodate(q/8);0>e&&(e+=2<<q-1);return this.putInt(e,q)};r.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};r.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);this.read+=2;return e};r.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);this.read+=3;return e};r.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);this.read+=4;return e};
r.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);this.read+=2;return e};r.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;this.read+=3;return e};r.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);this.read+=4;return e};r.DataBuffer.prototype.getInt=function(e){h(e);var q=0;do q=(q<<8)+this.data.getInt8(this.read++),e-=8;while(0<e);return q};r.DataBuffer.prototype.getSignedInt=
function(e){var q=this.getInt(e);e=2<<e-2;q>=e&&(q-=e<<1);return q};r.DataBuffer.prototype.getBytes=function(e){if(e){e=Math.min(this.length(),e);var q=this.data.slice(this.read,this.read+e);this.read+=e}else 0===e?q="":(q=0===this.read?this.data:this.data.slice(this.read),this.clear());return q};r.DataBuffer.prototype.bytes=function(e){return"undefined"===typeof e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};r.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+
e)};r.DataBuffer.prototype.setAt=function(e,q){this.data.setUint8(e,q);return this};r.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};r.DataBuffer.prototype.copy=function(){return new r.DataBuffer(this)};r.DataBuffer.prototype.compact=function(){if(0<this.read){var e=new Uint8Array(this.data.buffer,this.read),q=new Uint8Array(e.byteLength);q.set(e);this.data=new DataView(q);this.write-=this.read;this.read=0}return this};r.DataBuffer.prototype.clear=function(){this.data=
new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};r.DataBuffer.prototype.truncate=function(e){this.write=Math.max(0,this.length()-e);this.read=Math.min(this.read,this.write);return this};r.DataBuffer.prototype.toHex=function(){for(var e="",q=this.read;q<this.data.byteLength;++q){var H=this.data.getUint8(q);16>H&&(e+="0");e+=H.toString(16)}return e};r.DataBuffer.prototype.toString=function(e){var q=new Uint8Array(this.data,this.read,this.length());e=e||"utf8";if("binary"===e||"raw"===
e)return r.binary.raw.encode(q);if("hex"===e)return r.binary.hex.encode(q);if("base64"===e)return r.binary.base64.encode(q);if("utf8"===e)return r.text.utf8.decode(q);if("utf16"===e)return r.text.utf16.decode(q);throw Error("Invalid encoding: "+e);};r.createBuffer=function(e,q){void 0!==e&&"utf8"===(q||"raw")&&(e=r.encodeUtf8(e));return new r.ByteBuffer(e)};r.fillString=function(e,q){for(var H="";0<q;)q&1&&(H+=e),q>>>=1,0<q&&(e+=e);return H};r.xorBytes=function(e,q,H){for(var g="",x,I="",Q=0,Z=0;0<
H;--H,++Q)x=e.charCodeAt(Q)^q.charCodeAt(Q),10<=Z&&(g+=I,I="",Z=0),I+=String.fromCharCode(x),++Z;return g+I};r.hexToBytes=function(e){var q="",H=0;e.length&1&&(H=1,q+=String.fromCharCode(parseInt(e[0],16)));for(;H<e.length;H+=2)q+=String.fromCharCode(parseInt(e.substr(H,2),16));return q};r.bytesToHex=function(e){return r.createBuffer(e).toHex()};r.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};
var z=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];r.encode64=function(e,q){for(var H="",g="",x,I,Q,Z=0;Z<e.length;)x=e.charCodeAt(Z++),I=e.charCodeAt(Z++),Q=e.charCodeAt(Z++),H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(x>>2),H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((x&
3)<<4|I>>4),isNaN(I)?H+="==":(H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((I&15)<<2|Q>>6),H+=isNaN(Q)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Q&63)),q&&H.length>q&&(g+=H.substr(0,q)+"\r\n",H=H.substr(q));return g+H};r.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var q="",H,g,x,I,Q=0;Q<e.length;)H=z[e.charCodeAt(Q++)-43],g=z[e.charCodeAt(Q++)-43],x=z[e.charCodeAt(Q++)-43],I=z[e.charCodeAt(Q++)-43],q+=String.fromCharCode(H<<
2|g>>4),64!==x&&(q+=String.fromCharCode((g&15)<<4|x>>2),64!==I&&(q+=String.fromCharCode((x&3)<<6|I)));return q};r.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};r.decodeUtf8=function(e){return decodeURIComponent(escape(e))};r.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:f.encode,decode:f.decode}};r.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};r.binary.raw.decode=function(e,q,H){var g=q;g||(g=new Uint8Array(e.length));for(var x=H=H||0,I=0;I<e.length;++I)g[x++]=
e.charCodeAt(I);return q?x-H:g};r.binary.hex.encode=r.bytesToHex;r.binary.hex.decode=function(e,q,H){var g=q;g||(g=new Uint8Array(Math.ceil(e.length/2)));H=H||0;var x=0,I=H;e.length&1&&(x=1,g[I++]=parseInt(e[0],16));for(;x<e.length;x+=2)g[I++]=parseInt(e.substr(x,2),16);return q?I-H:g};r.binary.base64.encode=function(e,q){for(var H="",g="",x,I,Q,Z=0;Z<e.byteLength;)x=e[Z++],I=e[Z++],Q=e[Z++],H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(x>>2),H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((x&
3)<<4|I>>4),isNaN(I)?H+="==":(H+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((I&15)<<2|Q>>6),H+=isNaN(Q)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(Q&63)),q&&H.length>q&&(g+=H.substr(0,q)+"\r\n",H=H.substr(q));return g+H};r.binary.base64.decode=function(e,q,H){var g=q;g||(g=new Uint8Array(3*Math.ceil(e.length/4)));e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");H=H||0;for(var x,I,Q,Z,Y=0,ba=H;Y<e.length;)x=z[e.charCodeAt(Y++)-43],I=z[e.charCodeAt(Y++)-
43],Q=z[e.charCodeAt(Y++)-43],Z=z[e.charCodeAt(Y++)-43],g[ba++]=x<<2|I>>4,64!==Q&&(g[ba++]=(I&15)<<4|Q>>2,64!==Z&&(g[ba++]=(Q&3)<<6|Z));return q?ba-H:g.subarray(0,ba)};r.binary.base58.encode=function(e,q){return r.binary.baseN.encode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q)};r.binary.base58.decode=function(e,q){return r.binary.baseN.decode(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q)};r.text={utf8:{},utf16:{}};r.text.utf8.encode=function(e,q,H){e=r.encodeUtf8(e);
var g=q;g||(g=new Uint8Array(e.length));for(var x=H=H||0,I=0;I<e.length;++I)g[x++]=e.charCodeAt(I);return q?x-H:g};r.text.utf8.decode=function(e){return r.decodeUtf8(String.fromCharCode.apply(null,e))};r.text.utf16.encode=function(e,q,H){var g=q;g||(g=new Uint8Array(2*e.length));for(var x=new Uint16Array(g.buffer),I=H=H||0,Q=H,Z=0;Z<e.length;++Z)x[Q++]=e.charCodeAt(Z),I+=2;return q?I-H:g};r.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};r.deflate=function(e,
q,H){q=r.decode64(e.deflate(r.encode64(q)).rval);H&&(e=2,q.charCodeAt(1)&32&&(e=6),q=q.substring(e,q.length-4));return q};r.inflate=function(e,q,H){e=e.inflate(r.encode64(q)).rval;return null===e?null:r.decode64(e)};var M=function(e,q,H){if(!e)throw Error("WebStorage not available.");null===H?e=e.removeItem(q):(H=r.encode64(JSON.stringify(H)),e=e.setItem(q,H));if("undefined"!==typeof e&&!0!==e.rval)throw q=Error(e.error.message),q.id=e.error.id,q.name=e.error.name,q;},A=function(e,q){if(!e)throw Error("WebStorage not available.");
q=e.getItem(q);if(e.init)if(null===q.rval){if(q.error)throw e=Error(q.error.message),e.id=q.error.id,e.name=q.error.name,e;q=null}else q=q.rval;null!==q&&(q=JSON.parse(r.decode64(q)));return q},F=function(e,q,H,g){var x=A(e,q);null===x&&(x={});x[H]=g;M(e,q,x)},y=function(e,q,H){e=A(e,q);null!==e&&(e=H in e?e[H]:null);return e},B=function(e,q,H){var g=A(e,q);if(null!==g&&H in g){delete g[H];H=!0;for(var x in g){H=!1;break}H&&(g=null);M(e,q,g)}},t=function(e,q){M(e,q,null)},S=function(e,q,H){var g=
null;"undefined"===typeof H&&(H=["web","flash"]);var x=!1,I=null,Q;for(Q in H){var Z=H[Q];try{if("flash"===Z||"both"===Z){if(null===q[0])throw Error("Flash local storage not available.");g=e.apply(this,q);x="flash"===Z}if("web"===Z||"both"===Z)q[0]=localStorage,g=e.apply(this,q),x=!0}catch(Y){I=Y}if(x)break}if(!x)throw I;return g};r.setItem=function(e,q,H,g,x){S(F,arguments,x)};r.getItem=function(e,q,H,g){return S(y,arguments,g)};r.removeItem=function(e,q,H,g){S(B,arguments,g)};r.clearItems=function(e,
q,H){S(t,arguments,H)};r.parseUrl=function(e){var q=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;q.lastIndex=0;q=q.exec(e);if(e=null===q?null:{full:e,scheme:q[1],host:q[2],port:q[3],path:q[4]})e.fullHost=e.host,e.port?80!==e.port&&"http"===e.scheme?e.fullHost+=":"+e.port:443!==e.port&&"https"===e.scheme&&(e.fullHost+=":"+e.port):"http"===e.scheme?e.port=80:"https"===e.scheme&&(e.port=443),e.full=e.scheme+"://"+e.fullHost;return e};var k=null;r.getQueryVariables=function(e){var q=function(H){var g={};
H=H.split("&");for(var x=0;x<H.length;x++){var I=H[x].indexOf("=");if(0<I){var Q=H[x].substring(0,I);I=H[x].substring(I+1)}else Q=H[x],I=null;Q in g||(g[Q]=[]);Q in Object.prototype||null===I||g[Q].push(unescape(I))}return g};"undefined"===typeof e?(null===k&&(k="undefined"!==typeof window&&window.location&&window.location.search?q(window.location.search.substring(1)):{}),e=k):e=q(e);return e};r.parseFragment=function(e){var q=e,H="",g=e.indexOf("?");0<g&&(q=e.substring(0,g),H=e.substring(g+1));e=
q.split("/");0<e.length&&""===e[0]&&e.shift();g=""===H?{}:r.getQueryVariables(H);return{pathString:q,queryString:H,path:e,query:g}};r.makeRequest=function(e){var q=r.parseFragment(e),H={path:q.pathString,query:q.queryString,getPath:function(g){return"undefined"===typeof g?q.path:q.path[g]},getQuery:function(g,x){"undefined"===typeof g?g=q.query:(g=q.query[g])&&"undefined"!==typeof x&&(g=g[x]);return g},getQueryLast:function(g,x){return(g=H.getQuery(g))?g[g.length-1]:x}};return H};r.makeLink=function(e,
q,H){e=jQuery.isArray(e)?e.join("/"):e;q=jQuery.param(q||{});H=H||"";return e+(0<q.length?"?"+q:"")+(0<H.length?"#"+H:"")};r.isEmpty=function(e){for(var q in e)if(e.hasOwnProperty(q))return!1;return!0};r.format=function(e){var q=/%./g,H,g,x=0,I=[];for(g=0;H=q.exec(e);)switch(g=e.substring(g,q.lastIndex-2),0<g.length&&I.push(g),g=q.lastIndex,H=H[0][1],H){case "s":case "o":x<arguments.length?I.push(arguments[x++ +1]):I.push("<?>");break;case "%":I.push("%");break;default:I.push("<%"+H+"?>")}I.push(e.substring(g));
return I.join("")};r.formatNumber=function(e,q,H,g){var x=isNaN(q=Math.abs(q))?2:q;q=void 0===H?",":H;g=void 0===g?".":g;H=0>e?"-":"";var I=parseInt(e=Math.abs(+e||0).toFixed(x),10)+"",Q=3<I.length?I.length%3:0;return H+(Q?I.substr(0,Q)+g:"")+I.substr(Q).replace(/(\d{3})(?=\d)/g,"$1"+g)+(x?q+Math.abs(e-I).toFixed(x).slice(2):"")};r.formatSize=function(e){return e=1073741824<=e?r.formatNumber(e/1073741824,2,".","")+" GiB":1048576<=e?r.formatNumber(e/1048576,2,".","")+" MiB":1024<=e?r.formatNumber(e/
1024,0)+" KiB":r.formatNumber(e,0)+" bytes"};r.bytesFromIP=function(e){return-1!==e.indexOf(".")?r.bytesFromIPv4(e):-1!==e.indexOf(":")?r.bytesFromIPv6(e):null};r.bytesFromIPv4=function(e){e=e.split(".");if(4!==e.length)return null;for(var q=r.createBuffer(),H=0;H<e.length;++H){var g=parseInt(e[H],10);if(isNaN(g))return null;q.putByte(g)}return q.getBytes()};r.bytesFromIPv6=function(e){var q=0;e=e.split(":").filter(function(Q){0===Q.length&&++q;return!0});for(var H=2*(8-e.length+q),g=r.createBuffer(),
x=0;8>x;++x)if(e[x]&&0!==e[x].length){var I=r.hexToBytes(e[x]);2>I.length&&g.putByte(0);g.putBytes(I)}else g.fillWithByte(0,H),H=0;return g.getBytes()};r.bytesToIP=function(e){return 4===e.length?r.bytesToIPv4(e):16===e.length?r.bytesToIPv6(e):null};r.bytesToIPv4=function(e){if(4!==e.length)return null;for(var q=[],H=0;H<e.length;++H)q.push(e.charCodeAt(H));return q.join(".")};r.bytesToIPv6=function(e){if(16!==e.length)return null;for(var q=[],H=[],g=0,x=0;x<e.length;x+=2){for(var I=r.bytesToHex(e[x]+
e[x+1]);"0"===I[0]&&"0"!==I;)I=I.substr(1);if("0"===I){var Q=H[H.length-1],Z=q.length;Q&&Z===Q.end+1?(Q.end=Z,Q.end-Q.start>H[g].end-H[g].start&&(g=H.length-1)):H.push({start:Z,end:Z})}q.push(I)}0<H.length&&(e=H[g],0<e.end-e.start&&(q.splice(e.start,e.end-e.start+1,""),0===e.start&&q.unshift(""),7===e.end&&q.push("")));return q.join(":")};r.estimateCores=function(e,q){function H(Q,Z,Y){if(0===Z){var ba=Math.floor(Q.reduce(function(ha,ia){return ha+ia},0)/Q.length);r.cores=Math.max(1,ba);URL.revokeObjectURL(I);
return q(null,r.cores)}g(Y,function(ha,ia){Q.push(x(Y,ia));H(Q,Z-1,Y)})}function g(Q,Z){for(var Y=[],ba=[],ha=0;ha<Q;++ha){var ia=new Worker(I);ia.addEventListener("message",function(na){ba.push(na.data);if(ba.length===Q){for(na=0;na<Q;++na)Y[na].terminate();Z(null,ba)}});Y.push(ia)}for(ha=0;ha<Q;++ha)Y[ha].postMessage(ha)}function x(Q,Z){for(var Y=[],ba=0;ba<Q;++ba)for(var ha=Z[ba],ia=Y[ba]=[],na=0;na<Q;++na)if(ba!==na){var v=Z[na];(ha.st>v.st&&ha.st<v.et||v.st>ha.st&&v.st<ha.et)&&ia.push(na)}return Y.reduce(function(n,
w){return Math.max(n,w.length)},0)}"function"===typeof e&&(q=e,e={});e=e||{};if("cores"in r&&!e.update)return q(null,r.cores);if("undefined"!==typeof navigator&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return r.cores=navigator.hardwareConcurrency,q(null,r.cores);if("undefined"===typeof Worker)return r.cores=1,q(null,r.cores);if("undefined"===typeof Blob)return r.cores=2,q(null,r.cores);var I=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(Q){Q=
Date.now();for(var Z=Q+4;Date.now()<Z;);self.postMessage({st:Q,et:Z})})}.toString(),")()"],{type:"application/javascript"}));H([],5,16)}}).call(this,E(31),E(71).setImmediate,E(19),E(6).Buffer)},function(R,G,E){E.d(G,"a",function(){return W});var u=E(0);E.n(u);var J=E(1),W=function(l){l=void 0===l?{}:l;this.type=Object(J.e)(l,"type",W.defaultValues("type"));this.values=Object(J.e)(l,"values",W.defaultValues("values"));"schema"in l&&this.fromSchema(l.schema)};W.defaultValues=function(l){switch(l){case "type":return"";
case "values":return[];default:throw Error("Invalid member name for Attribute class: "+l);}};W.compareWithDefault=function(l,h){switch(l){case "type":return""===h;case "values":return 0===h.length;default:throw Error("Invalid member name for Attribute class: "+l);}};W.schema=function(l){l=void 0===l?{}:l;l=Object(J.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.ObjectIdentifier({name:l.type||""}),new u.Set({name:l.setName||"",value:[new u.Repeated({name:l.values||"",value:new u.Any})]})]})};
W.prototype.fromSchema=function(l){Object(J.c)(l,["type","values"]);l=u.compareSchema(l,l,W.schema({names:{type:"type",values:"values"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for Attribute");this.type=l.result.type.valueBlock.toString();this.values=l.result.values};W.prototype.toSchema=function(){return new u.Sequence({value:[new u.ObjectIdentifier({value:this.type}),new u.Set({value:this.values})]})};W.prototype.toJSON=function(){return{type:this.type,
values:Array.from(this.values,function(l){return l.toJSON()})}}},function(R,G,E){function u(f,r){var z;if("undefined"===typeof Symbol||null==f[Symbol.iterator]){if(Array.isArray(f)||(z=J(f))||r&&f&&"number"===typeof f.length){z&&(f=z);var M=0;r=function(){};return{s:r,n:function(){return M>=f.length?{done:!0}:{done:!1,value:f[M++]}},e:function(B){throw B;},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A=!0,F=!1,y;return{s:function(){z=f[Symbol.iterator]()},n:function(){var B=z.next();A=B.done;return B},e:function(B){F=!0;y=B},f:function(){try{if(!A&&null!=z["return"])z["return"]()}finally{if(F)throw y;}}}}function J(f,r){if(f){if("string"===typeof f)return W(f,r);var z=Object.prototype.toString.call(f).slice(8,-1);"Object"===z&&f.constructor&&(z=f.constructor.name);if("Map"===z||"Set"===z)return Array.from(f);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return W(f,
r)}}function W(f,r){if(null==r||r>f.length)r=f.length;for(var z=0,M=Array(r);z<r;z++)M[z]=f[z];return M}function l(f,r){var z=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,M=Object.assign([],f.childNodes),A,F=[];if(f.nodeName===r)F.push(f);else{do if(A=M.shift())if(A.nodeName===r)F.push(A);else if(!1===z){A=Object.assign([],A.childNodes);A=u(A);var y;try{for(A.s();!(y=A.n()).done;)M.unshift(y.value)}catch(B){A.e(B)}finally{A.f()}}while(0<M.length)}return F}function h(f,r){function z(A,
F){var y=[];if(0<F.length){var B=F.shift();A=l(A,B,!0);A=u(A);var t;try{for(A.s();!(t=A.n()).done;)y=y.concat(z(t.value,F))}catch(S){A.e(S)}finally{A.f()}}else y.push(A);return y}r=Object.assign([],r);var M=[];return M=M.concat(z(f,r))}function p(f,r){r=r.split(">");var z=l(f.documentElement,r.shift());f=[];if(0<r.length){z=u(z);var M;try{for(z.s();!(M=z.n()).done;)f=f.concat(h(M.value,r))}catch(A){z.e(A)}finally{z.f()}}else f=z;return f}function c(f,r){return p(f,r)[0]}E.d(G,"b",function(){return p});
E.d(G,"a",function(){return c})},function(R,G,E){E.d(G,"a",function(){return l});var u=E(0);E.n(u);var J=E(1),W=E(3),l=function(h){h=void 0===h?{}:h;this.contentType=Object(J.e)(h,"contentType",l.defaultValues("contentType"));this.contentEncryptionAlgorithm=Object(J.e)(h,"contentEncryptionAlgorithm",l.defaultValues("contentEncryptionAlgorithm"));if("encryptedContent"in h&&(this.encryptedContent=h.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&
!1===this.encryptedContent.idBlock.isConstructed)){for(var p=new u.OctetString({idBlock:{isConstructed:!0},isConstructed:!0}),c=0,f=this.encryptedContent.valueBlock.valueHex.byteLength;0<f;){for(var r=new Uint8Array(this.encryptedContent.valueBlock.valueHex,c,c+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-c:1024),z=new ArrayBuffer(r.length),M=new Uint8Array(z),A=0;A<M.length;A++)M[A]=r[A];p.valueBlock.value.push(new u.OctetString({valueHex:z}));
f-=r.length;c+=r.length}this.encryptedContent=p}"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "contentType":return"";case "contentEncryptionAlgorithm":return new W.a;case "encryptedContent":return new u.OctetString;default:throw Error("Invalid member name for EncryptedContentInfo class: "+h);}};l.compareWithDefault=function(h,p){switch(h){case "contentType":return""===p;case "contentEncryptionAlgorithm":return""===p.algorithmId&&!1==="algorithmParams"in p;case "encryptedContent":return p.isEqual(l.defaultValues(h));
default:throw Error("Invalid member name for EncryptedContentInfo class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.ObjectIdentifier({name:h.contentType||""}),W.a.schema(h.contentEncryptionAlgorithm||{}),new u.Choice({value:[new u.Constructed({name:h.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new u.Repeated({value:new u.OctetString})]}),new u.Primitive({name:h.encryptedContent||"",idBlock:{tagClass:3,
tagNumber:0}})]})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,["contentType","contentEncryptionAlgorithm","encryptedContent"]);h=u.compareSchema(h,h,l.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=h.result.contentType.valueBlock.toString();this.contentEncryptionAlgorithm=
new W.a({schema:h.result.contentEncryptionAlgorithm});"encryptedContent"in h.result&&(this.encryptedContent=h.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)};l.prototype.toSchema=function(){var h={isIndefiniteForm:!1},p=[];p.push(new u.ObjectIdentifier({value:this.contentType}));p.push(this.contentEncryptionAlgorithm.toSchema());if("encryptedContent"in this){h.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;var c=this.encryptedContent;
c.idBlock.tagClass=3;c.idBlock.tagNumber=0;c.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;p.push(c)}return new u.Sequence({lenBlock:h,value:p})};l.prototype.toJSON=function(){var h={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};"encryptedContent"in this&&(h.encryptedContent=this.encryptedContent.toJSON());return h}},function(R,G,E){E.d(G,"a",function(){return c});var u=E(0);E.n(u);var J=E(1),W=E(4),l=E(3),h=E(12),p=E(27),
c=function(f){f=void 0===f?{}:f;this.algorithm=Object(J.e)(f,"algorithm",c.defaultValues("algorithm"));this.subjectPublicKey=Object(J.e)(f,"subjectPublicKey",c.defaultValues("subjectPublicKey"));"parsedKey"in f&&(this.parsedKey=Object(J.e)(f,"parsedKey",c.defaultValues("parsedKey")));"schema"in f&&this.fromSchema(f.schema);"json"in f&&this.fromJSON(f.json)};c.defaultValues=function(f){switch(f){case "algorithm":return new l.a;case "subjectPublicKey":return new u.BitString;default:throw Error("Invalid member name for PublicKeyInfo class: "+
f);}};c.schema=function(f){f=void 0===f?{}:f;f=Object(J.e)(f,"names",{});return new u.Sequence({name:f.blockName||"",value:[l.a.schema(f.algorithm||{}),new u.BitString({name:f.subjectPublicKey||""})]})};c.prototype.fromSchema=function(f){Object(J.c)(f,["algorithm","subjectPublicKey"]);f=u.compareSchema(f,f,c.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PublicKeyInfo");
this.algorithm=new l.a({schema:f.result.algorithm});this.subjectPublicKey=f.result.subjectPublicKey;switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===u.ObjectIdentifier.blockName())try{this.parsedKey=new h.a({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch(r){}break;case "1.2.840.113549.1.1.1":if(f=u.fromBER(this.subjectPublicKey.valueBlock.valueHex),
-1!==f.offset)try{this.parsedKey=new p.a({schema:f.result})}catch(r){}}};c.prototype.toSchema=function(){return new u.Sequence({value:[this.algorithm.toSchema(),this.subjectPublicKey]})};c.prototype.toJSON=function(){if(!1==="parsedKey"in this)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};var f={};switch(this.algorithm.algorithmId){case "1.2.840.10045.2.1":f.kty="EC";break;case "1.2.840.113549.1.1.1":f.kty="RSA"}for(var r=this.parsedKey.toJSON(),z=$jscomp.makeIterator(Object.keys(r)),
M=z.next();!M.done;M=z.next())M=M.value,f[M]=r[M];return f};c.prototype.fromJSON=function(f){if("kty"in f){switch(f.kty.toUpperCase()){case "EC":this.parsedKey=new h.a({json:f});this.algorithm=new l.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case "RSA":this.parsedKey=new p.a({json:f});this.algorithm=new l.a({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new u.Null});break;default:throw Error('Invalid value for "kty" parameter: '+
f.kty);}this.subjectPublicKey=new u.BitString({valueHex:this.parsedKey.toSchema().toBER(!1)})}};c.prototype.importKey=function(f){var r=Promise.resolve(),z=this;if("undefined"===typeof f)return Promise.reject("Need to provide publicKey input parameter");var M=Object(W.d)();if("undefined"===typeof M)return Promise.reject("Unable to create WebCrypto object");r=r.then(function(){return M.exportKey("spki",f)});return r=r.then(function(A){A=u.fromBER(A);try{z.fromSchema(A.result)}catch(F){return Promise.reject("Error during initializing object from schema")}},
function(A){return Promise.reject("Error during exporting public key: "+A)})}},function(R,G,E){E.d(G,"a",function(){return W});var u=E(0);E.n(u);var J=E(1),W=function(l){l=void 0===l?{}:l;this.x=Object(J.e)(l,"x",W.defaultValues("x"));this.y=Object(J.e)(l,"y",W.defaultValues("y"));this.namedCurve=Object(J.e)(l,"namedCurve",W.defaultValues("namedCurve"));"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};W.defaultValues=function(l){switch(l){case "x":case "y":return new ArrayBuffer(0);
case "namedCurve":return"";default:throw Error("Invalid member name for ECCPublicKey class: "+l);}};W.compareWithDefault=function(l,h){switch(l){case "x":case "y":return Object(J.f)(h,W.defaultValues(l));case "namedCurve":return""===h;default:throw Error("Invalid member name for ECCPublicKey class: "+l);}};W.schema=function(l){return new u.RawData};W.prototype.fromSchema=function(l){if(!1===l instanceof ArrayBuffer)throw Error("Object's schema was not verified against input data for ECPublicKey");
if(4!==(new Uint8Array(l))[0])throw Error("Object's schema was not verified against input data for ECPublicKey");switch(this.namedCurve){case "1.2.840.10045.3.1.7":var h=32;break;case "1.3.132.0.34":h=48;break;case "1.3.132.0.35":h=66;break;default:throw Error("Incorrect curve OID: "+this.namedCurve);}if(l.byteLength!==2*h+1)throw Error("Object's schema was not verified against input data for ECPublicKey");this.x=l.slice(1,h+1);this.y=l.slice(1+h,2*h+1)};W.prototype.toSchema=function(){return new u.RawData({data:Object(J.j)((new Uint8Array([4])).buffer,
this.x,this.y)})};W.prototype.toJSON=function(){var l="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":l="P-256";break;case "1.3.132.0.34":l="P-384";break;case "1.3.132.0.35":l="P-521"}return{crv:l,x:Object(J.i)(Object(J.a)(this.x),!0,!0,!1),y:Object(J.i)(Object(J.a)(this.y),!0,!0,!1)}};W.prototype.fromJSON=function(l){var h=0;if("crv"in l)switch(l.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";h=32;break;case "P-384":this.namedCurve="1.3.132.0.34";h=48;break;case "P-521":this.namedCurve=
"1.3.132.0.35",h=66}else throw Error('Absent mandatory parameter "crv"');if("x"in l){var p=Object(J.h)(Object(J.d)(l.x,!0));if(p.byteLength<h){this.x=new ArrayBuffer(h);var c=new Uint8Array(this.x);p=new Uint8Array(p);c.set(p,1)}else this.x=p.slice(0,h)}else throw Error('Absent mandatory parameter "x"');if("y"in l)l=Object(J.h)(Object(J.d)(l.y,!0)),l.byteLength<h?(this.y=new ArrayBuffer(h),h=new Uint8Array(this.y),l=new Uint8Array(l),h.set(l,1)):this.y=l.slice(0,h);else throw Error('Absent mandatory parameter "y"');
}},function(R,G,E){var u=E(5);E(20);E(51);E(52);E(7);(function(){u.random&&u.random.getBytes?R.exports=u.random:function(J){function W(){var A=u.prng.create(l);A.getBytes=function(F,y){return A.generate(F,y)};A.getBytesSync=function(F){return A.generate(F)};return A}var l={},h=Array(4),p=u.util.createBuffer();l.formatKey=function(A){var F=u.util.createBuffer(A);A=Array(4);A[0]=F.getInt32();A[1]=F.getInt32();A[2]=F.getInt32();A[3]=F.getInt32();return u.aes._expandKey(A,!1)};l.formatSeed=function(A){var F=
u.util.createBuffer(A);A=Array(4);A[0]=F.getInt32();A[1]=F.getInt32();A[2]=F.getInt32();A[3]=F.getInt32();return A};l.cipher=function(A,F){u.aes._updateBlock(A,F,h,!1);p.putInt32(h[0]);p.putInt32(h[1]);p.putInt32(h[2]);p.putInt32(h[3]);return p.getBytes()};l.increment=function(A){++A[3];return A};l.md=u.md.sha256;var c=W(),f=null,r=u.util.globalScope,z=r.crypto||r.msCrypto;z&&z.getRandomValues&&(f=function(A){return z.getRandomValues(A)});if(u.options.usePureJavaScript||!u.util.isNodejs&&!f){c.collectInt(+new Date,
32);if("undefined"!==typeof navigator){f="";for(var M in navigator)try{"string"==typeof navigator[M]&&(f+=navigator[M])}catch(A){}c.collect(f);f=null}J&&(J().mousemove(function(A){c.collectInt(A.clientX,16);c.collectInt(A.clientY,16)}),J().keypress(function(A){c.collectInt(A.charCode,8)}))}if(u.random)for(M in c)u.random[M]=c[M];else u.random=c;u.random.createInstance=W;R.exports=u.random}("undefined"!==typeof jQuery?jQuery:null)})()},function(R,G,E){E.d(G,"a",function(){return c});var u=E(0);E.n(u);
var J=E(1),W=E(3),l=E(8),h=E(28),p=E(29),c=function(f){f=void 0===f?{}:f;this.version=Object(J.e)(f,"version",c.defaultValues("version"));this.privateKeyAlgorithm=Object(J.e)(f,"privateKeyAlgorithm",c.defaultValues("privateKeyAlgorithm"));this.privateKey=Object(J.e)(f,"privateKey",c.defaultValues("privateKey"));"attributes"in f&&(this.attributes=Object(J.e)(f,"attributes",c.defaultValues("attributes")));"parsedKey"in f&&(this.parsedKey=Object(J.e)(f,"parsedKey",c.defaultValues("parsedKey")));"schema"in
f&&this.fromSchema(f.schema);"json"in f&&this.fromJSON(f.json)};c.defaultValues=function(f){switch(f){case "version":return 0;case "privateKeyAlgorithm":return new W.a;case "privateKey":return new u.OctetString;case "attributes":return[];case "parsedKey":return{};default:throw Error("Invalid member name for PrivateKeyInfo class: "+f);}};c.schema=function(f){f=void 0===f?{}:f;f=Object(J.e)(f,"names",{});return new u.Sequence({name:f.blockName||"",value:[new u.Integer({name:f.version||""}),W.a.schema(f.privateKeyAlgorithm||
{}),new u.OctetString({name:f.privateKey||""}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.Repeated({name:f.attributes||"",value:l.a.schema()})]})]})};c.prototype.fromSchema=function(f){Object(J.c)(f,["version","privateKeyAlgorithm","privateKey","attributes"]);f=u.compareSchema(f,f,c.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===f.verified)throw Error("Object's schema was not verified against input data for PrivateKeyInfo");
this.version=f.result.version.valueBlock.valueDec;this.privateKeyAlgorithm=new W.a({schema:f.result.privateKeyAlgorithm});this.privateKey=f.result.privateKey;"attributes"in f.result&&(this.attributes=Array.from(f.result.attributes,function(r){return new l.a({schema:r})}));switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.113549.1.1.1":f=u.fromBER(this.privateKey.valueBlock.valueHex);-1!==f.offset&&(this.parsedKey=new p.a({schema:f.result}));break;case "1.2.840.10045.2.1":"algorithmParams"in
this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof u.ObjectIdentifier&&(f=u.fromBER(this.privateKey.valueBlock.valueHex),-1!==f.offset&&(this.parsedKey=new h.a({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:f.result})))}};c.prototype.toSchema=function(){var f=[new u.Integer({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];"attributes"in this&&f.push(new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},
value:Array.from(this.attributes,function(r){return r.toSchema()})}));return new u.Sequence({value:f})};c.prototype.toJSON=function(){if(!1==="parsedKey"in this){var f={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};"attributes"in this&&(f.attributes=Array.from(this.attributes,function(A){return A.toJSON()}));return f}f={};switch(this.privateKeyAlgorithm.algorithmId){case "1.2.840.10045.2.1":f.kty="EC";break;case "1.2.840.113549.1.1.1":f.kty=
"RSA"}for(var r=this.parsedKey.toJSON(),z=$jscomp.makeIterator(Object.keys(r)),M=z.next();!M.done;M=z.next())M=M.value,f[M]=r[M];return f};c.prototype.fromJSON=function(f){if("kty"in f){switch(f.kty.toUpperCase()){case "EC":this.parsedKey=new h.a({json:f});this.privateKeyAlgorithm=new W.a({algorithmId:"1.2.840.10045.2.1",algorithmParams:new u.ObjectIdentifier({value:this.parsedKey.namedCurve})});break;case "RSA":this.parsedKey=new p.a({json:f});this.privateKeyAlgorithm=new W.a({algorithmId:"1.2.840.113549.1.1.1",
algorithmParams:new u.Null});break;default:throw Error('Invalid value for "kty" parameter: '+f.kty);}this.privateKey=new u.OctetString({valueHex:this.parsedKey.toSchema().toBER(!1)})}}},function(R,G,E){function u(p,c,f){if(f>c){var r=Error("Too few bytes to parse DER.");r.available=p.length();r.remaining=c;r.requested=f;throw r;}}function J(p,c,f,r){u(p,c,2);var z=p.getByte();c--;var M=z&192,A=z&31;var F=p.length();var y=c;var B=p.getByte();y--;if(128===B)y=void 0;else if(B&128?(B&=127,u(p,y,B),y=
p.getInt(B<<3)):y=B,0>y)throw Error("Negative length: "+y);c-=F-p.length();if(void 0!==y&&y>c){if(r.strict)throw f=Error("Too few bytes to read ASN.1 value."),f.available=p.length(),f.remaining=c,f.requested=y,f;y=c}var t;if(z=32===(z&32)){var S=[];if(void 0===y)for(;;){u(p,c,2);if(p.bytes(2)===String.fromCharCode(0,0)){p.getBytes(2);c-=2;break}F=p.length();S.push(J(p,c,f+1,r));c-=F-p.length()}else for(;0<y;)F=p.length(),S.push(J(p,y,f+1,r)),c-=F-p.length(),y-=F-p.length()}void 0===S&&M===l.Class.UNIVERSAL&&
A===l.Type.BITSTRING&&(t=p.bytes(y));if(void 0===S&&r.decodeBitStrings&&M===l.Class.UNIVERSAL&&A===l.Type.BITSTRING&&1<y){B=p.read;var k=c,e=0;A===l.Type.BITSTRING&&(u(p,c,1),e=p.getByte(),c--);if(0===e)try{F=p.length();var q=J(p,c,f+1,{verbose:r.verbose,strict:!0,decodeBitStrings:!0}),H=F-p.length();c-=H;A==l.Type.BITSTRING&&H++;var g=q.tagClass;H!==y||g!==l.Class.UNIVERSAL&&g!==l.Class.CONTEXT_SPECIFIC||(S=[q])}catch(x){}void 0===S&&(p.read=B,c=k)}if(void 0===S){if(void 0===y){if(r.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");
y=c}if(A===l.Type.BMPSTRING)for(S="";0<y;y-=2)u(p,c,2),S+=String.fromCharCode(p.getInt16()),c-=2;else S=p.getBytes(y)}return l.create(M,A,z,S,void 0===t?null:{bitStringContents:t})}var W=E(5);E(7);E(21);var l=R.exports=W.asn1=W.asn1||{};l.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};l.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,
GENERALIZEDTIME:24,BMPSTRING:30};l.create=function(p,c,f,r,z){if(W.util.isArray(r)){for(var M=[],A=0;A<r.length;++A)void 0!==r[A]&&M.push(r[A]);r=M}p={tagClass:p,type:c,constructed:f,composed:f||W.util.isArray(r),value:r};z&&"bitStringContents"in z&&(p.bitStringContents=z.bitStringContents,p.original=l.copy(p));return p};l.copy=function(p,c){if(W.util.isArray(p)){var f=[];for(var r=0;r<p.length;++r)f.push(l.copy(p[r],c));return f}if("string"===typeof p)return p;f={tagClass:p.tagClass,type:p.type,
constructed:p.constructed,composed:p.composed,value:l.copy(p.value,c)};c&&!c.excludeBitStringContents&&(f.bitStringContents=p.bitStringContents);return f};l.equals=function(p,c,f){if(W.util.isArray(p)){if(!W.util.isArray(c)||p.length!==c.length)return!1;for(f=0;f<p.length;++f)if(!l.equals(p[f],c[f]))return!1;return!0}if(typeof p!==typeof c)return!1;if("string"===typeof p)return p===c;var r=p.tagClass===c.tagClass&&p.type===c.type&&p.constructed===c.constructed&&p.composed===c.composed&&l.equals(p.value,
c.value);f&&f.includeBitStringContents&&(r=r&&p.bitStringContents===c.bitStringContents);return r};l.getBerValueLength=function(p){var c=p.getByte();if(128!==c)return c&128?p.getInt((c&127)<<3):c};l.fromDer=function(p,c){void 0===c&&(c={strict:!0,decodeBitStrings:!0});"boolean"===typeof c&&(c={strict:c,decodeBitStrings:!0});"strict"in c||(c.strict=!0);"decodeBitStrings"in c||(c.decodeBitStrings=!0);"string"===typeof p&&(p=W.util.createBuffer(p));return J(p,p.length(),0,c)};l.toDer=function(p){var c=
W.util.createBuffer(),f=p.tagClass|p.type,r=W.util.createBuffer(),z=!1;"bitStringContents"in p&&(z=!0,p.original&&(z=l.equals(p,p.original)));if(z)r.putBytes(p.bitStringContents);else if(p.composed)for(p.constructed?f|=32:r.putByte(0),z=0;z<p.value.length;++z)void 0!==p.value[z]&&r.putBuffer(l.toDer(p.value[z]));else if(p.type===l.Type.BMPSTRING)for(z=0;z<p.value.length;++z)r.putInt16(p.value.charCodeAt(z));else p.type===l.Type.INTEGER&&1<p.value.length&&(0===p.value.charCodeAt(0)&&0===(p.value.charCodeAt(1)&
128)||255===p.value.charCodeAt(0)&&128===(p.value.charCodeAt(1)&128))?r.putBytes(p.value.substr(1)):r.putBytes(p.value);c.putByte(f);if(127>=r.length())c.putByte(r.length()&127);else{f=r.length();p="";do p+=String.fromCharCode(f&255),f>>>=8;while(0<f);c.putByte(p.length|128);for(z=p.length-1;0<=z;--z)c.putByte(p.charCodeAt(z))}c.putBuffer(r);return c};l.oidToDer=function(p){p=p.split(".");var c=W.util.createBuffer();c.putByte(40*parseInt(p[0],10)+parseInt(p[1],10));for(var f,r,z,M,A=2;A<p.length;++A){f=
!0;r=[];z=parseInt(p[A],10);do M=z&127,z>>>=7,f||(M|=128),r.push(M),f=!1;while(0<z);for(f=r.length-1;0<=f;--f)c.putByte(r[f])}return c};l.derToOid=function(p){"string"===typeof p&&(p=W.util.createBuffer(p));var c=p.getByte();var f=Math.floor(c/40)+"."+c%40;for(var r=0;0<p.length();)c=p.getByte(),r<<=7,c&128?r+=c&127:(f+="."+(r+c),r=0);return f};l.utcTimeToDate=function(p){var c=new Date,f=parseInt(p.substr(0,2),10);f=50<=f?1900+f:2E3+f;var r=parseInt(p.substr(2,2),10)-1,z=parseInt(p.substr(4,2),10),
M=parseInt(p.substr(6,2),10),A=parseInt(p.substr(8,2),10),F=0;if(11<p.length){var y=p.charAt(10),B=10;"+"!==y&&"-"!==y&&(F=parseInt(p.substr(10,2),10),B+=2)}c.setUTCFullYear(f,r,z);c.setUTCHours(M,A,F,0);B&&(y=p.charAt(B),"+"===y||"-"===y)&&(f=parseInt(p.substr(B+1,2),10),p=parseInt(p.substr(B+4,2),10),p=6E4*(60*f+p),"+"===y?c.setTime(+c-p):c.setTime(+c+p));return c};l.generalizedTimeToDate=function(p){var c=new Date,f=parseInt(p.substr(0,4),10),r=parseInt(p.substr(4,2),10)-1,z=parseInt(p.substr(6,
2),10),M=parseInt(p.substr(8,2),10),A=parseInt(p.substr(10,2),10),F=parseInt(p.substr(12,2),10),y=0,B=0,t=!1;"Z"===p.charAt(p.length-1)&&(t=!0);var S=p.length-5,k=p.charAt(S);if("+"===k||"-"===k)B=parseInt(p.substr(S+1,2),10),S=parseInt(p.substr(S+4,2),10),B=6E4*(60*B+S),"+"===k&&(B*=-1),t=!0;"."===p.charAt(14)&&(y=1E3*parseFloat(p.substr(14),10));t?(c.setUTCFullYear(f,r,z),c.setUTCHours(M,A,F,y),c.setTime(+c+B)):(c.setFullYear(f,r,z),c.setHours(M,A,F,y));return c};l.dateToUtcTime=function(p){if("string"===
typeof p)return p;var c="",f=[];f.push((""+p.getUTCFullYear()).substr(2));f.push(""+(p.getUTCMonth()+1));f.push(""+p.getUTCDate());f.push(""+p.getUTCHours());f.push(""+p.getUTCMinutes());f.push(""+p.getUTCSeconds());for(p=0;p<f.length;++p)2>f[p].length&&(c+="0"),c+=f[p];return c+"Z"};l.dateToGeneralizedTime=function(p){if("string"===typeof p)return p;var c="",f=[];f.push(""+p.getUTCFullYear());f.push(""+(p.getUTCMonth()+1));f.push(""+p.getUTCDate());f.push(""+p.getUTCHours());f.push(""+p.getUTCMinutes());
f.push(""+p.getUTCSeconds());for(p=0;p<f.length;++p)2>f[p].length&&(c+="0"),c+=f[p];return c+"Z"};l.integerToDer=function(p){var c=W.util.createBuffer();if(-128<=p&&128>p)return c.putSignedInt(p,8);if(-32768<=p&&32768>p)return c.putSignedInt(p,16);if(-8388608<=p&&8388608>p)return c.putSignedInt(p,24);if(-2147483648<=p&&2147483648>p)return c.putSignedInt(p,32);c=Error("Integer too large; max is 32-bits.");c.integer=p;throw c;};l.derToInteger=function(p){"string"===typeof p&&(p=W.util.createBuffer(p));
var c=8*p.length();if(32<c)throw Error("Integer too large; max is 32-bits.");return p.getSignedInt(c)};l.validate=function(p,c,f,r){var z=!1;if(p.tagClass!==c.tagClass&&"undefined"!==typeof c.tagClass||p.type!==c.type&&"undefined"!==typeof c.type)r&&(p.tagClass!==c.tagClass&&r.push("["+c.name+'] Expected tag class "'+c.tagClass+'", got "'+p.tagClass+'"'),p.type!==c.type&&r.push("["+c.name+'] Expected type "'+c.type+'", got "'+p.type+'"'));else if(p.constructed===c.constructed||"undefined"===typeof c.constructed){z=
!0;if(c.value&&W.util.isArray(c.value))for(var M=0,A=0;z&&A<c.value.length;++A)z=c.value[A].optional||!1,p.value[M]&&((z=l.validate(p.value[M],c.value[A],f,r))?++M:c.value[A].optional&&(z=!0)),!z&&r&&r.push("["+c.name+'] Tag class "'+c.tagClass+'", type "'+c.type+'" expected value length "'+c.value.length+'", got "'+p.value.length+'"');if(z&&f&&(c.capture&&(f[c.capture]=p.value),c.captureAsn1&&(f[c.captureAsn1]=p),c.captureBitStringContents&&"bitStringContents"in p&&(f[c.captureBitStringContents]=
p.bitStringContents),c.captureBitStringValue&&"bitStringContents"in p))if(2>p.bitStringContents.length)f[c.captureBitStringValue]="";else{if(0!==p.bitStringContents.charCodeAt(0))throw Error("captureBitStringValue only supported for zero unused bits");f[c.captureBitStringValue]=p.bitStringContents.slice(1)}}else r&&r.push("["+c.name+'] Expected constructed "'+c.constructed+'", got "'+p.constructed+'"');return z};var h=/[^\\u0000-\\u00ff]/;l.prettyPrint=function(p,c,f){var r="";c=c||0;f=f||2;0<c&&
(r+="\n");for(var z="",M=0;M<c*f;++M)z+=" ";r+=z+"Tag: ";switch(p.tagClass){case l.Class.UNIVERSAL:r+="Universal:";break;case l.Class.APPLICATION:r+="Application:";break;case l.Class.CONTEXT_SPECIFIC:r+="Context-Specific:";break;case l.Class.PRIVATE:r+="Private:"}if(p.tagClass===l.Class.UNIVERSAL)switch(r+=p.type,p.type){case l.Type.NONE:r+=" (None)";break;case l.Type.BOOLEAN:r+=" (Boolean)";break;case l.Type.INTEGER:r+=" (Integer)";break;case l.Type.BITSTRING:r+=" (Bit string)";break;case l.Type.OCTETSTRING:r+=
" (Octet string)";break;case l.Type.NULL:r+=" (Null)";break;case l.Type.OID:r+=" (Object Identifier)";break;case l.Type.ODESC:r+=" (Object Descriptor)";break;case l.Type.EXTERNAL:r+=" (External or Instance of)";break;case l.Type.REAL:r+=" (Real)";break;case l.Type.ENUMERATED:r+=" (Enumerated)";break;case l.Type.EMBEDDED:r+=" (Embedded PDV)";break;case l.Type.UTF8:r+=" (UTF8)";break;case l.Type.ROID:r+=" (Relative Object Identifier)";break;case l.Type.SEQUENCE:r+=" (Sequence)";break;case l.Type.SET:r+=
" (Set)";break;case l.Type.PRINTABLESTRING:r+=" (Printable String)";break;case l.Type.IA5String:r+=" (IA5String (ASCII))";break;case l.Type.UTCTIME:r+=" (UTC time)";break;case l.Type.GENERALIZEDTIME:r+=" (Generalized time)";break;case l.Type.BMPSTRING:r+=" (BMP String)"}else r+=p.type;r=r+"\n"+(z+"Constructed: "+p.constructed+"\n");if(p.composed){var A=0,F="";for(M=0;M<p.value.length;++M)void 0!==p.value[M]&&(A+=1,F+=l.prettyPrint(p.value[M],c+1,f),M+1<p.value.length&&(F+=","));r+=z+"Sub values: "+
A+F}else if(r+=z+"Value: ",p.type===l.Type.OID&&(c=l.derToOid(p.value),r+=c,W.pki&&W.pki.oids&&c in W.pki.oids&&(r+=" ("+W.pki.oids[c]+") ")),p.type===l.Type.INTEGER)try{r+=l.derToInteger(p.value)}catch(y){r+="0x"+W.util.bytesToHex(p.value)}else p.type===l.Type.BITSTRING?(r=1<p.value.length?r+("0x"+W.util.bytesToHex(p.value.slice(1))):r+"(none)",0<p.value.length&&(p=p.value.charCodeAt(0),1==p?r+=" (1 unused bit shown)":1<p&&(r+=" ("+p+" unused bits shown)"))):p.type===l.Type.OCTETSTRING?(h.test(p.value)||
(r+="("+p.value+") "),r+="0x"+W.util.bytesToHex(p.value)):r=p.type===l.Type.UTF8?r+W.util.decodeUtf8(p.value):p.type===l.Type.PRINTABLESTRING||p.type===l.Type.IA5String?r+p.value:h.test(p.value)?r+("0x"+W.util.bytesToHex(p.value)):0===p.value.length?r+"[null]":r+p.value;return r}},function(R,G,E){R.exports=E(5);E(20);E(74);E(15);E(36);E(59);E(32);E(76);E(25);E(78);E(61);E(79);E(58);E(38);E(22);E(54);E(56);E(80);E(49);E(55);E(52);E(41);E(13);E(53);E(81);E(82);E(48);E(7)},function(R,G,E){G=E(5);R.exports=
G.md=G.md||{};G.md.algorithms=G.md.algorithms||{}},function(R,G,E){E.d(G,"a",function(){return l});var u=E(0);E.n(u);var J=E(1),W=E(3),l=function(h){h=void 0===h?{}:h;this.salt=Object(J.e)(h,"salt",l.defaultValues("salt"));this.iterationCount=Object(J.e)(h,"iterationCount",l.defaultValues("iterationCount"));"keyLength"in h&&(this.keyLength=Object(J.e)(h,"keyLength",l.defaultValues("keyLength")));"prf"in h&&(this.prf=Object(J.e)(h,"prf",l.defaultValues("prf")));"schema"in h&&this.fromSchema(h.schema)};
l.defaultValues=function(h){switch(h){case "salt":return{};case "iterationCount":return-1;case "keyLength":return 0;case "prf":return new W.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.Null});default:throw Error("Invalid member name for PBKDF2Params class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Choice({value:[new u.OctetString({name:h.saltPrimitive||""}),W.a.schema(h.saltConstructed||{})]}),new u.Integer({name:h.iterationCount||
""}),new u.Integer({name:h.keyLength||"",optional:!0}),W.a.schema(h.prf||{names:{optional:!0}})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,["salt","iterationCount","keyLength","prf"]);h=u.compareSchema(h,h,l.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=
h.result.salt;this.iterationCount=h.result.iterationCount.valueBlock.valueDec;"keyLength"in h.result&&(this.keyLength=h.result.keyLength.valueBlock.valueDec);"prf"in h.result&&(this.prf=new W.a({schema:h.result.prf}))};l.prototype.toSchema=function(){var h=[];h.push(this.salt);h.push(new u.Integer({value:this.iterationCount}));"keyLength"in this&&l.defaultValues("keyLength")!==this.keyLength&&h.push(new u.Integer({value:this.keyLength}));"prf"in this&&!1===l.defaultValues("prf").isEqual(this.prf)&&
h.push(this.prf.toSchema());return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={salt:this.salt.toJSON(),iterationCount:this.iterationCount};"keyLength"in this&&l.defaultValues("keyLength")!==this.keyLength&&(h.keyLength=this.keyLength);"prf"in this&&!1===l.defaultValues("prf").isEqual(this.prf)&&(h.prf=this.prf.toJSON());return h}},function(R,G){G=function(){return this}();try{G=G||(new Function("return this"))()}catch(E){"object"===typeof window&&(G=window)}R.exports=G},function(R,
G,E){function u(y,B){p.cipher.registerAlgorithm(y,function(){return new p.aes.Algorithm(y,B)})}function J(){c=!0;M=[0,1,2,4,8,16,32,64,128,27,54];for(var y=Array(256),B=0;128>B;++B)y[B]=B<<1,y[B+128]=B+128<<1^283;r=Array(256);z=Array(256);A=Array(4);F=Array(4);for(B=0;4>B;++B)A[B]=Array(256),F[B]=Array(256);var t=0,S=0;for(B=0;256>B;++B){var k=S^S<<1^S<<2^S<<3^S<<4;k=k>>8^k&255^99;r[t]=k;z[k]=t;var e=y[k];var q=y[t];var H=y[q];var g=y[H];e^=e<<24^k<<16^k<<8^k;H=(q^H^g)<<24^(t^g)<<16^(t^H^g)<<8^t^
q^g;for(var x=0;4>x;++x)A[x][t]=e,F[x][k]=H,e=e<<24|e>>>8,H=H<<24|H>>>8;0===t?t=S=1:(t=q^y[y[y[q^g]]],S^=y[y[S]])}}function W(y,B){y=y.slice(0);for(var t,S=1,k=y.length,e=f*(k+6+1),q=k;q<e;++q)t=y[q-1],0===q%k?(t=r[t>>>16&255]<<24^r[t>>>8&255]<<16^r[t&255]<<8^r[t>>>24]^M[S]<<24,S++):6<k&&4===q%k&&(t=r[t>>>24]<<24^r[t>>>16&255]<<16^r[t>>>8&255]<<8^r[t&255]),y[q]=y[q-k]^t;if(B){t=F[0];S=F[1];k=F[2];var H=F[3],g=y.slice(0);e=y.length;q=0;for(var x=e-f;q<e;q+=f,x-=f)if(0===q||q===e-f)g[q]=y[x],g[q+1]=
y[x+3],g[q+2]=y[x+2],g[q+3]=y[x+1];else for(var I=0;I<f;++I)B=y[x+I],g[q+(3&-I)]=t[r[B>>>24]]^S[r[B>>>16&255]]^k[r[B>>>8&255]]^H[r[B&255]];y=g}return y}function l(y,B,t,S){var k=y.length/4-1;if(S){var e=F[0];var q=F[1];var H=F[2];var g=F[3];var x=z}else e=A[0],q=A[1],H=A[2],g=A[3],x=r;var I=B[0]^y[0];var Q=B[S?3:1]^y[1];var Z=B[2]^y[2];B=B[S?1:3]^y[3];for(var Y=3,ba=1;ba<k;++ba){var ha=e[I>>>24]^q[Q>>>16&255]^H[Z>>>8&255]^g[B&255]^y[++Y];var ia=e[Q>>>24]^q[Z>>>16&255]^H[B>>>8&255]^g[I&255]^y[++Y];
var na=e[Z>>>24]^q[B>>>16&255]^H[I>>>8&255]^g[Q&255]^y[++Y];B=e[B>>>24]^q[I>>>16&255]^H[Q>>>8&255]^g[Z&255]^y[++Y];I=ha;Q=ia;Z=na}t[0]=x[I>>>24]<<24^x[Q>>>16&255]<<16^x[Z>>>8&255]<<8^x[B&255]^y[++Y];t[S?3:1]=x[Q>>>24]<<24^x[Z>>>16&255]<<16^x[B>>>8&255]<<8^x[I&255]^y[++Y];t[2]=x[Z>>>24]<<24^x[B>>>16&255]<<16^x[I>>>8&255]<<8^x[Q&255]^y[++Y];t[S?1:3]=x[B>>>24]<<24^x[I>>>16&255]<<16^x[Q>>>8&255]<<8^x[Z&255]^y[++Y]}function h(y){y=y||{};var B="AES-"+(y.mode||"CBC").toUpperCase();var t=y.decrypt?p.cipher.createDecipher(B,
y.key):p.cipher.createCipher(B,y.key);var S=t.start;t.start=function(k,e){var q=null;e instanceof p.util.ByteBuffer&&(q=e,e={});e=e||{};e.output=q;e.iv=k;S.call(t,e)};return t}var p=E(5);E(36);E(47);E(7);R.exports=p.aes=p.aes||{};p.aes.startEncrypting=function(y,B,t,S){y=h({key:y,output:t,decrypt:!1,mode:S});y.start(B);return y};p.aes.createEncryptionCipher=function(y,B){return h({key:y,output:null,decrypt:!1,mode:B})};p.aes.startDecrypting=function(y,B,t,S){y=h({key:y,output:t,decrypt:!0,mode:S});
y.start(B);return y};p.aes.createDecryptionCipher=function(y,B){return h({key:y,output:null,decrypt:!0,mode:B})};p.aes.Algorithm=function(y,B){c||J();var t=this;t.name=y;t.mode=new B({blockSize:16,cipher:{encrypt:function(S,k){return l(t._w,S,k,!1)},decrypt:function(S,k){return l(t._w,S,k,!0)}}});t._init=!1};p.aes.Algorithm.prototype.initialize=function(y){if(!this._init){var B=y.key;if("string"===typeof B&&(16===B.length||24===B.length||32===B.length))B=p.util.createBuffer(B);else if(p.util.isArray(B)&&
(16===B.length||24===B.length||32===B.length)){var t=B;B=p.util.createBuffer();for(var S=0;S<t.length;++S)B.putByte(t[S])}if(!p.util.isArray(B)){t=B;B=[];var k=t.length();if(16===k||24===k||32===k)for(k>>>=2,S=0;S<k;++S)B.push(t.getInt32())}if(!p.util.isArray(B)||4!==B.length&&6!==B.length&&8!==B.length)throw Error("Invalid key parameter.");t=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=W(B,y.decrypt&&!t);this._init=!0}};p.aes._expandKey=function(y,B){c||J();return W(y,B)};p.aes._updateBlock=
l;u("AES-ECB",p.cipher.modes.ecb);u("AES-CBC",p.cipher.modes.cbc);u("AES-CFB",p.cipher.modes.cfb);u("AES-OFB",p.cipher.modes.ofb);u("AES-CTR",p.cipher.modes.ctr);u("AES-GCM",p.cipher.modes.gcm);var c=!1,f=4,r,z,M,A,F},function(R,G,E){function u(W,l){J[W]=l;J[l]=W}G=E(5);G.pki=G.pki||{};var J=R.exports=G.pki.oids=G.oids=G.oids||{};u("1.2.840.113549.1.1.1","rsaEncryption");u("1.2.840.113549.1.1.4","md5WithRSAEncryption");u("1.2.840.113549.1.1.5","sha1WithRSAEncryption");u("1.2.840.113549.1.1.7","RSAES-OAEP");
u("1.2.840.113549.1.1.8","mgf1");u("1.2.840.113549.1.1.9","pSpecified");u("1.2.840.113549.1.1.10","RSASSA-PSS");u("1.2.840.113549.1.1.11","sha256WithRSAEncryption");u("1.2.840.113549.1.1.12","sha384WithRSAEncryption");u("1.2.840.113549.1.1.13","sha512WithRSAEncryption");u("1.3.101.112","EdDSA25519");u("1.2.840.10040.4.3","dsa-with-sha1");u("1.3.14.3.2.7","desCBC");u("1.3.14.3.2.26","sha1");u("2.16.840.1.101.3.4.2.1","sha256");u("2.16.840.1.101.3.4.2.2","sha384");u("2.16.840.1.101.3.4.2.3","sha512");
u("1.2.840.113549.2.5","md5");u("1.2.840.113549.1.7.1","data");u("1.2.840.113549.1.7.2","signedData");u("1.2.840.113549.1.7.3","envelopedData");u("1.2.840.113549.1.7.4","signedAndEnvelopedData");u("1.2.840.113549.1.7.5","digestedData");u("1.2.840.113549.1.7.6","encryptedData");u("1.2.840.113549.1.9.1","emailAddress");u("1.2.840.113549.1.9.2","unstructuredName");u("1.2.840.113549.1.9.3","contentType");u("1.2.840.113549.1.9.4","messageDigest");u("1.2.840.113549.1.9.5","signingTime");u("1.2.840.113549.1.9.6",
"counterSignature");u("1.2.840.113549.1.9.7","challengePassword");u("1.2.840.113549.1.9.8","unstructuredAddress");u("1.2.840.113549.1.9.14","extensionRequest");u("1.2.840.113549.1.9.20","friendlyName");u("1.2.840.113549.1.9.21","localKeyId");u("1.2.840.113549.1.9.22.1","x509Certificate");u("1.2.840.113549.1.12.10.1.1","keyBag");u("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");u("1.2.840.113549.1.12.10.1.3","certBag");u("1.2.840.113549.1.12.10.1.4","crlBag");u("1.2.840.113549.1.12.10.1.5","secretBag");
u("1.2.840.113549.1.12.10.1.6","safeContentsBag");u("1.2.840.113549.1.5.13","pkcs5PBES2");u("1.2.840.113549.1.5.12","pkcs5PBKDF2");u("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");u("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");u("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");u("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");u("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");u("1.2.840.113549.2.7",
"hmacWithSHA1");u("1.2.840.113549.2.8","hmacWithSHA224");u("1.2.840.113549.2.9","hmacWithSHA256");u("1.2.840.113549.2.10","hmacWithSHA384");u("1.2.840.113549.2.11","hmacWithSHA512");u("1.2.840.113549.3.7","des-EDE3-CBC");u("2.16.840.1.101.3.4.1.2","aes128-CBC");u("2.16.840.1.101.3.4.1.22","aes192-CBC");u("2.16.840.1.101.3.4.1.42","aes256-CBC");u("2.5.4.3","commonName");u("2.5.4.5","serialName");u("2.5.4.6","countryName");u("2.5.4.7","localityName");u("2.5.4.8","stateOrProvinceName");u("2.5.4.9","streetAddress");
u("2.5.4.10","organizationName");u("2.5.4.11","organizationalUnitName");u("2.5.4.13","description");u("2.5.4.15","businessCategory");u("2.5.4.17","postalCode");u("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");u("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");u("2.16.840.1.113730.1.1","nsCertType");u("2.16.840.1.113730.1.13","nsComment");J["2.5.29.1"]="authorityKeyIdentifier";J["2.5.29.2"]="keyAttributes";J["2.5.29.3"]="certificatePolicies";J["2.5.29.4"]=
"keyUsageRestriction";J["2.5.29.5"]="policyMapping";J["2.5.29.6"]="subtreesConstraint";J["2.5.29.7"]="subjectAltName";J["2.5.29.8"]="issuerAltName";J["2.5.29.9"]="subjectDirectoryAttributes";J["2.5.29.10"]="basicConstraints";J["2.5.29.11"]="nameConstraints";J["2.5.29.12"]="policyConstraints";J["2.5.29.13"]="basicConstraints";u("2.5.29.14","subjectKeyIdentifier");u("2.5.29.15","keyUsage");J["2.5.29.16"]="privateKeyUsagePeriod";u("2.5.29.17","subjectAltName");u("2.5.29.18","issuerAltName");u("2.5.29.19",
"basicConstraints");J["2.5.29.20"]="cRLNumber";J["2.5.29.21"]="cRLReason";J["2.5.29.22"]="expirationDate";J["2.5.29.23"]="instructionCode";J["2.5.29.24"]="invalidityDate";J["2.5.29.25"]="cRLDistributionPoints";J["2.5.29.26"]="issuingDistributionPoint";J["2.5.29.27"]="deltaCRLIndicator";J["2.5.29.28"]="issuingDistributionPoint";J["2.5.29.29"]="certificateIssuer";J["2.5.29.30"]="nameConstraints";u("2.5.29.31","cRLDistributionPoints");u("2.5.29.32","certificatePolicies");J["2.5.29.33"]="policyMappings";
J["2.5.29.34"]="policyConstraints";u("2.5.29.35","authorityKeyIdentifier");J["2.5.29.36"]="policyConstraints";u("2.5.29.37","extKeyUsage");J["2.5.29.46"]="freshestCRL";J["2.5.29.54"]="inhibitAnyPolicy";u("1.3.6.1.4.1.11129.2.4.2","timestampList");u("1.3.6.1.5.5.7.1.1","authorityInfoAccess");u("1.3.6.1.5.5.7.3.1","serverAuth");u("1.3.6.1.5.5.7.3.2","clientAuth");u("1.3.6.1.5.5.7.3.3","codeSigning");u("1.3.6.1.5.5.7.3.4","emailProtection");u("1.3.6.1.5.5.7.3.8","timeStamping")},function(R,G,E){function u(W){for(var l=
W.name+": ",h=[],p=function(f,r){return" "+r},c=0;c<W.values.length;++c)h.push(W.values[c].replace(/^(\S+\r\n)/,p));l+=h.join(",")+"\r\n";h=0;W=-1;for(c=0;c<l.length;++c,++h)if(65<h&&-1!==W)h=l[W],","===h?(++W,l=l.substr(0,W)+"\r\n "+l.substr(W)):l=l.substr(0,W)+"\r\n"+h+l.substr(W+1),h=c-W-1,W=-1,++c;else if(" "===l[c]||"\t"===l[c]||","===l[c])W=c;return l}var J=E(5);E(7);R=R.exports=J.pem=J.pem||{};R.encode=function(W,l){l=l||{};var h="-----BEGIN "+W.type+"-----\r\n";if(W.procType){var p={name:"Proc-Type",
values:[String(W.procType.version),W.procType.type]};h+=u(p)}W.contentDomain&&(p={name:"Content-Domain",values:[W.contentDomain]},h+=u(p));W.dekInfo&&(p={name:"DEK-Info",values:[W.dekInfo.algorithm]},W.dekInfo.parameters&&p.values.push(W.dekInfo.parameters),h+=u(p));if(W.headers)for(p=0;p<W.headers.length;++p)h+=u(W.headers[p]);W.procType&&(h+="\r\n");h+=J.util.encode64(W.body,l.maxline||64)+"\r\n";return h+="-----END "+W.type+"-----\r\n"};R.decode=function(W){for(var l=[],h=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,
p=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,c=/\r?\n/,f;;){f=h.exec(W);if(!f)break;var r={type:f[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:J.util.decode64(f[3])};l.push(r);if(f[2]){for(var z=f[2].split(c),M=0;f&&M<z.length;){f=z[M].replace(/\s+$/,"");for(var A=M+1;A<z.length;++A){var F=z[A];if(!/\s/.test(F[0]))break;f+=F;M=A}if(f=f.match(p)){A={name:f[1],values:[]};F=f[2].split(",");for(var y=0;y<F.length;++y)A.values.push(F[y].replace(/^\s+/,""));if(r.procType)if(r.contentDomain||
"Content-Domain"!==A.name)if(r.dekInfo||"DEK-Info"!==A.name)r.headers.push(A);else{if(0===A.values.length)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');r.dekInfo={algorithm:F[0],parameters:F[1]||null}}else r.contentDomain=F[0]||"";else{if("Proc-Type"!==A.name)throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==A.values.length)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');
r.procType={version:F[0],type:F[1]}}}++M}if("ENCRYPTED"===r.procType&&!r.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".');}}if(0===l.length)throw Error("Invalid PEM formatted message.");return l}},function(R,G,E){E.d(G,"a",function(){return W});var u=E(0);E.n(u);var J=E(1),W=function(l){l=void 0===l?{}:l;this.prime=Object(J.e)(l,"prime",W.defaultValues("prime"));this.exponent=Object(J.e)(l,"exponent",W.defaultValues("exponent"));
this.coefficient=Object(J.e)(l,"coefficient",W.defaultValues("coefficient"));"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};W.defaultValues=function(l){switch(l){case "prime":return new u.Integer;case "exponent":return new u.Integer;case "coefficient":return new u.Integer;default:throw Error("Invalid member name for OtherPrimeInfo class: "+l);}};W.schema=function(l){l=void 0===l?{}:l;l=Object(J.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.Integer({name:l.prime||
""}),new u.Integer({name:l.exponent||""}),new u.Integer({name:l.coefficient||""})]})};W.prototype.fromSchema=function(l){Object(J.c)(l,["prime","exponent","coefficient"]);l=u.compareSchema(l,l,W.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=l.result.prime.convertFromDER();this.exponent=l.result.exponent.convertFromDER();this.coefficient=l.result.coefficient.convertFromDER()};
W.prototype.toSchema=function(){return new u.Sequence({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})};W.prototype.toJSON=function(){return{r:Object(J.i)(Object(J.a)(this.prime.valueBlock.valueHex),!0,!0),d:Object(J.i)(Object(J.a)(this.exponent.valueBlock.valueHex),!0,!0),t:Object(J.i)(Object(J.a)(this.coefficient.valueBlock.valueHex),!0,!0)}};W.prototype.fromJSON=function(l){if("r"in l)this.prime=new u.Integer({valueHex:Object(J.h)(Object(J.d)(l.r,
!0))});else throw Error('Absent mandatory parameter "r"');if("d"in l)this.exponent=new u.Integer({valueHex:Object(J.h)(Object(J.d)(l.d,!0))});else throw Error('Absent mandatory parameter "d"');if("t"in l)this.coefficient=new u.Integer({valueHex:Object(J.h)(Object(J.d)(l.t,!0))});else throw Error('Absent mandatory parameter "t"');}},function(R,G,E){E.d(G,"a",function(){return l});var u=E(0);E.n(u);var J=E(1),W=E(3),l=function(h){h=void 0===h?{}:h;this.hashAlgorithm=Object(J.e)(h,"hashAlgorithm",l.defaultValues("hashAlgorithm"));
this.maskGenAlgorithm=Object(J.e)(h,"maskGenAlgorithm",l.defaultValues("maskGenAlgorithm"));this.saltLength=Object(J.e)(h,"saltLength",l.defaultValues("saltLength"));this.trailerField=Object(J.e)(h,"trailerField",l.defaultValues("trailerField"));"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "hashAlgorithm":return new W.a({algorithmId:"1.3.14.3.2.26",algorithmParams:new u.Null});case "maskGenAlgorithm":return new W.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:(new W.a({algorithmId:"1.3.14.3.2.26",
algorithmParams:new u.Null})).toSchema()});case "saltLength":return 20;case "trailerField":return 1;default:throw Error("Invalid member name for RSASSAPSSParams class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Constructed({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[W.a.schema(h.hashAlgorithm||{})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[W.a.schema(h.maskGenAlgorithm||
{})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new u.Integer({name:h.saltLength||""})]}),new u.Constructed({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new u.Integer({name:h.trailerField||""})]})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);h=u.compareSchema(h,h,l.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",
trailerField:"trailerField"}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in h.result&&(this.hashAlgorithm=new W.a({schema:h.result.hashAlgorithm}));"maskGenAlgorithm"in h.result&&(this.maskGenAlgorithm=new W.a({schema:h.result.maskGenAlgorithm}));"saltLength"in h.result&&(this.saltLength=h.result.saltLength.valueBlock.valueDec);"trailerField"in h.result&&(this.trailerField=h.result.trailerField.valueBlock.valueDec)};l.prototype.toSchema=
function(){var h=[];this.hashAlgorithm.isEqual(l.defaultValues("hashAlgorithm"))||h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]}));this.maskGenAlgorithm.isEqual(l.defaultValues("maskGenAlgorithm"))||h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]}));this.saltLength!==l.defaultValues("saltLength")&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:2},value:[new u.Integer({value:this.saltLength})]}));
this.trailerField!==l.defaultValues("trailerField")&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:3},value:[new u.Integer({value:this.trailerField})]}));return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={};this.hashAlgorithm.isEqual(l.defaultValues("hashAlgorithm"))||(h.hashAlgorithm=this.hashAlgorithm.toJSON());this.maskGenAlgorithm.isEqual(l.defaultValues("maskGenAlgorithm"))||(h.maskGenAlgorithm=this.maskGenAlgorithm.toJSON());this.saltLength!==l.defaultValues("saltLength")&&
(h.saltLength=this.saltLength);this.trailerField!==l.defaultValues("trailerField")&&(h.trailerField=this.trailerField);return h}},function(R,G,E){var u=E(5);E(17);E(7);(R.exports=u.hmac=u.hmac||{}).create=function(){var J=null,W=null,l=null,h={start:function(p,c){if(null!==p)if("string"===typeof p)if(p=p.toLowerCase(),p in u.md.algorithms)J=u.md.algorithms[p].create();else throw Error('Unknown hash algorithm "'+p+'"');else J=p;if(null!==c){if("string"===typeof c)c=u.util.createBuffer(c);else if(u.util.isArray(c)){p=
c;c=u.util.createBuffer();for(var f=0;f<p.length;++f)c.putByte(p[f])}var r=c.length();r>J.blockLength&&(J.start(),J.update(c.bytes()),c=J.digest());W=u.util.createBuffer();l=u.util.createBuffer();r=c.length();for(f=0;f<r;++f)p=c.at(f),W.putByte(54^p),l.putByte(92^p);if(r<J.blockLength)for(p=J.blockLength-r,f=0;f<p;++f)W.putByte(54),l.putByte(92);W=W.bytes();l=l.bytes()}J.start();J.update(W)},update:function(p){J.update(p)},getMac:function(){var p=J.digest().bytes();J.start();J.update(l);J.update(p);
return J.digest()}};h.digest=h.getMac;return h}},function(R,G,E){function u(h,p,c){for(var f,r,z,M,A,F,y,B,t=c.length();64<=t;){r=h.h0;z=h.h1;M=h.h2;A=h.h3;F=h.h4;for(B=0;16>B;++B)f=c.getInt32(),p[B]=f,y=A^z&(M^A),f=(r<<5|r>>>27)+y+F+1518500249+f,F=A,A=M,M=(z<<30|z>>>2)>>>0,z=r,r=f;for(;20>B;++B)f=p[B-3]^p[B-8]^p[B-14]^p[B-16],f=f<<1|f>>>31,p[B]=f,y=A^z&(M^A),f=(r<<5|r>>>27)+y+F+1518500249+f,F=A,A=M,M=(z<<30|z>>>2)>>>0,z=r,r=f;for(;32>B;++B)f=p[B-3]^p[B-8]^p[B-14]^p[B-16],f=f<<1|f>>>31,p[B]=f,y=z^
M^A,f=(r<<5|r>>>27)+y+F+1859775393+f,F=A,A=M,M=(z<<30|z>>>2)>>>0,z=r,r=f;for(;40>B;++B)f=p[B-6]^p[B-16]^p[B-28]^p[B-32],f=f<<2|f>>>30,p[B]=f,y=z^M^A,f=(r<<5|r>>>27)+y+F+1859775393+f,F=A,A=M,M=(z<<30|z>>>2)>>>0,z=r,r=f;for(;60>B;++B)f=p[B-6]^p[B-16]^p[B-28]^p[B-32],f=f<<2|f>>>30,p[B]=f,y=z&M|A&(z^M),f=(r<<5|r>>>27)+y+F+2400959708+f,F=A,A=M,M=(z<<30|z>>>2)>>>0,z=r,r=f;for(;80>B;++B)f=p[B-6]^p[B-16]^p[B-28]^p[B-32],f=f<<2|f>>>30,p[B]=f,y=z^M^A,f=(r<<5|r>>>27)+y+F+3395469782+f,F=A,A=M,M=(z<<30|z>>>2)>>>
0,z=r,r=f;h.h0=h.h0+r|0;h.h1=h.h1+z|0;h.h2=h.h2+M|0;h.h3=h.h3+A|0;h.h4=h.h4+F|0;t-=64}}var J=E(5);E(17);E(7);R=R.exports=J.sha1=J.sha1||{};J.md.sha1=J.md.algorithms.sha1=R;R.create=function(){l||(W=String.fromCharCode(128),W+=J.util.fillString(String.fromCharCode(0),64),l=!0);var h=null,p=J.util.createBuffer(),c=Array(80),f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){f.messageLength=0;f.fullMessageLength=f.messageLength64=
[];for(var r=f.messageLengthSize/4,z=0;z<r;++z)f.fullMessageLength.push(0);p=J.util.createBuffer();h={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return f}};f.start();f.update=function(r,z){"utf8"===z&&(r=J.util.encodeUtf8(r));z=r.length;f.messageLength+=z;z=[z/4294967296>>>0,z>>>0];for(var M=f.fullMessageLength.length-1;0<=M;--M)f.fullMessageLength[M]+=z[1],z[1]=z[0]+(f.fullMessageLength[M]/4294967296>>>0),f.fullMessageLength[M]>>>=0,z[0]=z[1]/4294967296>>>0;p.putBytes(r);
u(h,c,p);(2048<p.read||0===p.length())&&p.compact();return f};f.digest=function(){var r=J.util.createBuffer();r.putBytes(p.bytes());r.putBytes(W.substr(0,f.blockLength-(f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize&f.blockLength-1)));for(var z,M,A=8*f.fullMessageLength[0],F=0;F<f.fullMessageLength.length-1;++F)z=8*f.fullMessageLength[F+1],M=z/4294967296>>>0,A+=M,r.putInt32(A>>>0),A=z>>>0;r.putInt32(A);z={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3,h4:h.h4};u(z,c,r);r=J.util.createBuffer();
r.putInt32(z.h0);r.putInt32(z.h1);r.putInt32(z.h2);r.putInt32(z.h3);r.putInt32(z.h4);return r};return f};var W=null,l=!1},function(R,G,E){E.d(G,"a",function(){return W});var u=E(0);E.n(u);var J=E(1),W=function(l){l=void 0===l?{}:l;this.modulus=Object(J.e)(l,"modulus",W.defaultValues("modulus"));this.publicExponent=Object(J.e)(l,"publicExponent",W.defaultValues("publicExponent"));"schema"in l&&this.fromSchema(l.schema);"json"in l&&this.fromJSON(l.json)};W.defaultValues=function(l){switch(l){case "modulus":return new u.Integer;
case "publicExponent":return new u.Integer;default:throw Error("Invalid member name for RSAPublicKey class: "+l);}};W.schema=function(l){l=void 0===l?{}:l;l=Object(J.e)(l,"names",{});return new u.Sequence({name:l.blockName||"",value:[new u.Integer({name:l.modulus||""}),new u.Integer({name:l.publicExponent||""})]})};W.prototype.fromSchema=function(l){Object(J.c)(l,["modulus","publicExponent"]);l=u.compareSchema(l,l,W.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===l.verified)throw Error("Object's schema was not verified against input data for RSAPublicKey");
this.modulus=l.result.modulus.convertFromDER(256);this.publicExponent=l.result.publicExponent};W.prototype.toSchema=function(){return new u.Sequence({value:[this.modulus.convertToDER(),this.publicExponent]})};W.prototype.toJSON=function(){return{n:Object(J.i)(Object(J.a)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:Object(J.i)(Object(J.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}};W.prototype.fromJSON=function(l){if("n"in l){var h=Object(J.h)(Object(J.d)(l.n,!0));this.modulus=new u.Integer({valueHex:h.slice(0,
Math.pow(2,Object(J.g)(h.byteLength)))})}else throw Error('Absent mandatory parameter "n"');if("e"in l)this.publicExponent=new u.Integer({valueHex:Object(J.h)(Object(J.d)(l.e,!0)).slice(0,3)});else throw Error('Absent mandatory parameter "e"');}},function(R,G,E){E.d(G,"a",function(){return l});var u=E(0);E.n(u);var J=E(1),W=E(12),l=function(h){h=void 0===h?{}:h;this.version=Object(J.e)(h,"version",l.defaultValues("version"));this.privateKey=Object(J.e)(h,"privateKey",l.defaultValues("privateKey"));
"namedCurve"in h&&(this.namedCurve=Object(J.e)(h,"namedCurve",l.defaultValues("namedCurve")));"publicKey"in h&&(this.publicKey=Object(J.e)(h,"publicKey",l.defaultValues("publicKey")));"schema"in h&&this.fromSchema(h.schema);"json"in h&&this.fromJSON(h.json)};l.defaultValues=function(h){switch(h){case "version":return 1;case "privateKey":return new u.OctetString;case "namedCurve":return"";case "publicKey":return new W.a;default:throw Error("Invalid member name for ECCPrivateKey class: "+h);}};l.compareWithDefault=
function(h,p){switch(h){case "version":return p===l.defaultValues(h);case "privateKey":return p.isEqual(l.defaultValues(h));case "namedCurve":return""===p;case "publicKey":return W.a.compareWithDefault("namedCurve",p.namedCurve)&&W.a.compareWithDefault("x",p.x)&&W.a.compareWithDefault("y",p.y);default:throw Error("Invalid member name for ECCPrivateKey class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Integer({name:h.version||
""}),new u.OctetString({name:h.privateKey||""}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new u.ObjectIdentifier({name:h.namedCurve||""})]}),new u.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new u.BitString({name:h.publicKey||""})]})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,["version","privateKey","namedCurve","publicKey"]);h=u.compareSchema(h,h,l.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));
if(!1===h.verified)throw Error("Object's schema was not verified against input data for ECPrivateKey");this.version=h.result.version.valueBlock.valueDec;this.privateKey=h.result.privateKey;"namedCurve"in h.result&&(this.namedCurve=h.result.namedCurve.valueBlock.toString());"publicKey"in h.result&&(h={schema:h.result.publicKey.valueBlock.valueHex},"namedCurve"in this&&(h.namedCurve=this.namedCurve),this.publicKey=new W.a(h))};l.prototype.toSchema=function(){var h=[new u.Integer({value:this.version}),
this.privateKey];"namedCurve"in this&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new u.ObjectIdentifier({value:this.namedCurve})]}));"publicKey"in this&&h.push(new u.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[new u.BitString({valueHex:this.publicKey.toSchema().toBER(!1)})]}));return new u.Sequence({value:h})};l.prototype.toJSON=function(){if(!1==="namedCurve"in this||l.compareWithDefault("namedCurve",this.namedCurve))throw Error('Not enough information for making JSON: absent "namedCurve" value');
var h="";switch(this.namedCurve){case "1.2.840.10045.3.1.7":h="P-256";break;case "1.3.132.0.34":h="P-384";break;case "1.3.132.0.35":h="P-521"}h={crv:h,d:Object(J.i)(Object(J.a)(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){var p=this.publicKey.toJSON();h.x=p.x;h.y=p.y}return h};l.prototype.fromJSON=function(h){var p=0;if("crv"in h)switch(h.crv.toUpperCase()){case "P-256":this.namedCurve="1.2.840.10045.3.1.7";p=32;break;case "P-384":this.namedCurve="1.3.132.0.34";p=48;break;
case "P-521":this.namedCurve="1.3.132.0.35",p=66}else throw Error('Absent mandatory parameter "crv"');if("d"in h){var c=Object(J.h)(Object(J.d)(h.d,!0));if(c.byteLength<p){p=new ArrayBuffer(p);var f=new Uint8Array(p);c=new Uint8Array(c);f.set(c,1);this.privateKey=new u.OctetString({valueHex:p})}else this.privateKey=new u.OctetString({valueHex:c.slice(0,p)})}else throw Error('Absent mandatory parameter "d"');"x"in h&&"y"in h&&(this.publicKey=new W.a({json:h}))}},function(R,G,E){E.d(G,"a",function(){return l});
var u=E(0);E.n(u);var J=E(1),W=E(23),l=function(h){h=void 0===h?{}:h;this.version=Object(J.e)(h,"version",l.defaultValues("version"));this.modulus=Object(J.e)(h,"modulus",l.defaultValues("modulus"));this.publicExponent=Object(J.e)(h,"publicExponent",l.defaultValues("publicExponent"));this.privateExponent=Object(J.e)(h,"privateExponent",l.defaultValues("privateExponent"));this.prime1=Object(J.e)(h,"prime1",l.defaultValues("prime1"));this.prime2=Object(J.e)(h,"prime2",l.defaultValues("prime2"));this.exponent1=
Object(J.e)(h,"exponent1",l.defaultValues("exponent1"));this.exponent2=Object(J.e)(h,"exponent2",l.defaultValues("exponent2"));this.coefficient=Object(J.e)(h,"coefficient",l.defaultValues("coefficient"));"otherPrimeInfos"in h&&(this.otherPrimeInfos=Object(J.e)(h,"otherPrimeInfos",l.defaultValues("otherPrimeInfos")));"schema"in h&&this.fromSchema(h.schema);"json"in h&&this.fromJSON(h.json)};l.defaultValues=function(h){switch(h){case "version":return 0;case "modulus":return new u.Integer;case "publicExponent":return new u.Integer;
case "privateExponent":return new u.Integer;case "prime1":return new u.Integer;case "prime2":return new u.Integer;case "exponent1":return new u.Integer;case "exponent2":return new u.Integer;case "coefficient":return new u.Integer;case "otherPrimeInfos":return[];default:throw Error("Invalid member name for RSAPrivateKey class: "+h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[new u.Integer({name:h.version||""}),new u.Integer({name:h.modulus||
""}),new u.Integer({name:h.publicExponent||""}),new u.Integer({name:h.privateExponent||""}),new u.Integer({name:h.prime1||""}),new u.Integer({name:h.prime2||""}),new u.Integer({name:h.exponent1||""}),new u.Integer({name:h.exponent2||""}),new u.Integer({name:h.coefficient||""}),new u.Sequence({optional:!0,value:[new u.Repeated({name:h.otherPrimeInfosName||"",value:W.a.schema(h.otherPrimeInfo||{})})]})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,"version modulus publicExponent privateExponent prime1 prime2 exponent1 exponent2 coefficient otherPrimeInfos".split(" "));
h=u.compareSchema(h,h,l.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=h.result.version.valueBlock.valueDec;this.modulus=h.result.modulus.convertFromDER(256);
this.publicExponent=h.result.publicExponent;this.privateExponent=h.result.privateExponent.convertFromDER(256);this.prime1=h.result.prime1.convertFromDER(128);this.prime2=h.result.prime2.convertFromDER(128);this.exponent1=h.result.exponent1.convertFromDER(128);this.exponent2=h.result.exponent2.convertFromDER(128);this.coefficient=h.result.coefficient.convertFromDER(128);"otherPrimeInfos"in h.result&&(this.otherPrimeInfos=Array.from(h.result.otherPrimeInfos,function(p){return new W.a({schema:p})}))};
l.prototype.toSchema=function(){var h=[];h.push(new u.Integer({value:this.version}));h.push(this.modulus.convertToDER());h.push(this.publicExponent);h.push(this.privateExponent.convertToDER());h.push(this.prime1.convertToDER());h.push(this.prime2.convertToDER());h.push(this.exponent1.convertToDER());h.push(this.exponent2.convertToDER());h.push(this.coefficient.convertToDER());"otherPrimeInfos"in this&&h.push(new u.Sequence({value:Array.from(this.otherPrimeInfos,function(p){return p.toSchema()})}));
return new u.Sequence({value:h})};l.prototype.toJSON=function(){var h={n:Object(J.i)(Object(J.a)(this.modulus.valueBlock.valueHex),!0,!0,!0),e:Object(J.i)(Object(J.a)(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:Object(J.i)(Object(J.a)(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:Object(J.i)(Object(J.a)(this.prime1.valueBlock.valueHex),!0,!0,!0),q:Object(J.i)(Object(J.a)(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:Object(J.i)(Object(J.a)(this.exponent1.valueBlock.valueHex),!0,!0,
!0),dq:Object(J.i)(Object(J.a)(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:Object(J.i)(Object(J.a)(this.coefficient.valueBlock.valueHex),!0,!0,!0)};"otherPrimeInfos"in this&&(h.oth=Array.from(this.otherPrimeInfos,function(p){return p.toJSON()}));return h};l.prototype.fromJSON=function(h){if("n"in h)this.modulus=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.n,!0,!0))});else throw Error('Absent mandatory parameter "n"');if("e"in h)this.publicExponent=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.e,
!0,!0))});else throw Error('Absent mandatory parameter "e"');if("d"in h)this.privateExponent=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.d,!0,!0))});else throw Error('Absent mandatory parameter "d"');if("p"in h)this.prime1=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.p,!0,!0))});else throw Error('Absent mandatory parameter "p"');if("q"in h)this.prime2=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.q,!0,!0))});else throw Error('Absent mandatory parameter "q"');if("dp"in h)this.exponent1=
new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.dp,!0,!0))});else throw Error('Absent mandatory parameter "dp"');if("dq"in h)this.exponent2=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.dq,!0,!0))});else throw Error('Absent mandatory parameter "dq"');if("qi"in h)this.coefficient=new u.Integer({valueHex:Object(J.h)(Object(J.d)(h.qi,!0,!0))});else throw Error('Absent mandatory parameter "qi"');"oth"in h&&(this.otherPrimeInfos=Array.from(h.oth,function(p){return new W.a({json:p})}))}},function(R,
G,E){E.d(G,"a",function(){return l});var u=E(0);E.n(u);var J=E(1),W=E(3),l=function(h){h=void 0===h?{}:h;this.keyDerivationFunc=Object(J.e)(h,"keyDerivationFunc",l.defaultValues("keyDerivationFunc"));this.encryptionScheme=Object(J.e)(h,"encryptionScheme",l.defaultValues("encryptionScheme"));"schema"in h&&this.fromSchema(h.schema)};l.defaultValues=function(h){switch(h){case "keyDerivationFunc":return new W.a;case "encryptionScheme":return new W.a;default:throw Error("Invalid member name for PBES2Params class: "+
h);}};l.schema=function(h){h=void 0===h?{}:h;h=Object(J.e)(h,"names",{});return new u.Sequence({name:h.blockName||"",value:[W.a.schema(h.keyDerivationFunc||{}),W.a.schema(h.encryptionScheme||{})]})};l.prototype.fromSchema=function(h){Object(J.c)(h,["keyDerivationFunc","encryptionScheme"]);h=u.compareSchema(h,h,l.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===h.verified)throw Error("Object's schema was not verified against input data for PBES2Params");
this.keyDerivationFunc=new W.a({schema:h.result.keyDerivationFunc});this.encryptionScheme=new W.a({schema:h.result.encryptionScheme})};l.prototype.toSchema=function(){return new u.Sequence({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})};l.prototype.toJSON=function(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}},function(R,G){function E(){throw Error("setTimeout has not been defined");}function u(){throw Error("clearTimeout has not been defined");
}function J(y){if(f===setTimeout)return setTimeout(y,0);if((f===E||!f)&&setTimeout)return f=setTimeout,setTimeout(y,0);try{return f(y,0)}catch(B){try{return f.call(null,y,0)}catch(t){return f.call(this,y,0)}}}function W(y){if(r===clearTimeout)return clearTimeout(y);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(y);try{return r(y)}catch(B){try{return r.call(null,y)}catch(t){return r.call(this,y)}}}function l(){M&&A&&(M=!1,A.length?z=A.concat(z):F=-1,z.length&&h())}function h(){if(!M){var y=
J(l);M=!0;for(var B=z.length;B;){A=z;for(z=[];++F<B;)A&&A[F].run();F=-1;B=z.length}A=null;M=!1;W(y)}}function p(y,B){this.fun=y;this.array=B}function c(){}R=R.exports={};try{var f="function"===typeof setTimeout?setTimeout:E}catch(y){f=E}try{var r="function"===typeof clearTimeout?clearTimeout:u}catch(y){r=u}var z=[],M=!1,A,F=-1;R.nextTick=function(y){var B=Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)B[t-1]=arguments[t];z.push(new p(y,B));1!==z.length||M||J(h)};
p.prototype.run=function(){this.fun.apply(null,this.array)};R.title="browser";R.browser=!0;R.env={};R.argv=[];R.version="";R.versions={};R.on=c;R.addListener=c;R.once=c;R.off=c;R.removeListener=c;R.removeAllListeners=c;R.emit=c;R.prependListener=c;R.prependOnceListener=c;R.listeners=function(y){return[]};R.binding=function(y){throw Error("process.binding is not supported");};R.cwd=function(){return"/"};R.chdir=function(y){throw Error("process.chdir is not supported");};R.umask=function(){return 0}},
function(R,G,E){function u(F,y){l.cipher.registerAlgorithm(F,function(){return new l.des.Algorithm(F,y)})}function J(F,y,B,t){var S=32===F.length?3:9;t=3===S?t?[30,-2,-2]:[0,32,2]:t?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var k=y[0],e=y[1];y=(k>>>4^e)&252645135;e^=y;k^=y<<4;y=(k>>>16^e)&65535;e^=y;k^=y<<16;y=(e>>>2^k)&858993459;k^=y;e^=y<<2;y=(e>>>8^k)&16711935;k^=y;e^=y<<8;y=(k>>>1^e)&1431655765;e^=y;k^=y<<1;k=k<<1|k>>>31;e=e<<1|e>>>31;for(var q=0;q<S;q+=3){for(var H=t[q+1],g=t[q+2],
x=t[q];x!=H;x+=g){var I=e^F[x],Q=(e>>>4|e<<28)^F[x+1];y=k;k=e;e=y^(p[I>>>24&63]|f[I>>>16&63]|z[I>>>8&63]|A[I&63]|h[Q>>>24&63]|c[Q>>>16&63]|r[Q>>>8&63]|M[Q&63])}y=k;k=e;e=y}k=k>>>1|k<<31;e=e>>>1|e<<31;y=(k>>>1^e)&1431655765;e^=y;k^=y<<1;y=(e>>>8^k)&16711935;k^=y;e^=y<<8;y=(e>>>2^k)&858993459;k^=y;e^=y<<2;y=(k>>>16^e)&65535;e^=y;k^=y<<16;y=(k>>>4^e)&252645135;B[0]=k^y<<4;B[1]=e^y}function W(F){F=F||{};var y="DES-"+(F.mode||"CBC").toUpperCase();var B=F.decrypt?l.cipher.createDecipher(y,F.key):l.cipher.createCipher(y,
F.key);var t=B.start;B.start=function(S,k){var e=null;k instanceof l.util.ByteBuffer&&(e=k,k={});k=k||{};k.output=e;k.iv=S;t.call(B,k)};return B}var l=E(5);E(36);E(47);E(7);R.exports=l.des=l.des||{};l.des.startEncrypting=function(F,y,B,t){F=W({key:F,output:B,decrypt:!1,mode:t||(null===y?"ECB":"CBC")});F.start(y);return F};l.des.createEncryptionCipher=function(F,y){return W({key:F,output:null,decrypt:!1,mode:y})};l.des.startDecrypting=function(F,y,B,t){F=W({key:F,output:B,decrypt:!0,mode:t||(null===
y?"ECB":"CBC")});F.start(y);return F};l.des.createDecryptionCipher=function(F,y){return W({key:F,output:null,decrypt:!0,mode:y})};l.des.Algorithm=function(F,y){var B=this;B.name=F;B.mode=new y({blockSize:8,cipher:{encrypt:function(t,S){return J(B._keys,t,S,!1)},decrypt:function(t,S){return J(B._keys,t,S,!0)}}});B._init=!1};l.des.Algorithm.prototype.initialize=function(F){if(!this._init){F=l.util.createBuffer(F.key);if(0===this.name.indexOf("3DES")&&24!==F.length())throw Error("Invalid Triple-DES key size: "+
8*F.length());for(var y=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],B=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],t=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],S=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],
k=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],e=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],q=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],H=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],g=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,
33554432,33816576,33554434,33816578,33554434,33816578],x=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],I=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],Q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],Z=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,
134742032,134746128],Y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],ba=8<F.length()?3:1,ha=[],ia=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],na=0,v,n=0;n<ba;n++){var w=F.getInt32(),D=F.getInt32();v=(w>>>4^D)&252645135;D^=v;w^=v<<4;v=(D>>>-16^w)&65535;w^=v;D^=v<<-16;v=(w>>>2^D)&858993459;D^=v;w^=v<<2;v=(D>>>-16^w)&65535;w^=v;D^=v<<-16;v=(w>>>1^D)&1431655765;D^=v;w^=v<<1;v=(D>>>8^w)&16711935;w^=v;D^=v<<8;v=(w>>>1^D)&1431655765;D^=v;w^=v<<1;v=w<<8|D>>>20&240;w=D<<24|D<<8&16711680|D>>>8&65280|D>>>24&240;D=
v;for(var V=0;V<ia.length;++V){ia[V]?(w=w<<2|w>>>26,D=D<<2|D>>>26):(w=w<<1|w>>>27,D=D<<1|D>>>27);w&=-15;D&=-15;var P=y[w>>>28]|B[w>>>24&15]|t[w>>>20&15]|S[w>>>16&15]|k[w>>>12&15]|e[w>>>8&15]|q[w>>>4&15],O=H[D>>>28]|g[D>>>24&15]|x[D>>>20&15]|I[D>>>16&15]|Q[D>>>12&15]|Z[D>>>8&15]|Y[D>>>4&15];v=(O>>>16^P)&65535;ha[na++]=P^v;ha[na++]=O^v<<16}}this._keys=ha;this._init=!0}};u("DES-ECB",l.cipher.modes.ecb);u("DES-CBC",l.cipher.modes.cbc);u("DES-CFB",l.cipher.modes.cfb);u("DES-OFB",l.cipher.modes.ofb);u("DES-CTR",
l.cipher.modes.ctr);u("3DES-ECB",l.cipher.modes.ecb);u("3DES-CBC",l.cipher.modes.cbc);u("3DES-CFB",l.cipher.modes.cfb);u("3DES-OFB",l.cipher.modes.ofb);u("3DES-CTR",l.cipher.modes.ctr);var h=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,
4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],p=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,
-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,
0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],f=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,
8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],r=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,
1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],z=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,
536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],M=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,
2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],A=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,
0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]},function(R,G,E){function u(g,x,I){var Q=r.util.createBuffer();x=Math.ceil(x.n.bitLength()/8);if(g.length>x-11)throw Q=Error("Message is too long for PKCS#1 v1.5 padding."),Q.length=g.length,Q.max=x-11,Q;Q.putByte(0);Q.putByte(I);x=x-3-g.length;if(0===I||1===I){I=0===I?0:255;for(var Z=0;Z<x;++Z)Q.putByte(I)}else for(;0<x;){var Y=0,ba=r.random.getBytes(x);for(Z=0;Z<x;++Z)I=ba.charCodeAt(Z),
0===I?++Y:Q.putByte(I);x=Y}Q.putByte(0);Q.putBytes(g);return Q}function J(g,x,I,Q){x=Math.ceil(x.n.bitLength()/8);g=r.util.createBuffer(g);var Z=g.getByte(),Y=g.getByte();if(0!==Z||I&&0!==Y&&1!==Y||!I&&2!=Y||I&&0===Y&&"undefined"===typeof Q)throw Error("Encryption block is invalid.");I=0;if(0===Y)for(I=x-3-Q,Q=0;Q<I;++Q){if(0!==g.getByte())throw Error("Encryption block is invalid.");}else if(1===Y)for(I=0;1<g.length();){if(255!==g.getByte()){--g.read;break}++I}else if(2===Y)for(I=0;1<g.length();){if(0===
g.getByte()){--g.read;break}++I}if(0!==g.getByte()||I!==x-3-g.length())throw Error("Encryption block is invalid.");return g.getBytes()}function W(g,x,I){function Q(){Z(g.pBits,function(ha,ia){if(ha)return I(ha);g.p=ia;if(null!==g.q)return Y(ha,g.q);Z(g.qBits,Y)})}function Z(ha,ia){r.prime.generateProbablePrime(ha,ba,ia)}function Y(ha,ia){if(ha)return I(ha);g.q=ia;0>g.p.compareTo(g.q)&&(ha=g.p,g.p=g.q,g.q=ha);0!==g.p.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?(g.p=null,Q()):0!==g.q.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?
(g.q=null,Z(g.qBits,Y)):(g.p1=g.p.subtract(z.ONE),g.q1=g.q.subtract(z.ONE),g.phi=g.p1.multiply(g.q1),0!==g.phi.gcd(g.e).compareTo(z.ONE)?(g.p=g.q=null,Q()):(g.n=g.p.multiply(g.q),g.n.bitLength()!==g.bits?(g.q=null,Z(g.qBits,Y)):(ha=g.e.modInverse(g.phi),g.keys={privateKey:y.rsa.setPrivateKey(g.n,g.e,ha,g.p,g.q,ha.mod(g.p1),ha.mod(g.q1),g.q.modInverse(g.p)),publicKey:y.rsa.setPublicKey(g.n,g.e)},I(null,g.keys))))}"function"===typeof x&&(I=x,x={});x=x||{};var ba={algorithm:{name:x.algorithm||"PRIMEINC",
options:{workers:x.workers||2,workLoad:x.workLoad||100,workerScript:x.workerScript}}};"prng"in x&&(ba.prng=x.prng);Q()}function l(g){g=g.toString(16);"8"<=g[0]&&(g="00"+g);g=r.util.hexToBytes(g);return 1<g.length&&(0===g.charCodeAt(0)&&0===(g.charCodeAt(1)&128)||255===g.charCodeAt(0)&&128===(g.charCodeAt(1)&128))?g.substr(1):g}function h(g){return 100>=g?27:150>=g?18:200>=g?15:250>=g?12:300>=g?9:350>=g?8:400>=g?7:500>=g?6:600>=g?5:800>=g?4:1250>=g?3:2}function p(g){return"undefined"!==typeof F.globalScope&&
"object"===typeof F.globalScope.crypto&&"object"===typeof F.globalScope.crypto.subtle&&"function"===typeof F.globalScope.crypto.subtle[g]}function c(g){return"undefined"!==typeof F.globalScope&&"object"===typeof F.globalScope.msCrypto&&"object"===typeof F.globalScope.msCrypto.subtle&&"function"===typeof F.globalScope.msCrypto.subtle[g]}function f(g){g=r.util.hexToBytes(g.toString(16));for(var x=new Uint8Array(g.length),I=0;I<g.length;++I)x[I]=g.charCodeAt(I);return x}var r=E(5);E(15);E(34);E(21);
E(54);E(55);E(13);E(7);if("undefined"===typeof z)var z=r.jsbn.BigInteger;var M=r.util.isNodejs?E(39):null,A=r.asn1,F=r.util;r.pki=r.pki||{};R.exports=r.pki.rsa=r.rsa=r.rsa||{};var y=r.pki,B=[6,4,2,4,2,4,6,2],t={name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,
constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},S={name:"RSAPrivateKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",
tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",
tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},k={name:"RSAPublicKey",tagClass:A.Class.UNIVERSAL,
type:A.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:A.Class.UNIVERSAL,type:A.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},e=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:A.Class.UNIVERSAL,
type:A.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:A.Class.UNIVERSAL,type:A.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:A.Class.UNIVERSAL,type:A.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},q=function(g){if(g.algorithm in y.oids)var x=y.oids[g.algorithm];
else throw x=Error("Unknown message digest algorithm."),x.algorithm=g.algorithm,x;var I=A.oidToDer(x).getBytes();x=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);var Q=A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[]);Q.value.push(A.create(A.Class.UNIVERSAL,A.Type.OID,!1,I));Q.value.push(A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,""));g=A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,g.digest().getBytes());x.value.push(Q);x.value.push(g);return A.toDer(x).getBytes()},H=function(g,x,I){if(I)return g.modPow(x.e,
x.n);if(!x.p||!x.q)return g.modPow(x.d,x.n);x.dP||(x.dP=x.d.mod(x.p.subtract(z.ONE)));x.dQ||(x.dQ=x.d.mod(x.q.subtract(z.ONE)));x.qInv||(x.qInv=x.q.modInverse(x.p));do I=new z(r.util.bytesToHex(r.random.getBytes(x.n.bitLength()/8)),16);while(0<=I.compareTo(x.n)||!I.gcd(x.n).equals(z.ONE));g=g.multiply(I.modPow(x.e,x.n)).mod(x.n);var Q=g.mod(x.p).modPow(x.dP,x.p);for(g=g.mod(x.q).modPow(x.dQ,x.q);0>Q.compareTo(g);)Q=Q.add(x.p);g=Q.subtract(g).multiply(x.qInv).mod(x.p).multiply(x.q).add(g);return g=
g.multiply(I.modInverse(x.n)).mod(x.n)};y.rsa.encrypt=function(g,x,I){var Q=I,Z=Math.ceil(x.n.bitLength()/8);!1!==I&&!0!==I?(Q=2===I,I=u(g,x,I)):(I=r.util.createBuffer(),I.putBytes(g));g=new z(I.toHex(),16);x=H(g,x,Q).toString(16);Q=r.util.createBuffer();for(Z-=Math.ceil(x.length/2);0<Z;)Q.putByte(0),--Z;Q.putBytes(r.util.hexToBytes(x));return Q.getBytes()};y.rsa.decrypt=function(g,x,I,Q){var Z=Math.ceil(x.n.bitLength()/8);if(g.length!==Z)throw x=Error("Encrypted message length is invalid."),x.length=
g.length,x.expected=Z,x;g=new z(r.util.createBuffer(g).toHex(),16);if(0<=g.compareTo(x.n))throw Error("Encrypted message is invalid.");g=H(g,x,I).toString(16);var Y=r.util.createBuffer();for(Z-=Math.ceil(g.length/2);0<Z;)Y.putByte(0),--Z;Y.putBytes(r.util.hexToBytes(g));return!1!==Q?J(Y.getBytes(),x,I):Y.getBytes()};y.rsa.createKeyPairGenerationState=function(g,x,I){"string"===typeof g&&(g=parseInt(g,10));g=g||2048;I=I||{};var Q=I.prng||r.random,Z={nextBytes:function(Y){for(var ba=Q.getBytesSync(Y.length),
ha=0;ha<Y.length;++ha)Y[ha]=ba.charCodeAt(ha)}};I=I.algorithm||"PRIMEINC";if("PRIMEINC"===I)g={algorithm:I,state:0,bits:g,rng:Z,eInt:x||65537,e:new z(null),p:null,q:null,qBits:g>>1,pBits:g-(g>>1),pqState:0,num:null,keys:null},g.e.fromInt(g.eInt);else throw Error("Invalid key generation algorithm: "+I);return g};y.rsa.stepKeyPairGenerationState=function(g,x){"algorithm"in g||(g.algorithm="PRIMEINC");var I=new z(null);I.fromInt(30);for(var Q=0,Z=function(na,v){return na|v},Y=+new Date,ba,ha=0;null===
g.keys&&(0>=x||ha<x);){if(0===g.state){ba=null===g.p?g.pBits:g.qBits;var ia=ba-1;0===g.pqState?(g.num=new z(ba,g.rng),g.num.testBit(ia)||g.num.bitwiseTo(z.ONE.shiftLeft(ia),Z,g.num),g.num.dAddOffset(31-g.num.mod(I).byteValue(),0),Q=0,++g.pqState):1===g.pqState?g.num.bitLength()>ba?g.pqState=0:g.num.isProbablePrime(h(g.num.bitLength()))?++g.pqState:g.num.dAddOffset(B[Q++%8],0):2===g.pqState?g.pqState=0===g.num.subtract(z.ONE).gcd(g.e).compareTo(z.ONE)?3:0:3===g.pqState&&(g.pqState=0,null===g.p?g.p=
g.num:g.q=g.num,null!==g.p&&null!==g.q&&++g.state,g.num=null)}else 1===g.state?(0>g.p.compareTo(g.q)&&(g.num=g.p,g.p=g.q,g.q=g.num),++g.state):2===g.state?(g.p1=g.p.subtract(z.ONE),g.q1=g.q.subtract(z.ONE),g.phi=g.p1.multiply(g.q1),++g.state):3===g.state?0===g.phi.gcd(g.e).compareTo(z.ONE)?++g.state:(g.p=null,g.q=null,g.state=0):4===g.state?(g.n=g.p.multiply(g.q),g.n.bitLength()===g.bits?++g.state:(g.q=null,g.state=0)):5===g.state&&(ba=g.e.modInverse(g.phi),g.keys={privateKey:y.rsa.setPrivateKey(g.n,
g.e,ba,g.p,g.q,ba.mod(g.p1),ba.mod(g.q1),g.q.modInverse(g.p)),publicKey:y.rsa.setPublicKey(g.n,g.e)});ba=+new Date;ha+=ba-Y;Y=ba}return null!==g.keys};y.rsa.generateKeyPair=function(g,x,I,Q){1===arguments.length?"object"===typeof g?(I=g,g=void 0):"function"===typeof g&&(Q=g,g=void 0):2===arguments.length?"number"===typeof g?"function"===typeof x?(Q=x,x=void 0):"number"!==typeof x&&(I=x,x=void 0):(I=g,Q=x,x=g=void 0):3===arguments.length&&("number"===typeof x?"function"===typeof I&&(Q=I,I=void 0):
(Q=I,I=x,x=void 0));I=I||{};void 0===g&&(g=I.bits||2048);void 0===x&&(x=I.e||65537);if(!r.options.usePureJavaScript&&!I.prng&&256<=g&&16384>=g&&(65537===x||3===x))if(Q){if(r.util.isNodejs&&"function"===typeof M.generateKeyPair)return M.generateKeyPair("rsa",{modulusLength:g,publicExponent:x,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Y,ba,ha){if(Y)return Q(Y);Q(null,{privateKey:y.privateKeyFromPem(ha),publicKey:y.publicKeyFromPem(ba)})});if(p("generateKey")&&
p("exportKey"))return F.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:g,publicExponent:f(x),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Y){return F.globalScope.crypto.subtle.exportKey("pkcs8",Y.privateKey)}).then(void 0,function(Y){Q(Y)}).then(function(Y){Y&&(Y=y.privateKeyFromAsn1(A.fromDer(r.util.createBuffer(Y))),Q(null,{privateKey:Y,publicKey:y.setRsaPublicKey(Y.n,Y.e)}))});if(c("generateKey")&&c("exportKey")){var Z=F.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",
modulusLength:g,publicExponent:f(x),hash:{name:"SHA-256"}},!0,["sign","verify"]);Z.oncomplete=function(Y){Y=F.globalScope.msCrypto.subtle.exportKey("pkcs8",Y.target.result.privateKey);Y.oncomplete=function(ba){ba=y.privateKeyFromAsn1(A.fromDer(r.util.createBuffer(ba.target.result)));Q(null,{privateKey:ba,publicKey:y.setRsaPublicKey(ba.n,ba.e)})};Y.onerror=function(ba){Q(ba)}};Z.onerror=function(Y){Q(Y)};return}}else if(r.util.isNodejs&&"function"===typeof M.generateKeyPairSync)return Z=M.generateKeyPairSync("rsa",
{modulusLength:g,publicExponent:x,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:y.privateKeyFromPem(Z.privateKey),publicKey:y.publicKeyFromPem(Z.publicKey)};Z=y.rsa.createKeyPairGenerationState(g,x,I);if(!Q)return y.rsa.stepKeyPairGenerationState(Z,0),Z.keys;W(Z,I,Q)};y.setRsaPublicKey=y.rsa.setPublicKey=function(g,x){var I={n:g,e:x,encrypt:function(Q,Z,Y){"string"===typeof Z?Z=Z.toUpperCase():void 0===Z&&(Z="RSAES-PKCS1-V1_5");if("RSAES-PKCS1-V1_5"===
Z)Z={encode:function(ba,ha,ia){return u(ba,ha,2).getBytes()}};else if("RSA-OAEP"===Z||"RSAES-OAEP"===Z)Z={encode:function(ba,ha){return r.pkcs1.encode_rsa_oaep(ha,ba,Y)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Z))Z={encode:function(ba){return ba}};else if("string"===typeof Z)throw Error('Unsupported encryption scheme: "'+Z+'".');Q=Z.encode(Q,I,!0);return y.rsa.encrypt(Q,I,!0)},verify:function(Q,Z,Y){"string"===typeof Y?Y=Y.toUpperCase():void 0===Y&&(Y="RSASSA-PKCS1-V1_5");if("RSASSA-PKCS1-V1_5"===
Y)Y={verify:function(ba,ha){ha=J(ha,I,!0);ha=A.fromDer(ha);return ba===ha.value[1].value}};else if("NONE"===Y||"NULL"===Y||null===Y)Y={verify:function(ba,ha){ha=J(ha,I,!0);return ba===ha}};Z=y.rsa.decrypt(Z,I,!0,!1);return Y.verify(Q,Z,I.n.bitLength())}};return I};y.setRsaPrivateKey=y.rsa.setPrivateKey=function(g,x,I,Q,Z,Y,ba,ha){var ia={n:g,e:x,d:I,p:Q,q:Z,dP:Y,dQ:ba,qInv:ha,decrypt:function(na,v,n){"string"===typeof v?v=v.toUpperCase():void 0===v&&(v="RSAES-PKCS1-V1_5");na=y.rsa.decrypt(na,ia,!1,
!1);if("RSAES-PKCS1-V1_5"===v)v={decode:J};else if("RSA-OAEP"===v||"RSAES-OAEP"===v)v={decode:function(w,D){return r.pkcs1.decode_rsa_oaep(D,w,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(v))v={decode:function(w){return w}};else throw Error('Unsupported encryption scheme: "'+v+'".');return v.decode(na,ia,!1)},sign:function(na,v){var n=!1;"string"===typeof v&&(v=v.toUpperCase());if(void 0===v||"RSASSA-PKCS1-V1_5"===v)v={encode:q},n=1;else if("NONE"===v||"NULL"===v||null===v)v={encode:function(){return na}},
n=1;v=v.encode(na,ia.n.bitLength());return y.rsa.encrypt(v,ia,n)}};return ia};y.wrapRsaPrivateKey=function(g){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(y.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.OCTETSTRING,!1,A.toDer(g).getBytes())])};y.privateKeyFromAsn1=
function(g){var x={},I=[];A.validate(g,t,x,I)&&(g=A.fromDer(r.util.createBuffer(x.privateKey)));x={};I=[];if(!A.validate(g,S,x,I))throw x=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey."),x.errors=I,x;I=r.util.createBuffer(x.privateKeyModulus).toHex();g=r.util.createBuffer(x.privateKeyPublicExponent).toHex();var Q=r.util.createBuffer(x.privateKeyPrivateExponent).toHex();var Z=r.util.createBuffer(x.privateKeyPrime1).toHex();var Y=r.util.createBuffer(x.privateKeyPrime2).toHex();
var ba=r.util.createBuffer(x.privateKeyExponent1).toHex();var ha=r.util.createBuffer(x.privateKeyExponent2).toHex();x=r.util.createBuffer(x.privateKeyCoefficient).toHex();return y.setRsaPrivateKey(new z(I,16),new z(g,16),new z(Q,16),new z(Z,16),new z(Y,16),new z(ba,16),new z(ha,16),new z(x,16))};y.privateKeyToAsn1=y.privateKeyToRSAPrivateKey=function(g){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,A.integerToDer(0).getBytes()),A.create(A.Class.UNIVERSAL,
A.Type.INTEGER,!1,l(g.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.e)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.d)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.p)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.q)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.dP)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.dQ)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.qInv))])};y.publicKeyFromAsn1=function(g){var x={},I=[];if(A.validate(g,e,x,I)){I=A.derToOid(x.publicKeyOid);
if(I!==y.oids.rsaEncryption)throw x=Error("Cannot read public key. Unknown OID."),x.oid=I,x;g=x.rsaPublicKey}I=[];if(!A.validate(g,k,x,I))throw x=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey."),x.errors=I,x;I=r.util.createBuffer(x.publicKeyModulus).toHex();x=r.util.createBuffer(x.publicKeyExponent).toHex();return y.setRsaPublicKey(new z(I,16),new z(x,16))};y.publicKeyToAsn1=y.publicKeyToSubjectPublicKeyInfo=function(g){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,
!0,[A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.OID,!1,A.oidToDer(y.oids.rsaEncryption).getBytes()),A.create(A.Class.UNIVERSAL,A.Type.NULL,!1,"")]),A.create(A.Class.UNIVERSAL,A.Type.BITSTRING,!1,[y.publicKeyToRSAPublicKey(g)])])};y.publicKeyToRSAPublicKey=function(g){return A.create(A.Class.UNIVERSAL,A.Type.SEQUENCE,!0,[A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.n)),A.create(A.Class.UNIVERSAL,A.Type.INTEGER,!1,l(g.e))])}},function(R,G,E){function u(g,x,I){this.data=
[];null!=g&&("number"==typeof g?this.fromNumber(g,x,I):null==x&&"string"!=typeof g?this.fromString(g,256):this.fromString(g,x))}function J(){return new u(null)}function W(g,x,I,Q,Z,Y){for(;0<=--Y;){var ba=x*this.data[g++]+I.data[Q]+Z;Z=Math.floor(ba/67108864);I.data[Q++]=ba&67108863}return Z}function l(g,x,I,Q,Z,Y){var ba=x&32767;for(x>>=15;0<=--Y;){var ha=this.data[g]&32767,ia=this.data[g++]>>15,na=x*ha+ia*ba;ha=ba*ha+((na&32767)<<15)+I.data[Q]+(Z&1073741823);Z=(ha>>>30)+(na>>>15)+x*ia+(Z>>>30);
I.data[Q++]=ha&1073741823}return Z}function h(g,x,I,Q,Z,Y){var ba=x&16383;for(x>>=14;0<=--Y;){var ha=this.data[g]&16383,ia=this.data[g++]>>14,na=x*ha+ia*ba;ha=ba*ha+((na&16383)<<14)+I.data[Q]+Z;Z=(ha>>28)+(na>>14)+x*ia;I.data[Q++]=ha&268435455}return Z}function p(g,x){g=e[g.charCodeAt(x)];return null==g?-1:g}function c(g){var x=J();x.fromInt(g);return x}function f(g){var x=1,I;0!=(I=g>>>16)&&(g=I,x+=16);0!=(I=g>>8)&&(g=I,x+=8);0!=(I=g>>4)&&(g=I,x+=4);0!=(I=g>>2)&&(g=I,x+=2);0!=g>>1&&(x+=1);return x}
function r(g){this.m=g}function z(g){this.m=g;this.mp=g.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<g.DB-15)-1;this.mt2=2*g.t}function M(g,x){return g&x}function A(g,x){return g|x}function F(g,x){return g^x}function y(g,x){return g&~x}function B(){}function t(g){return g}function S(g){this.r2=J();this.q3=J();u.ONE.dlShiftTo(2*g.t,this.r2);this.mu=this.r2.divide(g);this.m=g}function k(){return{nextBytes:function(g){for(var x=0;x<g.length;++x)g[x]=Math.floor(256*Math.random())}}}
G=E(5);R.exports=G.jsbn=G.jsbn||{};G.jsbn.BigInteger=u;"undefined"===typeof navigator?(u.prototype.am=h,R=28):"Microsoft Internet Explorer"==navigator.appName?(u.prototype.am=l,R=30):"Netscape"!=navigator.appName?(u.prototype.am=W,R=26):(u.prototype.am=h,R=28);u.prototype.DB=R;u.prototype.DM=(1<<R)-1;u.prototype.DV=1<<R;u.prototype.FV=Math.pow(2,52);u.prototype.F1=52-R;u.prototype.F2=2*R-52;var e=[];R=48;for(G=0;9>=G;++G)e[R++]=G;R=97;for(G=10;36>G;++G)e[R++]=G;R=65;for(G=10;36>G;++G)e[R++]=G;r.prototype.convert=
function(g){return 0>g.s||0<=g.compareTo(this.m)?g.mod(this.m):g};r.prototype.revert=function(g){return g};r.prototype.reduce=function(g){g.divRemTo(this.m,null,g)};r.prototype.mulTo=function(g,x,I){g.multiplyTo(x,I);this.reduce(I)};r.prototype.sqrTo=function(g,x){g.squareTo(x);this.reduce(x)};z.prototype.convert=function(g){var x=J();g.abs().dlShiftTo(this.m.t,x);x.divRemTo(this.m,null,x);0>g.s&&0<x.compareTo(u.ZERO)&&this.m.subTo(x,x);return x};z.prototype.revert=function(g){var x=J();g.copyTo(x);
this.reduce(x);return x};z.prototype.reduce=function(g){for(;g.t<=this.mt2;)g.data[g.t++]=0;for(var x=0;x<this.m.t;++x){var I=g.data[x]&32767,Q=I*this.mpl+((I*this.mph+(g.data[x]>>15)*this.mpl&this.um)<<15)&g.DM;I=x+this.m.t;for(g.data[I]+=this.m.am(0,Q,g,x,0,this.m.t);g.data[I]>=g.DV;)g.data[I]-=g.DV,g.data[++I]++}g.clamp();g.drShiftTo(this.m.t,g);0<=g.compareTo(this.m)&&g.subTo(this.m,g)};z.prototype.mulTo=function(g,x,I){g.multiplyTo(x,I);this.reduce(I)};z.prototype.sqrTo=function(g,x){g.squareTo(x);
this.reduce(x)};u.prototype.copyTo=function(g){for(var x=this.t-1;0<=x;--x)g.data[x]=this.data[x];g.t=this.t;g.s=this.s};u.prototype.fromInt=function(g){this.t=1;this.s=0>g?-1:0;0<g?this.data[0]=g:-1>g?this.data[0]=g+this.DV:this.t=0};u.prototype.fromString=function(g,x){if(16==x)x=4;else if(8==x)x=3;else if(256==x)x=8;else if(2==x)x=1;else if(32==x)x=5;else if(4==x)x=2;else{this.fromRadix(g,x);return}this.s=this.t=0;for(var I=g.length,Q=!1,Z=0;0<=--I;){var Y=8==x?g[I]&255:p(g,I);0>Y?"-"==g.charAt(I)&&
(Q=!0):(Q=!1,0==Z?this.data[this.t++]=Y:Z+x>this.DB?(this.data[this.t-1]|=(Y&(1<<this.DB-Z)-1)<<Z,this.data[this.t++]=Y>>this.DB-Z):this.data[this.t-1]|=Y<<Z,Z+=x,Z>=this.DB&&(Z-=this.DB))}8==x&&0!=(g[0]&128)&&(this.s=-1,0<Z&&(this.data[this.t-1]|=(1<<this.DB-Z)-1<<Z));this.clamp();Q&&u.ZERO.subTo(this,this)};u.prototype.clamp=function(){for(var g=this.s&this.DM;0<this.t&&this.data[this.t-1]==g;)--this.t};u.prototype.dlShiftTo=function(g,x){var I;for(I=this.t-1;0<=I;--I)x.data[I+g]=this.data[I];for(I=
g-1;0<=I;--I)x.data[I]=0;x.t=this.t+g;x.s=this.s};u.prototype.drShiftTo=function(g,x){for(var I=g;I<this.t;++I)x.data[I-g]=this.data[I];x.t=Math.max(this.t-g,0);x.s=this.s};u.prototype.lShiftTo=function(g,x){var I=g%this.DB,Q=this.DB-I,Z=(1<<Q)-1;g=Math.floor(g/this.DB);var Y=this.s<<I&this.DM,ba;for(ba=this.t-1;0<=ba;--ba)x.data[ba+g+1]=this.data[ba]>>Q|Y,Y=(this.data[ba]&Z)<<I;for(ba=g-1;0<=ba;--ba)x.data[ba]=0;x.data[g]=Y;x.t=this.t+g+1;x.s=this.s;x.clamp()};u.prototype.rShiftTo=function(g,x){x.s=
this.s;var I=Math.floor(g/this.DB);if(I>=this.t)x.t=0;else{g%=this.DB;var Q=this.DB-g,Z=(1<<g)-1;x.data[0]=this.data[I]>>g;for(var Y=I+1;Y<this.t;++Y)x.data[Y-I-1]|=(this.data[Y]&Z)<<Q,x.data[Y-I]=this.data[Y]>>g;0<g&&(x.data[this.t-I-1]|=(this.s&Z)<<Q);x.t=this.t-I;x.clamp()}};u.prototype.subTo=function(g,x){for(var I=0,Q=0,Z=Math.min(g.t,this.t);I<Z;)Q+=this.data[I]-g.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;if(g.t<this.t){for(Q-=g.s;I<this.t;)Q+=this.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;
Q+=this.s}else{for(Q+=this.s;I<g.t;)Q-=g.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;Q-=g.s}x.s=0>Q?-1:0;-1>Q?x.data[I++]=this.DV+Q:0<Q&&(x.data[I++]=Q);x.t=I;x.clamp()};u.prototype.multiplyTo=function(g,x){var I=this.abs(),Q=g.abs(),Z=I.t;for(x.t=Z+Q.t;0<=--Z;)x.data[Z]=0;for(Z=0;Z<Q.t;++Z)x.data[Z+I.t]=I.am(0,Q.data[Z],x,Z,0,I.t);x.s=0;x.clamp();this.s!=g.s&&u.ZERO.subTo(x,x)};u.prototype.squareTo=function(g){for(var x=this.abs(),I=g.t=2*x.t;0<=--I;)g.data[I]=0;for(I=0;I<x.t-1;++I){var Q=x.am(I,x.data[I],
g,2*I,0,1);(g.data[I+x.t]+=x.am(I+1,2*x.data[I],g,2*I+1,Q,x.t-I-1))>=x.DV&&(g.data[I+x.t]-=x.DV,g.data[I+x.t+1]=1)}0<g.t&&(g.data[g.t-1]+=x.am(I,x.data[I],g,2*I,0,1));g.s=0;g.clamp()};u.prototype.divRemTo=function(g,x,I){var Q=g.abs();if(!(0>=Q.t)){var Z=this.abs();if(Z.t<Q.t)null!=x&&x.fromInt(0),null!=I&&this.copyTo(I);else{null==I&&(I=J());var Y=J(),ba=this.s;g=g.s;var ha=this.DB-f(Q.data[Q.t-1]);0<ha?(Q.lShiftTo(ha,Y),Z.lShiftTo(ha,I)):(Q.copyTo(Y),Z.copyTo(I));Q=Y.t;Z=Y.data[Q-1];if(0!=Z){var ia=
Z*(1<<this.F1)+(1<Q?Y.data[Q-2]>>this.F2:0),na=this.FV/ia;ia=(1<<this.F1)/ia;var v=1<<this.F2,n=I.t,w=n-Q,D=null==x?J():x;Y.dlShiftTo(w,D);0<=I.compareTo(D)&&(I.data[I.t++]=1,I.subTo(D,I));u.ONE.dlShiftTo(Q,D);for(D.subTo(Y,Y);Y.t<Q;)Y.data[Y.t++]=0;for(;0<=--w;){var V=I.data[--n]==Z?this.DM:Math.floor(I.data[n]*na+(I.data[n-1]+v)*ia);if((I.data[n]+=Y.am(0,V,I,w,0,Q))<V)for(Y.dlShiftTo(w,D),I.subTo(D,I);I.data[n]<--V;)I.subTo(D,I)}null!=x&&(I.drShiftTo(Q,x),ba!=g&&u.ZERO.subTo(x,x));I.t=Q;I.clamp();
0<ha&&I.rShiftTo(ha,I);0>ba&&u.ZERO.subTo(I,I)}}}};u.prototype.invDigit=function(){if(1>this.t)return 0;var g=this.data[0];if(0==(g&1))return 0;var x=g&3;x=x*(2-(g&15)*x)&15;x=x*(2-(g&255)*x)&255;x=x*(2-((g&65535)*x&65535))&65535;x=x*(2-g*x%this.DV)%this.DV;return 0<x?this.DV-x:-x};u.prototype.isEven=function(){return 0==(0<this.t?this.data[0]&1:this.s)};u.prototype.exp=function(g,x){if(4294967295<g||1>g)return u.ONE;var I=J(),Q=J(),Z=x.convert(this),Y=f(g)-1;for(Z.copyTo(I);0<=--Y;)if(x.sqrTo(I,
Q),0<(g&1<<Y))x.mulTo(Q,Z,I);else{var ba=I;I=Q;Q=ba}return x.revert(I)};u.prototype.toString=function(g){if(0>this.s)return"-"+this.negate().toString(g);if(16==g)g=4;else if(8==g)g=3;else if(2==g)g=1;else if(32==g)g=5;else if(4==g)g=2;else return this.toRadix(g);var x=(1<<g)-1,I,Q=!1,Z="",Y=this.t,ba=this.DB-Y*this.DB%g;if(0<Y--)for(ba<this.DB&&0<(I=this.data[Y]>>ba)&&(Q=!0,Z="0123456789abcdefghijklmnopqrstuvwxyz".charAt(I));0<=Y;)ba<g?(I=(this.data[Y]&(1<<ba)-1)<<g-ba,I|=this.data[--Y]>>(ba+=this.DB-
g)):(I=this.data[Y]>>(ba-=g)&x,0>=ba&&(ba+=this.DB,--Y)),0<I&&(Q=!0),Q&&(Z+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(I));return Q?Z:"0"};u.prototype.negate=function(){var g=J();u.ZERO.subTo(this,g);return g};u.prototype.abs=function(){return 0>this.s?this.negate():this};u.prototype.compareTo=function(g){var x=this.s-g.s;if(0!=x)return x;var I=this.t;x=I-g.t;if(0!=x)return 0>this.s?-x:x;for(;0<=--I;)if(0!=(x=this.data[I]-g.data[I]))return x;return 0};u.prototype.bitLength=function(){return 0>=
this.t?0:this.DB*(this.t-1)+f(this.data[this.t-1]^this.s&this.DM)};u.prototype.mod=function(g){var x=J();this.abs().divRemTo(g,null,x);0>this.s&&0<x.compareTo(u.ZERO)&&g.subTo(x,x);return x};u.prototype.modPowInt=function(g,x){x=256>g||x.isEven()?new r(x):new z(x);return this.exp(g,x)};u.ZERO=c(0);u.ONE=c(1);B.prototype.convert=t;B.prototype.revert=t;B.prototype.mulTo=function(g,x,I){g.multiplyTo(x,I)};B.prototype.sqrTo=function(g,x){g.squareTo(x)};S.prototype.convert=function(g){if(0>g.s||g.t>2*
this.m.t)return g.mod(this.m);if(0>g.compareTo(this.m))return g;var x=J();g.copyTo(x);this.reduce(x);return x};S.prototype.revert=function(g){return g};S.prototype.reduce=function(g){g.drShiftTo(this.m.t-1,this.r2);g.t>this.m.t+1&&(g.t=this.m.t+1,g.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>g.compareTo(this.r2);)g.dAddOffset(1,this.m.t+1);for(g.subTo(this.r2,g);0<=g.compareTo(this.m);)g.subTo(this.m,g)};S.prototype.mulTo=function(g,
x,I){g.multiplyTo(x,I);this.reduce(I)};S.prototype.sqrTo=function(g,x){g.squareTo(x);this.reduce(x)};var q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],H=67108864/q[q.length-1];u.prototype.chunkSize=
function(g){return Math.floor(Math.LN2*this.DB/Math.log(g))};u.prototype.toRadix=function(g){null==g&&(g=10);if(0==this.signum()||2>g||36<g)return"0";var x=this.chunkSize(g);x=Math.pow(g,x);var I=c(x),Q=J(),Z=J(),Y="";for(this.divRemTo(I,Q,Z);0<Q.signum();)Y=(x+Z.intValue()).toString(g).substr(1)+Y,Q.divRemTo(I,Q,Z);return Z.intValue().toString(g)+Y};u.prototype.fromRadix=function(g,x){this.fromInt(0);null==x&&(x=10);for(var I=this.chunkSize(x),Q=Math.pow(x,I),Z=!1,Y=0,ba=0,ha=0;ha<g.length;++ha){var ia=
p(g,ha);0>ia?"-"==g.charAt(ha)&&0==this.signum()&&(Z=!0):(ba=x*ba+ia,++Y>=I&&(this.dMultiply(Q),this.dAddOffset(ba,0),ba=Y=0))}0<Y&&(this.dMultiply(Math.pow(x,Y)),this.dAddOffset(ba,0));Z&&u.ZERO.subTo(this,this)};u.prototype.fromNumber=function(g,x,I){if("number"==typeof x)if(2>g)this.fromInt(1);else for(this.fromNumber(g,I),this.testBit(g-1)||this.bitwiseTo(u.ONE.shiftLeft(g-1),A,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(x);)this.dAddOffset(2,0),this.bitLength()>g&&this.subTo(u.ONE.shiftLeft(g-
1),this);else{I=[];var Q=g&7;I.length=(g>>3)+1;x.nextBytes(I);I[0]=0<Q?I[0]&(1<<Q)-1:0;this.fromString(I,256)}};u.prototype.bitwiseTo=function(g,x,I){var Q,Z=Math.min(g.t,this.t);for(Q=0;Q<Z;++Q)I.data[Q]=x(this.data[Q],g.data[Q]);if(g.t<this.t){var Y=g.s&this.DM;for(Q=Z;Q<this.t;++Q)I.data[Q]=x(this.data[Q],Y);I.t=this.t}else{Y=this.s&this.DM;for(Q=Z;Q<g.t;++Q)I.data[Q]=x(Y,g.data[Q]);I.t=g.t}I.s=x(this.s,g.s);I.clamp()};u.prototype.changeBit=function(g,x){g=u.ONE.shiftLeft(g);this.bitwiseTo(g,x,
g);return g};u.prototype.addTo=function(g,x){for(var I=0,Q=0,Z=Math.min(g.t,this.t);I<Z;)Q+=this.data[I]+g.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;if(g.t<this.t){for(Q+=g.s;I<this.t;)Q+=this.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;Q+=this.s}else{for(Q+=this.s;I<g.t;)Q+=g.data[I],x.data[I++]=Q&this.DM,Q>>=this.DB;Q+=g.s}x.s=0>Q?-1:0;0<Q?x.data[I++]=Q:-1>Q&&(x.data[I++]=this.DV+Q);x.t=I;x.clamp()};u.prototype.dMultiply=function(g){this.data[this.t]=this.am(0,g-1,this,0,0,this.t);++this.t;this.clamp()};
u.prototype.dAddOffset=function(g,x){if(0!=g){for(;this.t<=x;)this.data[this.t++]=0;for(this.data[x]+=g;this.data[x]>=this.DV;)this.data[x]-=this.DV,++x>=this.t&&(this.data[this.t++]=0),++this.data[x]}};u.prototype.multiplyLowerTo=function(g,x,I){var Q=Math.min(this.t+g.t,x);I.s=0;for(I.t=Q;0<Q;)I.data[--Q]=0;var Z;for(Z=I.t-this.t;Q<Z;++Q)I.data[Q+this.t]=this.am(0,g.data[Q],I,Q,0,this.t);for(Z=Math.min(g.t,x);Q<Z;++Q)this.am(0,g.data[Q],I,Q,0,x-Q);I.clamp()};u.prototype.multiplyUpperTo=function(g,
x,I){--x;var Q=I.t=this.t+g.t-x;for(I.s=0;0<=--Q;)I.data[Q]=0;for(Q=Math.max(x-this.t,0);Q<g.t;++Q)I.data[this.t+Q-x]=this.am(x-Q,g.data[Q],I,0,0,this.t+Q-x);I.clamp();I.drShiftTo(1,I)};u.prototype.modInt=function(g){if(0>=g)return 0;var x=this.DV%g,I=0>this.s?g-1:0;if(0<this.t)if(0==x)I=this.data[0]%g;else for(var Q=this.t-1;0<=Q;--Q)I=(x*I+this.data[Q])%g;return I};u.prototype.millerRabin=function(g){var x=this.subtract(u.ONE),I=x.getLowestSetBit();if(0>=I)return!1;for(var Q=x.shiftRight(I),Z=k(),
Y,ba=0;ba<g;++ba){do Y=new u(this.bitLength(),Z);while(0>=Y.compareTo(u.ONE)||0<=Y.compareTo(x));Y=Y.modPow(Q,this);if(0!=Y.compareTo(u.ONE)&&0!=Y.compareTo(x)){for(var ha=1;ha++<I&&0!=Y.compareTo(x);)if(Y=Y.modPowInt(2,this),0==Y.compareTo(u.ONE))return!1;if(0!=Y.compareTo(x))return!1}}return!0};u.prototype.clone=function(){var g=J();this.copyTo(g);return g};u.prototype.intValue=function(){if(0>this.s){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];
if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]};u.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24};u.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16};u.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this.data[0]?0:1};u.prototype.toByteArray=function(){var g=this.t,x=[];x[0]=this.s;var I=this.DB-g*this.DB%8,Q,Z=0;if(0<g--)for(I<this.DB&&(Q=this.data[g]>>I)!=(this.s&this.DM)>>I&&(x[Z++]=
Q|this.s<<this.DB-I);0<=g;)if(8>I?(Q=(this.data[g]&(1<<I)-1)<<8-I,Q|=this.data[--g]>>(I+=this.DB-8)):(Q=this.data[g]>>(I-=8)&255,0>=I&&(I+=this.DB,--g)),0!=(Q&128)&&(Q|=-256),0==Z&&(this.s&128)!=(Q&128)&&++Z,0<Z||Q!=this.s)x[Z++]=Q;return x};u.prototype.equals=function(g){return 0==this.compareTo(g)};u.prototype.min=function(g){return 0>this.compareTo(g)?this:g};u.prototype.max=function(g){return 0<this.compareTo(g)?this:g};u.prototype.and=function(g){var x=J();this.bitwiseTo(g,M,x);return x};u.prototype.or=
function(g){var x=J();this.bitwiseTo(g,A,x);return x};u.prototype.xor=function(g){var x=J();this.bitwiseTo(g,F,x);return x};u.prototype.andNot=function(g){var x=J();this.bitwiseTo(g,y,x);return x};u.prototype.not=function(){for(var g=J(),x=0;x<this.t;++x)g.data[x]=this.DM&~this.data[x];g.t=this.t;g.s=~this.s;return g};u.prototype.shiftLeft=function(g){var x=J();0>g?this.rShiftTo(-g,x):this.lShiftTo(g,x);return x};u.prototype.shiftRight=function(g){var x=J();0>g?this.lShiftTo(-g,x):this.rShiftTo(g,
x);return x};u.prototype.getLowestSetBit=function(){for(var g=0;g<this.t;++g)if(0!=this.data[g]){var x=g*this.DB;g=this.data[g];if(0==g)g=-1;else{var I=0;0==(g&65535)&&(g>>=16,I+=16);0==(g&255)&&(g>>=8,I+=8);0==(g&15)&&(g>>=4,I+=4);0==(g&3)&&(g>>=2,I+=2);0==(g&1)&&++I;g=I}return x+g}return 0>this.s?this.t*this.DB:-1};u.prototype.bitCount=function(){for(var g=0,x=this.s&this.DM,I=0;I<this.t;++I){for(var Q=this.data[I]^x,Z=0;0!=Q;)Q&=Q-1,++Z;g+=Z}return g};u.prototype.testBit=function(g){var x=Math.floor(g/
this.DB);return x>=this.t?0!=this.s:0!=(this.data[x]&1<<g%this.DB)};u.prototype.setBit=function(g){return this.changeBit(g,A)};u.prototype.clearBit=function(g){return this.changeBit(g,y)};u.prototype.flipBit=function(g){return this.changeBit(g,F)};u.prototype.add=function(g){var x=J();this.addTo(g,x);return x};u.prototype.subtract=function(g){var x=J();this.subTo(g,x);return x};u.prototype.multiply=function(g){var x=J();this.multiplyTo(g,x);return x};u.prototype.divide=function(g){var x=J();this.divRemTo(g,
x,null);return x};u.prototype.remainder=function(g){var x=J();this.divRemTo(g,null,x);return x};u.prototype.divideAndRemainder=function(g){var x=J(),I=J();this.divRemTo(g,x,I);return[x,I]};u.prototype.modPow=function(g,x){var I=g.bitLength(),Q=c(1);if(0>=I)return Q;var Z=18>I?1:48>I?3:144>I?4:768>I?5:6;x=8>I?new r(x):x.isEven()?new S(x):new z(x);var Y=[],ba=3,ha=Z-1,ia=(1<<Z)-1;Y[1]=x.convert(this);if(1<Z)for(I=J(),x.sqrTo(Y[1],I);ba<=ia;)Y[ba]=J(),x.mulTo(I,Y[ba-2],Y[ba]),ba+=2;var na=g.t-1,v=!0,
n=J();for(I=f(g.data[na])-1;0<=na;){if(I>=ha)var w=g.data[na]>>I-ha&ia;else w=(g.data[na]&(1<<I+1)-1)<<ha-I,0<na&&(w|=g.data[na-1]>>this.DB+I-ha);for(ba=Z;0==(w&1);)w>>=1,--ba;0>(I-=ba)&&(I+=this.DB,--na);if(v)Y[w].copyTo(Q),v=!1;else{for(;1<ba;)x.sqrTo(Q,n),x.sqrTo(n,Q),ba-=2;0<ba?x.sqrTo(Q,n):(ba=Q,Q=n,n=ba);x.mulTo(n,Y[w],Q)}for(;0<=na&&0==(g.data[na]&1<<I);)x.sqrTo(Q,n),ba=Q,Q=n,n=ba,0>--I&&(I=this.DB-1,--na)}return x.revert(Q)};u.prototype.modInverse=function(g){var x=g.isEven();if(this.isEven()&&
x||0==g.signum())return u.ZERO;for(var I=g.clone(),Q=this.clone(),Z=c(1),Y=c(0),ba=c(0),ha=c(1);0!=I.signum();){for(;I.isEven();)I.rShiftTo(1,I),x?(Z.isEven()&&Y.isEven()||(Z.addTo(this,Z),Y.subTo(g,Y)),Z.rShiftTo(1,Z)):Y.isEven()||Y.subTo(g,Y),Y.rShiftTo(1,Y);for(;Q.isEven();)Q.rShiftTo(1,Q),x?(ba.isEven()&&ha.isEven()||(ba.addTo(this,ba),ha.subTo(g,ha)),ba.rShiftTo(1,ba)):ha.isEven()||ha.subTo(g,ha),ha.rShiftTo(1,ha);0<=I.compareTo(Q)?(I.subTo(Q,I),x&&Z.subTo(ba,Z),Y.subTo(ha,Y)):(Q.subTo(I,Q),
x&&ba.subTo(Z,ba),ha.subTo(Y,ha))}if(0!=Q.compareTo(u.ONE))return u.ZERO;if(0<=ha.compareTo(g))return ha.subtract(g);if(0>ha.signum())ha.addTo(g,ha);else return ha;return 0>ha.signum()?ha.add(g):ha};u.prototype.pow=function(g){return this.exp(g,new B)};u.prototype.gcd=function(g){var x=0>this.s?this.negate():this.clone();g=0>g.s?g.negate():g.clone();if(0>x.compareTo(g)){var I=x;x=g;g=I}I=x.getLowestSetBit();var Q=g.getLowestSetBit();if(0>Q)return x;I<Q&&(Q=I);0<Q&&(x.rShiftTo(Q,x),g.rShiftTo(Q,g));
for(;0<x.signum();)0<(I=x.getLowestSetBit())&&x.rShiftTo(I,x),0<(I=g.getLowestSetBit())&&g.rShiftTo(I,g),0<=x.compareTo(g)?(x.subTo(g,x),x.rShiftTo(1,x)):(g.subTo(x,g),g.rShiftTo(1,g));0<Q&&g.lShiftTo(Q,g);return g};u.prototype.isProbablePrime=function(g){var x,I=this.abs();if(1==I.t&&I.data[0]<=q[q.length-1]){for(x=0;x<q.length;++x)if(I.data[0]==q[x])return!0;return!1}if(I.isEven())return!1;for(x=1;x<q.length;){for(var Q=q[x],Z=x+1;Z<q.length&&Q<H;)Q*=q[Z++];for(Q=I.modInt(Q);x<Z;)if(0==Q%q[x++])return!1}return I.millerRabin(g)}},
function(R,G,E){function u(F,y,B,t,S,k){var e=[];switch(y.toUpperCase()){case "SHA-1":var q=20;var H=64;break;case "SHA-256":q=32;H=64;break;case "SHA-384":q=48;H=128;break;case "SHA-512":q=64;H=128;break;default:throw Error("Unsupported hashing algorithm");}var g=new Uint8Array(t);t=new ArrayBuffer(2*t.byteLength+2);for(var x=new Uint8Array(t),I=0;I<g.length;I++)x[2*I]=0,x[2*I+1]=g[I];x[x.length-2]=0;x[x.length-1]=0;t=t.slice(0);var Q=new ArrayBuffer(H),Z=new Uint8Array(Q);for(g=0;g<Q.byteLength;g++)Z[g]=
3;var Y=S.byteLength;I=H*Math.ceil(Y/H);g=new ArrayBuffer(I);x=new Uint8Array(g);S=new Uint8Array(S);for(var ba=0;ba<I;ba++)x[ba]=S[ba%Y];var ha=t.byteLength;S=H*Math.ceil(ha/H);I=new ArrayBuffer(S);ba=new Uint8Array(I);t=new Uint8Array(t);for(var ia=0;ia<S;ia++)ba[ia]=t[ia%ha];var na=new ArrayBuffer(g.byteLength+I.byteLength),v=new Uint8Array(na);v.set(x);v.set(ba,x.length);q=Math.ceil((B>>3)/q);t=Promise.resolve(na);for(g=0;g<=q;g++){t=t.then(function(n){n=new ArrayBuffer(Q.byteLength+n.byteLength);
var w=new Uint8Array(n);w.set(Z);w.set(v,Z.length);return n});for(x=0;x<k;x++)t=t.then(function(n){return F.digest({name:y},new Uint8Array(n))});t=t.then(function(n){for(var w=new ArrayBuffer(H),D=new Uint8Array(w),V=0;V<w.byteLength;V++)D[V]=n[V%n.length];V=Math.ceil(Y/H)+Math.ceil(ha/H);for(var P=[],O=0,K=H,qa=0;qa<V;qa++){var ya=Array.from(new Uint8Array(na.slice(O,O+K)));O+=H;O+H>na.byteLength&&(K=na.byteLength-O);for(var xa=511,Da=w.byteLength-1;0<=Da;Da--)xa>>=8,xa+=D[Da]+ya[Da],ya[Da]=xa&255;
P.push.apply(P,$jscomp.arrayFromIterable(ya))}na=new ArrayBuffer(P.length);v=new Uint8Array(na);v.set(P);e.push.apply(e,$jscomp.arrayFromIterable(new Uint8Array(n)));return na})}return t=t.then(function(){var n=new ArrayBuffer(B>>3);(new Uint8Array(n)).set((new Uint8Array(e)).slice(0,B>>3));return n})}E.d(G,"a",function(){return A});var J=E(0);E.n(J);var W=E(1),l=E(4),h=E(11),p=E(14),c=E(3),f=E(10),r=E(24),z=E(18),M=E(30),A=function(F){F=void 0===F?{}:F;this.crypto=Object(W.e)(F,"crypto",{});this.subtle=
Object(W.e)(F,"subtle",{});this.name=Object(W.e)(F,"name","")};A.prototype.importKey=function(F,y,B,t,S){var k=this,e={};y instanceof Uint8Array&&(y=y.buffer);switch(F.toLowerCase()){case "raw":return this.subtle.importKey("raw",y,B,t,S);case "spki":y=J.fromBER(y);if(-1===y.offset)return Promise.reject("Incorrect keyData");F=new h.a;try{F.fromSchema(y.result)}catch(H){return Promise.reject("Incorrect keyData")}switch(B.name.toUpperCase()){case "RSA-PSS":switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg=
"PS1";break;case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":S=["verify"];e.kty="RSA";e.ext=t;e.key_ops=S;if("1.2.840.113549.1.1.1"!==F.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+F.algorithm.algorithmId);if(!1==="alg"in e)switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg=
"RS256";break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}F=F.toJSON();var q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "ECDSA":S=["verify"];case "ECDH":e={kty:"EC",ext:t,key_ops:S};if("1.2.840.10045.2.1"!==F.algorithm.algorithmId)return Promise.reject("Incorrect public key algorithm: "+F.algorithm.algorithmId);F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));
for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "RSA-OAEP":e.kty="RSA";e.ext=t;e.key_ops=S;if("safari"===this.name.toLowerCase())e.alg="RSA-OAEP";else switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg="RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));
for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "RSAES-PKCS1-V1_5":e.kty="RSA";e.ext=t;e.key_ops=S;e.alg="PS1";F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;default:return Promise.reject("Incorrect algorithm name: "+B.name.toUpperCase())}break;case "pkcs8":F=new p.a;y=J.fromBER(y);if(-1===y.offset)return Promise.reject("Incorrect keyData");try{F.fromSchema(y.result)}catch(H){return Promise.reject("Incorrect keyData")}if(!1===
"parsedKey"in F)return Promise.reject("Incorrect keyData");switch(B.name.toUpperCase()){case "RSA-PSS":switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg="PS1";break;case "SHA-256":e.alg="PS256";break;case "SHA-384":e.alg="PS384";break;case "SHA-512":e.alg="PS512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}case "RSASSA-PKCS1-V1_5":S=["sign"];e.kty="RSA";e.ext=t;e.key_ops=S;if("1.2.840.113549.1.1.1"!==F.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect private key algorithm: "+
F.privateKeyAlgorithm.algorithmId);if(!1==="alg"in e)switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg="RS1";break;case "SHA-256":e.alg="RS256";break;case "SHA-384":e.alg="RS384";break;case "SHA-512":e.alg="RS512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "ECDSA":S=["sign"];case "ECDH":e={kty:"EC",ext:t,key_ops:S};if("1.2.840.10045.2.1"!==
F.privateKeyAlgorithm.algorithmId)return Promise.reject("Incorrect algorithm: "+F.privateKeyAlgorithm.algorithmId);F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "RSA-OAEP":e.kty="RSA";e.ext=t;e.key_ops=S;if("safari"===this.name.toLowerCase())e.alg="RSA-OAEP";else switch(B.hash.name.toUpperCase()){case "SHA-1":e.alg="RSA-OAEP";break;case "SHA-256":e.alg="RSA-OAEP-256";break;case "SHA-384":e.alg="RSA-OAEP-384";break;case "SHA-512":e.alg=
"RSA-OAEP-512";break;default:return Promise.reject("Incorrect hash algorithm: "+B.hash.name.toUpperCase())}F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;case "RSAES-PKCS1-V1_5":S=["decrypt"];e.kty="RSA";e.ext=t;e.key_ops=S;e.alg="PS1";F=F.toJSON();q=$jscomp.makeIterator(Object.keys(F));for(y=q.next();!y.done;y=q.next())y=y.value,e[y]=F[y];break;default:return Promise.reject("Incorrect algorithm name: "+B.name.toUpperCase())}break;case "jwk":e=
y;break;default:return Promise.reject("Incorrect format: "+F)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(function(){return k.subtle.importKey("jwk",Object(W.h)(JSON.stringify(e)),B,t,S)}).then(function(H){return H},function(){return k.subtle.importKey("jwk",e,B,t,S)}):this.subtle.importKey("jwk",e,B,t,S)};A.prototype.exportKey=function(F,y){var B=this.subtle.exportKey("jwk",y);"safari"===this.name.toLowerCase()&&(B=B.then(function(t){return t instanceof ArrayBuffer?JSON.parse(Object(W.a)(t)):
t}));switch(F.toLowerCase()){case "raw":return this.subtle.exportKey("raw",y);case "spki":B=B.then(function(t){var S=new h.a;try{S.fromJSON(t)}catch(k){return Promise.reject("Incorrect key data")}return S.toSchema().toBER(!1)});break;case "pkcs8":B=B.then(function(t){var S=new p.a;try{S.fromJSON(t)}catch(k){return Promise.reject("Incorrect key data")}return S.toSchema().toBER(!1)});break;case "jwk":break;default:return Promise.reject("Incorrect format: "+F)}return B};A.prototype.convert=function(F,
y,B,t,S,k){var e=this;switch(F.toLowerCase()){case "raw":switch(y.toLowerCase()){case "raw":return Promise.resolve(B);case "spki":return Promise.resolve().then(function(){return e.importKey("raw",B,t,S,k)}).then(function(q){return e.exportKey("spki",q)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("raw",B,t,S,k)}).then(function(q){return e.exportKey("pkcs8",q)});case "jwk":return Promise.resolve().then(function(){return e.importKey("raw",B,t,S,k)}).then(function(q){return e.exportKey("jwk",
q)});default:return Promise.reject("Incorrect outputFormat: "+y)}case "spki":switch(y.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("spki",B,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.resolve(B);case "pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "jwk":return Promise.resolve().then(function(){return e.importKey("spki",B,t,S,k)}).then(function(q){return e.exportKey("jwk",q)});default:return Promise.reject("Incorrect outputFormat: "+
y)}case "pkcs8":switch(y.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("pkcs8",B,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case "pkcs8":return Promise.resolve(B);case "jwk":return Promise.resolve().then(function(){return e.importKey("pkcs8",B,t,S,k)}).then(function(q){return e.exportKey("jwk",q)});default:return Promise.reject("Incorrect outputFormat: "+y)}case "jwk":switch(y.toLowerCase()){case "raw":return Promise.resolve().then(function(){return e.importKey("jwk",
B,t,S,k)}).then(function(q){return e.exportKey("raw",q)});case "spki":return Promise.resolve().then(function(){return e.importKey("jwk",B,t,S,k)}).then(function(q){return e.exportKey("spki",q)});case "pkcs8":return Promise.resolve().then(function(){return e.importKey("jwk",B,t,S,k)}).then(function(q){return e.exportKey("pkcs8",q)});case "jwk":return Promise.resolve(B);default:return Promise.reject("Incorrect outputFormat: "+y)}default:return Promise.reject("Incorrect inputFormat: "+F)}};A.prototype.encrypt=
function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.encrypt.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.decrypt=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.decrypt.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.sign=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.sign.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.verify=function(F){for(var y=
[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.verify.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.digest=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.digest.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.generateKey=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.generateKey.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.deriveKey=function(F){for(var y=
[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.deriveKey.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.deriveBits=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.deriveBits.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.wrapKey=function(F){for(var y=[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.wrapKey.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.unwrapKey=function(F){for(var y=
[],B=0;B<arguments.length;++B)y[B-0]=arguments[B];return this.subtle.unwrapKey.apply(this.subtle,$jscomp.arrayFromIterable(y))};A.prototype.getRandomValues=function(F){if(!1==="getRandomValues"in this.crypto)throw Error("No support for getRandomValues");return this.crypto.getRandomValues(F)};A.prototype.getAlgorithmByOID=function(F){switch(F){case "1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case "1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case "1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",
hash:{name:"SHA-256"}};case "1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case "1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case "1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case "1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case "1.2.840.10045.2.1":case "1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case "1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case "1.2.840.10045.4.3.3":return{name:"ECDSA",
hash:{name:"SHA-384"}};case "1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case "1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case "1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case "1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case "1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case "2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case "2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case "2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",
length:256};case "2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case "2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case "2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case "2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case "2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case "2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case "2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case "2.16.840.1.101.3.4.1.25":return{name:"AES-KW",
length:192};case "2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case "1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case "1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case "1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case "1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case "1.2.840.113549.1.9.16.3.5":return{name:"DH"};case "1.3.14.3.2.26":return{name:"SHA-1"};case "2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case "2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};
case "2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case "1.2.840.113549.1.5.12":return{name:"PBKDF2"};case "1.2.840.10045.3.1.7":return{name:"P-256"};case "1.3.132.0.34":return{name:"P-384"};case "1.3.132.0.35":return{name:"P-521"}}return{}};A.prototype.getOIDByAlgorithm=function(F){var y="";switch(F.name.toUpperCase()){case "RSAES-PKCS1-V1_5":y="1.2.840.113549.1.1.1";break;case "RSASSA-PKCS1-V1_5":switch(F.hash.name.toUpperCase()){case "SHA-1":y="1.2.840.113549.1.1.5";break;case "SHA-256":y="1.2.840.113549.1.1.11";
break;case "SHA-384":y="1.2.840.113549.1.1.12";break;case "SHA-512":y="1.2.840.113549.1.1.13"}break;case "RSA-PSS":y="1.2.840.113549.1.1.10";break;case "RSA-OAEP":y="1.2.840.113549.1.1.7";break;case "ECDSA":switch(F.hash.name.toUpperCase()){case "SHA-1":y="1.2.840.10045.4.1";break;case "SHA-256":y="1.2.840.10045.4.3.2";break;case "SHA-384":y="1.2.840.10045.4.3.3";break;case "SHA-512":y="1.2.840.10045.4.3.4"}break;case "ECDH":switch(F.kdf.toUpperCase()){case "SHA-1":y="1.3.133.16.840.63.0.2";break;
case "SHA-256":y="1.3.132.1.11.1";break;case "SHA-384":y="1.3.132.1.11.2";break;case "SHA-512":y="1.3.132.1.11.3"}break;case "AES-CBC":switch(F.length){case 128:y="2.16.840.1.101.3.4.1.2";break;case 192:y="2.16.840.1.101.3.4.1.22";break;case 256:y="2.16.840.1.101.3.4.1.42"}break;case "AES-GCM":switch(F.length){case 128:y="2.16.840.1.101.3.4.1.6";break;case 192:y="2.16.840.1.101.3.4.1.26";break;case 256:y="2.16.840.1.101.3.4.1.46"}break;case "AES-CFB":switch(F.length){case 128:y="2.16.840.1.101.3.4.1.4";
break;case 192:y="2.16.840.1.101.3.4.1.24";break;case 256:y="2.16.840.1.101.3.4.1.44"}break;case "AES-KW":switch(F.length){case 128:y="2.16.840.1.101.3.4.1.5";break;case 192:y="2.16.840.1.101.3.4.1.25";break;case 256:y="2.16.840.1.101.3.4.1.45"}break;case "HMAC":switch(F.hash.name.toUpperCase()){case "SHA-1":y="1.2.840.113549.2.7";break;case "SHA-256":y="1.2.840.113549.2.9";break;case "SHA-384":y="1.2.840.113549.2.10";break;case "SHA-512":y="1.2.840.113549.2.11"}break;case "DH":y="1.2.840.113549.1.9.16.3.5";
break;case "SHA-1":y="1.3.14.3.2.26";break;case "SHA-256":y="2.16.840.1.101.3.4.2.1";break;case "SHA-384":y="2.16.840.1.101.3.4.2.2";break;case "SHA-512":y="2.16.840.1.101.3.4.2.3";break;case "PBKDF2":y="1.2.840.113549.1.5.12";break;case "P-256":y="1.2.840.10045.3.1.7";break;case "P-384":y="1.3.132.0.34";break;case "P-521":y="1.3.132.0.35"}return y};A.prototype.getAlgorithmParameters=function(F,y){var B={algorithm:{},usages:[]};switch(F.toUpperCase()){case "RSAES-PKCS1-V1_5":case "RSASSA-PKCS1-V1_5":switch(y.toLowerCase()){case "generatekey":B=
{algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case "verify":case "sign":case "importkey":B={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case "RSA-PSS":switch(y.toLowerCase()){case "sign":case "verify":B={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};
break;case "generatekey":B={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case "importkey":B={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case "RSA-OAEP":switch(y.toLowerCase()){case "encrypt":case "decrypt":B={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case "generatekey":B={algorithm:{name:"RSA-OAEP",
modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "importkey":B={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case "ECDSA":switch(y.toLowerCase()){case "generatekey":B={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case "importkey":B={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};
break;case "verify":case "sign":B={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case "ECDH":switch(y.toLowerCase()){case "exportkey":case "importkey":case "generatekey":B={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case "derivekey":case "derivebits":B={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},
usages:[]}}break;case "AES-CTR":switch(y.toLowerCase()){case "importkey":case "exportkey":case "generatekey":B={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":B={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case "AES-CBC":switch(y.toLowerCase()){case "importkey":case "exportkey":case "generatekey":B=
{algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case "decrypt":case "encrypt":B={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case "AES-GCM":switch(y.toLowerCase()){case "importkey":case "exportkey":case "generatekey":B={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};
break;case "decrypt":case "encrypt":B={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case "AES-KW":switch(y.toLowerCase()){case "importkey":case "exportkey":case "generatekey":case "wrapkey":case "unwrapkey":B={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case "HMAC":switch(y.toLowerCase()){case "sign":case "verify":B=
{algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case "importkey":case "exportkey":case "generatekey":B={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case "HKDF":switch(y.toLowerCase()){case "derivekey":B={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case "PBKDF2":switch(y.toLowerCase()){case "derivekey":B=
{algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1E4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}}return B};A.prototype.getHashAlgorithm=function(F){var y="";switch(F.algorithmId){case "1.2.840.10045.4.1":case "1.2.840.113549.1.1.5":y="SHA-1";break;case "1.2.840.10045.4.3.2":case "1.2.840.113549.1.1.11":y="SHA-256";break;case "1.2.840.10045.4.3.3":case "1.2.840.113549.1.1.12":y="SHA-384";break;case "1.2.840.10045.4.3.4":case "1.2.840.113549.1.1.13":y=
"SHA-512";break;case "1.2.840.113549.1.1.10":try{var B=new r.a({schema:F.algorithmParams});if("hashAlgorithm"in B){var t=this.getAlgorithmByOID(B.hashAlgorithm.algorithmId);if(!1==="name"in t)return"";y=t.name}else y="SHA-1"}catch(S){}}return y};A.prototype.encryptEncryptedContentInfo=function(F){var y=this;if(!1===F instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in F)return Promise.reject('Absent mandatory parameter "password"');if(!1==="contentEncryptionAlgorithm"in
F)return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!1==="hmacHashAlgorithm"in F)return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!1==="iterationCount"in F)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="contentToEncrypt"in F)return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!1==="contentType"in F)return Promise.reject('Absent mandatory parameter "contentType"');var B=this.getOIDByAlgorithm(F.contentEncryptionAlgorithm);
if(""===B)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');var t=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===t)return Promise.reject("Can not find OID for PBKDF2");var S=this.getOIDByAlgorithm({name:"HMAC",hash:{name:F.hmacHashAlgorithm}});if(""===S)return Promise.reject('Incorrect value for "hmacHashAlgorithm": '+F.hmacHashAlgorithm);var k=Promise.resolve(),e=new ArrayBuffer(16),q=new Uint8Array(e);this.getRandomValues(q);var H=new ArrayBuffer(64),g=new Uint8Array(H);this.getRandomValues(g);
var x=new Uint8Array(F.contentToEncrypt),I=new z.a({salt:new J.OctetString({valueHex:H}),iterationCount:F.iterationCount,prf:new c.a({algorithmId:S,algorithmParams:new J.Null})});k=k.then(function(){var Q=new Uint8Array(F.password);return y.importKey("raw",Q,"PBKDF2",!1,["deriveKey"])},function(Q){return Promise.reject(Q)});k=k.then(function(Q){return y.deriveKey({name:"PBKDF2",hash:{name:F.hmacHashAlgorithm},salt:g,iterations:F.iterationCount},Q,F.contentEncryptionAlgorithm,!1,["encrypt"])},function(Q){return Promise.reject(Q)});
k=k.then(function(Q){return y.encrypt({name:F.contentEncryptionAlgorithm.name,iv:q},Q,x)},function(Q){return Promise.reject(Q)});return k=k.then(function(Q){var Z=new M.a({keyDerivationFunc:new c.a({algorithmId:t,algorithmParams:I.toSchema()}),encryptionScheme:new c.a({algorithmId:B,algorithmParams:new J.OctetString({valueHex:e})})});return new f.a({contentType:F.contentType,contentEncryptionAlgorithm:new c.a({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:Z.toSchema()}),encryptedContent:new J.OctetString({valueHex:Q})})},
function(Q){return Promise.reject(Q)})};A.prototype.decryptEncryptedContentInfo=function(F){var y=this;if(!1===F instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in F)return Promise.reject('Absent mandatory parameter "password"');if(!1==="encryptedContentInfo"in F)return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==F.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject('Unknown "contentEncryptionAlgorithm": '+
F.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId);var B=Promise.resolve();try{var t=new M.a({schema:F.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(x){return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{var S=new z.a({schema:t.keyDerivationFunc.algorithmParams})}catch(x){return Promise.reject('Incorrectly encoded "pbkdf2Params"')}var k=this.getAlgorithmByOID(t.encryptionScheme.algorithmId);if(!1==="name"in k)return Promise.reject('Incorrect OID for "contentEncryptionAlgorithm": '+
t.encryptionScheme.algorithmId);var e=new Uint8Array(t.encryptionScheme.algorithmParams.valueBlock.valueHex),q=new Uint8Array(S.salt.valueBlock.valueHex),H=S.iterationCount,g="SHA-1";if("prf"in S){t=this.getAlgorithmByOID(S.prf.algorithmId);if(!1==="name"in t)return Promise.reject("Incorrect OID for HMAC hash algorithm");g=t.hash.name}B=B.then(function(){return y.importKey("raw",F.password,"PBKDF2",!1,["deriveKey"])},function(x){return Promise.reject(x)});B=B.then(function(x){return y.deriveKey({name:"PBKDF2",
hash:{name:g},salt:q,iterations:H},x,k,!1,["decrypt"])},function(x){return Promise.reject(x)});return B=B.then(function(x){var I=new ArrayBuffer(0);if(!1===F.encryptedContentInfo.encryptedContent.idBlock.isConstructed)I=F.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(var Q=$jscomp.makeIterator(F.encryptedContentInfo.encryptedContent.valueBlock.value),Z=Q.next();!Z.done;Z=Q.next())I=Object(W.j)(I,Z.value.valueBlock.valueHex);return y.decrypt({name:k.name,iv:e},x,I)},function(x){return Promise.reject(x)})};
A.prototype.stampDataWithPassword=function(F){var y=this;if(!1===F instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in F)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in F)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!1==="salt"in F)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in F)return Promise.reject('Absent mandatory parameter "salt"');
if(!1==="contentToStamp"in F)return Promise.reject('Absent mandatory parameter "contentToStamp"');switch(F.hashAlgorithm.toLowerCase()){case "sha-1":var B=160;break;case "sha-256":B=256;break;case "sha-384":B=384;break;case "sha-512":B=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+F.hashAlgorithm)}var t=Promise.resolve(),S={name:"HMAC",length:B,hash:{name:F.hashAlgorithm}};t=t.then(function(){return u(y,F.hashAlgorithm,B,F.password,F.salt,F.iterationCount)});
t=t.then(function(k){return y.importKey("raw",new Uint8Array(k),S,!1,["sign"])});return t=t.then(function(k){return y.sign(S,k,new Uint8Array(F.contentToStamp))},function(k){return Promise.reject(k)})};A.prototype.verifyDataStampedWithPassword=function(F){var y=this;if(!1===F instanceof Object)return Promise.reject('Parameters must have type "Object"');if(!1==="password"in F)return Promise.reject('Absent mandatory parameter "password"');if(!1==="hashAlgorithm"in F)return Promise.reject('Absent mandatory parameter "hashAlgorithm"');
if(!1==="salt"in F)return Promise.reject('Absent mandatory parameter "iterationCount"');if(!1==="iterationCount"in F)return Promise.reject('Absent mandatory parameter "salt"');if(!1==="contentToVerify"in F)return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!1==="signatureToVerify"in F)return Promise.reject('Absent mandatory parameter "signatureToVerify"');switch(F.hashAlgorithm.toLowerCase()){case "sha-1":var B=160;break;case "sha-256":B=256;break;case "sha-384":B=384;break;
case "sha-512":B=512;break;default:return Promise.reject('Incorrect "parameters.hashAlgorithm" parameter: '+F.hashAlgorithm)}var t=Promise.resolve(),S={name:"HMAC",length:B,hash:{name:F.hashAlgorithm}};t=t.then(function(){return u(y,F.hashAlgorithm,B,F.password,F.salt,F.iterationCount)});t=t.then(function(k){return y.importKey("raw",new Uint8Array(k),S,!1,["verify"])});return t=t.then(function(k){return y.verify(S,k,new Uint8Array(F.signatureToVerify),new Uint8Array(F.contentToVerify))},function(k){return Promise.reject(k)})};
A.prototype.getSignatureParameters=function(F,y){y=void 0===y?"SHA-1":y;if(""===this.getOIDByAlgorithm({name:y}))return Promise.reject("Unsupported hash algorithm: "+y);var B=new c.a,t=this.getAlgorithmParameters(F.algorithm.name,"sign");t.algorithm.hash.name=y;switch(F.algorithm.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":case "ECDSA":B.algorithmId=this.getOIDByAlgorithm(t.algorithm);break;case "RSA-PSS":switch(y.toUpperCase()){case "SHA-256":t.algorithm.saltLength=32;break;case "SHA-384":t.algorithm.saltLength=
48;break;case "SHA-512":t.algorithm.saltLength=64}F={};if("SHA-1"!==y.toUpperCase()){var S=this.getOIDByAlgorithm({name:y});if(""===S)return Promise.reject("Unsupported hash algorithm: "+y);F.hashAlgorithm=new c.a({algorithmId:S,algorithmParams:new J.Null});F.maskGenAlgorithm=new c.a({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:F.hashAlgorithm.toSchema()})}20!==t.algorithm.saltLength&&(F.saltLength=t.algorithm.saltLength);y=new r.a(F);B.algorithmId="1.2.840.113549.1.1.10";B.algorithmParams=
y.toSchema();break;default:return Promise.reject("Unsupported signature algorithm: "+F.algorithm.name)}return Promise.resolve().then(function(){return{signatureAlgorithm:B,parameters:t}})};A.prototype.signWithPrivateKey=function(F,y,B){return this.sign(B.algorithm,y,new Uint8Array(F)).then(function(t){"ECDSA"===B.algorithm.name&&(t=Object(l.a)(t));return t},function(t){return Promise.reject("Signing error: "+t)})};A.prototype.fillPublicKeyParameters=function(F,y){var B={},t=this.getHashAlgorithm(y);
if(""===t)return Promise.reject("Unsupported signature algorithm: "+y.algorithmId);y=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===y.algorithmId?y.algorithmId:F.algorithm.algorithmId);B.algorithm=this.getAlgorithmParameters(y.name,"importkey");"hash"in B.algorithm.algorithm&&(B.algorithm.algorithm.hash.name=t);if("ECDSA"===y.name){t=!1;!0==="algorithmParams"in F.algorithm&&"idBlock"in F.algorithm.algorithmParams&&1===F.algorithm.algorithmParams.idBlock.tagClass&&6===F.algorithm.algorithmParams.idBlock.tagNumber&&
(t=!0);if(!1===t)return Promise.reject("Incorrect type for ECDSA public key parameters");t=this.getAlgorithmByOID(F.algorithm.algorithmParams.valueBlock.toString());if(!1==="name"in t)return Promise.reject("Unsupported named curve algorithm: "+F.algorithm.algorithmParams.valueBlock.toString());B.algorithm.algorithm.namedCurve=t.name}return B};A.prototype.getPublicKey=function(F,y,B){B=void 0===B?null:B;null===B&&(B=this.fillPublicKeyParameters(F,y));F=F.toSchema().toBER(!1);F=new Uint8Array(F);return this.importKey("spki",
F,B.algorithm.algorithm,!0,B.algorithm.usages)};A.prototype.verifyWithPublicKey=function(F,y,B,t,S){var k=this;S=void 0===S?null:S;var e=Promise.resolve();if(null===S){S=this.getHashAlgorithm(t);if(""===S)return Promise.reject("Unsupported signature algorithm: "+t.algorithmId);e=e.then(function(){return k.getPublicKey(B,t)})}else{var q={},H=this.getAlgorithmByOID("1.2.840.113549.1.1.10"===t.algorithmId?t.algorithmId:B.algorithm.algorithmId);q.algorithm=this.getAlgorithmParameters(H.name,"importkey");
"hash"in q.algorithm.algorithm&&(q.algorithm.algorithm.hash.name=S);if("ECDSA"===H.name){H=!1;!0==="algorithmParams"in B.algorithm&&"idBlock"in B.algorithm.algorithmParams&&1===B.algorithm.algorithmParams.idBlock.tagClass&&6===B.algorithm.algorithmParams.idBlock.tagNumber&&(H=!0);if(!1===H)return Promise.reject("Incorrect type for ECDSA public key parameters");H=this.getAlgorithmByOID(B.algorithm.algorithmParams.valueBlock.toString());if(!1==="name"in H)return Promise.reject("Unsupported named curve algorithm: "+
B.algorithm.algorithmParams.valueBlock.toString());q.algorithm.algorithm.namedCurve=H.name}e=e.then(function(){return k.getPublicKey(B,null,q)})}return e=e.then(function(g){var x=k.getAlgorithmParameters(g.algorithm.name,"verify");"hash"in x.algorithm&&(x.algorithm.hash.name=S);var I=y.valueBlock.valueHex;"ECDSA"===g.algorithm.name&&(I=J.fromBER(I),I=Object(l.b)(I.result));if("RSA-PSS"===g.algorithm.name){try{var Q=new r.a({schema:t.algorithmParams})}catch(Y){return Promise.reject(Y)}x.algorithm.saltLength=
"saltLength"in Q?Q.saltLength:20;var Z="SHA-1";if("hashAlgorithm"in Q){Z=k.getAlgorithmByOID(Q.hashAlgorithm.algorithmId);if(!1==="name"in Z)return Promise.reject("Unrecognized hash algorithm: "+Q.hashAlgorithm.algorithmId);Z=Z.name}x.algorithm.hash.name=Z}return k.verify(x.algorithm,g,new Uint8Array(I),new Uint8Array(F))})}},function(R,G,E){var u=E(5);E(7);R.exports=u.cipher=u.cipher||{};u.cipher.algorithms=u.cipher.algorithms||{};u.cipher.createCipher=function(J,W){var l=J;"string"===typeof l&&
(l=u.cipher.getAlgorithm(l))&&(l=l());if(!l)throw Error("Unsupported algorithm: "+J);return new u.cipher.BlockCipher({algorithm:l,key:W,decrypt:!1})};u.cipher.createDecipher=function(J,W){var l=J;"string"===typeof l&&(l=u.cipher.getAlgorithm(l))&&(l=l());if(!l)throw Error("Unsupported algorithm: "+J);return new u.cipher.BlockCipher({algorithm:l,key:W,decrypt:!0})};u.cipher.registerAlgorithm=function(J,W){J=J.toUpperCase();u.cipher.algorithms[J]=W};u.cipher.getAlgorithm=function(J){J=J.toUpperCase();
return J in u.cipher.algorithms?u.cipher.algorithms[J]:null};R=u.cipher.BlockCipher=function(J){this.algorithm=J.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this.output=this._input=null;this._op=J.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=J.decrypt;this.algorithm.initialize(J)};R.prototype.start=function(J){J=J||{};var W={},l;for(l in J)W[l]=J[l];W.decrypt=this._decrypt;this._finish=!1;this._input=u.util.createBuffer();this.output=J.output||
u.util.createBuffer();this.mode.start(W)};R.prototype.update=function(J){for(J&&this._input.putBuffer(J);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};R.prototype.finish=function(J){!J||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(l){return J(this.blockSize,l,!1)},this.mode.unpad=function(l){return J(this.blockSize,l,!0)});var W={};W.decrypt=this._decrypt;W.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&
this.mode.pad&&!this.mode.pad(this._input,W))return!1;this._finish=!0;this.update();return this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,W)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,W)?!1:!0}},function(R,G,E){function u(){l=String.fromCharCode(128);l+=W.util.fillString(String.fromCharCode(0),64);h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];p=[7,12,17,22,7,
12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];c=Array(64);for(var r=0;64>r;++r)c[r]=Math.floor(4294967296*Math.abs(Math.sin(r+1)));f=!0}function J(r,z,M){for(var A,F,y,B,t,S,k,e=M.length();64<=e;){F=r.h0;y=r.h1;B=r.h2;t=r.h3;for(k=0;16>k;++k)z[k]=M.getInt32Le(),A=t^y&(B^t),A=F+A+c[k]+z[k],S=p[k],F=t,t=B,B=y,y+=A<<S|A>>>32-S;for(;32>k;++k)A=B^t&(y^B),A=F+A+c[k]+z[h[k]],S=p[k],F=t,t=B,B=
y,y+=A<<S|A>>>32-S;for(;48>k;++k)A=y^B^t,A=F+A+c[k]+z[h[k]],S=p[k],F=t,t=B,B=y,y+=A<<S|A>>>32-S;for(;64>k;++k)A=B^(y|~t),A=F+A+c[k]+z[h[k]],S=p[k],F=t,t=B,B=y,y+=A<<S|A>>>32-S;r.h0=r.h0+F|0;r.h1=r.h1+y|0;r.h2=r.h2+B|0;r.h3=r.h3+t|0;e-=64}}var W=E(5);E(17);E(7);R=R.exports=W.md5=W.md5||{};W.md.md5=W.md.algorithms.md5=R;R.create=function(){f||u();var r=null,z=W.util.createBuffer(),M=Array(16),A={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,
start:function(){A.messageLength=0;A.fullMessageLength=A.messageLength64=[];for(var F=A.messageLengthSize/4,y=0;y<F;++y)A.fullMessageLength.push(0);z=W.util.createBuffer();r={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878};return A}};A.start();A.update=function(F,y){"utf8"===y&&(F=W.util.encodeUtf8(F));y=F.length;A.messageLength+=y;y=[y/4294967296>>>0,y>>>0];for(var B=A.fullMessageLength.length-1;0<=B;--B)A.fullMessageLength[B]+=y[1],y[1]=y[0]+(A.fullMessageLength[B]/4294967296>>>0),A.fullMessageLength[B]>>>=
0,y[0]=y[1]/4294967296>>>0;z.putBytes(F);J(r,M,z);(2048<z.read||0===z.length())&&z.compact();return A};A.digest=function(){var F=W.util.createBuffer();F.putBytes(z.bytes());F.putBytes(l.substr(0,A.blockLength-(A.fullMessageLength[A.fullMessageLength.length-1]+A.messageLengthSize&A.blockLength-1)));for(var y,B=0,t=A.fullMessageLength.length-1;0<=t;--t)y=8*A.fullMessageLength[t]+B,B=y/4294967296>>>0,F.putInt32Le(y>>>0);y={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3};J(y,M,F);F=W.util.createBuffer();F.putInt32Le(y.h0);
F.putInt32Le(y.h1);F.putInt32Le(y.h2);F.putInt32Le(y.h3);return F};return A};var l=null,h=null,p=null,c=null,f=!1},function(R,G,E){(function(u){var J=E(5);E(25);E(17);E(7);var W=J.pkcs5=J.pkcs5||{},l;J.util.isNodejs&&!J.options.usePureJavaScript&&(l=E(39));R.exports=J.pbkdf2=W.pbkdf2=function(h,p,c,f,r,z){function M(){if(e>y)return z(null,S);t.start(null,null);t.update(p);t.update(J.util.int32ToBytes(e));q=k=t.digest().getBytes();H=2;A()}function A(){if(H<=c)return t.start(null,null),t.update(k),
g=t.digest().getBytes(),q=J.util.xorBytes(q,g,F),k=g,++H,J.util.setImmediate(A);S+=e<y?q:q.substr(0,B);++e;M()}"function"===typeof r&&(z=r,r=null);if(J.util.isNodejs&&!J.options.usePureJavaScript&&l.pbkdf2&&(null===r||"object"!==typeof r)&&(4<l.pbkdf2Sync.length||!r||"sha1"===r))return"string"!==typeof r&&(r="sha1"),h=u.from(h,"binary"),p=u.from(p,"binary"),z?4===l.pbkdf2Sync.length?l.pbkdf2(h,p,c,f,function(x,I){if(x)return z(x);z(null,I.toString("binary"))}):l.pbkdf2(h,p,c,f,r,function(x,I){if(x)return z(x);
z(null,I.toString("binary"))}):4===l.pbkdf2Sync.length?l.pbkdf2Sync(h,p,c,f).toString("binary"):l.pbkdf2Sync(h,p,c,f,r).toString("binary");if("undefined"===typeof r||null===r)r="sha1";if("string"===typeof r){if(!(r in J.md.algorithms))throw Error("Unknown hash algorithm: "+r);r=J.md[r].create()}var F=r.digestLength;if(f>4294967295*F){h=Error("Derived key is too long.");if(z)return z(h);throw h;}var y=Math.ceil(f/F),B=f-(y-1)*F,t=J.hmac.create();t.start(r,h);var S="",k;if(!z){for(var e=1;e<=y;++e){t.start(null,
null);t.update(p);t.update(J.util.int32ToBytes(e));var q=k=t.digest().getBytes();for(var H=2;H<=c;++H){t.start(null,null);t.update(k);var g=t.digest().getBytes();q=J.util.xorBytes(q,g,F);k=g}S+=e<y?q:q.substr(0,B)}return S}e=1;M()}}).call(this,E(6).Buffer)},function(R,G){},function(R,G,E){function u(k,e){"string"===typeof e&&(e={shortName:e});for(var q=null,H,g=0;null===q&&g<k.attributes.length;++g)H=k.attributes[g],e.type&&e.type===H.type?q=H:e.name&&e.name===H.name?q=H:e.shortName&&e.shortName===
H.shortName&&(q=H);return q}function J(k){var e=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);k=k.attributes;for(var q=0;q<k.length;++q){var H=k[q];var g=H.value,x=f.Type.PRINTABLESTRING;"valueTagClass"in H&&(x=H.valueTagClass,x===f.Type.UTF8&&(g=c.util.encodeUtf8(g)));H=f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(H.type).getBytes()),f.create(f.Class.UNIVERSAL,x,!1,g)])]);e.value.push(H)}return e}
function W(k){for(var e,q=0;q<k.length;++q){e=k[q];"undefined"===typeof e.name&&(e.type&&e.type in r.oids?e.name=r.oids[e.type]:e.shortName&&e.shortName in M&&(e.name=r.oids[M[e.shortName]]));if("undefined"===typeof e.type)if(e.name&&e.name in r.oids)e.type=r.oids[e.name];else throw k=Error("Attribute type not specified."),k.attribute=e,k;"undefined"===typeof e.shortName&&e.name&&e.name in M&&(e.shortName=M[e.name]);if(e.type===z.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=f.Type.SEQUENCE,
!e.value&&e.extensions)){e.value=[];for(var H=0;H<e.extensions.length;++H)e.value.push(r.certificateExtensionToAsn1(l(e.extensions[H])))}if("undefined"===typeof e.value)throw k=Error("Attribute value not specified."),k.attribute=e,k;}}function l(k,e){e=e||{};"undefined"===typeof k.name&&k.id&&k.id in r.oids&&(k.name=r.oids[k.id]);if("undefined"===typeof k.id)if(k.name&&k.name in r.oids)k.id=r.oids[k.name];else{var q=Error("Extension ID not specified.");q.extension=k;throw q;}if("undefined"!==typeof k.value)return k;
if("keyUsage"===k.name){var H=q=e=0;k.digitalSignature&&(q|=128,e=7);k.nonRepudiation&&(q|=64,e=6);k.keyEncipherment&&(q|=32,e=5);k.dataEncipherment&&(q|=16,e=4);k.keyAgreement&&(q|=8,e=3);k.keyCertSign&&(q|=4,e=2);k.cRLSign&&(q|=2,e=1);k.encipherOnly&&(q|=1,e=0);k.decipherOnly&&(H|=128,e=7);e=String.fromCharCode(e);0!==H?e+=String.fromCharCode(q)+String.fromCharCode(H):0!==q&&(e+=String.fromCharCode(q));k.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,e)}else if("basicConstraints"===k.name)k.value=
f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),k.cA&&k.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in k&&k.value.value.push(f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.pathLenConstraint).getBytes()));else if("extKeyUsage"===k.name)for(H in k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),q=k.value.value,k)!0===k[H]&&(H in z?q.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(z[H]).getBytes())):-1!==
H.indexOf(".")&&q.push(f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(H).getBytes())));else if("nsCertType"===k.name)q=e=0,k.client&&(q|=128,e=7),k.server&&(q|=64,e=6),k.email&&(q|=32,e=5),k.objsign&&(q|=16,e=4),k.reserved&&(q|=8,e=3),k.sslCA&&(q|=4,e=2),k.emailCA&&(q|=2,e=1),k.objCA&&(q|=1,e=0),e=String.fromCharCode(e),0!==q&&(e+=String.fromCharCode(q)),k.value=f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,e);else if("subjectAltName"===k.name||"issuerAltName"===k.name){k.value=f.create(f.Class.UNIVERSAL,
f.Type.SEQUENCE,!0,[]);for(var g=0;g<k.altNames.length;++g){H=k.altNames[g];e=H.value;if(7===H.type&&H.ip){if(e=c.util.bytesFromIP(H.ip),null===e)throw q=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),q.extension=k,q;}else 8===H.type&&(e=H.oid?f.oidToDer(f.oidToDer(H.oid)):f.oidToDer(e));k.value.value.push(f.create(f.Class.CONTEXT_SPECIFIC,H.type,!1,e))}}else if("nsComment"===k.name&&e.cert){if(!/^[\x00-\x7F]*$/.test(k.comment)||1>k.comment.length||128<k.comment.length)throw Error('Invalid "nsComment" content.');
k.value=f.create(f.Class.UNIVERSAL,f.Type.IA5STRING,!1,k.comment)}else if("subjectKeyIdentifier"===k.name&&e.cert)q=e.cert.generateSubjectKeyIdentifier(),k.subjectKeyIdentifier=q.toHex(),k.value=f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,q.getBytes());else if("authorityKeyIdentifier"===k.name&&e.cert)k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]),q=k.value.value,k.keyIdentifier&&(H=!0===k.keyIdentifier?e.cert.generateSubjectKeyIdentifier().getBytes():k.keyIdentifier,q.push(f.create(f.Class.CONTEXT_SPECIFIC,
0,!1,H))),k.authorityCertIssuer&&(H=[f.create(f.Class.CONTEXT_SPECIFIC,4,!0,[J(!0===k.authorityCertIssuer?e.cert.issuer:k.authorityCertIssuer)])],q.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,H))),k.serialNumber&&(e=c.util.hexToBytes(!0===k.serialNumber?e.cert.serialNumber:k.serialNumber),q.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!1,e)));else if("cRLDistributionPoints"===k.name){k.value=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);q=k.value.value;var x=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[]),I=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);for(g=0;g<k.altNames.length;++g){H=k.altNames[g];e=H.value;if(7===H.type&&H.ip){if(e=c.util.bytesFromIP(H.ip),null===e)throw q=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.'),q.extension=k,q;}else 8===H.type&&(e=H.oid?f.oidToDer(f.oidToDer(H.oid)):f.oidToDer(e));I.value.push(f.create(f.Class.CONTEXT_SPECIFIC,H.type,!1,e))}x.value.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[I]));q.push(x)}if("undefined"===typeof k.value)throw q=
Error("Extension value not specified."),q.extension=k,q;return k}function h(k,e){switch(k){case z["RSASSA-PSS"]:return k=[],void 0!==e.hash.algorithmOid&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.mgf.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(e.mgf.hash.algorithmOid).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&k.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(e.saltLength).getBytes())])),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,k);default:return f.create(f.Class.UNIVERSAL,
f.Type.NULL,!1,"")}}function p(k){return k>=t&&k<S?f.create(f.Class.UNIVERSAL,f.Type.UTCTIME,!1,f.dateToUtcTime(k)):f.create(f.Class.UNIVERSAL,f.Type.GENERALIZEDTIME,!1,f.dateToGeneralizedTime(k))}var c=E(5);E(20);E(15);E(32);E(17);E(75);E(21);E(22);E(41);E(33);E(7);var f=c.asn1,r=R.exports=c.pki=c.pki||{},z=r.oids,M={};M.CN=z.commonName;M.commonName="CN";M.C=z.countryName;M.countryName="C";M.L=z.localityName;M.localityName="L";M.ST=z.stateOrProvinceName;M.stateOrProvinceName="ST";M.O=z.organizationName;
M.organizationName="O";M.OU=z.organizationalUnitName;M.organizationalUnitName="OU";M.E=z.emailAddress;M.emailAddress="E";R=c.pki.rsa.publicKeyValidator;var A={name:"Certificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",
tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",
tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",
tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:f.Class.UNIVERSAL,type:f.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:f.Class.UNIVERSAL,type:f.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",
tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},R,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",
tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"certSignatureOid"},
{name:"Certificate.TBSCertificate.signature.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},F={name:"rsapss",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,
type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:f.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:f.Class.UNIVERSAL,type:f.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:f.Class.UNIVERSAL,
type:f.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:f.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,
constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:f.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:f.Class.UNIVERSAL,type:f.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},y={name:"CertificationRequest",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",
tagClass:f.Class.UNIVERSAL,type:f.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},R,{name:"CertificationRequestInfo.attributes",tagClass:f.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,
constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:f.Class.UNIVERSAL,type:f.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:f.Class.UNIVERSAL,type:f.Type.OID,constructed:!1,capture:"csrSignatureOid"},
{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:f.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:f.Class.UNIVERSAL,type:f.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};r.RDNAttributesAsArray=function(k,e){for(var q=[],H,g,x,I=0;I<k.value.length;++I){H=k.value[I];for(var Q=0;Q<H.value.length;++Q)x={},g=H.value[Q],x.type=f.derToOid(g.value[0].value),x.value=g.value[1].value,x.valueTagClass=g.value[1].type,
x.type in z&&(x.name=z[x.type],x.name in M&&(x.shortName=M[x.name])),e&&(e.update(x.type),e.update(x.value)),q.push(x)}return q};r.CRIAttributesAsArray=function(k){for(var e=[],q=0;q<k.length;++q){var H=k[q],g=f.derToOid(H.value[0].value);H=H.value[1].value;for(var x=0;x<H.length;++x){var I={};I.type=g;I.value=H[x].value;I.valueTagClass=H[x].type;I.type in z&&(I.name=z[I.type],I.name in M&&(I.shortName=M[I.name]));if(I.type===z.extensionRequest){I.extensions=[];for(var Q=0;Q<I.value.length;++Q)I.extensions.push(r.certificateExtensionFromAsn1(I.value[Q]))}e.push(I)}}return e};
var B=function(k,e,q){var H={};if(k!==z["RSASSA-PSS"])return H;q&&(H={hash:{algorithmOid:z.sha1},mgf:{algorithmOid:z.mgf1,hash:{algorithmOid:z.sha1}},saltLength:20});q={};k=[];if(!f.validate(e,F,q,k))throw e=Error("Cannot read RSASSA-PSS parameter block."),e.errors=k,e;void 0!==q.hashOid&&(H.hash=H.hash||{},H.hash.algorithmOid=f.derToOid(q.hashOid));void 0!==q.maskGenOid&&(H.mgf=H.mgf||{},H.mgf.algorithmOid=f.derToOid(q.maskGenOid),H.mgf.hash=H.mgf.hash||{},H.mgf.hash.algorithmOid=f.derToOid(q.maskGenHashOid));
void 0!==q.saltLength&&(H.saltLength=q.saltLength.charCodeAt(0));return H};r.certificateFromPem=function(k,e,q){k=c.pem.decode(k)[0];if("CERTIFICATE"!==k.type&&"X509 CERTIFICATE"!==k.type&&"TRUSTED CERTIFICATE"!==k.type)throw e=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".'),e.headerType=k.type,e;if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
q=f.fromDer(k.body,q);return r.certificateFromAsn1(q,e)};r.certificateToPem=function(k,e){k={type:"CERTIFICATE",body:f.toDer(r.certificateToAsn1(k)).getBytes()};return c.pem.encode(k,{maxline:e})};r.publicKeyFromPem=function(k){k=c.pem.decode(k)[0];if("PUBLIC KEY"!==k.type&&"RSA PUBLIC KEY"!==k.type){var e=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');e.headerType=k.type;throw e;}if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert public key from PEM; PEM is encrypted.");
k=f.fromDer(k.body);return r.publicKeyFromAsn1(k)};r.publicKeyToPem=function(k,e){k={type:"PUBLIC KEY",body:f.toDer(r.publicKeyToAsn1(k)).getBytes()};return c.pem.encode(k,{maxline:e})};r.publicKeyToRSAPublicKeyPem=function(k,e){k={type:"RSA PUBLIC KEY",body:f.toDer(r.publicKeyToRSAPublicKey(k)).getBytes()};return c.pem.encode(k,{maxline:e})};r.getPublicKeyFingerprint=function(k,e){e=e||{};var q=e.md||c.md.sha1.create();switch(e.type||"RSAPublicKey"){case "RSAPublicKey":k=f.toDer(r.publicKeyToRSAPublicKey(k)).getBytes();
break;case "SubjectPublicKeyInfo":k=f.toDer(r.publicKeyToAsn1(k)).getBytes();break;default:throw Error('Unknown fingerprint type "'+e.type+'".');}q.start();q.update(k);q=q.digest();if("hex"===e.encoding)return q=q.toHex(),e.delimiter?q.match(/.{2}/g).join(e.delimiter):q;if("binary"===e.encoding)return q.getBytes();if(e.encoding)throw Error('Unknown encoding "'+e.encoding+'".');return q};r.certificationRequestFromPem=function(k,e,q){k=c.pem.decode(k)[0];if("CERTIFICATE REQUEST"!==k.type)throw e=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".'),
e.headerType=k.type,e;if(k.procType&&"ENCRYPTED"===k.procType.type)throw Error("Could not convert certification request from PEM; PEM is encrypted.");q=f.fromDer(k.body,q);return r.certificationRequestFromAsn1(q,e)};r.certificationRequestToPem=function(k,e){k={type:"CERTIFICATE REQUEST",body:f.toDer(r.certificationRequestToAsn1(k)).getBytes()};return c.pem.encode(k,{maxline:e})};r.createCertificate=function(){var k={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};k.siginfo.algorithmOid=
null;k.validity={};k.validity.notBefore=new Date;k.validity.notAfter=new Date;k.issuer={};k.issuer.getField=function(e){return u(k.issuer,e)};k.issuer.addField=function(e){W([e]);k.issuer.attributes.push(e)};k.issuer.attributes=[];k.issuer.hash=null;k.subject={};k.subject.getField=function(e){return u(k.subject,e)};k.subject.addField=function(e){W([e]);k.subject.attributes.push(e)};k.subject.attributes=[];k.subject.hash=null;k.extensions=[];k.publicKey=null;k.md=null;k.setSubject=function(e,q){W(e);
k.subject.attributes=e;delete k.subject.uniqueId;q&&(k.subject.uniqueId=q);k.subject.hash=null};k.setIssuer=function(e,q){W(e);k.issuer.attributes=e;delete k.issuer.uniqueId;q&&(k.issuer.uniqueId=q);k.issuer.hash=null};k.setExtensions=function(e){for(var q=0;q<e.length;++q)l(e[q],{cert:k});k.extensions=e};k.getExtension=function(e){"string"===typeof e&&(e={name:e});for(var q=null,H,g=0;null===q&&g<k.extensions.length;++g)H=k.extensions[g],e.id&&H.id===e.id?q=H:e.name&&H.name===e.name&&(q=H);return q};
k.sign=function(e,q){k.md=q||c.md.sha1.create();q=z[k.md.algorithm+"WithRSAEncryption"];if(!q)throw e=Error("Could not compute certificate digest. Unknown message digest algorithm OID."),e.algorithm=k.md.algorithm,e;k.signatureOid=k.siginfo.algorithmOid=q;k.tbsCertificate=r.getTBSCertificate(k);q=f.toDer(k.tbsCertificate);k.md.update(q.getBytes());k.signature=e.sign(k.md)};k.verify=function(e){var q=!1;if(!k.issued(e)){q=k.subject;var H=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");
H.expectedIssuer=e.issuer.attributes;H.actualIssuer=q.attributes;throw H;}H=e.md;if(null===H){if(e.signatureOid in z)switch(z[e.signatureOid]){case "sha1WithRSAEncryption":H=c.md.sha1.create();break;case "md5WithRSAEncryption":H=c.md.md5.create();break;case "sha256WithRSAEncryption":H=c.md.sha256.create();break;case "sha384WithRSAEncryption":H=c.md.sha384.create();break;case "sha512WithRSAEncryption":H=c.md.sha512.create();break;case "RSASSA-PSS":H=c.md.sha256.create()}if(null===H)throw H=Error("Could not compute certificate digest. Unknown signature OID."),
H.signatureOid=e.signatureOid,H;var g=e.tbsCertificate||r.getTBSCertificate(e);g=f.toDer(g);H.update(g.getBytes())}if(null!==H){switch(e.signatureOid){case z.sha1WithRSAEncryption:var x=void 0;break;case z["RSASSA-PSS"]:q=z[e.signatureParameters.mgf.hash.algorithmOid];if(void 0===q||void 0===c.md[q])throw H=Error("Unsupported MGF hash function."),H.oid=e.signatureParameters.mgf.hash.algorithmOid,H.name=q,H;x=z[e.signatureParameters.mgf.algorithmOid];if(void 0===x||void 0===c.mgf[x])throw H=Error("Unsupported MGF function."),
H.oid=e.signatureParameters.mgf.algorithmOid,H.name=x,H;x=c.mgf[x].create(c.md[q].create());q=z[e.signatureParameters.hash.algorithmOid];if(void 0===q||void 0===c.md[q])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:q};x=c.pss.create(c.md[q].create(),x,e.signatureParameters.saltLength)}q=k.publicKey.verify(H.digest().getBytes(),e.signature,x)}return q};k.isIssuer=function(e){var q=!1,H=k.issuer;e=e.subject;if(H.hash&&e.hash)q=H.hash===e.hash;
else if(H.attributes.length===e.attributes.length){q=!0;for(var g,x,I=0;q&&I<H.attributes.length;++I)if(g=H.attributes[I],x=e.attributes[I],g.type!==x.type||g.value!==x.value)q=!1}return q};k.issued=function(e){return e.isIssuer(k)};k.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(k.publicKey,{type:"RSAPublicKey"})};k.verifySubjectKeyIdentifier=function(){for(var e=z.subjectKeyIdentifier,q=0;q<k.extensions.length;++q){var H=k.extensions[q];if(H.id===e)return e=k.generateSubjectKeyIdentifier().getBytes(),
c.util.hexToBytes(H.subjectKeyIdentifier)===e}return!1};return k};r.certificateFromAsn1=function(k,e){var q={},H=[];if(!f.validate(k,A,q,H))throw q=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate."),q.errors=H,q;H=f.derToOid(q.publicKeyOid);if(H!==r.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var g=r.createCertificate();g.version=q.certVersion?q.certVersion.charCodeAt(0):0;H=c.util.createBuffer(q.certSerialNumber);g.serialNumber=H.toHex();
g.signatureOid=c.asn1.derToOid(q.certSignatureOid);g.signatureParameters=B(g.signatureOid,q.certSignatureParams,!0);g.siginfo.algorithmOid=c.asn1.derToOid(q.certinfoSignatureOid);g.siginfo.parameters=B(g.siginfo.algorithmOid,q.certinfoSignatureParams,!1);g.signature=q.certSignature;H=[];void 0!==q.certValidity1UTCTime&&H.push(f.utcTimeToDate(q.certValidity1UTCTime));void 0!==q.certValidity2GeneralizedTime&&H.push(f.generalizedTimeToDate(q.certValidity2GeneralizedTime));void 0!==q.certValidity3UTCTime&&
H.push(f.utcTimeToDate(q.certValidity3UTCTime));void 0!==q.certValidity4GeneralizedTime&&H.push(f.generalizedTimeToDate(q.certValidity4GeneralizedTime));if(2<H.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>H.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");g.validity.notBefore=H[0];g.validity.notAfter=H[1];g.tbsCertificate=q.tbsCertificate;
if(e){g.md=null;if(g.signatureOid in z)switch(H=z[g.signatureOid],H){case "sha1WithRSAEncryption":g.md=c.md.sha1.create();break;case "md5WithRSAEncryption":g.md=c.md.md5.create();break;case "sha256WithRSAEncryption":g.md=c.md.sha256.create();break;case "sha384WithRSAEncryption":g.md=c.md.sha384.create();break;case "sha512WithRSAEncryption":g.md=c.md.sha512.create();break;case "RSASSA-PSS":g.md=c.md.sha256.create()}if(null===g.md)throw q=Error("Could not compute certificate digest. Unknown signature OID."),
q.signatureOid=g.signatureOid,q;e=f.toDer(g.tbsCertificate);g.md.update(e.getBytes())}e=c.md.sha1.create();g.issuer.getField=function(x){return u(g.issuer,x)};g.issuer.addField=function(x){W([x]);g.issuer.attributes.push(x)};g.issuer.attributes=r.RDNAttributesAsArray(q.certIssuer,e);q.certIssuerUniqueId&&(g.issuer.uniqueId=q.certIssuerUniqueId);g.issuer.hash=e.digest().toHex();e=c.md.sha1.create();g.subject.getField=function(x){return u(g.subject,x)};g.subject.addField=function(x){W([x]);g.subject.attributes.push(x)};
g.subject.attributes=r.RDNAttributesAsArray(q.certSubject,e);q.certSubjectUniqueId&&(g.subject.uniqueId=q.certSubjectUniqueId);g.subject.hash=e.digest().toHex();g.extensions=q.certExtensions?r.certificateExtensionsFromAsn1(q.certExtensions):[];g.publicKey=r.publicKeyFromAsn1(q.subjectPublicKeyInfo);return g};r.certificateExtensionsFromAsn1=function(k){for(var e=[],q=0;q<k.value.length;++q)for(var H=k.value[q],g=0;g<H.value.length;++g)e.push(r.certificateExtensionFromAsn1(H.value[g]));return e};r.certificateExtensionFromAsn1=
function(k){var e={};e.id=f.derToOid(k.value[0].value);e.critical=!1;k.value[1].type===f.Type.BOOLEAN?(e.critical=0!==k.value[1].value.charCodeAt(0),e.value=k.value[2].value):e.value=k.value[1].value;if(e.id in z)if(e.name=z[e.id],"keyUsage"===e.name){k=f.fromDer(e.value);var q=0,H=0;1<k.value.length&&(q=k.value.charCodeAt(1),H=2<k.value.length?k.value.charCodeAt(2):0);e.digitalSignature=128===(q&128);e.nonRepudiation=64===(q&64);e.keyEncipherment=32===(q&32);e.dataEncipherment=16===(q&16);e.keyAgreement=
8===(q&8);e.keyCertSign=4===(q&4);e.cRLSign=2===(q&2);e.encipherOnly=1===(q&1);e.decipherOnly=128===(H&128)}else if("basicConstraints"===e.name)k=f.fromDer(e.value),e.cA=0<k.value.length&&k.value[0].type===f.Type.BOOLEAN?0!==k.value[0].value.charCodeAt(0):!1,q=null,0<k.value.length&&k.value[0].type===f.Type.INTEGER?q=k.value[0].value:1<k.value.length&&(q=k.value[1].value),null!==q&&(e.pathLenConstraint=f.derToInteger(q));else if("extKeyUsage"===e.name)for(k=f.fromDer(e.value),q=0;q<k.value.length;++q)H=
f.derToOid(k.value[q].value),H in z?e[z[H]]=!0:e[H]=!0;else if("nsCertType"===e.name)k=f.fromDer(e.value),q=0,1<k.value.length&&(q=k.value.charCodeAt(1)),e.client=128===(q&128),e.server=64===(q&64),e.email=32===(q&32),e.objsign=16===(q&16),e.reserved=8===(q&8),e.sslCA=4===(q&4),e.emailCA=2===(q&2),e.objCA=1===(q&1);else if("subjectAltName"===e.name||"issuerAltName"===e.name)for(e.altNames=[],k=f.fromDer(e.value),H=0;H<k.value.length;++H){q=k.value[H];var g={type:q.type,value:q.value};e.altNames.push(g);
switch(q.type){case 7:g.ip=c.util.bytesToIP(q.value);break;case 8:g.oid=f.derToOid(q.value)}}else"subjectKeyIdentifier"===e.name&&(k=f.fromDer(e.value),e.subjectKeyIdentifier=c.util.bytesToHex(k.value));return e};r.certificationRequestFromAsn1=function(k,e){var q={},H=[];if(!f.validate(k,y,q,H))throw q=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest."),q.errors=H,q;H=f.derToOid(q.publicKeyOid);if(H!==r.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");
var g=r.createCertificationRequest();g.version=q.csrVersion?q.csrVersion.charCodeAt(0):0;g.signatureOid=c.asn1.derToOid(q.csrSignatureOid);g.signatureParameters=B(g.signatureOid,q.csrSignatureParams,!0);g.siginfo.algorithmOid=c.asn1.derToOid(q.csrSignatureOid);g.siginfo.parameters=B(g.siginfo.algorithmOid,q.csrSignatureParams,!1);g.signature=q.csrSignature;g.certificationRequestInfo=q.certificationRequestInfo;if(e){g.md=null;if(g.signatureOid in z)switch(H=z[g.signatureOid],H){case "sha1WithRSAEncryption":g.md=
c.md.sha1.create();break;case "md5WithRSAEncryption":g.md=c.md.md5.create();break;case "sha256WithRSAEncryption":g.md=c.md.sha256.create();break;case "sha384WithRSAEncryption":g.md=c.md.sha384.create();break;case "sha512WithRSAEncryption":g.md=c.md.sha512.create();break;case "RSASSA-PSS":g.md=c.md.sha256.create()}if(null===g.md)throw q=Error("Could not compute certification request digest. Unknown signature OID."),q.signatureOid=g.signatureOid,q;e=f.toDer(g.certificationRequestInfo);g.md.update(e.getBytes())}e=
c.md.sha1.create();g.subject.getField=function(x){return u(g.subject,x)};g.subject.addField=function(x){W([x]);g.subject.attributes.push(x)};g.subject.attributes=r.RDNAttributesAsArray(q.certificationRequestInfoSubject,e);g.subject.hash=e.digest().toHex();g.publicKey=r.publicKeyFromAsn1(q.subjectPublicKeyInfo);g.getAttribute=function(x){return u(g,x)};g.addAttribute=function(x){W([x]);g.attributes.push(x)};g.attributes=r.CRIAttributesAsArray(q.certificationRequestInfoAttributes||[]);return g};r.createCertificationRequest=
function(){var k={version:0,signatureOid:null,signature:null,siginfo:{}};k.siginfo.algorithmOid=null;k.subject={};k.subject.getField=function(e){return u(k.subject,e)};k.subject.addField=function(e){W([e]);k.subject.attributes.push(e)};k.subject.attributes=[];k.subject.hash=null;k.publicKey=null;k.attributes=[];k.getAttribute=function(e){return u(k,e)};k.addAttribute=function(e){W([e]);k.attributes.push(e)};k.md=null;k.setSubject=function(e){W(e);k.subject.attributes=e;k.subject.hash=null};k.setAttributes=
function(e){W(e);k.attributes=e};k.sign=function(e,q){k.md=q||c.md.sha1.create();q=z[k.md.algorithm+"WithRSAEncryption"];if(!q)throw e=Error("Could not compute certification request digest. Unknown message digest algorithm OID."),e.algorithm=k.md.algorithm,e;k.signatureOid=k.siginfo.algorithmOid=q;k.certificationRequestInfo=r.getCertificationRequestInfo(k);q=f.toDer(k.certificationRequestInfo);k.md.update(q.getBytes());k.signature=e.sign(k.md)};k.verify=function(){var e=!1,q=k.md;if(null===q){if(k.signatureOid in
z)switch(z[k.signatureOid]){case "sha1WithRSAEncryption":q=c.md.sha1.create();break;case "md5WithRSAEncryption":q=c.md.md5.create();break;case "sha256WithRSAEncryption":q=c.md.sha256.create();break;case "sha384WithRSAEncryption":q=c.md.sha384.create();break;case "sha512WithRSAEncryption":q=c.md.sha512.create();break;case "RSASSA-PSS":q=c.md.sha256.create()}if(null===q)throw q=Error("Could not compute certification request digest. Unknown signature OID."),q.signatureOid=k.signatureOid,q;var H=k.certificationRequestInfo||
r.getCertificationRequestInfo(k);H=f.toDer(H);q.update(H.getBytes())}if(null!==q){switch(k.signatureOid){case z["RSASSA-PSS"]:e=z[k.signatureParameters.mgf.hash.algorithmOid];if(void 0===e||void 0===c.md[e])throw q=Error("Unsupported MGF hash function."),q.oid=k.signatureParameters.mgf.hash.algorithmOid,q.name=e,q;var g=z[k.signatureParameters.mgf.algorithmOid];if(void 0===g||void 0===c.mgf[g])throw q=Error("Unsupported MGF function."),q.oid=k.signatureParameters.mgf.algorithmOid,q.name=g,q;g=c.mgf[g].create(c.md[e].create());
e=z[k.signatureParameters.hash.algorithmOid];if(void 0===e||void 0===c.md[e])throw q=Error("Unsupported RSASSA-PSS hash function."),q.oid=k.signatureParameters.hash.algorithmOid,q.name=e,q;g=c.pss.create(c.md[e].create(),g,k.signatureParameters.saltLength)}e=k.publicKey.verify(q.digest().getBytes(),k.signature,g)}return e};return k};var t=new Date("1950-01-01T00:00:00Z"),S=new Date("2050-01-01T00:00:00Z");r.getTBSCertificate=function(k){var e=p(k.validity.notBefore),q=p(k.validity.notAfter);e=f.create(f.Class.UNIVERSAL,
f.Type.SEQUENCE,!0,[f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.version).getBytes())]),f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,c.util.hexToBytes(k.serialNumber)),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(k.siginfo.algorithmOid).getBytes()),h(k.siginfo.algorithmOid,k.siginfo.parameters)]),J(k.issuer),f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,q]),J(k.subject),r.publicKeyToAsn1(k.publicKey)]);
k.issuer.uniqueId&&e.value.push(f.create(f.Class.CONTEXT_SPECIFIC,1,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.issuer.uniqueId)]));k.subject.uniqueId&&e.value.push(f.create(f.Class.CONTEXT_SPECIFIC,2,!0,[f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.subject.uniqueId)]));0<k.extensions.length&&e.value.push(r.certificateExtensionsToAsn1(k.extensions));return e};r.getCertificationRequestInfo=function(k){var e=f,q=e.create,H=f.Class.UNIVERSAL,
g=f.Type.SEQUENCE,x=f.create(f.Class.UNIVERSAL,f.Type.INTEGER,!1,f.integerToDer(k.version).getBytes()),I=J(k.subject),Q=r.publicKeyToAsn1(k.publicKey);var Z=f.create(f.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0!==k.attributes.length){k=k.attributes;for(var Y=0;Y<k.length;++Y){var ba=k[Y],ha=ba.value,ia=f.Type.UTF8;"valueTagClass"in ba&&(ia=ba.valueTagClass);ia===f.Type.UTF8&&(ha=c.util.encodeUtf8(ha));var na=!1;"valueConstructed"in ba&&(na=ba.valueConstructed);ba=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,
!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(ba.type).getBytes()),f.create(f.Class.UNIVERSAL,f.Type.SET,!0,[f.create(f.Class.UNIVERSAL,ia,na,ha)])]);Z.value.push(ba)}}return q.call(e,H,g,!0,[x,I,Q,Z])};r.distinguishedNameToAsn1=function(k){return J(k)};r.certificateToAsn1=function(k){var e=k.tbsCertificate||r.getTBSCertificate(k);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,f.Type.OID,!1,f.oidToDer(k.signatureOid).getBytes()),
h(k.signatureOid,k.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.signature)])};r.certificateExtensionsToAsn1=function(k){var e=f.create(f.Class.CONTEXT_SPECIFIC,3,!0,[]),q=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);e.value.push(q);for(var H=0;H<k.length;++H)q.value.push(r.certificateExtensionToAsn1(k[H]));return e};r.certificateExtensionToAsn1=function(k){var e=f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[]);e.value.push(f.create(f.Class.UNIVERSAL,
f.Type.OID,!1,f.oidToDer(k.id).getBytes()));k.critical&&e.value.push(f.create(f.Class.UNIVERSAL,f.Type.BOOLEAN,!1,String.fromCharCode(255)));var q=k.value;"string"!==typeof k.value&&(q=f.toDer(q).getBytes());e.value.push(f.create(f.Class.UNIVERSAL,f.Type.OCTETSTRING,!1,q));return e};r.certificationRequestToAsn1=function(k){var e=k.certificationRequestInfo||r.getCertificationRequestInfo(k);return f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[e,f.create(f.Class.UNIVERSAL,f.Type.SEQUENCE,!0,[f.create(f.Class.UNIVERSAL,
f.Type.OID,!1,f.oidToDer(k.signatureOid).getBytes()),h(k.signatureOid,k.signatureParameters)]),f.create(f.Class.UNIVERSAL,f.Type.BITSTRING,!1,String.fromCharCode(0)+k.signature)])};r.createCaStore=function(k){function e(x){q(x);return H.certs[x.hash]||null}function q(x){if(!x.hash){var I=c.md.sha1.create();x.attributes=r.RDNAttributesAsArray(J(x),I);x.hash=I.digest().toHex()}}var H={certs:{},getIssuer:function(x){return e(x.issuer)},addCertificate:function(x){"string"===typeof x&&(x=c.pki.certificateFromPem(x));
q(x.subject);if(!H.hasCertificate(x))if(x.subject.hash in H.certs){var I=H.certs[x.subject.hash];c.util.isArray(I)||(I=[I]);I.push(x);H.certs[x.subject.hash]=I}else H.certs[x.subject.hash]=x},hasCertificate:function(x){"string"===typeof x&&(x=c.pki.certificateFromPem(x));var I=e(x.subject);if(!I)return!1;c.util.isArray(I)||(I=[I]);x=f.toDer(r.certificateToAsn1(x)).getBytes();for(var Q=0;Q<I.length;++Q){var Z=f.toDer(r.certificateToAsn1(I[Q])).getBytes();if(x===Z)return!0}return!1},listAllCertificates:function(){var x=
[],I;for(I in H.certs)if(H.certs.hasOwnProperty(I)){var Q=H.certs[I];if(c.util.isArray(Q))for(var Z=0;Z<Q.length;++Z)x.push(Q[Z]);else x.push(Q)}return x},removeCertificate:function(x){"string"===typeof x&&(x=c.pki.certificateFromPem(x));q(x.subject);if(!H.hasCertificate(x))return null;var I=e(x.subject);if(!c.util.isArray(I)){var Q=H.certs[x.subject.hash];delete H.certs[x.subject.hash];return Q}for(var Z=f.toDer(r.certificateToAsn1(x)).getBytes(),Y=0;Y<I.length;++Y){var ba=f.toDer(r.certificateToAsn1(I[Y])).getBytes();
Z===ba&&(Q=I[Y],I.splice(Y,1))}0===I.length&&delete H.certs[x.subject.hash];return Q}};if(k)for(var g=0;g<k.length;++g)H.addCertificate(k[g]);return H};r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};r.verifyCertificateChain=
function(k,e,q){"function"===typeof q&&(q={verify:q});q=q||{};e=e.slice(0);var H=e.slice(0),g=q.validityCheckDate;"undefined"===typeof g&&(g=new Date);var x=!0,I=null,Q=0;do{var Z=e.shift(),Y=null,ba=!1;g&&(g<Z.validity.notBefore||g>Z.validity.notAfter)&&(I={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:Z.validity.notBefore,notAfter:Z.validity.notAfter,now:g});if(null===I){Y=e[0]||k.getIssuer(Z);null===Y&&Z.isIssuer(Z)&&(ba=!0,Y=Z);if(Y){var ha=
Y;c.util.isArray(ha)||(ha=[ha]);for(var ia=!1;!ia&&0<ha.length;){Y=ha.shift();try{ia=Y.verify(Z)}catch(v){}}ia||(I={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==I||Y&&!ba||k.hasCertificate(Z)||(I={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}null===I&&Y&&!Z.isIssuer(Y)&&(I={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate});if(null===I)for(ha={keyUsage:!0,basicConstraints:!0},ia=0;null===
I&&ia<Z.extensions.length;++ia){var na=Z.extensions[ia];!na.critical||na.name in ha||(I={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}null!==I||x&&(0!==e.length||Y&&!ba)||(x=Z.getExtension("basicConstraints"),Z=Z.getExtension("keyUsage"),null!==Z&&(Z.keyCertSign&&null!==x||(I={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",
error:r.certificateError.bad_certificate})),null!==I||null===x||x.cA||(I={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===I&&null!==Z&&"pathLenConstraint"in x&&Q-1>x.pathLenConstraint&&(I={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate}));Z=null===I?!0:I.error;x=q.verify?q.verify(Z,Q,H):Z;if(!0===x)I=null;else{!0===Z&&(I={message:"The application rejected the certificate.",
error:r.certificateError.bad_certificate});if(x||0===x)"object"!==typeof x||c.util.isArray(x)?"string"===typeof x&&(I.error=x):(x.message&&(I.message=x.message),x.error&&(I.error=x.error));throw I;}x=!1;++Q}while(0<e.length);return!0}},function(R,G,E){var u=E(5);E(13);E(7);(R.exports=u.pss=u.pss||{}).create=function(J){3===arguments.length&&(J={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var W=J.md,l=J.mgf,h=W.digestLength,p=J.salt||null;"string"===typeof p&&(p=u.util.createBuffer(p));
if("saltLength"in J)var c=J.saltLength;else if(null!==p)c=p.length();else throw Error("Salt length not specified or specific salt not given.");if(null!==p&&p.length()!==c)throw Error("Given salt length does not match length of given salt.");var f=J.prng||u.random;return{encode:function(r,z){--z;var M=Math.ceil(z/8);r=r.digest().getBytes();if(M<h+c+2)throw Error("Message is too long to encrypt.");var A=null===p?f.getBytesSync(c):p.bytes();var F=new u.util.ByteBuffer;F.fillWithByte(0,8);F.putBytes(r);
F.putBytes(A);W.start();W.update(F.getBytes());r=W.digest().getBytes();F=new u.util.ByteBuffer;F.fillWithByte(0,M-c-h-2);F.putByte(1);F.putBytes(A);var y=F.getBytes(),B=M-h-1,t=l.generate(r,B);A="";for(F=0;F<B;F++)A+=String.fromCharCode(y.charCodeAt(F)^t.charCodeAt(F));z=65280>>8*M-z&255;A=String.fromCharCode(A.charCodeAt(0)&~z)+A.substr(1);return A+r+String.fromCharCode(188)},verify:function(r,z,M){var A=M-1;M=Math.ceil(A/8);z=z.substr(-M);if(M<h+c+2)throw Error("Inconsistent parameters to PSS signature verification.");
if(188!==z.charCodeAt(M-1))throw Error("Encoded message does not end in 0xBC.");var F=M-h-1,y=z.substr(0,F);z=z.substr(F,h);var B=65280>>8*M-A&255;if(0!==(y.charCodeAt(0)&B))throw Error("Bits beyond keysize not zero as expected.");var t=l.generate(z,F),S="";for(A=0;A<F;A++)S+=String.fromCharCode(y.charCodeAt(A)^t.charCodeAt(A));S=String.fromCharCode(S.charCodeAt(0)&~B)+S.substr(1);M=M-h-c-2;for(A=0;A<M;A++)if(0!==S.charCodeAt(A))throw Error("Leftmost octets not zero as expected");if(1!==S.charCodeAt(M))throw Error("Inconsistent PSS signature, 0x01 marker not found");
M=S.substr(-c);F=new u.util.ByteBuffer;F.fillWithByte(0,8);F.putBytes(r);F.putBytes(M);W.start();W.update(F.getBytes());r=W.digest().getBytes();return z===r}}}},function(R,G,E){function u(a,C,L,X){var la=arguments.length,sa=3>la?C:null===X?X=Object.getOwnPropertyDescriptor(C,L):X,Ba;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)sa=Reflect.decorate(a,C,L,X);else for(var Ea=a.length-1;0<=Ea;Ea--)if(Ba=a[Ea])sa=(3>la?Ba(sa):3<la?Ba(C,L,sa):Ba(C,L))||sa;return 3<la&&sa&&Object.defineProperty(C,
L,sa),sa}function J(a,C){return a==C?0:a?C?a.prefix?C.prefix?a.prefix<C.prefix?-1:a.prefix>C.prefix?1:0:1:-1:1:-1}function W(a,C){if(!a.namespaceURI&&C.namespaceURI)return-1;if(!C.namespaceURI&&a.namespaceURI)return 1;a=a.namespaceURI+a.localName;C=C.namespaceURI+C.localName;return a===C?0:a<C?-1:1}function l(a,C,L){L=void 0===L?0:L;if(a.prefix===(C||null))return++L;if(a.attributes)for(var X=0;X<a.attributes.length;X++)if(!h(a.attributes[X])&&C&&a.attributes[X].prefix===C)return++L;for(a=a.firstChild;a;a=
a.nextSibling)if(a.nodeType===t.n.Element&&(X=l(a,C,L),a.nodeType===t.n.Element&&X))return++L+X;return L}function h(a){var C=/xmlns:/;return null===a||a.nodeType!==t.n.Attribute||"xmlns"!==a.nodeName&&!C.test(a.nodeName)?!1:!0}function p(a,C){C=new C;C.LoadXml(a.Element);return C}function c(a){switch(a){case "P-256":return"urn:oid:1.2.840.10045.3.1.7";case "P-384":return"urn:oid:1.3.132.0.34";case "P-521":return"urn:oid:1.3.132.0.35"}throw new t.m(t.f.CRYPTOGRAPHIC,"Unknown NamedCurve");}function f(a,
C){if(a.nodeType!==t.n.Element)return null;if(a.hasAttribute("Id")&&a.getAttribute("Id")===C)return a;if(a.childNodes&&a.childNodes.length)for(var L=0;L<a.childNodes.length;L++){var X=f(a.childNodes[L],C);if(X)return X}return null}function r(a,C){C=void 0===C?{}:C;if(a&&a.nodeType===t.n.Element){if(a.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==a.namespaceURI){var L=a.prefix?a.prefix:"";L in C||(C[L]=a.namespaceURI)}for(L=0;L<a.attributes.length;L++){var X=a.attributes.item(L);if(X&&"xmlns"===
X.prefix){var la=X.localName?X.localName:"";la in C||(C[la]=X.value)}}a.parentNode&&r(a.parentNode,C)}}function z(a,C,L,X){var la=arguments.length,sa=3>la?C:null===X?X=Object.getOwnPropertyDescriptor(C,L):X,Ba;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)sa=Reflect.decorate(a,C,L,X);else for(var Ea=a.length-1;0<=Ea;Ea--)if(Ba=a[Ea])sa=(3>la?Ba(sa):3<la?Ba(C,L,sa):Ba(C,L))||sa;return 3<la&&sa&&Object.defineProperty(C,L,sa),sa}function M(a,C,L,X){1!==arguments.length||"string"!==
B(a)||/\d/.test(a)||(C=a,a=void 0);a=a||new Date;a instanceof Date||(a=new Date(a));if(isNaN(a))throw TypeError("Invalid date");C=String(me[C]||C||me.default);var la=C.slice(0,4);if("UTC:"===la||"GMT:"===la)C=C.slice(4),L=!0,"GMT:"===la&&(X=!0);var sa=L?"getUTC":"get";la=a[sa+"Date"]();var Ba=a[sa+"Day"](),Ea=a[sa+"Month"](),Ja=a[sa+"FullYear"](),Ma=a[sa+"Hours"](),Qa=a[sa+"Minutes"](),Xa=a[sa+"Seconds"]();sa=a[sa+"Milliseconds"]();var mb=L?0:a.getTimezoneOffset(),eb=F(a),fb=y(a),ib={d:la,dd:A(la),
ddd:zb.dayNames[Ba],dddd:zb.dayNames[Ba+7],m:Ea+1,mm:A(Ea+1),mmm:zb.monthNames[Ea],mmmm:zb.monthNames[Ea+12],yy:String(Ja).slice(2),yyyy:Ja,h:Ma%12||12,hh:A(Ma%12||12),H:Ma,HH:A(Ma),M:Qa,MM:A(Qa),s:Xa,ss:A(Xa),l:A(sa,3),L:A(Math.round(sa/10)),t:12>Ma?zb.timeNames[0]:zb.timeNames[1],tt:12>Ma?zb.timeNames[2]:zb.timeNames[3],T:12>Ma?zb.timeNames[4]:zb.timeNames[5],TT:12>Ma?zb.timeNames[6]:zb.timeNames[7],Z:X?"GMT":L?"UTC":(String(a).match(Dg)||[""]).pop().replace(Eg,""),o:(0<mb?"-":"+")+A(100*Math.floor(Math.abs(mb)/
60)+Math.abs(mb)%60,4),W:eb,N:fb};return C.replace(Fg,function(dc){return dc in ib?ib[dc]:dc.slice(1,dc.length-1)})}function A(a,C){C=void 0===C?2:C;for(a=String(a);a.length<C;)a="0"+a;return a}function F(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);var C=new Date(a.getFullYear(),0,4);C.setDate(C.getDate()-(C.getDay()+6)%7+3);var L=a.getTimezoneOffset()-C.getTimezoneOffset();a.setHours(a.getHours()-L);a=(a.getTime()-C.getTime())/6048E5;return 1+
Math.floor(a)}function y(a){a=a.getDay();0===a&&(a=7);return a}function B(a){return null===a?"null":void 0===a?"undefined":"object"!==typeof a?typeof a:Array.isArray(a)?"array":{}.toString.call(a).slice(8,-1).toLowerCase()}E.d(G,"a",function(){return t.d});E.d(G,"b",function(){return vb});var t=E(2),S=E(4),k=E(0),e=E(1),q=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",q.defaultValues("type"));this.value=Object(e.e)(a,"value",q.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};
q.defaultValues=function(a){switch(a){case "type":return"";case "value":return{};default:throw Error("Invalid member name for AttributeTypeAndValue class: "+a);}};q.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.type||""}),new k.Any({name:a.value||""})]})};q.blockName=function(){return"AttributeTypeAndValue"};q.prototype.fromSchema=function(a){Object(e.c)(a,["type","typeValue"]);a=k.compareSchema(a,
a,q.schema({names:{type:"type",value:"typeValue"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=a.result.type.valueBlock.toString();this.value=a.result.typeValue};q.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.type}),this.value]})};q.prototype.toJSON=function(){var a={type:this.type};0!==Object.keys(this.value).length?a.value=this.value.toJSON():a.value=this.value;return a};
q.prototype.isEqual=function(a){var C=[k.Utf8String.blockName(),k.BmpString.blockName(),k.UniversalString.blockName(),k.NumericString.blockName(),k.PrintableString.blockName(),k.TeletexString.blockName(),k.VideotexString.blockName(),k.IA5String.blockName(),k.GraphicString.blockName(),k.VisibleString.blockName(),k.GeneralString.blockName(),k.CharacterString.blockName()];if(a.constructor.blockName()===q.blockName()){if(this.type!==a.type)return!1;var L=!1,X=this.value.constructor.blockName();if(X===
a.value.constructor.blockName()){C=$jscomp.makeIterator(C);for(var la=C.next();!la.done;la=C.next())if(X===la.value){L=!0;break}}if(L){if(L=Object(S.j)(this.value.valueBlock.value),a=Object(S.j)(a.value.valueBlock.value),0!==L.localeCompare(a))return!1}else if(!1===Object(e.f)(this.value.valueBeforeDecode,a.value.valueBeforeDecode))return!1;return!0}return a instanceof ArrayBuffer?Object(e.f)(this.value.valueBeforeDecode,a):!1};var H=function(a){a=void 0===a?{}:a;this.typesAndValues=Object(e.e)(a,
"typesAndValues",H.defaultValues("typesAndValues"));this.valueBeforeDecode=Object(e.e)(a,"valueBeforeDecode",H.defaultValues("valueBeforeDecode"));"schema"in a&&this.fromSchema(a.schema)};H.defaultValues=function(a){switch(a){case "typesAndValues":return[];case "valueBeforeDecode":return new ArrayBuffer(0);default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};H.compareWithDefault=function(a,C){switch(a){case "typesAndValues":return 0===C.length;case "valueBeforeDecode":return 0===
C.byteLength;default:throw Error("Invalid member name for RelativeDistinguishedNames class: "+a);}};H.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.repeatedSequence||"",value:new k.Set({value:[new k.Repeated({name:a.repeatedSet||"",value:q.schema(a.typeAndValue||{})})]})})]})};H.prototype.fromSchema=function(a){Object(e.c)(a,["RDN","typesAndValues"]);a=k.compareSchema(a,a,H.schema({names:{blockName:"RDN",
repeatedSet:"typesAndValues"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in a.result&&(this.typesAndValues=Array.from(a.result.typesAndValues,function(C){return new q({schema:C})}));this.valueBeforeDecode=a.result.RDN.valueBeforeDecode};H.prototype.toSchema=function(){return 0===this.valueBeforeDecode.byteLength?new k.Sequence({value:[new k.Set({value:Array.from(this.typesAndValues,function(a){return a.toSchema()})})]}):
k.fromBER(this.valueBeforeDecode).result};H.prototype.toJSON=function(){return{typesAndValues:Array.from(this.typesAndValues,function(a){return a.toJSON()})}};H.prototype.isEqual=function(a){if(a instanceof H){if(this.typesAndValues.length!==a.typesAndValues.length)return!1;for(var C=$jscomp.makeIterator(this.typesAndValues.entries()),L=C.next();!L.done;L=C.next()){L=$jscomp.makeIterator(L.value);var X=L.next().value;if(!1===L.next().value.isEqual(a.typesAndValues[X]))return!1}return!0}return a instanceof
ArrayBuffer?Object(e.f)(this.valueBeforeDecode,a):!1};var g=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",g.defaultValues("type"));this.value=Object(e.e)(a,"value",g.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};g.defaultValues=function(a){switch(a){case "type":return 9;case "value":return{};default:throw Error("Invalid member name for GeneralName class: "+a);}};g.compareWithDefault=function(a,C){switch(a){case "type":return C===g.defaultValues(a);case "value":return 0===
Object.keys(C).length;default:throw Error("Invalid member name for GeneralName class: "+a);}};g.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var C=k.Choice,L=new k.Constructed({idBlock:{tagClass:3,tagNumber:0},name:a.blockName||"",value:[new k.ObjectIdentifier,new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[new k.Any]})]}),X=new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),la=new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),
sa=k.Constructed,Ba=a.blockName||"",Ea=a.builtInStandardAttributes||{};var Ja=!1;Ea=void 0===Ea?{}:Ea;Ja=void 0===Ja?!1:Ja;Ea=Object(e.e)(Ea,"names",{});Ja=new k.Sequence({optional:Ja,value:[new k.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:Ea.country_name||"",value:[new k.Choice({value:[new k.NumericString,new k.PrintableString]})]}),new k.Constructed({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:Ea.administration_domain_name||"",value:[new k.Choice({value:[new k.NumericString,
new k.PrintableString]})]}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:Ea.network_address||"",isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:Ea.terminal_identifier||"",isHexOnly:!0}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:Ea.private_domain_name||"",value:[new k.Choice({value:[new k.NumericString,new k.PrintableString]})]}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:Ea.organization_name||
"",isHexOnly:!0}),new k.Primitive({optional:!0,name:Ea.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new k.Constructed({optional:!0,name:Ea.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new k.Primitive({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:3},
isHexOnly:!0})]}),new k.Constructed({optional:!0,name:Ea.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new k.Repeated({value:new k.PrintableString})]})]});Ea=!0;Ea=new k.Sequence({optional:void 0===Ea?!1:Ea,value:[new k.PrintableString,new k.PrintableString]});var Ma=!0;Ma=new k.Set({optional:void 0===Ma?!1:Ma,value:[new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Any]})]});
return new C({value:[L,X,la,new sa({idBlock:{tagClass:3,tagNumber:3},name:Ba,value:[Ja,Ea,Ma]}),new k.Constructed({idBlock:{tagClass:3,tagNumber:4},name:a.blockName||"",value:[H.schema(a.directoryName||{})]}),new k.Constructed({idBlock:{tagClass:3,tagNumber:5},name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.TeletexString,new k.PrintableString,new k.UniversalString,new k.Utf8String,new k.BmpString]})]}),new k.Constructed({idBlock:{tagClass:3,
tagNumber:1},value:[new k.Choice({value:[new k.TeletexString,new k.PrintableString,new k.UniversalString,new k.Utf8String,new k.BmpString]})]})]}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new k.Primitive({name:a.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})};g.prototype.fromSchema=function(a){Object(e.c)(a,"blockName otherName rfc822Name dNSName x400Address directoryName ediPartyName uniformResourceIdentifier iPAddress registeredID".split(" "));
a=k.compareSchema(a,a,g.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralName");this.type=a.result.blockName.idBlock.tagNumber;switch(this.type){case 0:this.value=
a.result.blockName;break;case 1:case 2:case 6:a=a.result.blockName;a.idBlock.tagClass=1;a.idBlock.tagNumber=22;a=a.toBER(!1);this.value=k.fromBER(a).result.valueBlock.value;break;case 3:this.value=a.result.blockName;break;case 4:this.value=new H({schema:a.result.directoryName});break;case 5:this.value=a.result.ediPartyName;break;case 7:this.value=new k.OctetString({valueHex:a.result.blockName.valueBlock.valueHex});break;case 8:a=a.result.blockName,a.idBlock.tagClass=1,a.idBlock.tagNumber=6,a=a.toBER(!1),
this.value=k.fromBER(a).result.valueBlock.toString()}};g.prototype.toSchema=function(){switch(this.type){case 0:case 3:case 5:return new k.Constructed({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:var a=new k.IA5String({value:this.value});a.idBlock.tagClass=3;a.idBlock.tagNumber=this.type;return a;case 4:return new k.Constructed({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:return a=this.value,a.idBlock.tagClass=3,a.idBlock.tagNumber=
this.type,a;case 8:return a=new k.ObjectIdentifier({value:this.value}),a.idBlock.tagClass=3,a.idBlock.tagNumber=this.type,a;default:return g.schema()}};g.prototype.toJSON=function(){var a={type:this.type,value:""};if("string"===typeof this.value)a.value=this.value;else try{a.value=this.value.toJSON()}catch(C){}return a};var x=function(a){a=void 0===a?{}:a;this.accessMethod=Object(e.e)(a,"accessMethod",x.defaultValues("accessMethod"));this.accessLocation=Object(e.e)(a,"accessLocation",x.defaultValues("accessLocation"));
"schema"in a&&this.fromSchema(a.schema)};x.defaultValues=function(a){switch(a){case "accessMethod":return"";case "accessLocation":return new g;default:throw Error("Invalid member name for AccessDescription class: "+a);}};x.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.accessMethod||""}),g.schema(a.accessLocation||{})]})};x.prototype.fromSchema=function(a){Object(e.c)(a,["accessMethod","accessLocation"]);
a=k.compareSchema(a,a,x.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=a.result.accessMethod.valueBlock.toString();this.accessLocation=new g({schema:a.result.accessLocation})};x.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.accessMethod}),this.accessLocation.toSchema()]})};
x.prototype.toJSON=function(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}};var I=E(3),Q=function(a){a=void 0===a?{}:a;this.altNames=Object(e.e)(a,"altNames",Q.defaultValues("altNames"));"schema"in a&&this.fromSchema(a.schema)};Q.defaultValues=function(a){switch(a){case "altNames":return[];default:throw Error("Invalid member name for AltName class: "+a);}};Q.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||
"",value:[new k.Repeated({name:a.altNames||"",value:g.schema()})]})};Q.prototype.fromSchema=function(a){Object(e.c)(a,["altNames"]);a=k.compareSchema(a,a,Q.schema({names:{altNames:"altNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for AltName");"altNames"in a.result&&(this.altNames=Array.from(a.result.altNames,function(C){return new g({schema:C})}))};Q.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.altNames,function(a){return a.toSchema()})})};
Q.prototype.toJSON=function(){return{altNames:Array.from(this.altNames,function(a){return a.toJSON()})}};var Z=E(8),Y=E(14);E(10);var ba=function(a){a=void 0===a?{}:a;this.type=Object(e.e)(a,"type",ba.defaultValues("type"));this.value=Object(e.e)(a,"value",ba.defaultValues("value"));"schema"in a&&this.fromSchema(a.schema)};ba.defaultValues=function(a){switch(a){case "type":return 0;case "value":return new Date(0,0,0);default:throw Error("Invalid member name for Time class: "+a);}};ba.schema=function(a,
C){a=void 0===a?{}:a;C=void 0===C?!1:C;a=Object(e.e)(a,"names",{});return new k.Choice({optional:C,value:[new k.UTCTime({name:a.utcTimeName||""}),new k.GeneralizedTime({name:a.generalTimeName||""})]})};ba.prototype.fromSchema=function(a){Object(e.c)(a,["utcTimeName","generalTimeName"]);a=k.compareSchema(a,a,ba.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Time");"utcTimeName"in
a.result&&(this.type=0,this.value=a.result.utcTimeName.toDate());"generalTimeName"in a.result&&(this.type=1,this.value=a.result.generalTimeName.toDate())};ba.prototype.toSchema=function(){var a={};0===this.type&&(a=new k.UTCTime({valueDate:this.value}));1===this.type&&(a=new k.GeneralizedTime({valueDate:this.value}));return a};ba.prototype.toJSON=function(){return{type:this.type,value:this.value}};var ha=E(11),ia=function(a){a=void 0===a?{}:a;this.attributes=Object(e.e)(a,"attributes",ia.defaultValues("attributes"));
"schema"in a&&this.fromSchema(a.schema)};ia.defaultValues=function(a){switch(a){case "attributes":return[];default:throw Error("Invalid member name for SubjectDirectoryAttributes class: "+a);}};ia.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.attributes||"",value:Z.a.schema()})]})};ia.prototype.fromSchema=function(a){Object(e.c)(a,["attributes"]);a=k.compareSchema(a,a,ia.schema({names:{attributes:"attributes"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(a.result.attributes,function(C){return new Z.a({schema:C})})};ia.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.attributes,function(a){return a.toSchema()})})};ia.prototype.toJSON=function(){return{attributes:Array.from(this.attributes,function(a){return a.toJSON()})}};var na=function(a){a=void 0===a?{}:a;"notBefore"in a&&(this.notBefore=
Object(e.e)(a,"notBefore",na.defaultValues("notBefore")));"notAfter"in a&&(this.notAfter=Object(e.e)(a,"notAfter",na.defaultValues("notAfter")));"schema"in a&&this.fromSchema(a.schema)};na.defaultValues=function(a){switch(a){case "notBefore":return new Date;case "notAfter":return new Date;default:throw Error("Invalid member name for PrivateKeyUsagePeriod class: "+a);}};na.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.notBefore||
"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new k.Primitive({name:a.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};na.prototype.fromSchema=function(a){Object(e.c)(a,["notBefore","notAfter"]);a=k.compareSchema(a,a,na.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in a.result){var C=new k.GeneralizedTime;C.fromBuffer(a.result.notBefore.valueBlock.valueHex);
this.notBefore=C.toDate()}"notAfter"in a.result&&(C=new k.GeneralizedTime({valueHex:a.result.notAfter.valueBlock.valueHex}),C.fromBuffer(a.result.notAfter.valueBlock.valueHex),this.notAfter=C.toDate())};na.prototype.toSchema=function(){var a=[];"notBefore"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:(new k.GeneralizedTime({valueDate:this.notBefore})).valueBlock.valueHex}));"notAfter"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:(new k.GeneralizedTime({valueDate:this.notAfter})).valueBlock.valueHex}));
return new k.Sequence({value:a})};na.prototype.toJSON=function(){var a={};"notBefore"in this&&(a.notBefore=this.notBefore);"notAfter"in this&&(a.notAfter=this.notAfter);return a};var v=function(a){a=void 0===a?{}:a;this.cA=Object(e.e)(a,"cA",!1);"pathLenConstraint"in a&&(this.pathLenConstraint=Object(e.e)(a,"pathLenConstraint",0));"schema"in a&&this.fromSchema(a.schema)};v.defaultValues=function(a){switch(a){case "cA":return!1;default:throw Error("Invalid member name for BasicConstraints class: "+
a);}};v.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Boolean({optional:!0,name:a.cA||""}),new k.Integer({optional:!0,name:a.pathLenConstraint||""})]})};v.prototype.fromSchema=function(a){Object(e.c)(a,["cA","pathLenConstraint"]);a=k.compareSchema(a,a,v.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for BasicConstraints");
"cA"in a.result&&(this.cA=a.result.cA.valueBlock.value);"pathLenConstraint"in a.result&&(this.pathLenConstraint=a.result.pathLenConstraint.valueBlock.isHexOnly?a.result.pathLenConstraint:a.result.pathLenConstraint.valueBlock.valueDec)};v.prototype.toSchema=function(){var a=[];this.cA!==v.defaultValues("cA")&&a.push(new k.Boolean({value:this.cA}));"pathLenConstraint"in this&&(this.pathLenConstraint instanceof k.Integer?a.push(this.pathLenConstraint):a.push(new k.Integer({value:this.pathLenConstraint})));
return new k.Sequence({value:a})};v.prototype.toJSON=function(){var a={};this.cA!==v.defaultValues("cA")&&(a.cA=this.cA);"pathLenConstraint"in this&&(a.pathLenConstraint=this.pathLenConstraint instanceof k.Integer?this.pathLenConstraint.toJSON():this.pathLenConstraint);return a};var n=function(a){a=void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",n.defaultValues("distributionPoint")));this.onlyContainsUserCerts=Object(e.e)(a,"onlyContainsUserCerts",
n.defaultValues("onlyContainsUserCerts"));this.onlyContainsCACerts=Object(e.e)(a,"onlyContainsCACerts",n.defaultValues("onlyContainsCACerts"));"onlySomeReasons"in a&&(this.onlySomeReasons=Object(e.e)(a,"onlySomeReasons",n.defaultValues("onlySomeReasons")));this.indirectCRL=Object(e.e)(a,"indirectCRL",n.defaultValues("indirectCRL"));this.onlyContainsAttributeCerts=Object(e.e)(a,"onlyContainsAttributeCerts",n.defaultValues("onlyContainsAttributeCerts"));"schema"in a&&this.fromSchema(a.schema)};n.defaultValues=
function(a){switch(a){case "distributionPoint":return[];case "onlyContainsUserCerts":return!1;case "onlyContainsCACerts":return!1;case "onlySomeReasons":return 0;case "indirectCRL":return!1;case "onlyContainsAttributeCerts":return!1;default:throw Error("Invalid member name for IssuingDistributionPoint class: "+a);}};n.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.Constructed({name:a.distributionPoint||
"",idBlock:{tagClass:3,tagNumber:0},value:[new k.Repeated({name:a.distributionPointNames||"",value:g.schema()})]}),new k.Constructed({name:a.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:H.schema().valueBlock.value})]})]}),new k.Primitive({name:a.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Primitive({name:a.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new k.Primitive({name:a.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,
tagNumber:3}}),new k.Primitive({name:a.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new k.Primitive({name:a.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})};n.prototype.fromSchema=function(a){Object(e.c)(a,"distributionPoint distributionPointNames onlyContainsUserCerts onlyContainsCACerts onlySomeReasons indirectCRL onlyContainsAttributeCerts".split(" "));a=k.compareSchema(a,a,n.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",
onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in a.result)switch(!0){case 0===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(a.result.distributionPointNames,function(C){return new g({schema:C})});
break;case 1===a.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new H({schema:new k.Sequence({value:a.result.distributionPoint.valueBlock.value})});break;default:throw Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}");}"onlyContainsUserCerts"in a.result&&(this.onlyContainsUserCerts=0!==(new Uint8Array(a.result.onlyContainsUserCerts.valueBlock.valueHex))[0]);"onlyContainsCACerts"in a.result&&(this.onlyContainsCACerts=0!==(new Uint8Array(a.result.onlyContainsCACerts.valueBlock.valueHex))[0]);
"onlySomeReasons"in a.result&&(this.onlySomeReasons=(new Uint8Array(a.result.onlySomeReasons.valueBlock.valueHex))[0]);"indirectCRL"in a.result&&(this.indirectCRL=0!==(new Uint8Array(a.result.indirectCRL.valueBlock.valueHex))[0]);"onlyContainsAttributeCerts"in a.result&&(this.onlyContainsAttributeCerts=0!==(new Uint8Array(a.result.onlyContainsAttributeCerts.valueBlock.valueHex))[0])};n.prototype.toSchema=function(){var a=[];if("distributionPoint"in this){if(this.distributionPoint instanceof Array)var C=
new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(L){return L.toSchema()})});else C=this.distributionPoint.toSchema(),C.idBlock.tagClass=3,C.idBlock.tagNumber=1;a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[C]}))}this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:(new Uint8Array([255])).buffer}));this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&
a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:(new Uint8Array([255])).buffer}));"onlySomeReasons"in this&&(C=new ArrayBuffer(1),(new Uint8Array(C))[0]=this.onlySomeReasons,a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:3},valueHex:C})));this.indirectCRL!==n.defaultValues("indirectCRL")&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:4},valueHex:(new Uint8Array([255])).buffer}));this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&a.push(new k.Primitive({idBlock:{tagClass:3,
tagNumber:5},valueHex:(new Uint8Array([255])).buffer}));return new k.Sequence({value:a})};n.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(C){return C.toJSON()}):this.distributionPoint.toJSON());this.onlyContainsUserCerts!==n.defaultValues("onlyContainsUserCerts")&&(a.onlyContainsUserCerts=this.onlyContainsUserCerts);this.onlyContainsCACerts!==n.defaultValues("onlyContainsCACerts")&&
(a.onlyContainsCACerts=this.onlyContainsCACerts);"onlySomeReasons"in this&&(a.onlySomeReasons=this.onlySomeReasons);this.indirectCRL!==n.defaultValues("indirectCRL")&&(a.indirectCRL=this.indirectCRL);this.onlyContainsAttributeCerts!==n.defaultValues("onlyContainsAttributeCerts")&&(a.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts);return a};var w=function(a){a=void 0===a?{}:a;this.names=Object(e.e)(a,"names",w.defaultValues("names"));"schema"in a&&this.fromSchema(a.schema)};w.defaultValues=
function(a){switch(a){case "names":return[];default:throw Error("Invalid member name for GeneralNames class: "+a);}};w.schema=function(a,C){a=void 0===a?{}:a;C=void 0===C?!1:C;a=Object(e.e)(a,"names",{});return new k.Sequence({optional:C,name:a.blockName||"",value:[new k.Repeated({name:a.generalNames||"",value:g.schema()})]})};w.prototype.fromSchema=function(a){Object(e.c)(a,["names","generalNames"]);a=k.compareSchema(a,a,w.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===
a.verified)throw Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(a.result.generalNames,function(C){return new g({schema:C})})};w.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.names,function(a){return a.toSchema()})})};w.prototype.toJSON=function(){return{names:Array.from(this.names,function(a){return a.toJSON()})}};var D=function(a){a=void 0===a?{}:a;this.base=Object(e.e)(a,"base",D.defaultValues("base"));this.minimum=
Object(e.e)(a,"minimum",D.defaultValues("minimum"));"maximum"in a&&(this.maximum=Object(e.e)(a,"maximum",D.defaultValues("maximum")));"schema"in a&&this.fromSchema(a.schema)};D.defaultValues=function(a){switch(a){case "base":return new g;case "minimum":return 0;case "maximum":return 0;default:throw Error("Invalid member name for GeneralSubtree class: "+a);}};D.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[g.schema(a.base||{}),new k.Constructed({optional:!0,
idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({name:a.minimum||""})]}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Integer({name:a.maximum||""})]})]})};D.prototype.fromSchema=function(a){Object(e.c)(a,["base","minimum","maximum"]);a=k.compareSchema(a,a,D.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new g({schema:a.result.base});
"minimum"in a.result&&(this.minimum=a.result.minimum.valueBlock.isHexOnly?a.result.minimum:a.result.minimum.valueBlock.valueDec);"maximum"in a.result&&(this.maximum=a.result.maximum.valueBlock.isHexOnly?a.result.maximum:a.result.maximum.valueBlock.valueDec)};D.prototype.toSchema=function(){var a=[];a.push(this.base.toSchema());if(0!==this.minimum){var C=this.minimum instanceof k.Integer?this.minimum:new k.Integer({value:this.minimum});a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},
value:[C]}))}"maximum"in this&&(C=this.maximum instanceof k.Integer?this.maximum:new k.Integer({value:this.maximum}),a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[C]})));return new k.Sequence({value:a})};D.prototype.toJSON=function(){var a={base:this.base.toJSON()};0!==this.minimum&&(a.minimum="number"===typeof this.minimum?this.minimum:this.minimum.toJSON());"maximum"in this&&(a.maximum="number"===typeof this.maximum?this.maximum:this.maximum.toJSON());return a};var V=
function(a){a=void 0===a?{}:a;"permittedSubtrees"in a&&(this.permittedSubtrees=Object(e.e)(a,"permittedSubtrees",V.defaultValues("permittedSubtrees")));"excludedSubtrees"in a&&(this.excludedSubtrees=Object(e.e)(a,"excludedSubtrees",V.defaultValues("excludedSubtrees")));"schema"in a&&this.fromSchema(a.schema)};V.defaultValues=function(a){switch(a){case "permittedSubtrees":return[];case "excludedSubtrees":return[];default:throw Error("Invalid member name for NameConstraints class: "+a);}};V.schema=
function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Repeated({name:a.permittedSubtrees||"",value:D.schema()})]}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Repeated({name:a.excludedSubtrees||"",value:D.schema()})]})]})};V.prototype.fromSchema=function(a){Object(e.c)(a,["permittedSubtrees","excludedSubtrees"]);a=k.compareSchema(a,a,
V.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in a.result&&(this.permittedSubtrees=Array.from(a.result.permittedSubtrees,function(C){return new D({schema:C})}));"excludedSubtrees"in a.result&&(this.excludedSubtrees=Array.from(a.result.excludedSubtrees,function(C){return new D({schema:C})}))};V.prototype.toSchema=function(){var a=
[];"permittedSubtrees"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,function(C){return C.toSchema()})}));"excludedSubtrees"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,function(C){return C.toSchema()})}));return new k.Sequence({value:a})};V.prototype.toJSON=function(){var a={};"permittedSubtrees"in this&&(a.permittedSubtrees=Array.from(this.permittedSubtrees,function(C){return C.toJSON()}));
"excludedSubtrees"in this&&(a.excludedSubtrees=Array.from(this.excludedSubtrees,function(C){return C.toJSON()}));return a};var P=function(a){a=void 0===a?{}:a;"distributionPoint"in a&&(this.distributionPoint=Object(e.e)(a,"distributionPoint",P.defaultValues("distributionPoint")));"reasons"in a&&(this.reasons=Object(e.e)(a,"reasons",P.defaultValues("reasons")));"cRLIssuer"in a&&(this.cRLIssuer=Object(e.e)(a,"cRLIssuer",P.defaultValues("cRLIssuer")));"schema"in a&&this.fromSchema(a.schema)};P.defaultValues=
function(a){switch(a){case "distributionPoint":return[];case "reasons":return new k.BitString;case "cRLIssuer":return[];default:throw Error("Invalid member name for DistributionPoint class: "+a);}};P.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Choice({value:[new k.Constructed({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},
value:[new k.Repeated({name:a.distributionPointNames||"",value:g.schema()})]}),new k.Constructed({name:a.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:H.schema().valueBlock.value})]})]}),new k.Primitive({name:a.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Constructed({name:a.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new k.Repeated({name:a.cRLIssuerNames||"",value:g.schema()})]})]})};P.prototype.fromSchema=function(a){Object(e.c)(a,
["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);a=k.compareSchema(a,a,P.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in a.result&&(0===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=
Array.from(a.result.distributionPointNames,function(C){return new g({schema:C})})),1===a.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new H({schema:new k.Sequence({value:a.result.distributionPoint.valueBlock.value})})));"reasons"in a.result&&(this.reasons=new k.BitString({valueHex:a.result.reasons.valueBlock.valueHex}));"cRLIssuer"in a.result&&(this.cRLIssuer=Array.from(a.result.cRLIssuerNames,function(C){return new g({schema:C})}))};P.prototype.toSchema=function(){var a=[];
if("distributionPoint"in this){var C=this.distributionPoint instanceof Array?new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,function(L){return L.toSchema()})}):new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]});a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:0},value:[C]}))}"reasons"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex}));"cRLIssuer"in
this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,function(L){return L.toSchema()})}));return new k.Sequence({value:a})};P.prototype.toJSON=function(){var a={};"distributionPoint"in this&&(a.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,function(C){return C.toJSON()}):this.distributionPoint.toJSON());"reasons"in this&&(a.reasons=this.reasons.toJSON());"cRLIssuer"in this&&(a.cRLIssuer=Array.from(this.cRLIssuer,
function(C){return C.toJSON()}));return a};var O=function(a){a=void 0===a?{}:a;this.distributionPoints=Object(e.e)(a,"distributionPoints",O.defaultValues("distributionPoints"));"schema"in a&&this.fromSchema(a.schema)};O.defaultValues=function(a){switch(a){case "distributionPoints":return[];default:throw Error("Invalid member name for CRLDistributionPoints class: "+a);}};O.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.distributionPoints||
"",value:P.schema()})]})};O.prototype.fromSchema=function(a){Object(e.c)(a,["distributionPoints"]);a=k.compareSchema(a,a,O.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(a.result.distributionPoints,function(C){return new P({schema:C})})};O.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.distributionPoints,function(a){return a.toSchema()})})};
O.prototype.toJSON=function(){return{distributionPoints:Array.from(this.distributionPoints,function(a){return a.toJSON()})}};var K=function(a){a=void 0===a?{}:a;this.policyQualifierId=Object(e.e)(a,"policyQualifierId",K.defaultValues("policyQualifierId"));this.qualifier=Object(e.e)(a,"qualifier",K.defaultValues("qualifier"));"schema"in a&&this.fromSchema(a.schema)};K.defaultValues=function(a){switch(a){case "policyQualifierId":return"";case "qualifier":return new k.Any;default:throw Error("Invalid member name for PolicyQualifierInfo class: "+
a);}};K.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.policyQualifierId||""}),new k.Any({name:a.qualifier||""})]})};K.prototype.fromSchema=function(a){Object(e.c)(a,["policyQualifierId","qualifier"]);a=k.compareSchema(a,a,K.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyQualifierInfo");
this.policyQualifierId=a.result.policyQualifierId.valueBlock.toString();this.qualifier=a.result.qualifier};K.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.policyQualifierId}),this.qualifier]})};K.prototype.toJSON=function(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}};var qa=function(a){a=void 0===a?{}:a;this.policyIdentifier=Object(e.e)(a,"policyIdentifier",qa.defaultValues("policyIdentifier"));"policyQualifiers"in
a&&(this.policyQualifiers=Object(e.e)(a,"policyQualifiers",qa.defaultValues("policyQualifiers")));"schema"in a&&this.fromSchema(a.schema)};qa.defaultValues=function(a){switch(a){case "policyIdentifier":return"";case "policyQualifiers":return[];default:throw Error("Invalid member name for PolicyInformation class: "+a);}};qa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.policyIdentifier||""}),new k.Sequence({optional:!0,
value:[new k.Repeated({name:a.policyQualifiers||"",value:K.schema()})]})]})};qa.prototype.fromSchema=function(a){Object(e.c)(a,["policyIdentifier","policyQualifiers"]);a=k.compareSchema(a,a,qa.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=a.result.policyIdentifier.valueBlock.toString();"policyQualifiers"in a.result&&(this.policyQualifiers=
Array.from(a.result.policyQualifiers,function(C){return new K({schema:C})}))};qa.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.policyIdentifier}));"policyQualifiers"in this&&a.push(new k.Sequence({value:Array.from(this.policyQualifiers,function(C){return C.toSchema()})}));return new k.Sequence({value:a})};qa.prototype.toJSON=function(){var a={policyIdentifier:this.policyIdentifier};"policyQualifiers"in this&&(a.policyQualifiers=Array.from(this.policyQualifiers,function(C){return C.toJSON()}));
return a};var ya=function(a){a=void 0===a?{}:a;this.certificatePolicies=Object(e.e)(a,"certificatePolicies",ya.defaultValues("certificatePolicies"));"schema"in a&&this.fromSchema(a.schema)};ya.defaultValues=function(a){switch(a){case "certificatePolicies":return[];default:throw Error("Invalid member name for CertificatePolicies class: "+a);}};ya.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.certificatePolicies||
"",value:qa.schema()})]})};ya.prototype.fromSchema=function(a){Object(e.c)(a,["certificatePolicies"]);a=k.compareSchema(a,a,ya.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(a.result.certificatePolicies,function(C){return new qa({schema:C})})};ya.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.certificatePolicies,
function(a){return a.toSchema()})})};ya.prototype.toJSON=function(){return{certificatePolicies:Array.from(this.certificatePolicies,function(a){return a.toJSON()})}};var xa=function(a){a=void 0===a?{}:a;this.issuerDomainPolicy=Object(e.e)(a,"issuerDomainPolicy",xa.defaultValues("issuerDomainPolicy"));this.subjectDomainPolicy=Object(e.e)(a,"subjectDomainPolicy",xa.defaultValues("subjectDomainPolicy"));"schema"in a&&this.fromSchema(a.schema)};xa.defaultValues=function(a){switch(a){case "issuerDomainPolicy":return"";
case "subjectDomainPolicy":return"";default:throw Error("Invalid member name for PolicyMapping class: "+a);}};xa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.issuerDomainPolicy||""}),new k.ObjectIdentifier({name:a.subjectDomainPolicy||""})]})};xa.prototype.fromSchema=function(a){Object(e.c)(a,["issuerDomainPolicy","subjectDomainPolicy"]);a=k.compareSchema(a,a,xa.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",
subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=a.result.issuerDomainPolicy.valueBlock.toString();this.subjectDomainPolicy=a.result.subjectDomainPolicy.valueBlock.toString()};xa.prototype.toSchema=function(){return new k.Sequence({value:[new k.ObjectIdentifier({value:this.issuerDomainPolicy}),new k.ObjectIdentifier({value:this.subjectDomainPolicy})]})};xa.prototype.toJSON=
function(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}};var Da=function(a){a=void 0===a?{}:a;this.mappings=Object(e.e)(a,"mappings",Da.defaultValues("mappings"));"schema"in a&&this.fromSchema(a.schema)};Da.defaultValues=function(a){switch(a){case "mappings":return[];default:throw Error("Invalid member name for PolicyMappings class: "+a);}};Da.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||
"",value:[new k.Repeated({name:a.mappings||"",value:xa.schema()})]})};Da.prototype.fromSchema=function(a){Object(e.c)(a,["mappings"]);a=k.compareSchema(a,a,Da.schema({names:{mappings:"mappings"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(a.result.mappings,function(C){return new xa({schema:C})})};Da.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.mappings,function(a){return a.toSchema()})})};
Da.prototype.toJSON=function(){return{mappings:Array.from(this.mappings,function(a){return a.toJSON()})}};var ea=function(a){a=void 0===a?{}:a;"keyIdentifier"in a&&(this.keyIdentifier=Object(e.e)(a,"keyIdentifier",ea.defaultValues("keyIdentifier")));"authorityCertIssuer"in a&&(this.authorityCertIssuer=Object(e.e)(a,"authorityCertIssuer",ea.defaultValues("authorityCertIssuer")));"authorityCertSerialNumber"in a&&(this.authorityCertSerialNumber=Object(e.e)(a,"authorityCertSerialNumber",ea.defaultValues("authorityCertSerialNumber")));
"schema"in a&&this.fromSchema(a.schema)};ea.defaultValues=function(a){switch(a){case "keyIdentifier":return new k.OctetString;case "authorityCertIssuer":return[];case "authorityCertSerialNumber":return new k.Integer;default:throw Error("Invalid member name for AuthorityKeyIdentifier class: "+a);}};ea.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),
new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new k.Repeated({name:a.authorityCertIssuer||"",value:g.schema()})]}),new k.Primitive({name:a.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})};ea.prototype.fromSchema=function(a){Object(e.c)(a,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);a=k.compareSchema(a,a,ea.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in a.result&&(this.keyIdentifier=new k.OctetString({valueHex:a.result.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in a.result&&(this.authorityCertIssuer=Array.from(a.result.authorityCertIssuer,function(C){return new g({schema:C})}));"authorityCertSerialNumber"in a.result&&(this.authorityCertSerialNumber=new k.Integer({valueHex:a.result.authorityCertSerialNumber.valueBlock.valueHex}))};
ea.prototype.toSchema=function(){var a=[];"keyIdentifier"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex}));"authorityCertIssuer"in this&&a.push(new k.Constructed({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,function(C){return C.toSchema()})}));"authorityCertSerialNumber"in this&&a.push(new k.Primitive({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex}));return new k.Sequence({value:a})};
ea.prototype.toJSON=function(){var a={};"keyIdentifier"in this&&(a.keyIdentifier=this.keyIdentifier.toJSON());"authorityCertIssuer"in this&&(a.authorityCertIssuer=Array.from(this.authorityCertIssuer,function(C){return C.toJSON()}));"authorityCertSerialNumber"in this&&(a.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON());return a};var b=function(a){a=void 0===a?{}:a;"requireExplicitPolicy"in a&&(this.requireExplicitPolicy=Object(e.e)(a,"requireExplicitPolicy",b.defaultValues("requireExplicitPolicy")));
"inhibitPolicyMapping"in a&&(this.inhibitPolicyMapping=Object(e.e)(a,"inhibitPolicyMapping",b.defaultValues("inhibitPolicyMapping")));"schema"in a&&this.fromSchema(a.schema)};b.defaultValues=function(a){switch(a){case "requireExplicitPolicy":return 0;case "inhibitPolicyMapping":return 0;default:throw Error("Invalid member name for PolicyConstraints class: "+a);}};b.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Primitive({name:a.requireExplicitPolicy||
"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new k.Primitive({name:a.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})};b.prototype.fromSchema=function(a){Object(e.c)(a,["requireExplicitPolicy","inhibitPolicyMapping"]);a=k.compareSchema(a,a,b.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in
a.result){var C=a.result.requireExplicitPolicy;C.idBlock.tagClass=1;C.idBlock.tagNumber=2;C=C.toBER(!1);this.requireExplicitPolicy=k.fromBER(C).result.valueBlock.valueDec}"inhibitPolicyMapping"in a.result&&(a=a.result.inhibitPolicyMapping,a.idBlock.tagClass=1,a.idBlock.tagNumber=2,a=a.toBER(!1),this.inhibitPolicyMapping=k.fromBER(a).result.valueBlock.valueDec)};b.prototype.toSchema=function(){var a=[];if("requireExplicitPolicy"in this){var C=new k.Integer({value:this.requireExplicitPolicy});C.idBlock.tagClass=
3;C.idBlock.tagNumber=0;a.push(C)}"inhibitPolicyMapping"in this&&(C=new k.Integer({value:this.inhibitPolicyMapping}),C.idBlock.tagClass=3,C.idBlock.tagNumber=1,a.push(C));return new k.Sequence({value:a})};b.prototype.toJSON=function(){var a={};"requireExplicitPolicy"in this&&(a.requireExplicitPolicy=this.requireExplicitPolicy);"inhibitPolicyMapping"in this&&(a.inhibitPolicyMapping=this.inhibitPolicyMapping);return a};var N=function(a){a=void 0===a?{}:a;this.keyPurposes=Object(e.e)(a,"keyPurposes",
N.defaultValues("keyPurposes"));"schema"in a&&this.fromSchema(a.schema)};N.defaultValues=function(a){switch(a){case "keyPurposes":return[];default:throw Error("Invalid member name for ExtKeyUsage class: "+a);}};N.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.keyPurposes||"",value:new k.ObjectIdentifier})]})};N.prototype.fromSchema=function(a){Object(e.c)(a,["keyPurposes"]);a=k.compareSchema(a,a,N.schema({names:{keyPurposes:"keyPurposes"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(a.result.keyPurposes,function(C){return C.valueBlock.toString()})};N.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.keyPurposes,function(a){return new k.ObjectIdentifier({value:a})})})};N.prototype.toJSON=function(){return{keyPurposes:Array.from(this.keyPurposes)}};var ja=function(a){a=void 0===a?{}:a;this.accessDescriptions=Object(e.e)(a,"accessDescriptions",
ja.defaultValues("accessDescriptions"));"schema"in a&&this.fromSchema(a.schema)};ja.defaultValues=function(a){switch(a){case "accessDescriptions":return[];default:throw Error("Invalid member name for InfoAccess class: "+a);}};ja.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.accessDescriptions||"",value:x.schema()})]})};ja.prototype.fromSchema=function(a){Object(e.c)(a,["accessDescriptions"]);a=k.compareSchema(a,
a,ja.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(a.result.accessDescriptions,function(C){return new x({schema:C})})};ja.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.accessDescriptions,function(a){return a.toSchema()})})};ja.prototype.toJSON=function(){return{accessDescriptions:Array.from(this.accessDescriptions,function(a){return a.toJSON()})}};
var fa=function(a){a=void 0===a?{}:a;this.clear();for(var C=$jscomp.makeIterator(Object.keys(a)),L=C.next();!L.done;L=C.next())switch(L.value){case "length":this.length=a.length;break;case "stub":for(L=0;L<this._view.length;L++)this._view[L]=a.stub;break;case "view":this.fromUint8Array(a.view);break;case "buffer":this.fromArrayBuffer(a.buffer);break;case "string":this.fromString(a.string);break;case "hexstring":this.fromHexString(a.hexstring)}};fa.prototype.clear=function(){this._buffer=new ArrayBuffer(0);
this._view=new Uint8Array(this._buffer)};fa.prototype.fromArrayBuffer=function(a){this.buffer=a};fa.prototype.fromUint8Array=function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)};fa.prototype.fromString=function(a){var C=a.length;this.length=C;for(var L=0;L<C;L++)this.view[L]=a.charCodeAt(L)};fa.prototype.toString=function(a,C){a=void 0===a?0:a;C=void 0===C?this.view.length-a:C;var L="";if(a>=this.view.length||0>a)a=0;if(C>=this.view.length||
0>C)C=this.view.length-a;for(var X=a;X<a+C;X++)L+=String.fromCharCode(this.view[X]);return L};fa.prototype.fromHexString=function(a){var C=a.length;this.buffer=new ArrayBuffer(C>>1);this.view=new Uint8Array(this.buffer);var L=new Map;L.set("0",0);L.set("1",1);L.set("2",2);L.set("3",3);L.set("4",4);L.set("5",5);L.set("6",6);L.set("7",7);L.set("8",8);L.set("9",9);L.set("A",10);L.set("a",10);L.set("B",11);L.set("b",11);L.set("C",12);L.set("c",12);L.set("D",13);L.set("d",13);L.set("E",14);L.set("e",14);
L.set("F",15);L.set("f",15);for(var X=0,la=0,sa=0;sa<C;sa++)sa%2?(la|=L.get(a.charAt(sa)),this.view[X]=la,X++):la=L.get(a.charAt(sa))<<4};fa.prototype.toHexString=function(a,C){a=void 0===a?0:a;C=void 0===C?this.view.length-a:C;var L="";if(a>=this.view.length||0>a)a=0;if(C>=this.view.length||0>C)C=this.view.length-a;for(var X=a;X<a+C;X++){var la=this.view[X].toString(16).toUpperCase();L=L+(1==la.length?"0":"")+la}return L};fa.prototype.copy=function(a,C){a=void 0===a?0:a;C=void 0===C?this._buffer.byteLength-
a:C;if(0===a&&0===this._buffer.byteLength)return new fa;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var L=new fa;L._buffer=this._buffer.slice(a,a+C);L._view=new Uint8Array(L._buffer);return L};fa.prototype.slice=function(a,C){a=void 0===a?0:a;C=void 0===C?this._buffer.byteLength:C;if(0===a&&0===this._buffer.byteLength)return new fa;if(0>a||a>this._buffer.byteLength-1)throw Error("Wrong start position: "+a);var L=new fa;L._buffer=this._buffer.slice(a,C);L._view=new Uint8Array(L._buffer);
return L};fa.prototype.realloc=function(a){var C=new ArrayBuffer(a),L=new Uint8Array(C);a>this._view.length?L.set(this._view):L.set(new Uint8Array(this._buffer,0,a));this._buffer=C.slice(0);this._view=new Uint8Array(this._buffer)};fa.prototype.append=function(a){var C=this._buffer.byteLength,L=a._buffer.byteLength;a=a._view.slice();this.realloc(C+L);this._view.set(a,C)};fa.prototype.insert=function(a,C,L){C=void 0===C?0:C;L=void 0===L?this._buffer.byteLength-C:L;if(C>this._buffer.byteLength-1)return!1;
L>this._buffer.byteLength-C&&(L=this._buffer.byteLength-C);L>a._buffer.byteLength&&(L=a._buffer.byteLength);L==a._buffer.byteLength?this._view.set(a._view,C):this._view.set(a._view.slice(0,L),C);return!0};fa.prototype.isEqual=function(a){if(this._buffer.byteLength!=a._buffer.byteLength)return!1;for(var C=0;C<a._buffer.byteLength;C++)if(this.view[C]!=a.view[C])return!1;return!0};fa.prototype.isEqualView=function(a){if(a.length!=this.view.length)return!1;for(var C=0;C<a.length;C++)if(this.view[C]!=
a[C])return!1;return!0};fa.prototype.findPattern=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));var la=a.buffer.byteLength;if(la>L)return-1;for(var sa=[],Ba=0;Ba<la;Ba++)sa.push(a.view[Ba]);for(a=0;a<=L-la;a++){Ba=!0;for(var Ea=X?C-la-a:C+a,Ja=0;Ja<la;Ja++)if(this.view[Ja+
Ea]!=sa[Ja]){Ba=!1;break}if(Ba)return X?C-la-a:C+la+a}return-1};fa.prototype.findFirstIn=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));for(var la={id:-1,position:X?0:C+L,length:0},sa=0;sa<a.length;sa++){var Ba=this.findPattern(a[sa],C,L,X);if(-1!=Ba){var Ea=
!1,Ja=a[sa].length;X?Ba-Ja>=la.position-la.length&&(Ea=!0):Ba-Ja<=la.position-la.length&&(Ea=!0);Ea&&(la.position=Ba,la.id=sa,la.length=Ja)}}return la};fa.prototype.findAllIn=function(a,C,L){C=void 0===C?0:C;L=void 0===L?this.buffer.byteLength-C:L;var X=[];null==C&&(C=0);if(C>this.buffer.byteLength-1)return X;null==L&&(L=this.buffer.byteLength-C);L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C);C={id:-1,position:C};do{var la=C.position;C=this.findFirstIn(a,C.position,L);if(-1==C.id)break;
L-=C.position-la;X.push({id:C.id,position:C.position})}while(1);return X};fa.prototype.findAllPatternIn=function(a,C,L){C=void 0===C?0:C;L=void 0===L?this.buffer.byteLength-C:L;null==C&&(C=0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);null==L&&(L=this.buffer.byteLength-C);L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C);var X=[],la=a.buffer.byteLength;if(la>L)return-1;a=Array.from(a.view);for(var sa=0;sa<=L-la;sa++){for(var Ba=!0,Ea=C+sa,Ja=0;Ja<la;Ja++)if(this.view[Ja+Ea]!=a[Ja]){Ba=
!1;break}Ba&&(X.push(C+la+sa),sa+=la-1)}return X};fa.prototype.findFirstNotIn=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));for(var la={left:{id:-1,position:C},right:{id:-1,position:0},value:new fa},sa=L;0<sa;){la.right=this.findFirstIn(a,X?C-L+sa:C+L-
sa,sa,X);if(-1==la.right.id){L=sa;C=X?C-L:la.left.position;la.value=new fa;la.value._buffer=this._buffer.slice(C,C+L);la.value._view=new Uint8Array(la.value._buffer);break}if(la.right.position!=(X?la.left.position-a[la.right.id].buffer.byteLength:la.left.position+a[la.right.id].buffer.byteLength)){X?(C=la.right.position+a[la.right.id].buffer.byteLength,L=la.left.position-la.right.position-a[la.right.id].buffer.byteLength):(C=la.left.position,L=la.right.position-la.left.position-a[la.right.id].buffer.byteLength);
la.value=new fa;la.value._buffer=this._buffer.slice(C,C+L);la.value._view=new Uint8Array(la.value._buffer);break}la.left=la.right;sa-=a[la.right.id]._buffer.byteLength}X&&(a=la.right,la.right=la.left,la.left=a);return la};fa.prototype.findAllNotIn=function(a,C,L){C=void 0===C?null:C;L=void 0===L?null:L;var X=[];null==C&&(C=0);if(C>this.buffer.byteLength-1)return X;null==L&&(L=this.buffer.byteLength-C);L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C);C={left:{id:-1,position:C},right:{id:-1,
position:C},value:new fa};do{var la=C.right.position;C=this.findFirstNotIn(a,C.right.position,L);L-=C.right.position-la;X.push({left:{id:C.left.id,position:C.left.position},right:{id:C.right.id,position:C.right.position},value:C.value})}while(-1!=C.right.id);return X};fa.prototype.findFirstSequence=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==
L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));var la=this.skipNotPatterns(a,C,L,X);if(-1==la)return{position:-1,value:new fa};a=this.skipPatterns(a,la,L-(X?C-la:la-C),X);X?(C=a,L=la-a):(C=la,L=a-la);X=new fa;X._buffer=this._buffer.slice(C,C+L);X._view=new Uint8Array(X._buffer);return{position:a,value:X}};fa.prototype.findAllSequences=function(a,C,L){C=void 0===C?null:C;L=void 0===L?null:L;var X=[];null==C&&(C=0);if(C>this.buffer.byteLength-1)return X;null==
L&&(L=this.buffer.byteLength-C);L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C);C={position:C,value:new fa};do{var la=C.position;C=this.findFirstSequence(a,C.position,L);-1!=C.position&&(L-=C.position-la,X.push({position:C.position,value:C.value}))}while(-1!=C.position);return X};fa.prototype.findPairedPatterns=function(a,C,L,X){L=void 0===L?null:L;X=void 0===X?null:X;var la=[];if(a.isEqual(C))return la;null==L&&(L=0);if(L>this.buffer.byteLength-1)return la;null==X&&(X=this.buffer.byteLength-
L);X>this.buffer.byteLength-L&&(X=this.buffer.byteLength-L);var sa=0;a=this.findAllPatternIn(a,L,X);if(0==a.length)return la;C=this.findAllPatternIn(C,L,X);if(0==C.length)return la;for(;sa<a.length&&0!=C.length;)if(a[0]==C[0])la.push({left:a[0],right:C[0]}),a.splice(0,1),C.splice(0,1);else{if(a[sa]>C[0])break;for(;a[sa]<C[0]&&!(sa++,sa>=a.length););la.push({left:a[sa-1],right:C[0]});a.splice(sa-1,1);C.splice(0,1);sa=0}la.sort(function(Ba,Ea){return Ba.left-Ea.left});return la};fa.prototype.findPairedArrays=
function(a,C,L,X){L=void 0===L?null:L;X=void 0===X?null:X;var la=[];null==L&&(L=0);if(L>this.buffer.byteLength-1)return la;null==X&&(X=this.buffer.byteLength-L);X>this.buffer.byteLength-L&&(X=this.buffer.byteLength-L);var sa=0;a=this.findAllIn(a,L,X);if(0==a.length)return la;C=this.findAllIn(C,L,X);if(0==C.length)return la;for(;sa<a.length&&0!=C.length;)if(a[0].position==C[0].position)la.push({left:a[0],right:C[0]}),a.splice(0,1),C.splice(0,1);else{if(a[sa].position>C[0].position)break;for(;a[sa].position<
C[0].position&&!(sa++,sa>=a.length););la.push({left:a[sa-1],right:C[0]});a.splice(sa-1,1);C.splice(0,1);sa=0}la.sort(function(Ba,Ea){return Ba.left.position-Ea.left.position});return la};fa.prototype.replacePattern=function(a,C,L,X,la){L=void 0===L?null:L;X=void 0===X?null:X;la=void 0===la?null:la;var sa={status:-1,searchPatternPositions:[],replacePatternPositions:[]};null==L&&(L=0);if(L>this.buffer.byteLength-1)return!1;null==X&&(X=this.buffer.byteLength-L);X>this.buffer.byteLength-L&&(X=this.buffer.byteLength-
L);if(null==la){if(X=this.findAllIn([a],L,X),0==X.length)return sa}else X=la;sa.searchPatternPositions.push.apply(sa.searchPatternPositions,$jscomp.arrayFromIterable(Array.from(X,function(Qa){return Qa.position})));var Ba=a.buffer.byteLength-C.buffer.byteLength,Ea=new ArrayBuffer(this.view.length-X.length*Ba),Ja=new Uint8Array(Ea);Ja.set(new Uint8Array(this.buffer,0,L));for(la=0;la<X.length;la++){var Ma=0==la?L:X[la-1].position;Ja.set(new Uint8Array(this.buffer,Ma,X[la].position-a.buffer.byteLength-
Ma),Ma-la*Ba);Ja.set(C.view,X[la].position-a.buffer.byteLength-la*Ba);sa.replacePatternPositions.push(X[la].position-a.buffer.byteLength-la*Ba)}la--;Ja.set(new Uint8Array(this.buffer,X[la].position,this.buffer.byteLength-X[la].position),X[la].position-a.buffer.byteLength+C.buffer.byteLength-la*Ba);this.buffer=Ea;this.view=new Uint8Array(this.buffer);sa.status=1;return sa};fa.prototype.skipPatterns=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:
0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));for(var la=C,sa=0;sa<a.length;sa++){for(var Ba=a[sa].buffer.byteLength,Ea=X?la-Ba:la,Ja=!0,Ma=0;Ma<Ba;Ma++)if(this.view[Ma+Ea]!=a[sa].view[Ma]){Ja=!1;break}if(Ja)if(sa=-1,X){if(la-=Ba,0>=la)break}else if(la+=Ba,la>=C+L)break}return la};fa.prototype.skipNotPatterns=function(a,C,L,X){C=void 0===C?null:C;L=void 0===L?null:
L;X=void 0===X?!1:X;null==C&&(C=X?this.buffer.byteLength:0);C>this.buffer.byteLength&&(C=this.buffer.byteLength);X?(null==L&&(L=C),L>C&&(L=C)):(null==L&&(L=this.buffer.byteLength-C),L>this.buffer.byteLength-C&&(L=this.buffer.byteLength-C));for(var la=-1,sa=0;sa<L;sa++){for(var Ba=0;Ba<a.length;Ba++){for(var Ea=a[Ba].buffer.byteLength,Ja=X?C-sa-Ea:C+sa,Ma=!0,Qa=0;Qa<Ea;Qa++)if(this.view[Qa+Ja]!=a[Ba].view[Qa]){Ma=!1;break}if(Ma){la=X?C-sa:C+sa;break}}if(-1!=la)break}return la};$jscomp.global.Object.defineProperties(fa.prototype,
{buffer:{configurable:!0,enumerable:!0,set:function(a){this._buffer=a.slice(0);this._view=new Uint8Array(this._buffer)},get:function(){return this._buffer}},view:{configurable:!0,enumerable:!0,set:function(a){this._buffer=new ArrayBuffer(a.length);this._view=new Uint8Array(this._buffer);this._view.set(a)},get:function(){return this._view}},length:{configurable:!0,enumerable:!0,get:function(){return this._buffer.byteLength},set:function(a){this._buffer=new ArrayBuffer(a);this._view=new Uint8Array(this._buffer)}}});
var ma=function(a){a=void 0===a?{}:a;this.stream=new fa;this._length=0;this.backward=!1;this.prevStart=this.prevLength=this.appendBlock=this._start=0;for(var C=$jscomp.makeIterator(Object.keys(a)),L=C.next();!L.done;L=C.next())switch(L.value){case "stream":this.stream=a.stream;break;case "backward":this.backward=a.backward;this._start=this.stream.buffer.byteLength;break;case "length":this._length=a.length;break;case "start":this._start=a.start;break;case "appendBlock":this.appendBlock=a.appendBlock;
break;case "view":this.stream=new fa({view:a.view});break;case "buffer":this.stream=new fa({buffer:a.buffer});break;case "string":this.stream=new fa({string:a.string});break;case "hexstring":this.stream=new fa({hexstring:a.hexstring})}};ma.prototype.resetPosition=function(){this._start=this.prevStart;this._length=this.prevLength};ma.prototype.findPattern=function(a,C){C=void 0===C?null:C;if(null==C||C>this.length)C=this.length;var L=this.stream.findPattern(a,this.start,this.length,this.backward);
if(-1==L)return L;if(this.backward){if(L<this.start-a.buffer.byteLength-C)return-1}else if(L>this.start+a.buffer.byteLength+C)return-1;return this.start=L};ma.prototype.findFirstIn=function(a,C){C=void 0===C?null:C;if(null==C||C>this.length)C=this.length;var L=this.stream.findFirstIn(a,this.start,this.length,this.backward);if(-1==L.id)return L;if(this.backward){if(L.position<this.start-a[L.id].buffer.byteLength-C)return{id:-1,position:this.backward?0:this.start+this.length}}else if(L.position>this.start+
a[L.id].buffer.byteLength+C)return{id:-1,position:this.backward?0:this.start+this.length};this.start=L.position;return L};ma.prototype.findAllIn=function(a){return this.stream.findAllIn(a,this.backward?this.start-this.length:this.start,this.length)};ma.prototype.findFirstNotIn=function(a,C){C=void 0===C?null:C;if(null==C||C>this._length)C=this._length;var L=this._stream.findFirstNotIn(a,this._start,this._length,this.backward);if(-1==L.left.id&&-1==L.right.id)return L;if(this.backward){if(-1!=L.right.id&&
L.right.position<this._start-a[L.right.id]._buffer.byteLength-C)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new fa}}else if(-1!=L.left.id&&L.left.position>this._start+a[L.left.id]._buffer.byteLength+C)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new fa};this.start=this.backward?-1==L.left.id?0:L.left.position:-1==L.right.id?this._start+this._length:L.right.position;return L};ma.prototype.findAllNotIn=function(a){return this._stream.findAllNotIn(a,
this.backward?this._start-this._length:this._start,this._length)};ma.prototype.findFirstSequence=function(a,C,L){C=void 0===C?null:C;L=void 0===L?null:L;if(null==C||C>this._length)C=this._length;if(null==L||L>C)L=C;a=this._stream.findFirstSequence(a,this._start,C,this.backward);if(0==a.value.buffer.byteLength)return a;if(this.backward){if(a.position<this._start-a.value._buffer.byteLength-L)return{position:-1,value:new fa}}else if(a.position>this._start+a.value._buffer.byteLength+L)return{position:-1,
value:new fa};this.start=a.position;return a};ma.prototype.findAllSequences=function(a){return this.stream.findAllSequences(a,this.backward?this.start-this.length:this.start,this.length)};ma.prototype.findPairedPatterns=function(a,C,L){L=void 0===L?null:L;if(null==L||L>this.length)L=this.length;var X=this.stream.findPairedPatterns(a,C,this.backward?this.start-this.length:this.start,this.length);if(X.length)if(this.backward){if(X[0].right<this.start-C.buffer.byteLength-L)return[]}else if(X[0].left>
this.start+a.buffer.byteLength+L)return[];return X};ma.prototype.findPairedArrays=function(a,C,L){L=void 0===L?null:L;if(null==L||L>this.length)L=this.length;var X=this.stream.findPairedArrays(a,C,this.backward?this.start-this.length:this.start,this.length);if(X.length)if(this.backward){if(X[0].right.position<this.start-C[X[0].right.id].buffer.byteLength-L)return[]}else if(X[0].left.position>this.start+a[X[0].left.id].buffer.byteLength+L)return[];return X};ma.prototype.replacePattern=function(a,C){return this.stream.replacePattern(a,
C,this.backward?this.start-this.length:this.start,this.length)};ma.prototype.skipPatterns=function(a){return this.start=a=this.stream.skipPatterns(a,this.start,this.length,this.backward)};ma.prototype.skipNotPatterns=function(a){a=this.stream.skipNotPatterns(a,this.start,this.length,this.backward);return-1==a?-1:this.start=a};ma.prototype.append=function(a){this._start+a._buffer.byteLength>this._stream._buffer.byteLength&&(a._buffer.byteLength>this.appendBlock&&(this.appendBlock=a._buffer.byteLength+
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a._view,this._start);this._length+=2*a._buffer.byteLength;this.start=this._start+a._buffer.byteLength;this.prevLength-=2*a._buffer.byteLength};ma.prototype.appendView=function(a){this._start+a.length>this._stream._buffer.byteLength&&(a.length>this.appendBlock&&(this.appendBlock=a.length+1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view.set(a,this._start);
this._length+=2*a.length;this.start=this._start+a.length;this.prevLength-=2*a.length};ma.prototype.appendChar=function(a){this._start+1>this._stream._buffer.byteLength&&(1>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));this._stream._view[this._start]=a;this._length+=2;this.start=this._start+1;this.prevLength-=2};ma.prototype.appendUint16=function(a){this._start+2>this._stream._buffer.byteLength&&(2>this.appendBlock&&(this.appendBlock=
1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint16Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[1];this._stream._view[this._start+1]=a[0];this._length+=4;this.start=this._start+2;this.prevLength-=4};ma.prototype.appendUint24=function(a){this._start+3>this._stream._buffer.byteLength&&(3>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);
this._stream._view[this._start]=a[2];this._stream._view[this._start+1]=a[1];this._stream._view[this._start+2]=a[0];this._length+=6;this.start=this._start+3;this.prevLength-=6};ma.prototype.appendUint32=function(a){this._start+4>this._stream._buffer.byteLength&&(4>this.appendBlock&&(this.appendBlock=1E3),this._stream.realloc(this._stream._buffer.byteLength+this.appendBlock));a=new Uint32Array([a]);a=new Uint8Array(a.buffer);this._stream._view[this._start]=a[3];this._stream._view[this._start+1]=a[2];
this._stream._view[this._start+2]=a[1];this._stream._view[this._start+3]=a[0];this._length+=8;this.start=this._start+4;this.prevLength-=8};ma.prototype.getBlock=function(a,C){C=void 0===C?!0:C;if(0>=this._length)return[];this._length<a&&(a=this._length);if(this.backward){var L=this._stream._buffer.slice(this._length-a,this._length);var X=new Uint8Array(L);L=Array(a);for(var la=0;la<a;la++)L[a-1-la]=X[la]}else L=this._stream._buffer.slice(this._start,this._start+a),L=Array.from(new Uint8Array(L));
C&&(this.start+=this.backward?-1*a:a);return L};ma.prototype.getUint16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var C=new Uint16Array(1),L=new Uint8Array(C.buffer);L[0]=a[1];L[1]=a[0];return C[0]};ma.prototype.getInt16=function(a){a=this.getBlock(2,void 0===a?!0:a);if(2>a.length)return 0;var C=new Int16Array(1),L=new Uint8Array(C.buffer);L[0]=a[1];L[1]=a[0];return C[0]};ma.prototype.getUint24=function(a){a=this.getBlock(3,void 0===a?!0:a);if(3>a.length)return 0;for(var C=
new Uint32Array(1),L=new Uint8Array(C.buffer),X=3;1<=X;X--)L[3-X]=a[X-1];return C[0]};ma.prototype.getUint32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var C=new Uint32Array(1),L=new Uint8Array(C.buffer),X=3;0<=X;X--)L[3-X]=a[X];return C[0]};ma.prototype.getInt32=function(a){a=this.getBlock(4,void 0===a?!0:a);if(4>a.length)return 0;for(var C=new Int32Array(1),L=new Uint8Array(C.buffer),X=3;0<=X;X--)L[3-X]=a[X];return C[0]};$jscomp.global.Object.defineProperties(ma.prototype,
{stream:{configurable:!0,enumerable:!0,set:function(a){this._stream=a;this.prevLength=this._length;this._length=a._buffer.byteLength;this.prevStart=this._start;this._start=0},get:function(){return this._stream}},length:{configurable:!0,enumerable:!0,set:function(a){this.prevLength=this._length;this._length=a},get:function(){return this.appendBlock?this.start:this._length}},start:{configurable:!0,enumerable:!0,set:function(a){a>this.stream.buffer.byteLength||(this.prevStart=this._start,this.prevLength=
this._length,this._length-=this.backward?this._start-a:a-this._start,this._start=a)},get:function(){return this._start}},buffer:{configurable:!0,enumerable:!0,get:function(){return this._stream._buffer.slice(0,this._length)}}});var ta=function(a){a=void 0===a?{}:a;this.version=Object(e.e)(a,"version",ta.defaultValues("version"));this.logID=Object(e.e)(a,"logID",ta.defaultValues("logID"));this.timestamp=Object(e.e)(a,"timestamp",ta.defaultValues("timestamp"));this.extensions=Object(e.e)(a,"extensions",
ta.defaultValues("extensions"));this.hashAlgorithm=Object(e.e)(a,"hashAlgorithm",ta.defaultValues("hashAlgorithm"));this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",ta.defaultValues("signatureAlgorithm"));this.signature=Object(e.e)(a,"signature",ta.defaultValues("signature"));"schema"in a&&this.fromSchema(a.schema);"stream"in a&&this.fromStream(a.stream)};ta.defaultValues=function(a){switch(a){case "version":return 0;case "logID":case "extensions":return new ArrayBuffer(0);case "timestamp":return new Date(0);
case "hashAlgorithm":case "signatureAlgorithm":return"";case "signature":return new k.Any;default:throw Error("Invalid member name for SignedCertificateTimestamp class: "+a);}};ta.prototype.fromSchema=function(a){if(!1===a instanceof k.RawData)throw Error("Object's schema was not verified against input data for SignedCertificateTimestamp");a=new ma({stream:new fa({buffer:a.data})});this.fromStream(a)};ta.prototype.fromStream=function(a){var C=a.getUint16();this.version=a.getBlock(1)[0];if(0===this.version){this.logID=
(new Uint8Array(a.getBlock(32))).buffer.slice(0);this.timestamp=new Date(Object(e.k)(new Uint8Array(a.getBlock(8)),8));var L=a.getUint16();this.extensions=(new Uint8Array(a.getBlock(L))).buffer.slice(0);switch(a.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";
break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}switch(a.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw Error("Object's stream was not correct for SignedCertificateTimestamp");}var X=a.getUint16();a=(new Uint8Array(a.getBlock(X))).buffer.slice(0);a=k.fromBER(a);if(-1===a.offset)throw Error("Object's stream was not correct for SignedCertificateTimestamp");
this.signature=a.result;if(C!==47+L+X)throw Error("Object's stream was not correct for SignedCertificateTimestamp");}};ta.prototype.toSchema=function(){var a=this.toStream();return new k.RawData({data:a.stream.buffer})};ta.prototype.toStream=function(){var a=new ma;a.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength);a.appendChar(this.version);a.appendView(new Uint8Array(this.logID));var C=new ArrayBuffer(8);C=new Uint8Array(C);var L=Object(e.l)(this.timestamp.valueOf(),
8);C.set(new Uint8Array(L),8-L.byteLength);a.appendView(C);a.appendUint16(this.extensions.byteLength);this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions));switch(this.hashAlgorithm.toLowerCase()){case "none":C=0;break;case "md5":C=1;break;case "sha1":C=2;break;case "sha224":C=3;break;case "sha256":C=4;break;case "sha384":C=5;break;case "sha512":C=6;break;default:throw Error("Incorrect data for hashAlgorithm: "+this.hashAlgorithm);}a.appendChar(C);switch(this.signatureAlgorithm.toLowerCase()){case "anonymous":C=
0;break;case "rsa":C=1;break;case "dsa":C=2;break;case "ecdsa":C=3;break;default:throw Error("Incorrect data for signatureAlgorithm: "+this.signatureAlgorithm);}a.appendChar(C);C=this.signature.toBER(!1);a.appendUint16(C.byteLength);a.appendView(new Uint8Array(C));return a};ta.prototype.toJSON=function(){return{version:this.version,logID:Object(e.b)(this.logID),timestamp:this.timestamp,extensions:Object(e.b)(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,
signature:this.signature.toJSON()}};ta.prototype.verify=function(a,C,L){L=void 0===L?0:L;var X=this,la,sa,Ba,Ea,Ja,Ma,Qa,Xa,mb,eb,fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ib){la=Object(e.i)(Object(e.a)(X.logID));sa=null;Ea=new ma;Ja=$jscomp.makeIterator(a);for(Ma=Ja.next();!Ma.done;Ma=Ja.next())if(Qa=Ma.value,Qa.log_id===la){sa=Qa.key;break}if(null===sa)throw Error("Public key not found for CT with logId: "+la);Xa=k.fromBER(Object(e.h)(Object(e.d)(sa)));if(-1===Xa.offset)throw Error("Incorrect key value for CT Log with logId: "+
la);Ba=new ha.a({schema:Xa.result});Ea.appendChar(0);Ea.appendChar(0);mb=new ArrayBuffer(8);eb=new Uint8Array(mb);fb=Object(e.l)(X.timestamp.valueOf(),8);eb.set(new Uint8Array(fb),8-fb.byteLength);Ea.appendView(eb);Ea.appendUint16(L);0===L&&Ea.appendUint24(C.byteLength);Ea.appendView(new Uint8Array(C));Ea.appendUint16(X.extensions.byteLength);0!==X.extensions.byteLength&&Ea.appendView(new Uint8Array(X.extensions));return ib.return(Object(S.e)().subtle.verifyWithPublicKey(Ea._stream._buffer.slice(0,
Ea._length),{valueBlock:{valueHex:X.signature.toBER(!1)}},Ba,{algorithmId:""},"SHA-256"))})};var za=function(a){a=void 0===a?{}:a;this.timestamps=Object(e.e)(a,"timestamps",za.defaultValues("timestamps"));"schema"in a&&this.fromSchema(a.schema)};za.defaultValues=function(a){switch(a){case "timestamps":return[];default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+a);}};za.compareWithDefault=function(a,C){switch(a){case "timestamps":return 0===C.length;default:throw Error("Invalid member name for SignedCertificateTimestampList class: "+
a);}};za.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});!1==="optional"in a&&(a.optional=!1);return new k.OctetString({name:a.blockName||"SignedCertificateTimestampList",optional:a.optional})};za.prototype.fromSchema=function(a){if(!1===a instanceof k.OctetString)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");a=new ma({stream:new fa({buffer:a.valueBlock.valueHex})});if(a.getUint16()!==a.length)throw Error("Object's schema was not verified against input data for SignedCertificateTimestampList");
for(;a.length;)this.timestamps.push(new ta({stream:a}))};za.prototype.toSchema=function(){for(var a=new ma,C=0,L=[],X=$jscomp.makeIterator(this.timestamps),la=X.next();!la.done;la=X.next())la=la.value.toStream(),L.push(la),C+=la.stream.buffer.byteLength;a.appendUint16(C);C=$jscomp.makeIterator(L);for(la=C.next();!la.done;la=C.next())a.appendView(la.value.stream.view);return new k.OctetString({valueHex:a.stream.buffer.slice(0)})};za.prototype.toJSON=function(){return{timestamps:Array.from(this.timestamps,
function(a){return a.toJSON()})}};var Ga=function(a){a=void 0===a?{}:a;this.templateID=Object(e.e)(a,"templateID",Ga.defaultValues("templateID"));"templateMajorVersion"in a&&(this.templateMajorVersion=Object(e.e)(a,"templateMajorVersion",Ga.defaultValues("templateMajorVersion")));"templateMinorVersion"in a&&(this.templateMinorVersion=Object(e.e)(a,"templateMinorVersion",Ga.defaultValues("templateMinorVersion")));"schema"in a&&this.fromSchema(a.schema)};Ga.defaultValues=function(a){switch(a){case "templateID":return"";
case "templateMajorVersion":case "templateMinorVersion":return 0;default:throw Error("Invalid member name for CertificateTemplate class: "+a);}};Ga.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.templateID||""}),new k.Integer({name:a.templateMajorVersion||"",optional:!0}),new k.Integer({name:a.templateMinorVersion||"",optional:!0})]})};Ga.prototype.fromSchema=function(a){Object(e.c)(a,["templateID",
"templateMajorVersion","templateMinorVersion"]);a=k.compareSchema(a,a,Ga.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=a.result.templateID.valueBlock.toString();"templateMajorVersion"in a.result&&(this.templateMajorVersion=a.result.templateMajorVersion.valueBlock.valueDec);"templateMinorVersion"in
a.result&&(this.templateMinorVersion=a.result.templateMinorVersion.valueBlock.valueDec)};Ga.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.templateID}));"templateMajorVersion"in this&&a.push(new k.Integer({value:this.templateMajorVersion}));"templateMinorVersion"in this&&a.push(new k.Integer({value:this.templateMinorVersion}));return new k.Sequence({value:a})};Ga.prototype.toJSON=function(){var a={extnID:this.templateID};"templateMajorVersion"in this&&(a.templateMajorVersion=
this.templateMajorVersion);"templateMinorVersion"in this&&(a.templateMinorVersion=this.templateMinorVersion);return a};var Ta=function(a){a=void 0===a?{}:a;this.certificateIndex=Object(e.e)(a,"certificateIndex",Ta.defaultValues("certificateIndex"));this.keyIndex=Object(e.e)(a,"keyIndex",Ta.defaultValues("keyIndex"));"schema"in a&&this.fromSchema(a.schema)};Ta.defaultValues=function(a){switch(a){case "certificateIndex":case "keyIndex":return 0;default:throw Error("Invalid member name for CAVersion class: "+
a);}};Ta.schema=function(a){return new k.Integer};Ta.prototype.fromSchema=function(a){if(a.constructor.blockName()!==k.Integer.blockName())throw Error("Object's schema was not verified against input data for CAVersion");a=a.valueBlock.valueHex.slice(0);var C=new Uint8Array(a);switch(!0){case 4>a.byteLength:var L=new ArrayBuffer(4);(new Uint8Array(L)).set(C,4-a.byteLength);a=L.slice(0);break;case 4<a.byteLength:a=new ArrayBuffer(4),(new Uint8Array(a)).set(C.slice(0,4)),a=a.slice(0)}L=a.slice(0,2);
var X=new Uint8Array(L);C=X[0];X[0]=X[1];X[1]=C;this.keyIndex=(new Uint16Array(L))[0];a=a.slice(2);L=new Uint8Array(a);C=L[0];L[0]=L[1];L[1]=C;this.certificateIndex=(new Uint16Array(a))[0]};Ta.prototype.toSchema=function(){var a=new ArrayBuffer(2);(new Uint16Array(a))[0]=this.certificateIndex;var C=new Uint8Array(a),L=C[0];C[0]=C[1];C[1]=L;C=new ArrayBuffer(2);(new Uint16Array(C))[0]=this.keyIndex;var X=new Uint8Array(C);L=X[0];X[0]=X[1];X[1]=L;return new k.Integer({valueHex:Object(e.j)(C,a)})};Ta.prototype.toJSON=
function(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}};var Fa=function(a){a=void 0===a?{}:a;this.id=Object(e.e)(a,"id",Fa.defaultValues("id"));"type"in a&&(this.type=Object(e.e)(a,"type",Fa.defaultValues("type")));"schema"in a&&this.fromSchema(a.schema)};Fa.defaultValues=function(a){switch(a){case "id":return"";case "type":return new k.Null;default:throw Error("Invalid member name for QCStatement class: "+a);}};Fa.compareWithDefault=function(a,C){switch(a){case "id":return""===
C;case "type":return C instanceof k.Null;default:throw Error("Invalid member name for QCStatement class: "+a);}};Fa.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.id||""}),new k.Any({name:a.type||"",optional:!0})]})};Fa.prototype.fromSchema=function(a){Object(e.c)(a,["id","type"]);a=k.compareSchema(a,a,Fa.schema({names:{id:"id",type:"type"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatement");
this.id=a.result.id.valueBlock.toString();"type"in a.result&&(this.type=a.result.type)};Fa.prototype.toSchema=function(){var a=[new k.ObjectIdentifier({value:this.id})];"type"in this&&a.push(this.type);return new k.Sequence({value:a})};Fa.prototype.toJSON=function(){var a={id:this.id};"type"in this&&(a.type=this.type.toJSON());return a};var Ka=function(a){a=void 0===a?{}:a;this.values=Object(e.e)(a,"values",Ka.defaultValues("values"));"schema"in a&&this.fromSchema(a.schema)};Ka.defaultValues=function(a){switch(a){case "values":return[];
default:throw Error("Invalid member name for QCStatements class: "+a);}};Ka.compareWithDefault=function(a,C){switch(a){case "values":return 0===C.length;default:throw Error("Invalid member name for QCStatements class: "+a);}};Ka.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.Repeated({name:a.values||"",value:Fa.schema(a.value||{})})]})};Ka.prototype.fromSchema=function(a){Object(e.c)(a,["values"]);a=k.compareSchema(a,a,Ka.schema({names:{values:"values"}}));
if(!1===a.verified)throw Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(a.result.values,function(C){return new Fa({schema:C})})};Ka.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.values,function(a){return a.toSchema()})})};Ka.prototype.toJSON=function(){return{extensions:Array.from(this.values,function(a){return a.toJSON()})}};var ca=function(a){a=void 0===a?{}:a;this.extnID=Object(e.e)(a,"extnID",ca.defaultValues("extnID"));
this.critical=Object(e.e)(a,"critical",ca.defaultValues("critical"));this.extnValue="extnValue"in a?new k.OctetString({valueHex:a.extnValue}):ca.defaultValues("extnValue");"parsedValue"in a&&(this.parsedValue=Object(e.e)(a,"parsedValue",ca.defaultValues("parsedValue")));"schema"in a&&this.fromSchema(a.schema)};ca.defaultValues=function(a){switch(a){case "extnID":return"";case "critical":return!1;case "extnValue":return new k.OctetString;case "parsedValue":return{};default:throw Error("Invalid member name for Extension class: "+
a);}};ca.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});return new k.Sequence({name:a.blockName||"",value:[new k.ObjectIdentifier({name:a.extnID||""}),new k.Boolean({name:a.critical||"",optional:!0}),new k.OctetString({name:a.extnValue||""})]})};ca.prototype.fromSchema=function(a){Object(e.c)(a,["extnID","critical","extnValue"]);a=k.compareSchema(a,a,ca.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extension");
this.extnID=a.result.extnID.valueBlock.toString();"critical"in a.result&&(this.critical=a.result.critical.valueBlock.value);this.extnValue=a.result.extnValue;a=k.fromBER(this.extnValue.valueBlock.valueHex);if(-1!==a.offset)switch(this.extnID){case "2.5.29.9":try{this.parsedValue=new ia({schema:a.result})}catch(C){this.parsedValue=new ia,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case "2.5.29.14":this.parsedValue=a.result;break;case "2.5.29.15":this.parsedValue=
a.result;break;case "2.5.29.16":try{this.parsedValue=new na({schema:a.result})}catch(C){this.parsedValue=new na,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case "2.5.29.17":case "2.5.29.18":try{this.parsedValue=new Q({schema:a.result})}catch(C){this.parsedValue=new Q,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case "2.5.29.19":try{this.parsedValue=new v({schema:a.result})}catch(C){this.parsedValue=new v,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;
case "2.5.29.20":case "2.5.29.27":this.parsedValue=a.result;break;case "2.5.29.21":this.parsedValue=a.result;break;case "2.5.29.24":this.parsedValue=a.result;break;case "2.5.29.28":try{this.parsedValue=new n({schema:a.result})}catch(C){this.parsedValue=new n,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case "2.5.29.29":try{this.parsedValue=new w({schema:a.result})}catch(C){this.parsedValue=new w,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;
case "2.5.29.30":try{this.parsedValue=new V({schema:a.result})}catch(C){this.parsedValue=new V,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case "2.5.29.31":case "2.5.29.46":try{this.parsedValue=new O({schema:a.result})}catch(C){this.parsedValue=new O,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case "2.5.29.32":case "1.3.6.1.4.1.311.21.10":try{this.parsedValue=new ya({schema:a.result})}catch(C){this.parsedValue=new ya,this.parsedValue.parsingError=
"Incorrectly formated CertificatePolicies"}break;case "2.5.29.33":try{this.parsedValue=new Da({schema:a.result})}catch(C){this.parsedValue=new Da,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case "2.5.29.35":try{this.parsedValue=new ea({schema:a.result})}catch(C){this.parsedValue=new ea,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case "2.5.29.36":try{this.parsedValue=new b({schema:a.result})}catch(C){this.parsedValue=new b,this.parsedValue.parsingError=
"Incorrectly formated PolicyConstraints"}break;case "2.5.29.37":try{this.parsedValue=new N({schema:a.result})}catch(C){this.parsedValue=new N,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case "2.5.29.54":this.parsedValue=a.result;break;case "1.3.6.1.5.5.7.1.1":case "1.3.6.1.5.5.7.1.11":try{this.parsedValue=new ja({schema:a.result})}catch(C){this.parsedValue=new ja,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case "1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=
new za({schema:a.result})}catch(C){this.parsedValue=new za,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case "1.3.6.1.4.1.311.20.2":this.parsedValue=a.result;break;case "1.3.6.1.4.1.311.21.2":this.parsedValue=a.result;break;case "1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Ga({schema:a.result})}catch(C){this.parsedValue=new Ga,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case "1.3.6.1.4.1.311.21.1":try{this.parsedValue=
new Ta({schema:a.result})}catch(C){this.parsedValue=new Ta,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case "1.3.6.1.5.5.7.1.3":try{this.parsedValue=new Ka({schema:a.result})}catch(C){this.parsedValue=new Ka,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}};ca.prototype.toSchema=function(){var a=[];a.push(new k.ObjectIdentifier({value:this.extnID}));this.critical!==ca.defaultValues("critical")&&a.push(new k.Boolean({value:this.critical}));a.push(this.extnValue);
return new k.Sequence({value:a})};ca.prototype.toJSON=function(){var a={extnID:this.extnID,extnValue:this.extnValue.toJSON()};this.critical!==ca.defaultValues("critical")&&(a.critical=this.critical);"parsedValue"in this&&"toJSON"in this.parsedValue&&(a.parsedValue=this.parsedValue.toJSON());return a};var ka=function(a){a=void 0===a?{}:a;this.extensions=Object(e.e)(a,"extensions",ka.defaultValues("extensions"));"schema"in a&&this.fromSchema(a.schema)};ka.defaultValues=function(a){switch(a){case "extensions":return[];
default:throw Error("Invalid member name for Extensions class: "+a);}};ka.schema=function(a,C){a=void 0===a?{}:a;C=void 0===C?!1:C;a=Object(e.e)(a,"names",{});return new k.Sequence({optional:C,name:a.blockName||"",value:[new k.Repeated({name:a.extensions||"",value:ca.schema(a.extension||{})})]})};ka.prototype.fromSchema=function(a){Object(e.c)(a,["extensions"]);a=k.compareSchema(a,a,ka.schema({names:{extensions:"extensions"}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Extensions");
this.extensions=Array.from(a.result.extensions,function(C){return new ca({schema:C})})};ka.prototype.toSchema=function(){return new k.Sequence({value:Array.from(this.extensions,function(a){return a.toSchema()})})};ka.prototype.toJSON=function(){return{extensions:Array.from(this.extensions,function(a){return a.toJSON()})}};var ra=function(a){a=void 0===a?{}:a;this.tbs=Object(e.e)(a,"tbs",ra.defaultValues("tbs"));this.version=Object(e.e)(a,"version",ra.defaultValues("version"));this.serialNumber=Object(e.e)(a,
"serialNumber",ra.defaultValues("serialNumber"));this.signature=Object(e.e)(a,"signature",ra.defaultValues("signature"));this.issuer=Object(e.e)(a,"issuer",ra.defaultValues("issuer"));this.notBefore=Object(e.e)(a,"notBefore",ra.defaultValues("notBefore"));this.notAfter=Object(e.e)(a,"notAfter",ra.defaultValues("notAfter"));this.subject=Object(e.e)(a,"subject",ra.defaultValues("subject"));this.subjectPublicKeyInfo=Object(e.e)(a,"subjectPublicKeyInfo",ra.defaultValues("subjectPublicKeyInfo"));"issuerUniqueID"in
a&&(this.issuerUniqueID=Object(e.e)(a,"issuerUniqueID",ra.defaultValues("issuerUniqueID")));"subjectUniqueID"in a&&(this.subjectUniqueID=Object(e.e)(a,"subjectUniqueID",ra.defaultValues("subjectUniqueID")));"extensions"in a&&(this.extensions=Object(e.e)(a,"extensions",ra.defaultValues("extensions")));this.signatureAlgorithm=Object(e.e)(a,"signatureAlgorithm",ra.defaultValues("signatureAlgorithm"));this.signatureValue=Object(e.e)(a,"signatureValue",ra.defaultValues("signatureValue"));"schema"in a&&
this.fromSchema(a.schema)};ra.defaultValues=function(a){switch(a){case "tbs":return new ArrayBuffer(0);case "version":return 0;case "serialNumber":return new k.Integer;case "signature":return new I.a;case "issuer":return new H;case "notBefore":return new ba;case "notAfter":return new ba;case "subject":return new H;case "subjectPublicKeyInfo":return new ha.a;case "issuerUniqueID":return new ArrayBuffer(0);case "subjectUniqueID":return new ArrayBuffer(0);case "extensions":return[];case "signatureAlgorithm":return new I.a;
case "signatureValue":return new k.BitString;default:throw Error("Invalid member name for Certificate class: "+a);}};ra.schema=function(a){a=void 0===a?{}:a;a=Object(e.e)(a,"names",{});var C=k.Sequence,L=a.blockName||"";var X=a.tbsCertificate;X=void 0===X?{}:X;X=Object(e.e)(X,"names",{});X=new k.Sequence({name:X.blockName||"tbsCertificate",value:[new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({name:X.tbsCertificateVersion||"tbsCertificate.version"})]}),new k.Integer({name:X.tbsCertificateSerialNumber||
"tbsCertificate.serialNumber"}),I.a.schema(X.signature||{names:{blockName:"tbsCertificate.signature"}}),H.schema(X.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new k.Sequence({name:X.tbsCertificateValidity||"tbsCertificate.validity",value:[ba.schema(X.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),ba.schema(X.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),H.schema(X.subject||{names:{blockName:"tbsCertificate.subject"}}),
ha.a.schema(X.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new k.Primitive({name:X.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new k.Primitive({name:X.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[ka.schema(X.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]});
return new C({name:L,value:[X,I.a.schema(a.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new k.BitString({name:a.signatureValue||"signatureValue"})]})};ra.prototype.fromSchema=function(a){Object(e.c)(a,"tbsCertificate tbsCertificate.extensions tbsCertificate.version tbsCertificate.serialNumber tbsCertificate.signature tbsCertificate.issuer tbsCertificate.notBefore tbsCertificate.notAfter tbsCertificate.subject tbsCertificate.subjectPublicKeyInfo tbsCertificate.issuerUniqueID tbsCertificate.subjectUniqueID signatureAlgorithm signatureValue".split(" "));
a=k.compareSchema(a,a,ra.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===a.verified)throw Error("Object's schema was not verified against input data for Certificate");this.tbs=a.result.tbsCertificate.valueBeforeDecode;"tbsCertificate.version"in a.result&&(this.version=a.result["tbsCertificate.version"].valueBlock.valueDec);this.serialNumber=a.result["tbsCertificate.serialNumber"];this.signature=new I.a({schema:a.result["tbsCertificate.signature"]});
this.issuer=new H({schema:a.result["tbsCertificate.issuer"]});this.notBefore=new ba({schema:a.result["tbsCertificate.notBefore"]});this.notAfter=new ba({schema:a.result["tbsCertificate.notAfter"]});this.subject=new H({schema:a.result["tbsCertificate.subject"]});this.subjectPublicKeyInfo=new ha.a({schema:a.result["tbsCertificate.subjectPublicKeyInfo"]});"tbsCertificate.issuerUniqueID"in a.result&&(this.issuerUniqueID=a.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex);"tbsCertificate.subjectUniqueID"in
a.result&&(this.subjectUniqueID=a.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex);"tbsCertificate.extensions"in a.result&&(this.extensions=Array.from(a.result["tbsCertificate.extensions"],function(C){return new ca({schema:C})}));this.signatureAlgorithm=new I.a({schema:a.result.signatureAlgorithm});this.signatureValue=a.result.signatureValue};ra.prototype.encodeTBS=function(){var a=[];"version"in this&&this.version!==ra.defaultValues("version")&&a.push(new k.Constructed({optional:!0,
idBlock:{tagClass:3,tagNumber:0},value:[new k.Integer({value:this.version})]}));a.push(this.serialNumber);a.push(this.signature.toSchema());a.push(this.issuer.toSchema());a.push(new k.Sequence({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]}));a.push(this.subject.toSchema());a.push(this.subjectPublicKeyInfo.toSchema());"issuerUniqueID"in this&&a.push(new k.Primitive({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID}));"subjectUniqueID"in this&&a.push(new k.Primitive({optional:!0,
idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID}));"extensions"in this&&a.push(new k.Constructed({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new k.Sequence({value:Array.from(this.extensions,function(C){return C.toSchema()})})]}));return new k.Sequence({value:a})};ra.prototype.toSchema=function(a){if(!1===(void 0===a?!1:a)){if(0===this.tbs.length)return ra.schema().value[0];a=k.fromBER(this.tbs).result}else a=this.encodeTBS();return new k.Sequence({value:[a,this.signatureAlgorithm.toSchema(),
this.signatureValue]})};ra.prototype.toJSON=function(){var a={tbs:Object(e.b)(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};"version"in this&&this.version!==ra.defaultValues("version")&&
(a.version=this.version);"issuerUniqueID"in this&&(a.issuerUniqueID=Object(e.b)(this.issuerUniqueID,0,this.issuerUniqueID.byteLength));"subjectUniqueID"in this&&(a.subjectUniqueID=Object(e.b)(this.subjectUniqueID,0,this.subjectUniqueID.byteLength));"extensions"in this&&(a.extensions=Array.from(this.extensions,function(C){return C.toJSON()}));return a};ra.prototype.getPublicKey=function(a){a=void 0===a?null:a;return Object(S.e)().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,
a)};ra.prototype.getKeyHash=function(a){a=void 0===a?"SHA-1":a;var C=Object(S.d)();return"undefined"===typeof C?Promise.reject("Unable to create WebCrypto object"):C.digest({name:a},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))};ra.prototype.sign=function(a,C){var L=this;C=void 0===C?"SHA-1":C;if("undefined"===typeof a)return Promise.reject("Need to provide a private key for signing");var X=Promise.resolve(),la,sa=Object(S.e)();X=X.then(function(){return sa.subtle.getSignatureParameters(a,
C)});X=X.then(function(Ba){la=Ba.parameters;L.signature=Ba.signatureAlgorithm;L.signatureAlgorithm=Ba.signatureAlgorithm});X=X.then(function(){L.tbs=L.encodeTBS().toBER(!1)});X=X.then(function(){return sa.subtle.signWithPrivateKey(L.tbs,a,la)});return X=X.then(function(Ba){L.signatureValue=new k.BitString({valueHex:Ba})})};ra.prototype.verify=function(a){a=void 0===a?null:a;var C={};null!==a?C=a.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(C=this.subjectPublicKeyInfo);return!1===C instanceof
ha.a?Promise.reject("Please provide issuer certificate as a parameter"):Object(S.e)().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,C,this.signatureAlgorithm)};E(18);var Aa=E(35);E(28);E(12);var La=Y.a,Ua=function(a){a=void 0===a?{}:a;return La.call(this,a)||this};$jscomp.inherits(Ua,La);E(23);E(30);E(29);E(27);E(24);var Ra=null,Ia=function(){};Ia.setEngine=function(a,C){Ra={getRandomValues:C.getRandomValues.bind(C),subtle:C.subtle,name:a};Object(S.i)(a,new Aa.a({name:a,crypto:C,subtle:C.subtle}),
new Aa.a({name:a,crypto:C,subtle:C.subtle}))};Ia.isNodePlugin=function(){return"undefined"===typeof self&&"undefined"===typeof window};$jscomp.global.Object.defineProperties(Ia,{crypto:{configurable:!0,enumerable:!0,get:function(){if(!Ra)throw new t.m(t.f.CRYPTOGRAPHIC_NO_MODULE);return Ra}}});Ia.isNodePlugin()||Ia.setEngine("W3 WebCrypto module",self.crypto);var Ha=function(){};Ha.prototype.getAlgorithmName=function(){return this.namespaceURI};var Va=function(){return Ha.apply(this,arguments)||this};
$jscomp.inherits(Va,Ha);Va.prototype.Digest=function(a){var C=this,L,X,la;return $jscomp.asyncExecutePromiseGeneratorProgram(function(sa){if(1==sa.nextAddress)return"string"===typeof a?L=t.b.FromString(a,"utf8"):ArrayBuffer.isView(a)?L=new Uint8Array(a.buffer):a instanceof ArrayBuffer?L=new Uint8Array(a):(X=(new XMLSerializer).serializeToString(a),L=t.b.FromString(X,"utf8")),sa.yield(Ia.crypto.subtle.digest(C.algorithm,L),2);la=sa.yieldResult;return sa.return(new Uint8Array(la))})};var Pa=function(){return Ha.apply(this,
arguments)||this};$jscomp.inherits(Pa,Ha);Pa.prototype.Sign=function(a,C,L){var X;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){X=t.b.FromString(a,"utf8");return la.return(Ia.crypto.subtle.sign(L,C,X))})};Pa.prototype.Verify=function(a,C,L,X){var la=this,sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){sa=t.b.FromString(a,"utf8");return Ba.return(Ia.crypto.subtle.verify(X||la.algorithm,C,L,sa))})};var d=function(){var a=Va.apply(this,arguments)||this;a.algorithm=
{name:"SHA-1"};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#sha1";return a};$jscomp.inherits(d,Va);var T=function(){var a=Va.apply(this,arguments)||this;a.algorithm={name:"SHA-256"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha256";return a};$jscomp.inherits(T,Va);var da=function(){var a=Va.apply(this,arguments)||this;a.algorithm={name:"SHA-384"};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#sha384";return a};$jscomp.inherits(da,Va);var va=function(){var a=Va.apply(this,arguments)||
this;a.algorithm={name:"SHA-512"};a.namespaceURI="http://www.w3.org/2001/04/xmlenc#sha512";return a};$jscomp.inherits(va,Va);var oa=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1";return a};$jscomp.inherits(oa,Pa);var m=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256";return a};
$jscomp.inherits(m,Pa);var U=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384";return a};$jscomp.inherits(U,Pa);var aa=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"ECDSA",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512";return a};$jscomp.inherits(aa,Pa);var pa=function(){var a=Pa.apply(this,arguments)||this;a.algorithm=
{name:"HMAC",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#hmac-sha1";return a};$jscomp.inherits(pa,Pa);var ua=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha256";return a};$jscomp.inherits(ua,Pa);var Ca=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha384";
return a};$jscomp.inherits(Ca,Pa);var Sa=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"HMAC",hash:{name:"SHA-512"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#hmac-sha512";return a};$jscomp.inherits(Sa,Pa);var $a=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2000/09/xmldsig#rsa-sha1";return a};$jscomp.inherits($a,Pa);var Oa=function(){var a=Pa.apply(this,arguments)||this;
a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha256";return a};$jscomp.inherits(Oa,Pa);var Za=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};a.namespaceURI="http://www.w3.org/2001/04/xmldsig-more#rsa-sha384";return a};$jscomp.inherits(Za,Pa);var bb=function(){var a=Pa.apply(this,arguments)||this;a.algorithm={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};a.namespaceURI=
"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512";return a};$jscomp.inherits(bb,Pa);var Ya=function(a){var C=Pa.call(this)||this;C.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};C.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#rsa-pss";a&&(C.algorithm.saltLength=a);return C};$jscomp.inherits(Ya,Pa);var cb=function(a){a=Ya.call(this,a)||this;a.algorithm.hash.name="SHA-1";return a};$jscomp.inherits(cb,Ya);var ab=function(a){a=Ya.call(this,a)||this;a.algorithm.hash.name="SHA-256";return a};$jscomp.inherits(ab,
Ya);var kb=function(a){a=Ya.call(this,a)||this;a.algorithm.hash.name="SHA-384";return a};$jscomp.inherits(kb,Ya);var db=function(a){a=Ya.call(this,a)||this;a.algorithm.hash.name="SHA-512";return a};$jscomp.inherits(db,Ya);var gb=function(){var a=Pa.call(this)||this;a.algorithm={name:"RSA-PSS",hash:{name:"SHA-1"}};a.namespaceURI="http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1";return a};$jscomp.inherits(gb,Pa);var sb=function(){var a=gb.call(this)||this;a.algorithm.hash.name="SHA-1";a.algorithm.saltLength=
20;return a};$jscomp.inherits(sb,gb);var lb=function(){var a=gb.call(this)||this;a.algorithm.hash.name="SHA-256";a.algorithm.saltLength=32;return a};$jscomp.inherits(lb,gb);var Mb=function(){var a=gb.call(this)||this;a.algorithm.hash.name="SHA-384";a.algorithm.saltLength=48;return a};$jscomp.inherits(Mb,gb);var ae=function(){var a=gb.call(this)||this;a.algorithm.hash.name="SHA-512";a.algorithm.saltLength=64;return a};$jscomp.inherits(ae,gb);var wb;(function(a){a[a.BeforeDocElement=0]="BeforeDocElement";
a[a.InsideDocElement=1]="InsideDocElement";a[a.AfterDocElement=2]="AfterDocElement"})(wb||(wb={}));var ob=function(a,C,L){L=void 0===L?new t.c:L;this.propagatedNamespaces=new t.c;this.result=[];this.visibleNamespaces=new t.c;this.inclusiveNamespacesPrefixList=[];this.state=wb.BeforeDocElement;this.withComments=a;this.exclusive=C;this.propagatedNamespaces=L};ob.prototype.Canonicalize=function(a){if(!a)throw new t.m(t.f.CRYPTOGRAPHIC,"Parameter 1 is not Node");this.WriteNode(a);return this.result.join("")};
ob.prototype.WriteNode=function(a){switch(a.nodeType){case t.n.Document:case t.n.DocumentFragment:this.WriteDocumentNode(a);break;case t.n.Element:this.WriteElementNode(a);break;case t.n.CDATA:case t.n.SignificantWhitespace:case t.n.Text:Object(t.r)(a.parentNode)||this.WriteTextNode(a);break;case t.n.Whitespace:this.state===wb.InsideDocElement&&this.WriteTextNode(a);break;case t.n.Comment:this.WriteCommentNode(a);break;case t.n.ProcessingInstruction:this.WriteProcessingInstructionNode(a);break;case t.n.EntityReference:for(var C=
0;C<a.childNodes.length;C++)this.WriteNode(a.childNodes[C]);break;case t.n.Attribute:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");case t.n.EndElement:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");case t.n.EndEntity:throw new t.m(t.f.CRYPTOGRAPHIC,"Attribute node is impossible here");}};ob.prototype.WriteDocumentNode=function(a){this.state=wb.BeforeDocElement;for(a=a.firstChild;null!=a;a=a.nextSibling)this.WriteNode(a)};ob.prototype.WriteCommentNode=function(a){this.withComments&&
(this.state===wb.AfterDocElement?this.result.push(String.fromCharCode(10)+"\x3c!--"):this.result.push("\x3c!--"),this.result.push(this.NormalizeString(a.nodeValue,t.n.Comment)),this.state===wb.BeforeDocElement?this.result.push("--\x3e"+String.fromCharCode(10)):this.result.push("--\x3e"))};ob.prototype.WriteTextNode=function(a){this.result.push(this.NormalizeString(a.nodeValue,a.nodeType))};ob.prototype.WriteProcessingInstructionNode=function(a){var C=a.nodeName||a.tagName;"xml"!==C&&(this.state===
wb.AfterDocElement?this.result.push("\n<?"):this.result.push("<?"),this.result.push(C),a.nodeValue&&(this.result.push(" "),this.result.push(this.NormalizeString(a.nodeValue,t.n.ProcessingInstruction))),this.state===wb.BeforeDocElement?this.result.push("?>\n"):this.result.push("?>"))};ob.prototype.WriteElementNode=function(a){var C=this.state;this.state===wb.BeforeDocElement&&(this.state=wb.InsideDocElement);this.result.push("<");this.result.push(a.nodeName);var L=this.WriteNamespacesAxis(a);this.WriteAttributesAxis(a);
this.result.push(">");for(var X=a.firstChild;null!=X;X=X.nextSibling)this.WriteNode(X);this.result.push("</");this.result.push(a.nodeName);this.result.push(">");C===wb.BeforeDocElement&&(this.state=wb.AfterDocElement);for(;L--;)this.visibleNamespaces.Pop()};ob.prototype.WriteNamespacesAxis=function(a){for(var C=this,L=[],X=0,la=0;la<a.attributes.length;la++){var sa=a.attributes[la];if(h(sa)){if("xmlns"===sa.localName&&!sa.prefix&&!sa.nodeValue){var Ba={prefix:sa.prefix,namespace:sa.nodeValue};L.push(Ba);
this.visibleNamespaces.Add(Ba);X++}Ba=null;var Ea=void 0;if(Ea=/xmlns:([\w\.-]+)/.exec(sa.nodeName))Ba=Ea[1];Ea=!0;if(this.exclusive&&!this.IsNamespaceInclusive(a,Ba)){var Ja=l(a,Ba);if(1<Ja)Ea=!1;else if(0===Ja)continue}!this.IsNamespaceRendered(Ba,sa.nodeValue)&&Ea&&(sa={prefix:Ba,namespace:sa.nodeValue},L.push(sa),this.visibleNamespaces.Add(sa),X++)}else sa.prefix&&!this.IsNamespaceRendered(sa.prefix,sa.namespaceURI)&&(sa={prefix:sa.prefix,namespace:sa.namespaceURI},L.push(sa),this.visibleNamespaces.Add(sa),
X++)}this.IsNamespaceRendered(a.prefix,a.namespaceURI)||"http://www.w3.org/2000/xmlns/"===a.namespaceURI||(a={prefix:a.prefix,namespace:a.namespaceURI},L.push(a),this.visibleNamespaces.Add(a),X++);L.sort(J);var Ma=null;L.forEach(function(Qa){Qa.prefix!==Ma&&(Ma=Qa.prefix,C.result.push(" xmlns"),Qa.prefix&&C.result.push(":"+Qa.prefix),C.result.push('="'),C.result.push(Qa.namespace),C.result.push('"'))});return X};ob.prototype.WriteAttributesAxis=function(a){for(var C=this,L=[],X=0;X<a.attributes.length;X++){var la=
a.attributes[X];h(la)||L.push(la)}L.sort(W);L.forEach(function(sa){null!=sa&&(C.result.push(" "),C.result.push(sa.nodeName),C.result.push('="'),C.result.push(C.NormalizeString(sa.nodeValue,t.n.Attribute)),C.result.push('"'))})};ob.prototype.NormalizeString=function(a,C){var L=[];if(a)for(var X=0;X<a.length;X++){var la=a[X];"<"!==la||C!==t.n.Attribute&&!this.IsTextNode(C)?">"===la&&this.IsTextNode(C)?L.push("&gt;"):"&"!==la||C!==t.n.Attribute&&!this.IsTextNode(C)?'"'===la&&C===t.n.Attribute?L.push("&quot;"):
"\t"===la&&C===t.n.Attribute?L.push("&#x9;"):"\n"===la&&C===t.n.Attribute?L.push("&#xA;"):"\r"===la?L.push("&#xD;"):L.push(la):L.push("&amp;"):L.push("&lt;")}return L.join("")};ob.prototype.IsTextNode=function(a){switch(a){case t.n.Text:case t.n.CDATA:case t.n.SignificantWhitespace:case t.n.Whitespace:return!0}return!1};ob.prototype.IsNamespaceInclusive=function(a,C){C=C||null;return a.prefix===C?!1:-1!==this.inclusiveNamespacesPrefixList.indexOf(C||"")};ob.prototype.IsNamespaceRendered=function(a,
C){a=a||"";C=C||"";return!a&&!C||"xml"===a&&"http://www.w3.org/XML/1998/namespace"===C?!0:(a=this.visibleNamespaces.GetPrefix(a))?a.namespace===C:!1};$jscomp.global.Object.defineProperties(ob.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.inclusiveNamespacesPrefixList.join(" ")},set:function(a){this.inclusiveNamespacesPrefixList=a.split(" ")}}});var ne=t.p,oe=function(){return ne.apply(this,arguments)||this};$jscomp.inherits(oe,ne);var hb=oe;hb=
u([Object(t.l)({localName:"xmldsig",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds"})],hb);var pe=t.j,qe=function(){return pe.apply(this,arguments)||this};$jscomp.inherits(qe,pe);var xb=qe;xb=u([Object(t.l)({localName:"xmldsig_collection",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds"})],xb);var yb=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(yb,hb);var re=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(re,hb);var ec=re;u([Object(t.g)({localName:"Algorithm",
required:!0,defaultValue:"http://www.w3.org/TR/2001/REC-xml-c14n-20010315"})],ec.prototype,"Algorithm",void 0);ec=u([Object(t.l)({localName:"CanonicalizationMethod"})],ec);var se=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(se,hb);var Vb=se;u([Object(t.g)({localName:"Id",defaultValue:""})],Vb.prototype,"Id",void 0);u([Object(t.g)({localName:"MimeType",defaultValue:""})],Vb.prototype,"MimeType",void 0);u([Object(t.g)({localName:"Encoding",defaultValue:""})],Vb.prototype,"Encoding",
void 0);Vb=u([Object(t.l)({localName:"Object"})],Vb);var te=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(te,xb);var be=te;be=u([Object(t.l)({localName:"xmldsig_objects",parser:Vb})],be);var ue=function(a){var C=hb.call(this)||this;a&&(C.Algorithm=a);return C};$jscomp.inherits(ue,hb);var Hb=ue;u([Object(t.g)({localName:"Algorithm",required:!0,defaultValue:"http://www.w3.org/2001/04/xmlenc#sha256"})],Hb.prototype,"Algorithm",void 0);Hb=u([Object(t.l)({localName:"DigestMethod"})],
Hb);var ce=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(ce,xb);ce.prototype.OnLoadXml=function(a){for(var C=0;C<a.childNodes.length;C++){var L=a.childNodes.item(C);if(L.nodeType===t.n.Element){var X=null;switch(L.localName){case "KeyValue":X=ld;break;case "X509Data":X=qc;break;case "SPKIData":X=md}X&&(X=new X,X.LoadXml(L),this.Add(X))}}};var rc=ce;u([Object(t.g)({localName:"Id",defaultValue:""})],rc.prototype,"Id",void 0);rc=u([Object(t.l)({localName:"KeyInfo"})],rc);var Hc=
function(){var a=hb.apply(this,arguments)||this;a.innerXml=null;return a};$jscomp.inherits(Hc,hb);Hc.prototype.GetOutput=function(){throw new t.m(t.f.METHOD_NOT_IMPLEMENTED);};Hc.prototype.LoadInnerXml=function(a){if(!a)throw new t.m(t.f.PARAM_REQUIRED,"node");this.innerXml=a};Hc.prototype.GetInnerXml=function(){return this.innerXml};var tb=Hc;u([Object(t.g)({localName:"Algorithm",defaultValue:""})],tb.prototype,"Algorithm",void 0);u([Object(t.i)({localName:"XPath",defaultValue:""})],tb.prototype,
"XPath",void 0);tb=u([Object(t.l)({localName:"Transform"})],tb);var Ic=function(){var a=tb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2000/09/xmldsig#base64";return a};$jscomp.inherits(Ic,tb);Ic.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");return t.b.FromString(this.innerXml.textContent||"","base64")};var Db=function(){var a=tb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315";a.xmlCanonicalizer=
new ob(!1,!1);return a};$jscomp.inherits(Db,tb);Db.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};var Jc=function(){var a=Db.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments";a.xmlCanonicalizer=new ob(!0,!1);return a};$jscomp.inherits(Jc,Db);var fc=function(){var a=tb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature";
return a};$jscomp.inherits(fc,tb);fc.prototype.GetOutput=function(){var a;if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");for(var C=this.innerXml.firstChild,L=[];C;)Object(t.s)(C)&&"Signature"===C.localName&&"http://www.w3.org/2000/09/xmldsig#"===C.namespaceURI&&L.push(C),C=C.nextSibling;C=$jscomp.makeIterator(L);for(L=C.next();!L.done;L=C.next())L=L.value,null===(a=L.parentNode)||void 0===a?void 0:a.removeChild(L);return this.innerXml};var Eb=function(){var a=tb.apply(this,arguments)||
this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#";a.xmlCanonicalizer=new ob(!1,!0);return a};$jscomp.inherits(Eb,tb);Eb.prototype.LoadXml=function(a){tb.prototype.LoadXml.call(this,a);if(this.Element&&this.Element.childNodes)for(a=0;a<this.Element.childNodes.length;a++){var C=this.Element.childNodes[a];if(C&&1===C.nodeType)switch(C.localName){case "InclusiveNamespaces":this.setInclusiveNamespacesElement(C)}}};Eb.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,
"innerXml");return this.xmlCanonicalizer.Canonicalize(this.innerXml)};Eb.prototype.setInclusiveNamespacesElement=function(a){(a=a.getAttribute("PrefixList"))&&0<a.length&&(this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a)};$jscomp.global.Object.defineProperties(Eb.prototype,{InclusiveNamespacesPrefixList:{configurable:!0,enumerable:!0,get:function(){return this.xmlCanonicalizer.InclusiveNamespacesPrefixList},set:function(a){this.xmlCanonicalizer.InclusiveNamespacesPrefixList=a}}});var Kc=function(){var a=
Eb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#WithComments";a.xmlCanonicalizer=new ob(!0,!0);return a};$jscomp.inherits(Kc,Eb);var Nb=function(){var a=tb.apply(this,arguments)||this;a.Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116";return a};$jscomp.inherits(Nb,tb);Nb.prototype.GetOutput=function(){if(!this.innerXml)throw new t.m(t.f.PARAM_REQUIRED,"innerXml");this.Filter(this.innerXml.ownerDocument||this.innerXml,this.XPath)};Nb.prototype.Filter=function(a,
C){var L=this;a=a.childNodes;for(var X=[],la=0;a&&la<a.length;la++){var sa=a.item(la);X.push(sa)}X.forEach(function(Ba){L.Evaluate(Ba,C)?Ba.parentNode&&Ba.parentNode.removeChild(Ba):L.Filter(Ba,C)})};Nb.prototype.GetEvaluator=function(a){return"undefined"!==typeof self?null==a.ownerDocument?a:a.ownerDocument:E(46)};Nb.prototype.Evaluate=function(a,C){try{var L=this.GetEvaluator(a),X=L.createNSResolver(this.GetXml().firstChild);return!L.evaluate("boolean("+C+")",a,X,("undefined"===typeof self?E(46):
self).XPathResult.ANY_TYPE,null).booleanValue}catch(la){return!1}};u([Object(t.i)({localName:"XPath",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],Nb.prototype,"XPath",void 0);var de=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(de,xb);de.prototype.OnLoadXml=function(a){xb.prototype.OnLoadXml.call(this,a);this.items=this.GetIterator().map(function(C){switch(C.Algorithm){case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":return p(C,fc);
case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":return p(C,Db);case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":return p(C,Jc);case "http://www.w3.org/2001/10/xml-exc-c14n#":return p(C,Eb);case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":return p(C,Kc);case "http://www.w3.org/2000/09/xmldsig#base64":return p(C,Ic);case "http://www.w3.org/TR/1999/REC-xpath-19991116":return p(C,Nb);default:throw new t.m(t.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,C.Algorithm);}})};var sc=
de;sc=u([Object(t.l)({localName:"Transforms",parser:tb})],sc);var ve=function(a){var C=hb.call(this)||this;C.DigestMethod=new Hb;a&&(C.Uri=a);return C};$jscomp.inherits(ve,hb);var Ab=ve;u([Object(t.g)({defaultValue:""})],Ab.prototype,"Id",void 0);u([Object(t.g)({localName:"URI"})],Ab.prototype,"Uri",void 0);u([Object(t.g)({localName:"Type",defaultValue:""})],Ab.prototype,"Type",void 0);u([Object(t.i)({parser:sc})],Ab.prototype,"Transforms",void 0);u([Object(t.i)({required:!0,parser:Hb})],Ab.prototype,
"DigestMethod",void 0);u([Object(t.i)({required:!0,localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h})],Ab.prototype,"DigestValue",void 0);Ab=u([Object(t.l)({localName:"Reference"})],Ab);var we=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(we,xb);var nd=we;nd=u([Object(t.l)({localName:"References",parser:Ab})],nd);var ee=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(ee,xb);ee.prototype.OnLoadXml=function(a){for(var C=
0;C<a.childNodes.length;C++){var L=a.childNodes.item(C);if(L.nodeType===t.n.Element&&"HMACOutputLength"!==L.nodeName){var X=void 0;switch(L.localName){case "RSAPSSParams":X=Ob}X&&(X=new X,X.LoadXml(L),this.Add(X))}}};var fe=ee;fe=u([Object(t.l)({localName:"Other"})],fe);var xe=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(xe,hb);var tc=xe;u([Object(t.g)({localName:"Algorithm",required:!0,defaultValue:""})],tc.prototype,"Algorithm",void 0);u([Object(t.i)({localName:"HMACOutputLength",
namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.o})],tc.prototype,"HMACOutputLength",void 0);u([Object(t.i)({parser:fe,noRoot:!0,minOccurs:0})],tc.prototype,"Any",void 0);tc=u([Object(t.l)({localName:"SignatureMethod"})],tc);var ye=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(ye,hb);var gc=ye;u([Object(t.g)({localName:"Id",defaultValue:""})],gc.prototype,"Id",void 0);u([Object(t.i)({parser:ec,required:!0})],gc.prototype,"CanonicalizationMethod",void 0);
u([Object(t.i)({parser:tc,required:!0})],gc.prototype,"SignatureMethod",void 0);u([Object(t.i)({parser:nd,minOccurs:1,noRoot:!0})],gc.prototype,"References",void 0);gc=u([Object(t.l)({localName:"SignedInfo"})],gc);var ze=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(ze,hb);var Ib=ze;u([Object(t.g)({localName:"Id",defaultValue:""})],Ib.prototype,"Id",void 0);u([Object(t.i)({parser:gc,required:!0})],Ib.prototype,"SignedInfo",void 0);u([Object(t.i)({localName:"SignatureValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",
prefix:"ds",required:!0,converter:t.h,defaultValue:null})],Ib.prototype,"SignatureValue",void 0);u([Object(t.i)({parser:rc})],Ib.prototype,"KeyInfo",void 0);u([Object(t.i)({parser:be,noRoot:!0})],Ib.prototype,"ObjectList",void 0);Ib=u([Object(t.l)({localName:"Signature"})],Ib);var Ae=t.p,Be=function(){return Ae.apply(this,arguments)||this};$jscomp.inherits(Be,Ae);var uc=Be;u([Object(t.i)({localName:"X",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",required:!0,converter:t.h})],
uc.prototype,"X",void 0);u([Object(t.i)({localName:"Y",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa",required:!0,converter:t.h})],uc.prototype,"Y",void 0);uc=u([Object(t.l)({localName:"PublicKey",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],uc);var Ce=t.p,De=function(){return Ce.apply(this,arguments)||this};$jscomp.inherits(De,Ce);var Lc=De;u([Object(t.g)({localName:"URI",required:!0})],Lc.prototype,"Uri",void 0);Lc=u([Object(t.l)({localName:"NamedCurve",
namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Lc);var Ee=t.p,Fe=function(){return Ee.apply(this,arguments)||this};$jscomp.inherits(Fe,Ee);var Mc=Fe;u([Object(t.i)({parser:Lc})],Mc.prototype,"NamedCurve",void 0);Mc=u([Object(t.l)({localName:"DomainParameters",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],Mc);var Nc=function(){var a=yb.apply(this,arguments)||this;a.name="ECDSAKeyValue";a.key=null;a.jwk=null;a.keyUsage=null;return a};$jscomp.inherits(Nc,
yb);Nc.prototype.importKey=function(a){var C=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(X){if(1==X.nextAddress){if("ECDSA"!==a.algorithm.name.toUpperCase())throw new t.m(t.f.ALGORITHM_WRONG_NAME,a.algorithm.name);return X.yield(Ia.crypto.subtle.exportKey("jwk",a),2)}L=X.yieldResult;C.key=a;C.jwk=L;C.PublicKey=new uc;C.PublicKey.X=t.b.FromString(L.x,"base64url");C.PublicKey.Y=t.b.FromString(L.y,"base64url");C.DomainParameters||(C.DomainParameters=new Mc);C.DomainParameters.NamedCurve||
(C.DomainParameters.NamedCurve=new Lc);C.DomainParameters.NamedCurve.Uri=c(L.crv);C.keyUsage=a.usages;return X.return(C)})};Nc.prototype.exportKey=function(a){var C=this,L,X,la,sa,Ba;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ea){if(1==Ea.nextAddress){if(C.key)return Ea.return(C.key);L=t.b.ToBase64Url(C.PublicKey.X);X=t.b.ToBase64Url(C.PublicKey.Y);a:{switch(C.DomainParameters.NamedCurve.Uri){case "urn:oid:1.2.840.10045.3.1.7":var Ja="P-256";break a;case "urn:oid:1.3.132.0.34":Ja=
"P-384";break a;case "urn:oid:1.3.132.0.35":Ja="P-521";break a}throw new t.m(t.f.CRYPTOGRAPHIC,"Unknown NamedCurve OID");}la=Ja;sa={kty:"EC",crv:la,x:L,y:X,ext:!0};C.keyUsage=["verify"];return Ea.yield(Ia.crypto.subtle.importKey("jwk",sa,{name:"ECDSA",namedCurve:la},!0,C.keyUsage),2)}Ba=Ea.yieldResult;C.key=Ba;return Ea.return(C.key)})};$jscomp.global.Object.defineProperties(Nc.prototype,{NamedCurve:{configurable:!0,enumerable:!0,get:function(){return c(this.DomainParameters.NamedCurve.Uri)}}});var vc=
Nc;u([Object(t.i)({parser:Mc})],vc.prototype,"DomainParameters",void 0);u([Object(t.i)({parser:uc,required:!0})],vc.prototype,"PublicKey",void 0);vc=u([Object(t.l)({localName:"ECDSAKeyValue",namespaceURI:"http://www.w3.org/2001/04/xmldsig-more#",prefix:"ecdsa"})],vc);var ge,Oc=function(){var a=yb.apply(this,arguments)||this;a.key=null;a.jwk=null;a.keyUsage=[];return a};$jscomp.inherits(Oc,yb);Oc.prototype.importKey=function(a){var C=this,L,X;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){if(1==
la.nextAddress){L=a.algorithm.name.toUpperCase();if("RSASSA-PKCS1-V1_5"!==L&&"RSA-PSS"!==L)throw new t.m(t.f.ALGORITHM_WRONG_NAME,a.algorithm.name);C.key=a;return la.yield(Ia.crypto.subtle.exportKey("jwk",a),2)}X=la.yieldResult;C.jwk=X;C.Modulus=t.b.FromBase64Url(X.n);C.Exponent=t.b.FromBase64Url(X.e);C.keyUsage=a.usages;return la.return(C)})};Oc.prototype.exportKey=function(a){var C=this,L,X,la,sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){if(C.key)return Ba.return(C.key);if(!C.Modulus)throw new t.m(t.f.CRYPTOGRAPHIC,
"RsaKeyValue has no Modulus");L=t.b.ToBase64Url(C.Modulus);if(!C.Exponent)throw new t.m(t.f.CRYPTOGRAPHIC,"RsaKeyValue has no Exponent");X=t.b.ToBase64Url(C.Exponent);switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":la="R";break;case "RSA-PSS":la="P";break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);}switch(a.hash.name.toUpperCase()){case "SHA-1":la+="S1";break;case "SHA-256":la+="S256";break;case "SHA-384":la+="S384";break;case "SHA-512":la+="S512"}sa={kty:"RSA",alg:la,n:L,e:X,
ext:!0};return Ba.return(Ia.crypto.subtle.importKey("jwk",sa,a,!0,C.keyUsage))})};Oc.prototype.LoadXml=function(a){yb.prototype.LoadXml.call(this,a);this.keyUsage=["verify"]};var wc=Oc;u([Object(t.i)({localName:"Modulus",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:t.h})],wc.prototype,"Modulus",void 0);u([Object(t.i)({localName:"Exponent",prefix:"ds",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",required:!0,converter:t.h})],wc.prototype,"Exponent",void 0);
wc=u([Object(t.l)({localName:"RSAKeyValue"})],wc);var Ge=t.p,He=function(){return Ge.apply(this,arguments)||this};$jscomp.inherits(He,Ge);var Pc=He;u([Object(t.i)({parser:Hb})],Pc.prototype,"DigestMethod",void 0);u([Object(t.g)({localName:"Algorithm",defaultValue:"http://www.w3.org/2007/05/xmldsig-more#MGF1"})],Pc.prototype,"Algorithm",void 0);Pc=u([Object(t.l)({localName:"MaskGenerationFunction",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Pc);var Ob=ge=function(){var a=
t.p,C=function(L){var X=a.call(this)||this;L&&X.FromAlgorithm(L);return X};$jscomp.inherits(C,a);C.FromAlgorithm=function(L){return new ge(L)};C.prototype.FromAlgorithm=function(L){this.DigestMethod=new Hb;var X=qb.GetHashAlgorithm(L.hash);this.DigestMethod.Algorithm=X.namespaceURI;L.saltLength&&(this.SaltLength=L.saltLength)};return C}();u([Object(t.i)({parser:Hb})],Ob.prototype,"DigestMethod",void 0);u([Object(t.i)({parser:Pc})],Ob.prototype,"MGF",void 0);u([Object(t.i)({converter:t.o,prefix:"pss",
namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Ob.prototype,"SaltLength",void 0);u([Object(t.i)({converter:t.o})],Ob.prototype,"TrailerField",void 0);Ob=ge=u([Object(t.l)({localName:"RSAPSSParams",prefix:"pss",namespaceURI:"http://www.w3.org/2007/05/xmldsig-more#"})],Ob);var hc=function(a){var C=yb.call(this)||this;a&&(C.Value=a);return C};$jscomp.inherits(hc,yb);hc.prototype.importKey=function(a){var C=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){switch(L.nextAddress){case 1:switch(a.algorithm.name.toUpperCase()){case "RSA-PSS":case "RSASSA-PKCS1-V1_5":return L.jumpTo(2);
case "ECDSA":return L.jumpTo(3);default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.algorithm.name);}case 2:return C.Value=new wc,L.yield(C.Value.importKey(a),5);case 5:L.jumpTo(4);break;case 3:return C.Value=new vc,L.yield(C.Value.importKey(a),6);case 6:L.jumpTo(4);break;case 4:return L.return(C)}})};hc.prototype.exportKey=function(a){var C=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){if(!C.Value)throw new t.m(t.f.NULL_REFERENCE);return L.return(C.Value.exportKey(a))})};hc.prototype.OnGetXml=
function(a){if(!this.Value)throw new t.m(t.f.CRYPTOGRAPHIC,"KeyValue has empty value");var C=this.Value.GetXml();C&&a.appendChild(C)};hc.prototype.OnLoadXml=function(a){for(var C=$jscomp.makeIterator([wc,vc]),L=C.next();!L.done;L=C.next()){L=L.value;try{var X=new L;for(L=0;L<a.childNodes.length;L++){var la=a.childNodes.item(L);if(Object(t.s)(la)){X.LoadXml(la);this.value=X;return}}}catch(sa){}}throw new t.m(t.f.CRYPTOGRAPHIC,"Unsupported KeyValue in use");};$jscomp.global.Object.defineProperties(hc.prototype,
{Value:{configurable:!0,enumerable:!0,set:function(a){this.element=null;this.value=a},get:function(){return this.value}}});var ld=hc;ld=u([Object(t.l)({localName:"KeyValue"})],ld);var Gg={"2.5.4.3":{short:"CN",long:"CommonName"},"2.5.4.6":{short:"C",long:"Country"},"2.5.4.5":{long:"DeviceSerialNumber"},"0.9.2342.19200300.100.1.25":{short:"DC",long:"DomainComponent"},"1.2.840.113549.1.9.1":{short:"E",long:"EMail"},"2.5.4.42":{short:"G",long:"GivenName"},"2.5.4.43":{short:"I",long:"Initials"},"2.5.4.7":{short:"L",
long:"Locality"},"2.5.4.10":{short:"O",long:"Organization"},"2.5.4.11":{short:"OU",long:"OrganizationUnit"},"2.5.4.8":{short:"ST",long:"State"},"2.5.4.9":{short:"Street",long:"StreetAddress"},"2.5.4.4":{short:"SN",long:"SurName"},"2.5.4.12":{short:"T",long:"Title"},"1.2.840.113549.1.9.8":{long:"UnstructuredAddress"},"1.2.840.113549.1.9.2":{long:"UnstructuredName"}},Bb=function(a){this.publicKey=null;a&&(a=new Uint8Array(a),this.LoadRaw(a),this.raw=a)};Bb.prototype.Thumbprint=function(a){a=void 0===
a?"SHA-1":a;var C=this;return $jscomp.asyncExecutePromiseGeneratorProgram(function(L){return L.return(Ia.crypto.subtle.digest(a,C.raw))})};Bb.prototype.GetRaw=function(){return this.raw};Bb.prototype.exportKey=function(a){var C=this,L,X;return $jscomp.asyncExecutePromiseGeneratorProgram(function(la){if(1==la.nextAddress)return L={algorithm:a,usages:["verify"]},"ECDSA"===L.algorithm.name.toUpperCase()&&(L.algorithm.namedCurve=C.simpl.subjectPublicKeyInfo.toJSON().crv),C.isHashedAlgorithm(L.algorithm)&&
"string"===typeof L.algorithm.hash&&(L.algorithm.hash={name:L.algorithm.hash}),la.yield(C.simpl.getPublicKey({algorithm:L}),2);X=la.yieldResult;C.publicKey=X;return la.return(X)})};Bb.prototype.NameToString=function(a,C){C=void 0===C?",":C;var L=[];a.typesAndValues.forEach(function(X){var la=X.type,sa=Gg[la.toString()];sa=sa?sa.short:null;L.push((sa?sa:la)+"="+X.value.valueBlock.value)});return L.join(C+" ")};Bb.prototype.LoadRaw=function(a){this.raw=new Uint8Array(a);a=Object(k.fromBER)(this.raw.buffer);
this.simpl=new ra({schema:a.result})};Bb.prototype.isHashedAlgorithm=function(a){return!!a.hash};$jscomp.global.Object.defineProperties(Bb.prototype,{SerialNumber:{configurable:!0,enumerable:!0,get:function(){return this.simpl.serialNumber.valueBlock.toString()}},Issuer:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.issuer)}},Subject:{configurable:!0,enumerable:!0,get:function(){return this.NameToString(this.simpl.subject)}},PublicKey:{configurable:!0,enumerable:!0,
get:function(){return this.publicKey}}});var Ie=function(){return hb.apply(this,arguments)||this};$jscomp.inherits(Ie,hb);var xc=Ie;u([Object(t.i)({localName:"X509IssuerName",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],xc.prototype,"X509IssuerName",void 0);u([Object(t.i)({localName:"X509SerialNumber",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],xc.prototype,"X509SerialNumber",void 0);xc=u([Object(t.l)({localName:"X509IssuerSerial"})],
xc);var ic;(function(a){a[a.None=0]="None";a[a.EndCertOnly=1]="EndCertOnly";a[a.ExcludeRoot=2]="ExcludeRoot";a[a.WholeChain=3]="WholeChain"})(ic||(ic={}));var Cb=function(a,C){C=void 0===C?ic.None:C;var L=yb.call(this)||this;L.x509crl=null;L.SubjectKeyIdList=[];L.key=null;if(a)if(a instanceof Uint8Array)L.AddCertificate(new Bb(a));else if(a instanceof Bb)switch(C){case ic.None:case ic.EndCertOnly:L.AddCertificate(a);break;case ic.ExcludeRoot:L.AddCertificatesChainFrom(a,!1);break;case ic.WholeChain:L.AddCertificatesChainFrom(a,
!0)}return L};$jscomp.inherits(Cb,yb);Cb.prototype.importKey=function(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(C){throw new t.m(t.f.METHOD_NOT_SUPPORTED);})};Cb.prototype.exportKey=function(a){var C=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(X){if(1==X.nextAddress){if(!C.Certificates.length)throw new t.m(t.f.NULL_REFERENCE);return X.yield(C.Certificates[0].exportKey(a),2)}L=X.yieldResult;C.key=L;return X.return(L)})};Cb.prototype.AddCertificate=function(a){if(!a)throw new t.m(t.f.PARAM_REQUIRED,
"certificate");this.X509CertificateList||(this.X509CertificateList=[]);this.X509CertificateList.push(a)};Cb.prototype.AddIssuerSerial=function(a,C){if(null==a)throw new t.m(t.f.PARAM_REQUIRED,"issuerName");null==this.IssuerSerialList&&(this.IssuerSerialList=[]);this.IssuerSerialList.push({issuerName:a,serialNumber:C})};Cb.prototype.AddSubjectKeyId=function(a){this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);"string"===typeof a?null!=a&&(a=t.b.FromBase64(a),this.SubjectKeyIdList.push(a)):this.SubjectKeyIdList.push(a)};
Cb.prototype.AddSubjectName=function(a){null==this.SubjectNameList&&(this.SubjectNameList=[]);this.SubjectNameList.push(a)};Cb.prototype.GetXml=function(){var a=this.CreateDocument(),C=this.CreateElement(a),L=this.GetPrefix();null!=this.IssuerSerialList&&0<this.IssuerSerialList.length&&this.IssuerSerialList.forEach(function(la){var sa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509IssuerSerial"),Ba=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509IssuerName");Ba.textContent=
la.issuerName;sa.appendChild(Ba);Ba=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SerialNumber");Ba.textContent=la.serialNumber;sa.appendChild(Ba);C.appendChild(sa)});null!=this.SubjectKeyIdList&&0<this.SubjectKeyIdList.length&&this.SubjectKeyIdList.forEach(function(la){var sa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SKI");sa.textContent=t.b.ToBase64(la);C.appendChild(sa)});null!=this.SubjectNameList&&0<this.SubjectNameList.length&&this.SubjectNameList.forEach(function(la){var sa=
a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509SubjectName");sa.textContent=la;C.appendChild(sa)});null!=this.X509CertificateList&&0<this.X509CertificateList.length&&this.X509CertificateList.forEach(function(la){var sa=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509Certificate");sa.textContent=t.b.ToBase64(la.GetRaw());C.appendChild(sa)});if(null!=this.x509crl){var X=a.createElementNS("http://www.w3.org/2000/09/xmldsig#",L+"X509CRL");X.textContent=t.b.ToBase64(this.x509crl);
C.appendChild(X)}return C};Cb.prototype.LoadXml=function(a){var C=this;yb.prototype.LoadXml.call(this,a);this.IssuerSerialList&&(this.IssuerSerialList=[]);this.SubjectKeyIdList&&(this.SubjectKeyIdList=[]);this.SubjectNameList&&(this.SubjectNameList=[]);this.X509CertificateList&&(this.X509CertificateList=[]);this.x509crl=null;(a=this.GetChildren("X509IssuerSerial"))&&a.forEach(function(L){var X=hb.GetChild(L,"X509IssuerName","http://www.w3.org/2000/09/xmldsig#",!0);L=hb.GetChild(L,"X509SerialNumber",
"http://www.w3.org/2000/09/xmldsig#",!0);X&&X.textContent&&L&&L.textContent&&C.AddIssuerSerial(X.textContent,L.textContent)});(a=this.GetChildren("X509SKI"))&&a.forEach(function(L){L.textContent&&(L=t.b.FromBase64(L.textContent),C.AddSubjectKeyId(L))});a=this.GetChildren("X509SubjectName");null!=a&&a.forEach(function(L){L.textContent&&C.AddSubjectName(L.textContent)});(a=this.GetChildren("X509Certificate"))&&a.forEach(function(L){L.textContent&&(L=t.b.FromBase64(L.textContent),C.AddCertificate(new Bb(L)))});
(a=this.GetChild("X509CRL",!1))&&a.textContent&&(this.x509crl=t.b.FromBase64(a.textContent))};Cb.prototype.AddCertificatesChainFrom=function(a,C){throw new t.m(t.f.METHOD_NOT_IMPLEMENTED);};$jscomp.global.Object.defineProperties(Cb.prototype,{Key:{configurable:!0,enumerable:!0,get:function(){return this.key}},Certificates:{configurable:!0,enumerable:!0,get:function(){return this.X509CertificateList}},CRL:{configurable:!0,enumerable:!0,get:function(){return this.x509crl},set:function(a){this.x509crl=
a}},IssuerSerials:{configurable:!0,enumerable:!0,get:function(){return this.IssuerSerialList}},SubjectKeyIds:{configurable:!0,enumerable:!0,get:function(){return this.SubjectKeyIdList}},SubjectNames:{configurable:!0,enumerable:!0,get:function(){return this.SubjectNameList}}});var qc=Cb;qc=u([Object(t.l)({localName:"X509Data"})],qc);var od=function(){return yb.apply(this,arguments)||this};$jscomp.inherits(od,yb);od.prototype.importKey=function(a){var C=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(X){if(1==
X.nextAddress)return X.yield(Ia.crypto.subtle.exportKey("spki",a),2);L=X.yieldResult;C.SPKIexp=new Uint8Array(L);C.Key=a;return X.return(C)})};od.prototype.exportKey=function(a){var C=this,L;return $jscomp.asyncExecutePromiseGeneratorProgram(function(X){if(1==X.nextAddress)return X.yield(Ia.crypto.subtle.importKey("spki",C.SPKIexp,a,!0,["verify"]),2);L=X.yieldResult;C.Key=L;return X.return(L)})};var md=od;u([Object(t.i)({localName:"SPKIexp",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",
required:!0,converter:t.h})],md.prototype,"SPKIexp",void 0);md=u([Object(t.l)({localName:"SPKIData"})],md);var rb={};rb["http://www.w3.org/2000/09/xmldsig#rsa-sha1"]=$a;rb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"]=Oa;rb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"]=Za;rb["http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"]=bb;rb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha1"]=oa;rb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha256"]=m;rb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha384"]=
U;rb["http://www.w3.org/2001/04/xmldsig-more#ecdsa-sha512"]=aa;rb["http://www.w3.org/2000/09/xmldsig#hmac-sha1"]=pa;rb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha256"]=ua;rb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha384"]=Ca;rb["http://www.w3.org/2001/04/xmldsig-more#hmac-sha512"]=Sa;rb["http://www.w3.org/2007/05/xmldsig-more#sha1-rsa-MGF1"]=sb;rb["http://www.w3.org/2007/05/xmldsig-more#sha256-rsa-MGF1"]=lb;rb["http://www.w3.org/2007/05/xmldsig-more#sha384-rsa-MGF1"]=Mb;rb["http://www.w3.org/2007/05/xmldsig-more#sha512-rsa-MGF1"]=
ae;var Qc={};Qc["http://www.w3.org/2000/09/xmldsig#sha1"]=d;Qc["http://www.w3.org/2001/04/xmlenc#sha256"]=T;Qc["http://www.w3.org/2001/04/xmldsig-more#sha384"]=da;Qc["http://www.w3.org/2001/04/xmlenc#sha512"]=va;var qb=function(){};qb.CreateFromName=function(a){switch(a){case "http://www.w3.org/2000/09/xmldsig#base64":a=new Ic;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315":a=new Db;break;case "http://www.w3.org/TR/2001/REC-xml-c14n-20010315#WithComments":a=new Jc;break;case "http://www.w3.org/2000/09/xmldsig#enveloped-signature":a=
new fc;break;case "http://www.w3.org/TR/1999/REC-xpath-19991116":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);case "http://www.w3.org/TR/1999/REC-xslt-19991116":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);case "http://www.w3.org/2001/10/xml-exc-c14n#":a=new Eb;break;case "http://www.w3.org/2001/10/xml-exc-c14n#WithComments":a=new Kc;break;case "http://www.w3.org/2002/07/decrypt#XML":throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a);}return a};qb.CreateSignatureAlgorithm=
function(a){var C=rb[a.Algorithm]||null;if(C)return new C;if("http://www.w3.org/2007/05/xmldsig-more#rsa-pss"===a.Algorithm){var L;a.Any.Some(function(X){X instanceof Ob&&(L=X);return!!L});if(L)switch(L.DigestMethod.Algorithm){case "http://www.w3.org/2000/09/xmldsig#sha1":return new cb(L.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha256":return new ab(L.SaltLength);case "http://www.w3.org/2001/04/xmldsig-more#sha384":return new kb(L.SaltLength);case "http://www.w3.org/2001/04/xmlenc#sha512":return new db(L.SaltLength)}throw new t.m(t.f.CRYPTOGRAPHIC,
"Cannot get params for RSA-PSS algoriithm");}throw Error("signature algorithm '"+a.Algorithm+"' is not supported");};qb.CreateHashAlgorithm=function(a){var C=Qc[a];if(C)return new C;throw Error("hash algorithm '"+a+"' is not supported");};qb.GetHashAlgorithm=function(a){a="string"===typeof a?{name:a}:a;switch(a.name.toUpperCase()){case "SHA-1":return new d;case "SHA-256":return new T;case "SHA-384":return new da;case "SHA-512":return new va;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);
}};qb.GetSignatureAlgorithm=function(a){"string"===typeof a.hash&&(a.hash={name:a.hash});var C=a.hash.name;if(!C)throw Error("Signing algorithm doesn't have name for hash");switch(a.name.toUpperCase()){case "RSASSA-PKCS1-V1_5":switch(C.toUpperCase()){case "SHA-1":C=new $a;break;case "SHA-256":C=new Oa;break;case "SHA-384":C=new Za;break;case "SHA-512":C=new bb;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+C);}break;case "RSA-PSS":var L=a.saltLength;switch(C.toUpperCase()){case "SHA-1":C=
L?new cb(L):new sb;break;case "SHA-256":C=L?new ab(L):new lb;break;case "SHA-384":C=L?new kb(L):new Mb;break;case "SHA-512":C=L?new db(L):new ae;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+C);}a.saltLength=C.algorithm.saltLength;break;case "ECDSA":switch(C.toUpperCase()){case "SHA-1":C=new oa;break;case "SHA-256":C=new m;break;case "SHA-384":C=new U;break;case "SHA-512":C=new aa;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+C);}break;case "HMAC":switch(C.toUpperCase()){case "SHA-1":C=
new pa;break;case "SHA-256":C=new ua;break;case "SHA-384":C=new Ca;break;case "SHA-512":C=new Sa;break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name+":"+C);}break;default:throw new t.m(t.f.ALGORITHM_NOT_SUPPORTED,a.name);}return C};var jb=function(a){this.signature=new Ib;a&&a.nodeType===t.n.Document?this.document=a:a&&a.nodeType===t.n.Element&&(a=(new XMLSerializer).serializeToString(a),this.document=(new DOMParser).parseFromString(a,t.a))};jb.prototype.Sign=function(a,C,L,X){var la=this,
sa,Ba,Ea,Ja,Ma,Qa,Xa,mb,eb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(fb){switch(fb.nextAddress){case 1:return L=L.cloneNode(!0),Ea=Object(t.q)({},a),C.algorithm.hash&&(Ea.hash=C.algorithm.hash),sa=qb.GetSignatureAlgorithm(Ea),fb.yield(la.ApplySignOptions(la.XmlSignature,a,C,X),2);case 2:return Ba=la.XmlSignature.SignedInfo,fb.yield(la.DigestReferences(L.documentElement),3);case 3:Ba.SignatureMethod.Algorithm=sa.namespaceURI;if(sa instanceof Ya)Ja=Object(t.q)({},C.algorithm,Ea),"string"===
typeof Ja.hash&&(Ja.hash={name:Ja.hash}),Ma=new Ob(Ja),la.XmlSignature.SignedInfo.SignatureMethod.Any.Add(Ma);else if("HMAC"===a.name.toUpperCase()){Qa=0;Xa=C.algorithm;switch(Xa.hash.name.toUpperCase()){case "SHA-1":Qa=Xa.length||160;break;case "SHA-256":Qa=Xa.length||256;break;case "SHA-384":Qa=Xa.length||384;break;case "SHA-512":Qa=Xa.length||512}la.XmlSignature.SignedInfo.SignatureMethod.HMACOutputLength=Qa}mb=la.TransformSignedInfo(L);return fb.yield(sa.Sign(mb,C,Ea),4);case 4:return eb=fb.yieldResult,
la.Key=C,la.XmlSignature.SignatureValue=new Uint8Array(eb),la.document=L,fb.return(la.XmlSignature)}})};jb.prototype.Verify=function(a){var C=this,L,X,la,sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){switch(Ba.nextAddress){case 1:L=C.document;if(!L||!L.documentElement)throw new t.m(t.f.NULL_PARAM,"SignedXml","document");return Ba.yield(C.ValidateReferences(L.documentElement),2);case 2:X=Ba.yieldResult;if(!X)return Ba.return(!1);if(a){la=[a];Ba.jumpTo(4);break}return Ba.yield(C.GetPublicKeys(),
5);case 5:la=Ba.yieldResult;case 4:return sa=la,Ba.return(C.ValidateSignatureValue(sa))}})};jb.prototype.GetXml=function(){return this.signature.GetXml()};jb.prototype.LoadXml=function(a){this.signature=Ib.LoadXml(a)};jb.prototype.toString=function(){var a=this.XmlSignature;if(a.SignedInfo.References&&a.SignedInfo.References.Some(function(L){return L.Transforms&&L.Transforms.Some(function(X){return X instanceof fc})})){a=this.document.documentElement.cloneNode(!0);var C=this.XmlSignature.GetXml();
if(!C)throw new t.m(t.f.XML_EXCEPTION,"Cannot get Xml element from Signature");C=C.cloneNode(!0);a.appendChild(C);return(new XMLSerializer).serializeToString(a)}return this.XmlSignature.toString()};jb.prototype.GetPublicKeys=function(){var a=this,C,L,X,la,sa,Ba,Ea,Ja,Ma,Qa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Xa){switch(Xa.nextAddress){case 1:C=[],L=$jscomp.makeIterator(a.XmlSignature.KeyInfo.GetIterator()),X=L.next();case 2:if(X.done){Xa.jumpTo(4);break}la=X.value;sa=qb.CreateSignatureAlgorithm(a.XmlSignature.SignedInfo.SignatureMethod);
if(la instanceof qc){Xa.jumpTo(5);break}return Xa.yield(la.exportKey(sa.algorithm),7);case 7:Ba=Xa.yieldResult;C.push(Ba);Xa.jumpTo(3);break;case 5:Ea=$jscomp.makeIterator(la.Certificates),Ja=Ea.next();case 8:if(Ja.done){Xa.jumpTo(3);break}Ma=Ja.value;return Xa.yield(Ma.exportKey(sa.algorithm),11);case 11:Qa=Xa.yieldResult;C.push(Qa);Ja=Ea.next();Xa.jumpTo(8);break;case 3:X=L.next();Xa.jumpTo(2);break;case 4:return Xa.return(C)}})};jb.prototype.GetSignatureNamespaces=function(){var a={};this.XmlSignature.NamespaceURI&&
(a[this.XmlSignature.Prefix||""]=this.XmlSignature.NamespaceURI);return a};jb.prototype.CopyNamespaces=function(a,C,L){var X=this.InjectNamespaces,la={};r(a,la);X.call(this,la,C,L)};jb.prototype.InjectNamespaces=function(a,C,L){for(var X in a)L&&""===X||C.setAttribute("xmlns"+(X?":"+X:""),a[X])};jb.prototype.DigestReference=function(a,C,L){var X=this,la,sa,Ba,Ea,Ja,Ma,Qa,Xa,mb,eb,fb,ib,dc;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Hg){if(C.Uri&&(C.Uri.indexOf("#xpointer")?"#"===C.Uri[0]&&
(la=C.Uri.substring(1)):(sa=C.Uri,sa=sa.substring(9).replace(/[\r\n\t\s]/g,""),sa=2>sa.length||"("!==sa[0]||")"!==sa[sa.length-1]?"":sa.substring(1,sa.length-1),6<sa.length&&0===sa.indexOf("id(")&&")"===sa[sa.length-1]&&(la=sa.substring(4,sa.length-2))),la)){Ba=null;Ea=[X.XmlSignature.KeyInfo.GetXml()];X.XmlSignature.ObjectList.ForEach(function(Ig){Ea.push(Ig.GetXml())});Ja=$jscomp.makeIterator(Ea);for(Ma=Ja.next();!Ma.done;Ma=Ja.next())if(Qa=Ma.value)if(Ba=f(Qa,la)){Xa=Ba.cloneNode(!0);X.CopyNamespaces(a,
Xa,!1);X.Parent&&(mb=X.Parent instanceof t.p?X.Parent.GetXml():X.Parent,X.CopyNamespaces(mb,Xa,!0));X.CopyNamespaces(Ba,Xa,!1);X.InjectNamespaces(X.GetSignatureNamespaces(),Xa,!0);a=Xa;break}!Ba&&a&&(Ba=t.p.GetElementById(a,la))&&(eb=Ba.cloneNode(!0),X.CopyNamespaces(Ba,eb,!1),X.CopyNamespaces(a,eb,!1),a=eb);if(null==Ba)throw new t.m(t.f.CRYPTOGRAPHIC,"Cannot get object by reference: "+la);}fb=null;if(C.Transforms&&C.Transforms.Count)fb=X.ApplyTransforms(C.Transforms,a);else if(C.Uri&&"#"!==C.Uri[0]){if(!a.ownerDocument)throw Error("Cannot get ownerDocument from XML document");
fb=(new XMLSerializer).serializeToString(a.ownerDocument)}else ib=new Db,ib.LoadInnerXml(a),fb=ib.GetOutput();if(!C.DigestMethod.Algorithm)throw new t.m(t.f.NULL_PARAM,"Reference","DigestMethod");dc=qb.CreateHashAlgorithm(C.DigestMethod.Algorithm);return Hg.return(dc.Digest(fb))})};jb.prototype.DigestReferences=function(a){var C=this,L,X,la,sa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){switch(Ba.nextAddress){case 1:L=$jscomp.makeIterator(C.XmlSignature.SignedInfo.References.GetIterator()),
X=L.next();case 2:if(X.done){Ba.jumpTo(0);break}la=X.value;if(la.DigestValue){Ba.jumpTo(3);break}la.DigestMethod.Algorithm||(la.DigestMethod.Algorithm=(new T).namespaceURI);return Ba.yield(C.DigestReference(a,la,!1),5);case 5:sa=Ba.yieldResult,la.DigestValue=sa;case 3:X=L.next(),Ba.jumpTo(2)}})};jb.prototype.TransformSignedInfo=function(a){var C=qb.CreateFromName(this.XmlSignature.SignedInfo.CanonicalizationMethod.Algorithm),L=this.XmlSignature.SignedInfo.GetXml();if(!L)throw new t.m(t.f.XML_EXCEPTION,
"Cannot get Xml element from SignedInfo");var X=L.cloneNode(!0);this.CopyNamespaces(L,X,!1);a&&(a.nodeType===t.n.Document?this.CopyNamespaces(a.documentElement,X,!1):this.CopyNamespaces(a,X,!1));this.Parent&&(a=this.Parent instanceof t.p?this.Parent.GetXml():this.Parent)&&this.CopyNamespaces(a,X,!1);L=Object(t.e)(L);for(var la in L)la!==X.prefix&&X.setAttribute("xmlns"+(la?":"+la:""),L[la]);C.LoadInnerXml(X);return C.GetOutput()};jb.prototype.ResolveTransform=function(a){switch(a){case "enveloped":return new fc;
case "c14n":return new Db;case "c14n-com":return new Jc;case "exc-c14n":return new Eb;case "exc-c14n-com":return new Kc;case "base64":return new Ic;case "xpath":return new Nb;default:throw new t.m(t.f.CRYPTOGRAPHIC_UNKNOWN_TRANSFORM,a);}};jb.prototype.ApplyTransforms=function(a,C){var L=null;a.Sort(function(X,la){var sa=[Db,Jc,Eb,Kc];return sa.some(function(Ba){return X instanceof Ba})?1:sa.some(function(Ba){return la instanceof Ba})?-1:0}).ForEach(function(X){X.LoadInnerXml(C);X instanceof Nb?X.GetOutput():
L=X.GetOutput()});1===a.Count&&a.Item(0)instanceof fc&&(a=new Db,a.LoadInnerXml(C),L=a.GetOutput());return L};jb.prototype.ApplySignOptions=function(a,C,L,X){X=void 0===X?{}:X;var la=this,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){if(1==Ma.nextAddress){X.id&&(la.XmlSignature.Id=X.id);if(!X.keyValue||"HMAC"===L.algorithm.name.toUpperCase())return Ma.jumpTo(2);a.KeyInfo||(a.KeyInfo=new rc);sa=a.KeyInfo;Ba=new ld;sa.Add(Ba);return Ma.yield(Ba.importKey(X.keyValue),2)}X.x509&&
(a.KeyInfo||(a.KeyInfo=new rc),Ea=a.KeyInfo,X.x509.forEach(function(Qa){Qa=t.b.FromBase64(Qa);Qa=new qc(Qa);Ea.Add(Qa)}));X.references&&X.references.forEach(function(Qa){var Xa=new Ab;Qa.id&&(Xa.Id=Qa.id);null!==Qa.uri&&void 0!==Qa.uri&&(Xa.Uri=Qa.uri);Qa.type&&(Xa.Type=Qa.type);var mb=qb.GetHashAlgorithm(Qa.hash);Xa.DigestMethod.Algorithm=mb.namespaceURI;if(Qa.transforms&&Qa.transforms.length){var eb=new sc;Qa.transforms.forEach(function(fb){eb.Add(la.ResolveTransform(fb))});Xa.Transforms=eb}a.SignedInfo.References||
(a.SignedInfo.References=new nd);a.SignedInfo.References.Add(Xa)});a.SignedInfo.References.Count||(Ja=new Ab,a.SignedInfo.References.Add(Ja));Ma.jumpToEnd()})};jb.prototype.ValidateReferences=function(a){var C=this,L,X,la,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){switch(Ma.nextAddress){case 1:L=$jscomp.makeIterator(C.XmlSignature.SignedInfo.References.GetIterator()),X=L.next();case 2:if(X.done){Ma.jumpTo(4);break}la=X.value;return Ma.yield(C.DigestReference(a,la,
!1),5);case 5:sa=Ma.yieldResult;Ba=t.b.ToBase64(sa);Ea=t.b.ToString(la.DigestValue,"base64");if(Ba!==Ea)throw Ja="Invalid digest for uri '"+la.Uri+"'. Calculated digest is "+Ba+" but the xml to validate supplies digest "+Ea,new t.m(t.f.CRYPTOGRAPHIC,Ja);X=L.next();Ma.jumpTo(2);break;case 4:return Ma.return(!0)}})};jb.prototype.ValidateSignatureValue=function(a){var C=this,L,X,la,sa,Ba,Ea;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){switch(Ja.nextAddress){case 1:X=C.TransformSignedInfo(C.document),
L=qb.CreateSignatureAlgorithm(C.XmlSignature.SignedInfo.SignatureMethod),la=$jscomp.makeIterator(a),sa=la.next();case 2:if(sa.done){Ja.jumpTo(4);break}Ba=sa.value;return Ja.yield(L.Verify(X,Ba,C.Signature),5);case 5:if(Ea=Ja.yieldResult)return Ja.return(!0);sa=la.next();Ja.jumpTo(2);break;case 4:return Ja.return(!1)}})};$jscomp.global.Object.defineProperties(jb.prototype,{XmlSignature:{configurable:!0,enumerable:!0,get:function(){return this.signature}},Signature:{configurable:!0,enumerable:!0,get:function(){return this.XmlSignature.SignatureValue}}});
var wa={DefaultPrefix:"xades",NamespaceURI:"http://uri.etsi.org/01903/v1.3.2#",SignedPropertiesType:"http://uri.etsi.org/01903/v1.3.2#SignedProperties",ElementNames:{Any:"Any",ByName:"ByName",ByKey:"ByKey",AttrAuthoritiesCertValues:"AttrAuthoritiesCertValues",AttributeRevocationValues:"AttributeRevocationValues",AttributeCertificateRefs:"AttributeCertificateRefs",AttributeRevocationRefs:"AttributeRevocationRefs",QualifyingProperties:"QualifyingProperties",QualifyingPropertiesReference:"QualifyingPropertiesReference",
SignedProperties:"SignedProperties",SignedSignatureProperties:"SignedSignatureProperties",SignedDataObjectProperties:"SignedDataObjectProperties",UnsignedProperties:"UnsignedProperties",UnsignedSignatureProperties:"UnsignedSignatureProperties",UnsignedDataObjectProperties:"UnsignedDataObjectProperties",UnsignedDataObjectProperty:"UnsignedDataObjectProperty",SigningTime:"SigningTime",SigningCertificate:"SigningCertificate",SigningCertificateV2:"SigningCertificateV2",SignaturePolicyIdentifier:"SignaturePolicyIdentifier",
SignatureProductionPlace:"SignatureProductionPlace",SignerRole:"SignerRole",Cert:"Cert",CertDigest:"CertDigest",IssuerSerial:"IssuerSerial",IssuerSerialV2:"IssuerSerialV2",DataObjectFormat:"DataObjectFormat",CommitmentTypeIndication:"CommitmentTypeIndication",AllDataObjectsTimeStamp:"AllDataObjectsTimeStamp",IndividualDataObjectsTimeStamp:"IndividualDataObjectsTimeStamp",HashDataInfo:"HashDataInfo",EncapsulatedTimeStamp:"EncapsulatedTimeStamp",XMLTimeStamp:"XMLTimeStamp",XAdESTimeStamp:"XAdESTimeStamp",
OtherTimeStamp:"OtherTimeStamp",Description:"Description",ObjectIdentifier:"ObjectIdentifier",MimeType:"MimeType",Encoding:"Encoding",Identifier:"Identifier",DocumentationReferences:"DocumentationReferences",DocumentationReference:"DocumentationReference",CommitmentTypeId:"CommitmentTypeId",ObjectReference:"ObjectReference",CommitmentTypeQualifiers:"CommitmentTypeQualifiers",AllSignedDataObjects:"AllSignedDataObjects",CommitmentTypeQualifier:"CommitmentTypeQualifier",SignaturePolicyId:"SignaturePolicyId",
SignaturePolicyImplied:"SignaturePolicyImplied",SigPolicyId:"SigPolicyId",SigPolicyHash:"SigPolicyHash",SigPolicyQualifier:"SigPolicyQualifier",SigPolicyQualifiers:"SigPolicyQualifiers",SPURI:"SPURI",SPUserNotice:"SPUserNotice",NoticeRef:"NoticeRef",ExplicitText:"ExplicitText",ClaimedRoles:"ClaimedRoles",ClaimedRole:"ClaimedRole",CertifiedRoles:"CertifiedRoles",CertifiedRole:"CertifiedRole",Organization:"Organization",NoticeNumbers:"NoticeNumbers",Int:"int",City:"City",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince",
CountryName:"CountryName",CounterSignature:"CounterSignature",SignatureTimeStamp:"SignatureTimeStamp",CompleteCertificateRefs:"CompleteCertificateRefs",CompleteRevocationRefs:"CompleteRevocationRefs",SigAndRefsTimeStamp:"SigAndRefsTimeStamp",RefsOnlyTimeStamp:"RefsOnlyTimeStamp",CertificateValues:"CertificateValues",RevocationValues:"RevocationValues",ArchiveTimeStamp:"ArchiveTimeStamp",CertRefs:"CertRefs",CRLRefs:"CRLRefs",CRLRef:"CRLRef",OCSPRefs:"OCSPRefs",OtherRefs:"OtherRefs",OtherRef:"OtherRef",
DigestAlgAndValue:"DigestAlgAndValue",CRLIdentifier:"CRLIdentifier",Issuer:"Issuer",IssueTime:"IssueTime",Number:"Number",OCSPRef:"OCSPRef",OCSPIdentifier:"OCSPIdentifier",ResponderID:"ResponderID",ProducedAt:"ProducedAt",EncapsulatedX509Certificate:"EncapsulatedX509Certificate",OtherCertificate:"OtherCertificate",CRLValues:"CRLValues",OCSPValues:"OCSPValues",OtherValues:"OtherValues",OtherValue:"OtherValue",EncapsulatedCRLValue:"EncapsulatedCRLValue",EncapsulatedOCSPValue:"EncapsulatedOCSPValue",
ReferenceInfo:"ReferenceInfo",Include:"Include"},AttributeNames:{Id:"Id",Encoding:"Encoding",Target:"Target",ObjectReference:"ObjectReference",Qualifier:"Qualifier",Uri:"uri",URI:"URI",ReferencedData:"referencedData"}},Je=t.p,Ke=function(){return Je.apply(this,arguments)||this};$jscomp.inherits(Ke,Je);var Na=Ke;Na=z([Object(t.l)({localName:"xades",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Na);var Le=t.j,Me=function(){return Le.apply(this,arguments)||this};$jscomp.inherits(Me,Le);var Wa=
Me;Wa=z([Object(t.l)({localName:"xades_collection",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Wa);var Ne=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Ne,Na);var ub=Ne;z([Object(t.k)()],ub.prototype,"Value",void 0);ub=z([Object(t.l)({localName:wa.ElementNames.Any})],ub);var Oe=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Oe,Wa);var Rc=Oe;Rc=z([Object(t.l)({localName:wa.ElementNames.Any})],Rc);var Pe=function(){return Na.apply(this,arguments)||
this};$jscomp.inherits(Pe,Na);var pb=Pe;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],pb.prototype,"Id",void 0);z([Object(t.g)({localName:wa.AttributeNames.Encoding,defaultValue:null,converter:{get:function(a){switch(a){case "der":case "ber":case "cer":case "per":case "xer":return"http://uri.etsi.org/01903/v1.2.2#"+a.toUpperCase()}},set:function(a){return(a=/#(\w+)$/.exec(a))?a[1].toLowerCase():null}}})],pb.prototype,"Encoding",void 0);z([Object(t.k)({required:!0,converter:t.h})],
pb.prototype,"Value",void 0);pb=z([Object(t.l)({localName:"EncapsulatedPKIData"})],pb);var Qe=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(Qe,ub);var pd=Qe;pd=z([Object(t.l)({localName:wa.ElementNames.OtherCertificate})],pd);var Re=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Re,Wa);var qd=Re;qd=z([Object(t.l)({localName:"OtherCertificateCollection",parser:pd})],qd);var Se=function(){return pb.apply(this,arguments)||this};$jscomp.inherits(Se,pb);var rd=
Se;rd=z([Object(t.l)({localName:wa.ElementNames.EncapsulatedX509Certificate})],rd);var Te=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Te,Wa);var sd=Te;sd=z([Object(t.l)({localName:"EncapsulatedX509CertificateCollection",parser:rd})],sd);var Ue=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Ue,Na);var Pb=Ue;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Pb.prototype,"Id",void 0);z([Object(t.i)({parser:sd,noRoot:!0})],Pb.prototype,"EncapsulatedX509Certificates",
void 0);z([Object(t.i)({parser:qd,noRoot:!0})],Pb.prototype,"OtherCertificates",void 0);Pb=z([Object(t.l)({localName:wa.ElementNames.CertificateValues})],Pb);var Ve=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Ve,Na);var jc=Ve;z([Object(t.g)({localName:wa.AttributeNames.Qualifier})],jc.prototype,"Qualifier",void 0);z([Object(t.k)({defaultValue:"",required:!0})],jc.prototype,"Value",void 0);jc=z([Object(t.l)({localName:wa.ElementNames.Identifier})],jc);var td=function(){return Na.apply(this,
arguments)||this};$jscomp.inherits(td,Na);td.prototype.OnLoadXml=function(a){a.textContent&&(this.Uri=a.textContent)};td.prototype.OnGetXml=function(a){this.Uri&&(a.textContent=this.Uri)};var yc=td;z([Object(t.k)({defaultValue:"",required:!0})],yc.prototype,"Uri",void 0);yc=z([Object(t.l)({localName:wa.ElementNames.DocumentationReference})],yc);var We=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(We,Wa);var Sc=We;Sc=z([Object(t.l)({localName:wa.ElementNames.DocumentationReferences,
parser:yc})],Sc);var Xe=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Xe,Na);var Jb=Xe;z([Object(t.i)({parser:jc,required:!0})],Jb.prototype,"Identifier",void 0);z([Object(t.i)({localName:wa.ElementNames.Description,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,defaultValue:""})],Jb.prototype,"Description",void 0);z([Object(t.i)({parser:Sc})],Jb.prototype,"DocumentationReferences",void 0);Jb=z([Object(t.l)({localName:wa.ElementNames.ObjectIdentifier})],Jb);var Ye=function(){return ub.apply(this,
arguments)||this};$jscomp.inherits(Ye,ub);var Tc=Ye;Tc=z([Object(t.l)({localName:wa.ElementNames.CommitmentTypeQualifier})],Tc);var Ze=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Ze,Wa);var he=Ze;he=z([Object(t.l)({localName:wa.ElementNames.CommitmentTypeQualifiers,parser:Tc})],he);var $e=function(){return Na.apply(this,arguments)||this};$jscomp.inherits($e,Na);var Uc=$e;z([Object(t.k)({required:!0})],Uc.prototype,"Value",void 0);Uc=z([Object(t.l)({localName:wa.ElementNames.ObjectReference})],
Uc);var af=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(af,Wa);var ud=af;ud=z([Object(t.l)({localName:"ObjectReferences",parser:Uc})],ud);var bf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(bf,Na);var Wb=bf;z([Object(t.i)({localName:wa.ElementNames.CommitmentTypeId,required:!0,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,parser:Jb})],Wb.prototype,"CommitmentTypeId",void 0);z([Object(t.i)({parser:ud,noRoot:!0})],Wb.prototype,"ObjectReference",void 0);
z([Object(t.i)({localName:wa.ElementNames.AllSignedDataObjects,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){}},defaultValue:!1})],Wb.prototype,"AllSignedDataObjects",void 0);z([Object(t.i)({localName:wa.ElementNames.CommitmentTypeQualifiers,parser:Tc})],Wb.prototype,"CommitmentTypeQualifiers",void 0);Wb=z([Object(t.l)({localName:wa.ElementNames.CommitmentTypeIndication})],Wb);var cf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(cf,
Na);var Fb=cf;z([Object(t.i)({parser:Hb,required:!0})],Fb.prototype,"DigestMethod",void 0);z([Object(t.i)({localName:"DigestValue",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h,required:!0})],Fb.prototype,"DigestValue",void 0);Fb=z([Object(t.l)({localName:wa.ElementNames.DigestAlgAndValue})],Fb);var df=function(){return xc.apply(this,arguments)||this};$jscomp.inherits(df,xc);var vd=df;vd=z([Object(t.l)({localName:wa.ElementNames.IssuerSerial,namespaceURI:wa.NamespaceURI,
prefix:wa.DefaultPrefix})],vd);var ef=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(ef,Na);var Xb=ef;z([Object(t.i)({localName:wa.ElementNames.CertDigest,parser:Fb,required:!0})],Xb.prototype,"CertDigest",void 0);z([Object(t.i)({parser:vd,required:!0})],Xb.prototype,"IssuerSerial",void 0);z([Object(t.g)({localName:wa.AttributeNames.URI})],Xb.prototype,"Uri",void 0);Xb=z([Object(t.l)({localName:wa.ElementNames.Cert})],Xb);var ff=function(){return Wa.apply(this,arguments)||this};
$jscomp.inherits(ff,Wa);var zc=ff;zc=z([Object(t.l)({localName:"CertIDList",parser:Xb})],zc);var gf=function(){return zc.apply(this,arguments)||this};$jscomp.inherits(gf,zc);var wd=gf;wd=z([Object(t.l)({localName:wa.ElementNames.SigningCertificate})],wd);var hf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(hf,Na);var Yb=hf;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Yb.prototype,"Id",void 0);z([Object(t.i)({localName:wa.ElementNames.CertRefs,parser:zc,required:!0})],
Yb.prototype,"CertRefs",void 0);Yb=z([Object(t.l)({localName:wa.ElementNames.CompleteCertificateRefs})],Yb);var Fg=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,Dg=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Eg=/[^-+\dA-Z]/g,me={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",
longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},zb={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" "),timeNames:"a p am pm A P AM PM".split(" ")},
xd=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(xd,Na);xd.prototype.OnLoadXml=function(a){a.textContent&&(this.Value=new Date(a.textContent))};xd.prototype.OnGetXml=function(a){a.textContent=this.Format?M(this.Value,this.Format):this.Value.toISOString()};var kc=xd;z([Object(t.k)({defaultValue:new Date,required:!0})],kc.prototype,"Value",void 0);kc=z([Object(t.l)({localName:"XadesDateTime",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],kc);var jf=function(){return ub.apply(this,
arguments)||this};$jscomp.inherits(jf,ub);var ie=jf;ie=z([Object(t.l)({localName:wa.ElementNames.OtherRef})],ie);var kf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(kf,Wa);var yd=kf;yd=z([Object(t.l)({localName:wa.ElementNames.OtherRefs})],yd);var lf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(lf,Na);var Ac=lf;z([Object(t.i)({localName:wa.ElementNames.ByName,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,required:!0})],Ac.prototype,"ByName",void 0);
z([Object(t.i)({localName:wa.ElementNames.ByKey,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,converter:t.h,required:!0})],Ac.prototype,"ByKey",void 0);Ac=z([Object(t.l)({localName:wa.ElementNames.OCSPIdentifier})],Ac);var mf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(mf,Na);var lc=mf;z([Object(t.g)({localName:wa.AttributeNames.URI,defaultValue:""})],lc.prototype,"URI",void 0);z([Object(t.i)({parser:Ac,required:!0})],lc.prototype,"ResponderID",void 0);z([Object(t.i)({localName:wa.ElementNames.IssueTime,
parser:kc,required:!0})],lc.prototype,"ProducedAt",void 0);lc=z([Object(t.l)({localName:wa.ElementNames.OCSPIdentifier})],lc);var nf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(nf,Na);var Vc=nf;z([Object(t.i)({parser:lc})],Vc.prototype,"OCSPIdentifier",void 0);z([Object(t.i)({parser:Fb,required:!0})],Vc.prototype,"DigestAlgAndValue",void 0);Vc=z([Object(t.l)({localName:wa.ElementNames.OCSPRef})],Vc);var of=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(of,
Wa);var zd=of;zd=z([Object(t.l)({localName:wa.ElementNames.OCSPRefs})],zd);var pf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(pf,Na);var Zb=pf;z([Object(t.g)({localName:wa.AttributeNames.URI,defaultValue:""})],Zb.prototype,"URI",void 0);z([Object(t.i)({localName:wa.ElementNames.Issuer,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,required:!0})],Zb.prototype,"Issuer",void 0);z([Object(t.i)({localName:wa.ElementNames.IssueTime,parser:kc,required:!0})],Zb.prototype,"IssueTime",
void 0);z([Object(t.i)({localName:wa.ElementNames.Number,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,converter:t.o})],Zb.prototype,"Number",void 0);Zb=z([Object(t.l)({localName:wa.ElementNames.CRLIdentifier})],Zb);var qf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(qf,Na);var Wc=qf;z([Object(t.i)({parser:Fb,required:!0})],Wc.prototype,"DigestAlgAndValue",void 0);z([Object(t.i)({parser:Zb})],Wc.prototype,"CRLIdentifier",void 0);Wc=z([Object(t.l)({localName:wa.ElementNames.CRLRef})],
Wc);var rf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(rf,Wa);var Ad=rf;Ad=z([Object(t.l)({localName:wa.ElementNames.CRLRefs})],Ad);var sf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(sf,Na);var Kb=sf;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Kb.prototype,"Id",void 0);z([Object(t.i)({parser:Ad})],Kb.prototype,"CRLRefs",void 0);z([Object(t.i)({parser:zd})],Kb.prototype,"OCSPRefs",void 0);z([Object(t.i)({parser:yd})],Kb.prototype,
"OtherRefs",void 0);Kb=z([Object(t.l)({localName:wa.ElementNames.CompleteRevocationRefs})],Kb);var tf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(tf,Na);var Xc=tf;z([Object(t.i)({parser:Ib,required:!0})],Xc.prototype,"Signature",void 0);Xc=z([Object(t.l)({localName:wa.ElementNames.CounterSignature})],Xc);var uf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(uf,Na);var Qb=uf;z([Object(t.g)({localName:wa.AttributeNames.ObjectReference,required:!0})],Qb.prototype,
"ObjectReference",void 0);z([Object(t.i)({localName:wa.ElementNames.Description,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Qb.prototype,"Description",void 0);z([Object(t.i)({parser:Jb})],Qb.prototype,"ObjectIdentifier",void 0);z([Object(t.i)({localName:wa.ElementNames.MimeType,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Qb.prototype,"MimeType",void 0);z([Object(t.i)({localName:wa.ElementNames.Encoding,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Qb.prototype,"Encoding",
void 0);Qb=z([Object(t.l)({localName:wa.ElementNames.DataObjectFormat})],Qb);var vf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(vf,Na);var mc=vf;z([Object(t.g)({localName:wa.AttributeNames.URI,defaultValue:"",required:!0})],mc.prototype,"Uri",void 0);z([Object(t.g)({localName:wa.AttributeNames.ReferencedData,defaultValue:!1})],mc.prototype,"ReferencedData",void 0);mc=z([Object(t.l)({localName:wa.ElementNames.Include})],mc);var wf=function(){return Na.apply(this,arguments)||
this};$jscomp.inherits(wf,Na);var $b=wf;z([Object(t.g)({localName:wa.AttributeNames.URI,defaultValue:""})],$b.prototype,"Uri",void 0);z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],$b.prototype,"Id",void 0);z([Object(t.i)({localName:"DigestMethod",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",required:!0})],$b.prototype,"DigestMethod",void 0);z([Object(t.i)({localName:"DigestMethod",namespaceURI:"http://www.w3.org/2000/09/xmldsig#",prefix:"ds",converter:t.h,required:!0})],
$b.prototype,"DigestValue",void 0);$b=z([Object(t.l)({localName:wa.ElementNames.ReferenceInfo})],$b);var xf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(xf,Wa);var Yc=xf;Yc=z([Object(t.l)({localName:"ReferenceInfos",parser:$b})],Yc);var yf=function(){return pb.apply(this,arguments)||this};$jscomp.inherits(yf,pb);var Bd=yf;Bd=z([Object(t.l)({localName:wa.ElementNames.EncapsulatedTimeStamp})],Bd);var zf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(zf,Wa);
var Bc=zf;Bc=z([Object(t.l)({localName:"EncapsulatedPKIDatas",parser:Bd})],Bc);var Af=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(Af,ub);var Cd=Af;Cd=z([Object(t.l)({localName:wa.ElementNames.XMLTimeStamp})],Cd);var Bf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Bf,Wa);var Cc=Bf;Cc=z([Object(t.l)({localName:"XMLTimeStampCollection",parser:Cd})],Cc);var Cf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Cf,Na);var Rb=Cf;z([Object(t.g)({localName:wa.AttributeNames.Id,
defaultValue:""})],Rb.prototype,"Id",void 0);z([Object(t.i)({parser:mc})],Rb.prototype,"Include",void 0);z([Object(t.i)({parser:Yc,noRoot:!0})],Rb.prototype,"ReferenceInfo",void 0);z([Object(t.i)({parser:ec})],Rb.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Bc,noRoot:!0})],Rb.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Cc,noRoot:!0})],Rb.prototype,"XMLTimeStamp",void 0);Rb=z([Object(t.l)({localName:"GenericTimeStamp"})],Rb);var Df=function(){return Na.apply(this,
arguments)||this};$jscomp.inherits(Df,Na);var ac=Df;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],ac.prototype,"Id",void 0);z([Object(t.i)({parser:Yc,noRoot:!0})],ac.prototype,"ReferenceInfo",void 0);z([Object(t.i)({parser:ec})],ac.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Bc,noRoot:!0})],ac.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Cc,noRoot:!0})],ac.prototype,"XMLTimeStamp",void 0);ac=z([Object(t.l)({localName:wa.ElementNames.OtherTimeStamp})],
ac);var Ef=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Ef,Na);var nb=Ef;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],nb.prototype,"Id",void 0);z([Object(t.i)({parser:mc})],nb.prototype,"Include",void 0);z([Object(t.i)({parser:ec})],nb.prototype,"CanonicalizationMethod",void 0);z([Object(t.i)({parser:Bc,noRoot:!0})],nb.prototype,"EncapsulatedTimeStamp",void 0);z([Object(t.i)({parser:Cc,noRoot:!0})],nb.prototype,"XMLTimeStamp",void 0);nb=z([Object(t.l)({localName:wa.ElementNames.XAdESTimeStamp})],
nb);var Ff=function(){return nb.apply(this,arguments)||this};$jscomp.inherits(Ff,nb);var Dd=Ff;Dd=z([Object(t.l)({localName:wa.ElementNames.IndividualDataObjectsTimeStamp})],Dd);var Gf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Gf,Wa);var Ed=Gf;Ed=z([Object(t.l)({localName:"IndividualDataObjectsTimeStampCollection",parser:Dd})],Ed);var Hf=function(){return nb.apply(this,arguments)||this};$jscomp.inherits(Hf,nb);var Fd=Hf;Fd=z([Object(t.l)({localName:wa.ElementNames.AllDataObjectsTimeStamp})],
Fd);var If=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(If,Wa);var Gd=If;Gd=z([Object(t.l)({localName:"DataObjectFormatCollection",parser:Qb})],Gd);var Jf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Jf,Wa);var Hd=Jf;Hd=z([Object(t.l)({localName:"CommitmentTypeIndicationCollection",parser:Wb})],Hd);var Kf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Kf,Wa);var Id=Kf;Id=z([Object(t.l)({localName:"AllDataObjectsTimeStampCollection",parser:Fd})],
Id);var Lf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Lf,Na);var Sb=Lf;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Sb.prototype,"Id",void 0);z([Object(t.i)({parser:Gd,noRoot:!0})],Sb.prototype,"DataObjectFormats",void 0);z([Object(t.i)({parser:Hd,noRoot:!0})],Sb.prototype,"CommitmentTypeIndications",void 0);z([Object(t.i)({parser:Id,noRoot:!0})],Sb.prototype,"AllDataObjectsTimeStamps",void 0);z([Object(t.i)({parser:Ed,noRoot:!0})],Sb.prototype,"IndividualDataObjectsTimeStamps",
void 0);Sb=z([Object(t.l)({localName:wa.ElementNames.SignedDataObjectProperties})],Sb);var Mf=function(){return Jb.apply(this,arguments)||this};$jscomp.inherits(Mf,Jb);var Zc=Mf;Zc=z([Object(t.l)({localName:wa.ElementNames.SigPolicyId})],Zc);var Nf=function(){return Fb.apply(this,arguments)||this};$jscomp.inherits(Nf,Fb);var $c=Nf;$c=z([Object(t.l)({localName:wa.ElementNames.SigPolicyHash})],$c);var Of=function(){return Rc.apply(this,arguments)||this};$jscomp.inherits(Of,Rc);var ad=Of;ad=z([Object(t.l)({localName:wa.ElementNames.SigPolicyQualifier})],
ad);var Pf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Pf,Na);var Dc=Pf;z([Object(t.k)({converter:t.o,required:!0})],Dc.prototype,"Value",void 0);Dc=z([Object(t.l)({localName:"int"})],Dc);var Qf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Qf,Wa);var bd=Qf;bd=z([Object(t.l)({localName:"IntegerList",parser:Dc})],bd);var Rf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Rf,Na);var nc=Rf;z([Object(t.i)({localName:wa.ElementNames.Organization,
namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,required:!0})],nc.prototype,"Organization",void 0);z([Object(t.i)({localName:wa.ElementNames.NoticeNumbers,parser:bd,required:!0})],nc.prototype,"NoticeNumbers",void 0);nc=z([Object(t.l)({localName:wa.ElementNames.NoticeRef})],nc);var Sf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Sf,Na);var Ec=Sf;z([Object(t.i)({localName:wa.ElementNames.NoticeRef,parser:nc})],Ec.prototype,"NoticeRef",void 0);z([Object(t.i)({localName:wa.ElementNames.ExplicitText,
namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],Ec.prototype,"ExplicitText",void 0);Ec=z([Object(t.l)({localName:wa.ElementNames.SPUserNotice})],Ec);var Tf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Tf,Na);var cd=Tf;z([Object(t.k)()],cd.prototype,"Value",void 0);cd=z([Object(t.l)({localName:wa.ElementNames.SPURI})],cd);var Uf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Uf,Wa);var dd=Uf;dd=z([Object(t.l)({localName:wa.ElementNames.SigPolicyQualifiers,
parser:ad})],dd);var Vf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Vf,Na);var Tb=Vf;z([Object(t.i)({localName:wa.ElementNames.SigPolicyId,parser:Zc,required:!0})],Tb.prototype,"SigPolicyId",void 0);z([Object(t.i)({parser:sc})],Tb.prototype,"Transforms",void 0);z([Object(t.i)({localName:wa.ElementNames.SigPolicyHash,parser:$c,required:!0})],Tb.prototype,"SigPolicyHash",void 0);z([Object(t.i)({localName:wa.ElementNames.SigPolicyQualifiers,parser:dd})],Tb.prototype,"SigPolicyQualifiers",
void 0);Tb=z([Object(t.l)({localName:wa.ElementNames.SignaturePolicyId})],Tb);var Wf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Wf,Na);var Fc=Wf;z([Object(t.i)({localName:wa.ElementNames.SignaturePolicyId,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,parser:Tb})],Fc.prototype,"SignaturePolicyId",void 0);z([Object(t.i)({localName:wa.ElementNames.SignaturePolicyImplied,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,converter:{set:function(a){return!0},get:function(a){return""}},
defaultValue:!1})],Fc.prototype,"SignaturePolicyImplied",void 0);Fc=z([Object(t.l)({localName:wa.ElementNames.SignaturePolicyIdentifier})],Fc);var Xf=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Xf,Na);var bc=Xf;z([Object(t.i)({localName:wa.ElementNames.City,defaultValue:"",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],bc.prototype,"City",void 0);z([Object(t.i)({localName:wa.ElementNames.StateOrProvince,defaultValue:"",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],
bc.prototype,"StateOrProvince",void 0);z([Object(t.i)({localName:wa.ElementNames.PostalCode,defaultValue:"",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],bc.prototype,"PostalCode",void 0);z([Object(t.i)({localName:wa.ElementNames.CountryName,defaultValue:"",namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix})],bc.prototype,"CountryName",void 0);bc=z([Object(t.l)({localName:wa.ElementNames.SignatureProductionPlace})],bc);var Yf=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(Yf,
ub);var ed=Yf;ed=z([Object(t.l)({localName:wa.ElementNames.ClaimedRole})],ed);var Zf=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(Zf,Wa);var Jd=Zf;Jd=z([Object(t.l)({localName:wa.ElementNames.ClaimedRoles,parser:ed})],Jd);var $f=function(){return pb.apply(this,arguments)||this};$jscomp.inherits($f,pb);var fd=$f;fd=z([Object(t.l)({localName:wa.ElementNames.CertifiedRole})],fd);var ag=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(ag,Wa);var Kd=ag;Kd=z([Object(t.l)({localName:wa.ElementNames.CertifiedRoles,
parser:fd})],Kd);var bg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(bg,Na);var Gc=bg;z([Object(t.i)({parser:Jd})],Gc.prototype,"ClaimedRoles",void 0);z([Object(t.i)({parser:Kd})],Gc.prototype,"CertifiedRoles",void 0);Gc=z([Object(t.l)({localName:wa.ElementNames.SignerRole})],Gc);var je,cg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(cg,Na);var cc=je=cg;z([Object(t.i)({localName:wa.ElementNames.CertDigest,parser:Fb,required:!0})],cc.prototype,"CertDigest",
void 0);z([Object(t.i)({localName:wa.ElementNames.IssuerSerialV2,namespaceURI:wa.NamespaceURI,prefix:wa.DefaultPrefix,converter:t.h,required:!1})],cc.prototype,"IssuerSerial",void 0);z([Object(t.g)({localName:wa.AttributeNames.URI})],cc.prototype,"Uri",void 0);cc=je=z([Object(t.l)({localName:wa.ElementNames.Cert,parser:je})],cc);var dg=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(dg,Wa);var gd=dg;gd=z([Object(t.l)({localName:"CertIDListV2",parser:cc})],gd);var eg=function(){return gd.apply(this,
arguments)||this};$jscomp.inherits(eg,gd);var Ld=eg;Ld=z([Object(t.l)({localName:wa.ElementNames.SigningCertificateV2})],Ld);var fg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(fg,Na);var Gb=fg;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Gb.prototype,"Id",void 0);z([Object(t.i)({localName:wa.ElementNames.SigningTime,parser:kc})],Gb.prototype,"SigningTime",void 0);z([Object(t.i)({parser:wd})],Gb.prototype,"SigningCertificate",void 0);z([Object(t.i)({parser:Ld})],
Gb.prototype,"SigningCertificateV2",void 0);z([Object(t.i)({parser:Fc})],Gb.prototype,"SignaturePolicyIdentifier",void 0);z([Object(t.i)({parser:bc})],Gb.prototype,"SignatureProductionPlace",void 0);z([Object(t.i)({parser:Gc})],Gb.prototype,"SignerRole",void 0);Gb=z([Object(t.l)({localName:wa.ElementNames.SignedSignatureProperties})],Gb);var gg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(gg,Na);var oc=gg;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],oc.prototype,
"Id",void 0);z([Object(t.i)({parser:Gb})],oc.prototype,"SignedSignatureProperties",void 0);z([Object(t.i)({parser:Sb})],oc.prototype,"SignedDataObjectProperties",void 0);oc=z([Object(t.l)({localName:wa.ElementNames.SignedProperties})],oc);var hg=function(){return ub.apply(this,arguments)||this};$jscomp.inherits(hg,ub);var Md=hg;Md=z([Object(t.l)({localName:wa.ElementNames.UnsignedDataObjectProperty})],Md);var ig=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(ig,Wa);var hd=ig;z([Object(t.g)({localName:wa.AttributeNames.Id,
defaultValue:""})],hd.prototype,"Id",void 0);hd=z([Object(t.l)({localName:wa.ElementNames.UnsignedSignatureProperties,parser:Md})],hd);var jg=function(){return pb.apply(this,arguments)||this};$jscomp.inherits(jg,pb);var Nd=jg;Nd=z([Object(t.l)({localName:wa.ElementNames.OtherValue})],Nd);var kg=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(kg,Wa);var Od=kg;Od=z([Object(t.l)({localName:wa.ElementNames.OCSPValues,parser:Nd})],Od);var lg=function(){return pb.apply(this,arguments)||
this};$jscomp.inherits(lg,pb);var ke=lg;ke=z([Object(t.l)({localName:wa.ElementNames.EncapsulatedOCSPValue})],ke);var mg=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(mg,Wa);var Pd=mg;Pd=z([Object(t.l)({localName:wa.ElementNames.OCSPValues})],Pd);var ng=function(){return pb.apply(this,arguments)||this};$jscomp.inherits(ng,pb);var Qd=ng;Qd=z([Object(t.l)({localName:wa.ElementNames.EncapsulatedCRLValue})],Qd);var og=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(og,
Wa);var Rd=og;Rd=z([Object(t.l)({localName:wa.ElementNames.CRLValues,parser:Qd})],Rd);var pg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(pg,Na);var Lb=pg;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Lb.prototype,"Id",void 0);z([Object(t.i)({parser:Rd})],Lb.prototype,"CRLValues",void 0);z([Object(t.i)({parser:Pd})],Lb.prototype,"OCSPValues",void 0);z([Object(t.i)({parser:Od})],Lb.prototype,"OtherValues",void 0);Lb=z([Object(t.l)({localName:wa.ElementNames.RevocationValues})],
Lb);var qg=function(){return nb.apply(this,arguments)||this};$jscomp.inherits(qg,nb);var Sd=qg;Sd=z([Object(t.l)({localName:wa.ElementNames.SignatureTimeStamp})],Sd);var rg=function(){return nb.apply(this,arguments)||this};$jscomp.inherits(rg,nb);var Td=rg;Td=z([Object(t.l)({localName:wa.ElementNames.SigAndRefsTimeStamp})],Td);var sg=function(){return nb.apply(this,arguments)||this};$jscomp.inherits(sg,nb);var Ud=sg;Ud=z([Object(t.l)({localName:wa.ElementNames.RefsOnlyTimeStamp})],Ud);var tg=function(){return nb.apply(this,
arguments)||this};$jscomp.inherits(tg,nb);var Vd=tg;Vd=z([Object(t.l)({localName:wa.ElementNames.ArchiveTimeStamp})],Vd);var ug=function(){return Yb.apply(this,arguments)||this};$jscomp.inherits(ug,Yb);var Wd=ug;Wd=z([Object(t.l)({localName:wa.ElementNames.AttributeCertificateRefs})],Wd);var vg=function(){return Kb.apply(this,arguments)||this};$jscomp.inherits(vg,Kb);var Xd=vg;Xd=z([Object(t.l)({localName:wa.ElementNames.AttributeRevocationRefs})],Xd);var wg=function(){return Pb.apply(this,arguments)||
this};$jscomp.inherits(wg,Pb);var Yd=wg;Yd=z([Object(t.l)({localName:wa.ElementNames.AttrAuthoritiesCertValues})],Yd);var xg=function(){return Lb.apply(this,arguments)||this};$jscomp.inherits(xg,Lb);var Zd=xg;Zd=z([Object(t.l)({localName:wa.ElementNames.AttributeRevocationValues})],Zd);var yg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(yg,Na);var $d=yg;$d=z([Object(t.l)({localName:"UnsignedSignatureProperty"})],$d);var le=function(){return Wa.apply(this,arguments)||this};$jscomp.inherits(le,
Wa);le.prototype.OnLoadXml=function(a){for(var C=0;C<a.childNodes.length;C++){var L=a.childNodes.item(C);if(L.nodeType===t.n.Element){var X=void 0;switch(L.localName){case wa.ElementNames.CounterSignature:X=Xc;break;case wa.ElementNames.SignatureTimeStamp:X=Sd;break;case wa.ElementNames.CompleteCertificateRefs:X=Yb;break;case wa.ElementNames.CompleteRevocationRefs:X=Kb;break;case wa.ElementNames.AttributeCertificateRefs:X=Wd;break;case wa.ElementNames.AttributeRevocationRefs:X=Xd;break;case wa.ElementNames.SigAndRefsTimeStamp:X=
Td;break;case wa.ElementNames.RefsOnlyTimeStamp:X=Ud;break;case wa.ElementNames.CertificateValues:X=Pb;break;case wa.ElementNames.RevocationValues:X=Lb;break;case wa.ElementNames.AttrAuthoritiesCertValues:X=Yd;break;case wa.ElementNames.AttributeRevocationValues:X=Zd;break;case wa.ElementNames.ArchiveTimeStamp:X=Vd}X&&(L=X.LoadXml(L),this.Add(L))}}};var id=le;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],id.prototype,"Id",void 0);id=z([Object(t.l)({localName:wa.ElementNames.UnsignedSignatureProperties,
parser:$d})],id);var zg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(zg,Na);var pc=zg;z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],pc.prototype,"Id",void 0);z([Object(t.i)({parser:id})],pc.prototype,"UnsignedSignatureProperties",void 0);z([Object(t.i)({parser:hd})],pc.prototype,"UnsignedDataObjectProperties",void 0);pc=z([Object(t.l)({localName:wa.ElementNames.UnsignedProperties})],pc);var Ag=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Ag,
Na);var Ub=Ag;z([Object(t.g)({localName:wa.AttributeNames.Target,required:!0})],Ub.prototype,"Target",void 0);z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],Ub.prototype,"Id",void 0);z([Object(t.i)({parser:oc})],Ub.prototype,"SignedProperties",void 0);z([Object(t.i)({parser:pc})],Ub.prototype,"UnsignedProperties",void 0);Ub=z([Object(t.l)({localName:wa.ElementNames.QualifyingProperties})],Ub);var Bg=function(){return Na.apply(this,arguments)||this};$jscomp.inherits(Bg,Na);var jd=
Bg;z([Object(t.g)({localName:wa.AttributeNames.URI,required:!0})],jd.prototype,"Uri",void 0);z([Object(t.g)({localName:wa.AttributeNames.Id,defaultValue:""})],jd.prototype,"Id",void 0);jd=z([Object(t.l)({localName:wa.ElementNames.QualifyingPropertiesReference})],jd);var Cg=function(){return Vb.apply(this,arguments)||this};$jscomp.inherits(Cg,Vb);var kd=Cg;z([Object(t.i)({parser:Ub})],kd.prototype,"QualifyingProperties",void 0);kd=z([Object(t.l)({localName:"Object"})],kd);Object.freeze({__proto__:null,
get Any(){return ub},get AnyCollection(){return Rc},get OtherCertificate(){return pd},get OtherCertificateCollection(){return qd},get EncapsulatedX509Certificate(){return rd},get EncapsulatedX509CertificateCollection(){return sd},get CertificateValues(){return Pb},get CommitmentTypeQualifier(){return Tc},get CommitmentTypeQualifiers(){return he},get ObjectReference(){return Uc},get ObjectReferenceCollection(){return ud},get CommitmentTypeIndication(){return Wb},get CompleteCertificateRefs(){return Yb},
get OtherRef(){return ie},get OtherRefs(){return yd},get ResponderID(){return Ac},get OCSPIdentifier(){return lc},get OCSPRef(){return Vc},get OCSPRefs(){return zd},get CRLIdentifier(){return Zb},get CRLRef(){return Wc},get CRLRefs(){return Ad},get CompleteRevocationRefs(){return Kb},get CounterSignature(){return Xc},get DataObjectFormat(){return Qb},get XadesDateTime(){return kc},get EncapsulatedPKIData(){return pb},get Include(){return mc},get ReferenceInfo(){return $b},get ReferenceInfos(){return Yc},
get EncapsulatedTimeStamp(){return Bd},get EncapsulatedTimeStampCollection(){return Bc},get XMLTimeStamp(){return Cd},get XMLTimeStampCollection(){return Cc},get GenericTimeStamp(){return Rb},get Identifier(){return jc},get DocumentationReference(){return yc},get DocumentationReferences(){return Sc},get ObjectIdentifier(){return Jb},get OtherTimeStamp(){return ac},get QualifyingProperties(){return Ub},get QualifyingPropertiesReference(){return jd},get OtherValue(){return Nd},get OtherValues(){return Od},
get EncapsulatedOCSPValue(){return ke},get OCSPValues(){return Pd},get EncapsulatedCRLValue(){return Qd},get CRLValues(){return Rd},get RevocationValues(){return Lb},get SigPolicyId(){return Zc},get SigPolicyHash(){return $c},get SigPolicyQualifier(){return ad},get Integer(){return Dc},get IntegerList(){return bd},get NoticeReference(){return nc},get SPUserNotice(){return Ec},get SPURI(){return cd},get SigPolicyQualifiers(){return dd},get SignaturePolicyId(){return Tb},get SignaturePolicyIdentifier(){return Fc},
get SignatureProductionPlace(){return bc},get IndividualDataObjectsTimeStamp(){return Dd},get IndividualDataObjectsTimeStampCollection(){return Ed},get AllDataObjectsTimeStamp(){return Fd},get DataObjectFormatCollection(){return Gd},get CommitmentTypeIndicationCollection(){return Hd},get AllDataObjectsTimeStampCollection(){return Id},get SignedDataObjectProperties(){return Sb},get SignedProperties(){return oc},get SignedSignatureProperties(){return Gb},get ClaimedRole(){return ed},get ClaimedRoles(){return Jd},
get CertifiedRole(){return fd},get CertifiedRoles(){return Kd},get SignerRole(){return Gc},get DigestAlgAndValueType(){return Fb},get IssuerSerial(){return vd},get Cert(){return Xb},get CertIDList(){return zc},get SigningCertificate(){return wd},get CertV2(){return cc},get CertIDListV2(){return gd},get SigningCertificateV2(){return Ld},get UnsignedDataObjectProperty(){return Md},get UnsignedDataObjectProperties(){return hd},get UnsignedProperties(){return pc},get SignatureTimeStamp(){return Sd},get SigAndRefsTimeStamp(){return Td},
get RefsOnlyTimeStamp(){return Ud},get ArchiveTimeStamp(){return Vd},get AttributeCertificateRefs(){return Wd},get AttributeRevocationRefs(){return Xd},get AttrAuthoritiesCertValues(){return Yd},get AttributeRevocationValues(){return Zd},get UnsignedSignatureProperty(){return $d},get UnsignedSignatureProperties(){return id},get XAdESTimeStamp(){return nb},get DataObject(){return kd},XmlXades:wa});var vb=function(a){a=jb.call(this,a)||this;a.properties=null;a.CreateQualifyingProperties();return a};
$jscomp.inherits(vb,jb);vb.prototype.LoadXml=function(a,C){jb.prototype.LoadXml.call(this,a);var L=null;this.XmlSignature.ObjectList.Some(function(X){if(X.Element)for(var la=0;la<X.Element.childNodes.length;la++){var sa=X.Element.childNodes.item(la);if(sa.nodeType===t.n.Element&&sa.localName===wa.ElementNames.QualifyingProperties)return L=Ub.LoadXml(sa),!0}return!1});this.properties=L};vb.prototype.Sign=function(a,C,L,X){var la=this,sa=arguments;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ba){return Ba.return(jb.prototype.Sign.apply(la,
sa))})};vb.prototype.CreateQualifyingProperties=function(){if(this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Cannot create QualifyingProperties cause current signature has got one. You must create CounterSignature");var a=Ia.crypto.getRandomValues(new Uint8Array(6));a=t.b.ToHex(a);this.XmlSignature.Id="id-"+a;a=new kd;a.QualifyingProperties.Target="#"+this.XmlSignature.Id;a.QualifyingProperties.SignedProperties.Id="xades-"+this.XmlSignature.Id;this.properties=a.QualifyingProperties;this.XmlSignature.ObjectList.Add(a)};
vb.prototype.ApplySignOptions=function(a,C,L,X){var la=this,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){switch(Ma.nextAddress){case 1:return Ma.yield(jb.prototype.ApplySignOptions.call(la,a,C,L,X),2);case 2:if(!la.Properties){Ma.jumpTo(0);break}sa=la.Properties.SignedProperties.SignedSignatureProperties;sa.SigningTime.Value=new Date;X.signingTime&&(X.signingTime.value&&(sa.SigningTime.Value=X.signingTime.value),X.signingTime.format&&(sa.SigningTime.Format=X.signingTime.format));
Ba=Object(t.q)({},C,L.algorithm);Ea=Ba.hash;Ja=new Ab;Ja.Type="http://uri.etsi.org/01903#SignedProperties";Ja.Uri="#"+la.Properties.SignedProperties.Id;Ja.DigestMethod.Algorithm=qb.GetHashAlgorithm(Ea).namespaceURI;a.SignedInfo.References.Add(Ja);return Ma.yield(la.ApplySigningCertificate(X.signingCertificate),4);case 4:return Ma.yield(la.ApplySigningCertificateV2(X.signingCertificateV2),5);case 5:return Ma.yield(la.ApplySignaturePolicyIdentifier(X.policy),6);case 6:la.ApplySignatureProductionPlace(X.productionPlace),
la.ApplySignerRoles(X.signerRole),Ma.jumpToEnd()}})};vb.prototype.ApplySigningCertificate=function(a){var C=this,L,X,la,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){if(1==Ma.nextAddress){if(!C.Properties||!a)return Ma.jumpTo(0);L=t.b.FromBase64(a);X=new Bb(L);la=C.Properties.SignedProperties.SignedSignatureProperties;if(la.SigningCertificate.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature can contain only one SigningCertificate");sa=new Xb;sa.IssuerSerial.X509IssuerName=
X.Issuer;sa.IssuerSerial.X509SerialNumber=X.SerialNumber;Ba=qb.GetHashAlgorithm("SHA-256");sa.CertDigest.DigestMethod.Algorithm=Ba.namespaceURI;Ea=sa.CertDigest;Ja=Uint8Array;return Ma.yield(X.Thumbprint(Ba.algorithm.name),3)}Ea.DigestValue=new Ja(Ma.yieldResult);C.Properties.SignedProperties.SignedSignatureProperties.SigningCertificate.Add(sa);Ma.jumpToEnd()})};vb.prototype.ApplySigningCertificateV2=function(a){var C=this,L,X,la,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){if(1==
Ma.nextAddress){if(!C.Properties||!a)return Ma.jumpTo(0);L=t.b.FromBase64(a);X=new Bb(L);la=C.Properties.SignedProperties.SignedSignatureProperties;if(la.SigningCertificateV2.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature can contain only one SigningCertificateV2");sa=new cc;Ba=qb.GetHashAlgorithm("SHA-256");sa.CertDigest.DigestMethod.Algorithm=Ba.namespaceURI;Ea=sa.CertDigest;Ja=Uint8Array;return Ma.yield(X.Thumbprint(Ba.algorithm.name),3)}Ea.DigestValue=new Ja(Ma.yieldResult);C.Properties.SignedProperties.SignedSignatureProperties.SigningCertificateV2.Add(sa);
Ma.jumpToEnd()})};vb.prototype.ApplySignaturePolicyIdentifier=function(a){var C=this,L,X,la,sa,Ba,Ea,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ma){if(1==Ma.nextAddress){if(!C.Properties)return Ma.jumpTo(0);L=C.Properties.SignedProperties.SignedSignatureProperties;if(!a||"object"!==typeof a)return a&&(L.SignaturePolicyIdentifier.SignaturePolicyImplied=!0),Ma.jumpTo(0);X=new Tb;X.SigPolicyId=new Zc;X.SigPolicyId.Identifier=new jc;a.identifier.qualifier&&(X.SigPolicyId.Identifier.Qualifier=
a.identifier.qualifier);X.SigPolicyId.Identifier.Value=a.identifier.value;a.identifier.description&&(X.SigPolicyId.Description=a.identifier.description);a.identifier.references&&(X.SigPolicyId.DocumentationReferences=new Sc,a.identifier.references.forEach(function(Qa){var Xa=new yc;Xa.Uri=Qa;X.SigPolicyId.DocumentationReferences.Add(Xa)}));a.transforms&&a.transforms.length&&(X.Transforms=new sc,a.transforms.forEach(function(Qa){X.Transforms.Add(C.ResolveTransform(Qa))}));X.SigPolicyHash=new $c;X.SigPolicyHash.DigestMethod=
new Hb;la=qb.GetHashAlgorithm(a.hash);X.SigPolicyHash.DigestMethod.Algorithm=la.namespaceURI;if(a.digestValue)return X.SigPolicyHash.DigestValue=t.b.FromBase64(a.digestValue),Ma.jumpTo(4);sa=X.SigPolicyId.Identifier.GetXml().cloneNode(!0);C.CopyNamespaces(sa,sa,!0);C.InjectNamespaces(C.GetSignatureNamespaces(),sa,!0);Ba=null;X.Transforms&&X.Transforms.Count?Ba=C.ApplyTransforms(X.Transforms,sa):(Ea=new Db,Ea.LoadInnerXml(sa),Ba=Ea.GetOutput());Ja=X.SigPolicyHash;return Ma.yield(la.Digest(Ba),5)}4!=
Ma.nextAddress&&(Ja.DigestValue=Ma.yieldResult);a.qualifiers&&(X.SigPolicyQualifiers=new dd,a.qualifiers.forEach(function(Qa){var Xa=new ad;if("string"===typeof Qa){var mb=new cd;mb.Value=Qa;Xa.Add(mb)}else{var eb=new Ec;Qa.explicitText&&(eb.ExplicitText=Qa.explicitText);Qa.noticeRef&&(eb.NoticeRef=new nc,eb.NoticeRef.Organization=Qa.noticeRef.organization,eb.NoticeRef.NoticeNumbers=new bd,Qa.noticeRef.noticeNumbers&&Qa.noticeRef.noticeNumbers.forEach(function(fb){var ib=new Dc;ib.Value=fb;eb.NoticeRef.NoticeNumbers.Add(ib)}));
Xa.Add(eb)}X.SigPolicyQualifiers.Add(Xa)}));L.SignaturePolicyIdentifier.SignaturePolicyId=X;L.SignaturePolicyIdentifier.SignaturePolicyImplied=!1;Ma.jumpToEnd()})};vb.prototype.ApplySignatureProductionPlace=function(a){if(this.Properties&&a){var C=this.Properties.SignedProperties.SignedSignatureProperties;a.city&&(C.SignatureProductionPlace.City=a.city);a.code&&(C.SignatureProductionPlace.PostalCode=a.code);a.country&&(C.SignatureProductionPlace.CountryName=a.country);a.state&&(C.SignatureProductionPlace.StateOrProvince=
a.state)}};vb.prototype.ApplySignerRoles=function(a){if(this.Properties&&a){var C=this.Properties.SignedProperties.SignedSignatureProperties;a.claimed&&a.claimed.forEach(function(L){var X=new ed;X.Value=L;C.SignerRole.ClaimedRoles.Add(X)});a.certified&&a.certified.forEach(function(L){var X=new fd;X.Encoding="der";X.Value=t.b.FromBase64(L);C.SignerRole.CertifiedRoles.Add(X)})}};vb.prototype.VerifySigningCertificate=function(){var a=this,C,L,X,la,sa,Ba,Ea,Ja,Ma,Qa,Xa,mb,eb,fb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ib){switch(ib.nextAddress){case 1:C=
null;if(!a.XmlSignature||!a.Properties){ib.jumpTo(2);break}L=a.Properties.SignedProperties.SignedSignatureProperties;if(1!==L.SigningCertificate.Count)throw new t.m(t.f.XML_EXCEPTION,"Signature has got wrong amount of SigningCertificate, MUST be one");X=qb.GetHashAlgorithm("SHA-256");la=L.SigningCertificate.Item(0);sa=t.b.ToBase64(la.CertDigest.DigestValue);Ba=a.XmlSignature.KeyInfo;Ea=0;case 3:if(Ea<Ba.Count,C){ib.jumpTo(5);break}Ja=Ba.Item(Ea);if(!(Ja instanceof qc)){ib.jumpTo(4);break}Ma=Ja.Certificates;
Qa=0;case 7:if(Qa<Ma.length,C){ib.jumpTo(4);break}Xa=Ma[Qa];if(!Xa){ib.jumpTo(8);break}mb=Uint8Array;return ib.yield(Xa.Thumbprint(X.algorithm),10);case 10:eb=new mb(ib.yieldResult),fb=t.b.ToBase64(eb),fb===sa&&(C=Xa);case 8:Qa++;ib.jumpTo(7);break;case 4:Ea++;ib.jumpTo(3);break;case 5:if(!C||C.Issuer!==la.IssuerSerial.X509IssuerName||C.SerialNumber!==la.IssuerSerial.X509SerialNumber)throw new t.m(t.f.XML_EXCEPTION,"SigningCertificate not found");case 2:return ib.return(C)}})};$jscomp.global.Object.defineProperties(vb.prototype,
{Properties:{configurable:!0,enumerable:!0,get:function(){return this.properties}},SignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Properties is empty");return this.Properties.SignedProperties}},UnsignedProperties:{configurable:!0,enumerable:!0,get:function(){if(!this.Properties)throw new t.m(t.f.XML_EXCEPTION,"Properties is empty");return this.Properties.UnsignedProperties}}})},function(R,G,E){(function(u){function J(Y,ba){for(var ha=
0;ha<ba.length;ha++){var ia=ba[ha];ia.enumerable=ia.enumerable||!1;ia.configurable=!0;"value"in ia&&(ia.writable=!0);Object.defineProperty(Y,ia.key,ia)}}function W(Y,ba,ha){ba&&J(Y.prototype,ba);ha&&J(Y,ha);return Y}function l(Y,ba,ha){ba in Y?Object.defineProperty(Y,ba,{value:ha,enumerable:!0,configurable:!0,writable:!0}):Y[ba]=ha;return Y}function h(Y,ba,ha,ia,na,v,n){try{var w=Y[v](n),D=w.value}catch(V){ha(V);return}w.done?ba(D):Promise.resolve(D).then(ia,na)}function p(Y){return function(){var ba=
this,ha=arguments;return new Promise(function(ia,na){function v(D){h(w,ia,na,v,n,"next",D)}function n(D){h(w,ia,na,v,n,"throw",D)}var w=Y.apply(ba,ha);v(void 0)})}}function c(Y){return f.apply(this,arguments)}function f(){f=p(regeneratorRuntime.mark(function ha(ba){return regeneratorRuntime.wrap(function(ia){for(;;)switch(ia.prev=ia.next){case 0:return ia.abrupt("return",new Promise(function(na,v){var n=new FileReader;n.onload=function(){na(n.result)};n.onerror=function(){console.log(["File read error",
ba,n.error]);v(n.error)};n.onabort=function(){console.log(["File read abort",ba,n.error]);v(n.error)};n.readAsArrayBuffer(ba)}));case 1:case "end":return ia.stop()}},ha)}));return f.apply(this,arguments)}function r(){return"undefined"!==typeof window&&window.crypto?window.crypto:u.crypto}function z(Y,ba,ha){return M.apply(this,arguments)}function M(){M=p(regeneratorRuntime.mark(function na(ba,ha,ia){var v,n,w,D,V,P,O,K,qa,ya,xa,Da,ea,b,N,ja,fa,ma=arguments;return regeneratorRuntime.wrap(function(ta){for(;;)switch(ta.prev=
ta.next){case 0:v=3<ma.length&&void 0!==ma[3]?ma[3]:r();n=4<ma.length&&void 0!==ma[4]?ma[4]:"SHA-256";w=g.util.binary.raw.decode;D=g.pki.privateKeyToAsn1;V=g.pki.publicKeyToAsn1;P=g.asn1.toDer;O=g.pki.wrapRsaPrivateKey;K=g.asn1.fromDer(new g.util.ByteStringBuffer(ba));qa=g.pkcs12.pkcs12FromAsn1(K,ia);ya=qa.getBags({friendlyName:ha});if(void 0!=ya.friendlyName&&2==ya.friendlyName.length){ta.next=13;break}console.log("Unsupporte keystore format, wrong password or wrong alias");throw Error("Unsupporte keystore format, wrong password or wrong alias");
case 13:if(!ya.friendlyName[0].key||!ya.friendlyName[1].cert){ta.next=18;break}xa=ya.friendlyName[0].key;Da=ya.friendlyName[1].cert;ta.next=25;break;case 18:if(!ya.friendlyName[1].key||!ya.friendlyName[0].cert){ta.next=23;break}xa=ya.friendlyName[1].key;Da=ya.friendlyName[0].cert;ta.next=25;break;case 23:throw console.log("Unsupporte keystore format, wrong password or wrong alias"),Error("Unsupporte keystore format, wrong password or wrong alias");case 25:return ea=g.pki.certificateToPem(Da),b=w(P(V(Da.publicKey)).getBytes()),
ta.next=29,v.subtle.importKey("spki",b,{name:"RSASSA-PKCS1-v1_5",hash:{name:n}},!0,["verify"]);case 29:return N=ta.sent,ja=w(P(O(D(xa))).getBytes()),ta.next=33,v.subtle.importKey("pkcs8",ja,{name:"RSASSA-PKCS1-v1_5",hash:{name:n}},!1,["sign"]);case 33:return fa=ta.sent,ta.abrupt("return",{privateKey:fa,publicKey:N,cert:ea});case 35:case "end":return ta.stop()}},na)}));return M.apply(this,arguments)}function A(Y){Y=H.a(Y);if(0<Y.getElementsByTagName("parsererror").length)throw Error("XML parse error");
return Y}function F(Y,ba){if((Y=Object(I.a)(Y,ba))&&Y.textContent)return Y.textContent.replace(/\s/g,"");throw Error("Bad TBAI document. Element not found: "+ba);}function y(Y,ba,ha){return(Y=Object(I.a)(Y,ba))&&Y.textContent?Y.textContent.replace(/\s/g,""):ha}function B(Y){return"id-"+Array.prototype.map.call(Y.getRandomValues(new Uint8Array(6)),function(ba){return("00"+ba.toString(16)).slice(-2)}).join("")}function t(Y){var ba="string"===typeof Y?A(Y):Y;Y=F(ba,"Emisor>NIF");var ha=F(ba,"FechaExpedicionFactura").replace(/(..)-(..)-..(..)/g,
"$1$2$3");ba=F(ba,"ds:SignatureValue").substr(0,13);Y=["TBAI",Y,ha,ba,""].join("-");return Y+("000"+Object(x.a)(Y)).slice(-3)}function S(Y){Y="string"===typeof Y?A(Y):Y;var ba=F(Y,"FechaExpedicionFactura"),ha=F(Y,"HoraExpedicionFactura");ba={issuedTime:new Date(ba.split("-").reverse().join("-")+" "+ha),number:F(Y,"CabeceraFactura>NumFactura"),hash:F(Y,"ds:SignatureValue").substr(0,100)};if(Y=y(Y,"CabeceraFactura>SerieFactura",""))ba.serie=Y;return ba}function k(Y,ba){Y="string"===typeof Y?A(Y):Y;
Y={id:t(Y),s:y(Y,"SerieFactura",""),nf:F(Y,"NumFactura"),i:F(Y,"ImporteTotalFactura")};ba+=function(ha){return"?"+Object.keys(ha).reduce(function(ia,na){ia.push(na+"="+encodeURIComponent(ha[na]));return ia},[]).join("&")}(Y);return ba+"&cr="+("000"+Object(x.a)(ba)).slice(-3)}function e(Y,ba){return k(Y,[["https://ticketbai.araba.eus/TBAI/QRTBAI","https://batuz.eus/QRTBAI/","https://tbai.egoitza.gipuzkoa.eus/qr/"],["https://ticketbai.araba.eus/TBAI/QRTBAI","https://batuz.eus/QRTBAI/","https://tbai.prep.gipuzkoa.eus/qr/"]][2<
arguments.length&&void 0!==arguments[2]&&arguments[2]?1:0][ba])}E.d(G,"d",function(){return t});E.d(G,"c",function(){return S});E.d(G,"a",function(){return Q});E.d(G,"f",function(){return k});E.d(G,"e",function(){return e});E.d(G,"b",function(){return Z});var q=E(44);E.n(q);var H=E(42),g=E(16);E.n(g);var x=E(62),I=E(9),Q;(function(Y){Y[Y.ARABA=0]="ARABA";Y[Y.BIZKAIA=1]="BIZKAIA";Y[Y.GIPUZKOA=2]="GIPUZKOA"})(Q||(Q={}));var Z=function(){function Y(ba,ha,ia,na,v){if(!(this instanceof Y))throw new TypeError("Cannot call a class as a function");
l(this,"privateKey",void 0);l(this,"publicKey",void 0);l(this,"cert",void 0);l(this,"crypto",void 0);l(this,"hash",void 0);this.privateKey=ba;this.publicKey=ha;this.cert=ia;this.crypto=na;this.hash=v}W(Y,[{key:"sign",value:function(){var ba=p(regeneratorRuntime.mark(function na(ia){var v,n,w,D,V,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return v=1<P.length&&void 0!==P[1]?P[1]:"https://www.batuz.eus/fitxategiak/batuz/ticketbai/sinadura_elektronikoaren_zehaztapenak_especificaciones_de_la_firma_electronica_v1_0.pdf",
n=2<P.length&&void 0!==P[2]?P[2]:"Quzn98x3PMbSHwbUzaj5f5KOpiH0u8bvmwbbbNkO9Es=",w=new H.b,D=B(this.crypto),V=this.cert.replace(/-----(BEGIN|END)[\w\d\s]+-----|[\r\n]/g,""),w.XmlSignature.KeyInfo.Id=D,O.next=8,w.Sign({name:"RSASSA-PKCS1-v1_5"},this.privateKey,A(ia),{keyValue:this.publicKey,references:[{hash:this.hash,uri:"",transforms:["enveloped"]},{hash:this.hash,uri:"#"+D}],policy:{identifier:{value:v},hash:{name:this.hash},digestValue:n},signingCertificate:V,x509:[V]});case 8:return O.abrupt("return",
'<?xml version="1.0" encoding="UTF-8"?>\n'+w.toString());case 9:case "end":return O.stop()}},na,this)}));return function(ia){return ba.apply(this,arguments)}}()}],[{key:"fromBuffer",value:function(){var ba=p(regeneratorRuntime.mark(function n(ia,na,v){var w,D,V,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=3<P.length&&void 0!==P[3]?P[3]:r(),D=4<P.length&&void 0!==P[4]?P[4]:"SHA-256",O.next=4,z(ia,na,v,w,D);case 4:return V=O.sent,O.abrupt("return",
new Y(V.privateKey,V.publicKey,V.cert,w,D));case 6:case "end":return O.stop()}},n)}));return function(ia,na,v){return ba.apply(this,arguments)}}()},{key:"fromFile",value:function(){var ba=p(regeneratorRuntime.mark(function n(ia,na,v){var w,D,V,P=arguments;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=3<P.length&&void 0!==P[3]?P[3]:r(),D=4<P.length&&void 0!==P[4]?P[4]:"SHA-256",O.next=4,c(ia);case 4:return V=O.sent,O.abrupt("return",Y.fromBuffer(V,na,v,w,D));
case 6:case "end":return O.stop()}},n)}));return function(ia,na,v){return ba.apply(this,arguments)}}()}]);return Y}()}).call(this,E(19))},function(R,G,E){R=function(u){function J(na,v,n){Object.defineProperty(na,v,{value:n,enumerable:!0,configurable:!0,writable:!0});return na[v]}function W(na,v,n,w){v=Object.create((v&&v.prototype instanceof h?v:h).prototype);w=new y(w||[]);v._invoke=z(na,n,w);return v}function l(na,v,n){try{return{type:"normal",arg:na.call(v,n)}}catch(w){return{type:"throw",arg:w}}}
function h(){}function p(){}function c(){}function f(na){["next","throw","return"].forEach(function(v){J(na,v,function(n){return this._invoke(v,n)})})}function r(na,v){function n(D,V,P,O){D=l(na[D],na,V);if("throw"===D.type)O(D.arg);else{var K=D.arg;return(D=K.value)&&"object"===typeof D&&k.call(D,"__await")?v.resolve(D.__await).then(function(qa){n("next",qa,P,O)},function(qa){n("throw",qa,P,O)}):v.resolve(D).then(function(qa){K.value=qa;P(K)},function(qa){return n("throw",qa,P,O)})}}var w;this._invoke=
function(D,V){function P(){return new v(function(O,K){n(D,V,O,K)})}return w=w?w.then(P,P):P()}}function z(na,v,n){var w=I;return function(D,V){if(w===Z)throw Error("Generator is already running");if(w===Y){if("throw"===D)throw V;return t()}n.method=D;for(n.arg=V;;){if(D=n.delegate)if(D=M(D,n)){if(D===ba)continue;return D}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(w===I)throw w=Y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);w=Z;D=
l(na,v,n);if("normal"===D.type){w=n.done?Y:Q;if(D.arg===ba)continue;return{value:D.arg,done:n.done}}"throw"===D.type&&(w=Y,n.method="throw",n.arg=D.arg)}}}function M(na,v){var n=na.iterator[v.method];if(n===e){v.delegate=null;if("throw"===v.method){if(na.iterator["return"]&&(v.method="return",v.arg=e,M(na,v),"throw"===v.method))return ba;v.method="throw";v.arg=new TypeError("The iterator does not provide a 'throw' method")}return ba}n=l(n,na.iterator,v.arg);if("throw"===n.type)return v.method="throw",
v.arg=n.arg,v.delegate=null,ba;n=n.arg;if(!n)return v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,ba;if(n.done)v[na.resultName]=n.value,v.next=na.nextLoc,"return"!==v.method&&(v.method="next",v.arg=e);else return n;v.delegate=null;return ba}function A(na){var v={tryLoc:na[0]};1 in na&&(v.catchLoc=na[1]);2 in na&&(v.finallyLoc=na[2],v.afterLoc=na[3]);this.tryEntries.push(v)}function F(na){var v=na.completion||{};v.type="normal";delete v.arg;na.completion=
v}function y(na){this.tryEntries=[{tryLoc:"root"}];na.forEach(A,this);this.reset(!0)}function B(na){if(na){var v=na[H];if(v)return v.call(na);if("function"===typeof na.next)return na;if(!isNaN(na.length)){var n=-1;v=function D(){for(;++n<na.length;)if(k.call(na,n))return D.value=na[n],D.done=!1,D;D.value=e;D.done=!0;return D};return v.next=v}}return{next:t}}function t(){return{value:e,done:!0}}var S=Object.prototype,k=S.hasOwnProperty,e,q="function"===typeof Symbol?Symbol:{},H=q.iterator||"@@iterator",
g=q.asyncIterator||"@@asyncIterator",x=q.toStringTag||"@@toStringTag";try{J({},"")}catch(na){J=function(v,n,w){return v[n]=w}}u.wrap=W;var I="suspendedStart",Q="suspendedYield",Z="executing",Y="completed",ba={};q={};q[H]=function(){return this};var ha=Object.getPrototypeOf;(ha=ha&&ha(ha(B([]))))&&ha!==S&&k.call(ha,H)&&(q=ha);var ia=c.prototype=h.prototype=Object.create(q);p.prototype=ia.constructor=c;c.constructor=p;p.displayName=J(c,x,"GeneratorFunction");u.isGeneratorFunction=function(na){return(na=
"function"===typeof na&&na.constructor)?na===p||"GeneratorFunction"===(na.displayName||na.name):!1};u.mark=function(na){Object.setPrototypeOf?Object.setPrototypeOf(na,c):(na.__proto__=c,J(na,x,"GeneratorFunction"));na.prototype=Object.create(ia);return na};u.awrap=function(na){return{__await:na}};f(r.prototype);r.prototype[g]=function(){return this};u.AsyncIterator=r;u.async=function(na,v,n,w,D){void 0===D&&(D=Promise);var V=new r(W(na,v,n,w),D);return u.isGeneratorFunction(v)?V:V.next().then(function(P){return P.done?
P.value:V.next()})};f(ia);J(ia,x,"Generator");ia[H]=function(){return this};ia.toString=function(){return"[object Generator]"};u.keys=function(na){var v=[],n;for(n in na)v.push(n);v.reverse();return function D(){for(;v.length;){var V=v.pop();if(V in na)return D.value=V,D.done=!1,D}D.done=!0;return D}};u.values=B;y.prototype={constructor:y,reset:function(na){this.next=this.prev=0;this.sent=this._sent=e;this.done=!1;this.delegate=null;this.method="next";this.arg=e;this.tryEntries.forEach(F);if(!na)for(var v in this)"t"===
v.charAt(0)&&k.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=e)},stop:function(){this.done=!0;var na=this.tryEntries[0].completion;if("throw"===na.type)throw na.arg;return this.rval},dispatchException:function(na){function v(K,qa){V.type="throw";V.arg=na;n.next=K;qa&&(n.method="next",n.arg=e);return!!qa}if(this.done)throw na;for(var n=this,w=this.tryEntries.length-1;0<=w;--w){var D=this.tryEntries[w],V=D.completion;if("root"===D.tryLoc)return v("end");if(D.tryLoc<=this.prev){var P=k.call(D,"catchLoc"),
O=k.call(D,"finallyLoc");if(P&&O){if(this.prev<D.catchLoc)return v(D.catchLoc,!0);if(this.prev<D.finallyLoc)return v(D.finallyLoc)}else if(P){if(this.prev<D.catchLoc)return v(D.catchLoc,!0)}else if(O){if(this.prev<D.finallyLoc)return v(D.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(na,v){for(var n=this.tryEntries.length-1;0<=n;--n){var w=this.tryEntries[n];if(w.tryLoc<=this.prev&&k.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var D=w;break}}D&&("break"===
na||"continue"===na)&&D.tryLoc<=v&&v<=D.finallyLoc&&(D=null);n=D?D.completion:{};n.type=na;n.arg=v;return D?(this.method="next",this.next=D.finallyLoc,ba):this.complete(n)},complete:function(na,v){if("throw"===na.type)throw na.arg;"break"===na.type||"continue"===na.type?this.next=na.arg:"return"===na.type?(this.rval=this.arg=na.arg,this.method="return",this.next="end"):"normal"===na.type&&v&&(this.next=v);return ba},finish:function(na){for(var v=this.tryEntries.length-1;0<=v;--v){var n=this.tryEntries[v];
if(n.finallyLoc===na)return this.complete(n.completion,n.afterLoc),F(n),ba}},"catch":function(na){for(var v=this.tryEntries.length-1;0<=v;--v){var n=this.tryEntries[v];if(n.tryLoc===na){na=n.completion;if("throw"===na.type){var w=na.arg;F(n)}return w}}throw Error("illegal catch attempt");},delegateYield:function(na,v,n){this.delegate={iterator:B(na),resultName:v,nextLoc:n};"next"===this.method&&(this.arg=e);return ba}};return u}(R.exports);try{regeneratorRuntime=R}catch(u){Function("r","regeneratorRuntime = r")(R)}},
function(R,G){function E(ca,ka){for(var ra in ca)ka[ra]=ca[ra]}function u(ca,ka){var ra=ca.prototype;if(!(ra instanceof ka)){var Aa=function(){};Aa.prototype=ka.prototype;Aa=new Aa;E(ra,Aa);ca.prototype=ra=Aa}ra.constructor!=ca&&("function"!=typeof ca&&console.error("unknow Class:"+ca),ra.constructor=ca)}function J(ca,ka){if(ka instanceof Error)var ra=ka;else ra=this,Error.call(this,za[ca]),this.message=za[ca],Error.captureStackTrace&&Error.captureStackTrace(this,J);ra.code=ca;ka&&(this.message=this.message+
": "+ka);return ra}function W(){}function l(ca,ka){this._node=ca;this._refresh=ka;h(this)}function h(ca){var ka=ca._node._inc||ca._node.ownerDocument._inc;if(ca._inc!=ka){var ra=ca._refresh(ca._node);P(ca,"length",ra.length);E(ra,ca);ca._inc=ka}}function p(){}function c(ca,ka){for(var ra=ca.length;ra--;)if(ca[ra]===ka)return ra}function f(ca,ka,ra,Aa){Aa?ka[c(ka,Aa)]=ra:ka[ka.length++]=ra;ca&&(ra.ownerElement=ca,ka=ca.ownerDocument)&&(Aa&&B(ka,ca,Aa),ka&&ka._inc++,"http://www.w3.org/2000/xmlns/"==
ra.namespaceURI&&(ca._nsMap[ra.prefix?ra.localName:""]=ra.value))}function r(ca,ka,ra){var Aa=c(ka,ra);if(0<=Aa){for(var La=ka.length-1;Aa<La;)ka[Aa]=ka[++Aa];ka.length=La;ca&&(ka=ca.ownerDocument)&&(B(ka,ca,ra),ra.ownerElement=null)}else throw J(Ta,Error(ca.tagName+"@"+ra));}function z(ca){this._features={};if(ca)for(var ka in ca)this._features=ca[ka]}function M(){}function A(ca){return"<"==ca&&"&lt;"||">"==ca&&"&gt;"||"&"==ca&&"&amp;"||'"'==ca&&"&quot;"||"&#"+ca.charCodeAt()+";"}function F(ca,ka){if(ka(ca))return!0;
if(ca=ca.firstChild){do if(F(ca,ka))return!0;while(ca=ca.nextSibling)}}function y(){}function B(ca,ka,ra,Aa){ca&&ca._inc++;"http://www.w3.org/2000/xmlns/"==ra.namespaceURI&&delete ka._nsMap[ra.prefix?ra.localName:""]}function t(ca,ka,ra){if(ca&&ca._inc)if(ca._inc++,ca=ka.childNodes,ra)ca[ca.length++]=ra;else{ka=ka.firstChild;for(ra=0;ka;)ca[ra++]=ka,ka=ka.nextSibling;ca.length=ra}}function S(ca,ka){var ra=ka.previousSibling,Aa=ka.nextSibling;ra?ra.nextSibling=Aa:ca.firstChild=Aa;Aa?Aa.previousSibling=
ra:ca.lastChild=ra;t(ca.ownerDocument,ca);return ka}function k(ca,ka,ra){var Aa=ka.parentNode;Aa&&Aa.removeChild(ka);if(ka.nodeType===fa){Aa=ka.firstChild;if(null==Aa)return ka;var La=ka.lastChild}else Aa=La=ka;var Ua=ra?ra.previousSibling:ca.lastChild;Aa.previousSibling=Ua;La.nextSibling=ra;Ua?Ua.nextSibling=Aa:ca.firstChild=Aa;null==ra?ca.lastChild=La:ra.previousSibling=La;do Aa.parentNode=ca;while(Aa!==La&&(Aa=Aa.nextSibling));t(ca.ownerDocument||ca,ca);ka.nodeType==fa&&(ka.firstChild=ka.lastChild=
null);return ka}function e(){this._nsMap={}}function q(){}function H(){}function g(){}function x(){}function I(){}function Q(){}function Z(){}function Y(){}function ba(){}function ha(){}function ia(){}function na(){}function v(ca,ka){var ra=[],Aa=9==this.nodeType&&this.documentElement||this,La=Aa.prefix,Ua=Aa.namespaceURI;if(Ua&&null==La&&(La=Aa.lookupPrefix(Ua),null==La))var Ra=[{namespace:Ua,prefix:null}];w(this,ra,ca,ka,Ra);return ra.join("")}function n(ca,ka,ra){ka=ca.prefix||"";ca=ca.namespaceURI;
if(!ka&&!ca||"xml"===ka&&"http://www.w3.org/XML/1998/namespace"===ca||"http://www.w3.org/2000/xmlns/"==ca)return!1;for(var Aa=ra.length;Aa--;){var La=ra[Aa];if(La.prefix==ka)return La.namespace!=ca}return!0}function w(ca,ka,ra,Aa,La){if(Aa)if(ca=Aa(ca)){if("string"==typeof ca){ka.push(ca);return}}else return;switch(ca.nodeType){case O:La||(La=[]);var Ua=ca.attributes,Ra=Ua.length,Ia=ca.firstChild,Ha=ca.tagName;ra="http://www.w3.org/1999/xhtml"===ca.namespaceURI||ra;ka.push("<",Ha);for(var Va=0;Va<
Ra;Va++){var Pa=Ua.item(Va);"xmlns"==Pa.prefix?La.push({prefix:Pa.localName,namespace:Pa.value}):"xmlns"==Pa.nodeName&&La.push({prefix:"",namespace:Pa.value})}for(Va=0;Va<Ra;Va++){Pa=Ua.item(Va);if(n(Pa,ra,La)){var d=Pa.prefix||"",T=Pa.namespaceURI;ka.push(d?" xmlns:"+d:" xmlns",'="',T,'"');La.push({prefix:d,namespace:T})}w(Pa,ka,ra,Aa,La)}n(ca,ra,La)&&(d=ca.prefix||"",T=ca.namespaceURI,ka.push(d?" xmlns:"+d:" xmlns",'="',T,'"'),La.push({prefix:d,namespace:T}));if(Ia||ra&&!/^(?:meta|link|img|br|hr|input)$/i.test(Ha)){ka.push(">");
if(ra&&/^script$/i.test(Ha))for(;Ia;)Ia.data?ka.push(Ia.data):w(Ia,ka,ra,Aa,La),Ia=Ia.nextSibling;else for(;Ia;)w(Ia,ka,ra,Aa,La),Ia=Ia.nextSibling;ka.push("</",Ha,">")}else ka.push("/>");break;case N:case fa:for(Ia=ca.firstChild;Ia;)w(Ia,ka,ra,Aa,La),Ia=Ia.nextSibling;break;case K:return ka.push(" ",ca.name,'="',ca.value.replace(/[<&"]/g,A),'"');case qa:return ka.push(ca.data.replace(/[<&]/g,A));case ya:return ka.push("<![CDATA[",ca.data,"]]\x3e");case b:return ka.push("\x3c!--",ca.data,"--\x3e");
case ja:ra=ca.publicId;Aa=ca.systemId;ka.push("<!DOCTYPE ",ca.name);ra?(ka.push(' PUBLIC "',ra),Aa&&"."!=Aa&&ka.push('" "',Aa),ka.push('">')):Aa&&"."!=Aa?ka.push(' SYSTEM "',Aa,'">'):((ca=ca.internalSubset)&&ka.push(" [",ca,"]"),ka.push(">"));break;case ea:return ka.push("<?",ca.target," ",ca.data,"?>");case xa:return ka.push("&",ca.nodeName,";");default:ka.push("??",ca.nodeName)}}function D(ca,ka,ra){switch(ka.nodeType){case O:var Aa=ka.cloneNode(!1);Aa.ownerDocument=ca;case fa:break;case K:ra=!0}Aa||
(Aa=ka.cloneNode(!1));Aa.ownerDocument=ca;Aa.parentNode=null;if(ra)for(ka=ka.firstChild;ka;)Aa.appendChild(D(ca,ka,ra)),ka=ka.nextSibling;return Aa}function V(ca,ka,ra){var Aa=new ka.constructor;for(Ua in ka){var La=ka[Ua];"object"!=typeof La&&La!=Aa[Ua]&&(Aa[Ua]=La)}ka.childNodes&&(Aa.childNodes=new W);Aa.ownerDocument=ca;switch(Aa.nodeType){case O:var Ua=ka.attributes;var Ra=Aa.attributes=new p;La=Ua.length;Ra._ownerElement=Aa;for(Ra=0;Ra<La;Ra++)Aa.setAttributeNode(V(ca,Ua.item(Ra),!0));break;
case K:ra=!0}if(ra)for(ka=ka.firstChild;ka;)Aa.appendChild(V(ca,ka,ra)),ka=ka.nextSibling;return Aa}function P(ca,ka,ra){ca[ka]=ra}R={};var O=R.ELEMENT_NODE=1,K=R.ATTRIBUTE_NODE=2,qa=R.TEXT_NODE=3,ya=R.CDATA_SECTION_NODE=4,xa=R.ENTITY_REFERENCE_NODE=5,Da=R.ENTITY_NODE=6,ea=R.PROCESSING_INSTRUCTION_NODE=7,b=R.COMMENT_NODE=8,N=R.DOCUMENT_NODE=9,ja=R.DOCUMENT_TYPE_NODE=10,fa=R.DOCUMENT_FRAGMENT_NODE=11,ma=R.NOTATION_NODE=12,ta={},za={};ta.INDEX_SIZE_ERR=(za[1]="Index size error",1);ta.DOMSTRING_SIZE_ERR=
(za[2]="DOMString size error",2);var Ga=ta.HIERARCHY_REQUEST_ERR=(za[3]="Hierarchy request error",3);ta.WRONG_DOCUMENT_ERR=(za[4]="Wrong document",4);ta.INVALID_CHARACTER_ERR=(za[5]="Invalid character",5);ta.NO_DATA_ALLOWED_ERR=(za[6]="No data allowed",6);ta.NO_MODIFICATION_ALLOWED_ERR=(za[7]="No modification allowed",7);var Ta=ta.NOT_FOUND_ERR=(za[8]="Not found",8);ta.NOT_SUPPORTED_ERR=(za[9]="Not supported",9);var Fa=ta.INUSE_ATTRIBUTE_ERR=(za[10]="Attribute in use",10);ta.INVALID_STATE_ERR=(za[11]=
"Invalid state",11);ta.SYNTAX_ERR=(za[12]="Syntax error",12);ta.INVALID_MODIFICATION_ERR=(za[13]="Invalid modification",13);ta.NAMESPACE_ERR=(za[14]="Invalid namespace",14);ta.INVALID_ACCESS_ERR=(za[15]="Invalid access",15);J.prototype=Error.prototype;E(ta,J);W.prototype={length:0,item:function(ca){return this[ca]||null},toString:function(ca,ka){for(var ra=[],Aa=0;Aa<this.length;Aa++)w(this[Aa],ra,ca,ka);return ra.join("")}};l.prototype.item=function(ca){h(this);return this[ca]};u(l,W);p.prototype=
{length:0,item:W.prototype.item,getNamedItem:function(ca){for(var ka=this.length;ka--;){var ra=this[ka];if(ra.nodeName==ca)return ra}},setNamedItem:function(ca){var ka=ca.ownerElement;if(ka&&ka!=this._ownerElement)throw new J(Fa);ka=this.getNamedItem(ca.nodeName);f(this._ownerElement,this,ca,ka);return ka},setNamedItemNS:function(ca){var ka=ca.ownerElement;if(ka&&ka!=this._ownerElement)throw new J(Fa);ka=this.getNamedItemNS(ca.namespaceURI,ca.localName);f(this._ownerElement,this,ca,ka);return ka},
removeNamedItem:function(ca){ca=this.getNamedItem(ca);r(this._ownerElement,this,ca);return ca},removeNamedItemNS:function(ca,ka){ca=this.getNamedItemNS(ca,ka);r(this._ownerElement,this,ca);return ca},getNamedItemNS:function(ca,ka){for(var ra=this.length;ra--;){var Aa=this[ra];if(Aa.localName==ka&&Aa.namespaceURI==ca)return Aa}return null}};z.prototype={hasFeature:function(ca,ka){return(ca=this._features[ca.toLowerCase()])&&(!ka||ka in ca)?!0:!1},createDocument:function(ca,ka,ra){var Aa=new y;Aa.implementation=
this;Aa.childNodes=new W;(Aa.doctype=ra)&&Aa.appendChild(ra);ka&&(ca=Aa.createElementNS(ca,ka),Aa.appendChild(ca));return Aa},createDocumentType:function(ca,ka,ra){var Aa=new Q;Aa.name=ca;Aa.nodeName=ca;Aa.publicId=ka;Aa.systemId=ra;return Aa}};M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(ca,ka){return k(this,ca,ka)},
replaceChild:function(ca,ka){this.insertBefore(ca,ka);ka&&this.removeChild(ka)},removeChild:function(ca){return S(this,ca)},appendChild:function(ca){return this.insertBefore(ca,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(ca){return V(this.ownerDocument||this,this,ca)},normalize:function(){for(var ca=this.firstChild;ca;){var ka=ca.nextSibling;ka&&ka.nodeType==qa&&ca.nodeType==qa?(this.removeChild(ka),ca.appendData(ka.data)):(ca.normalize(),ca=ka)}},isSupported:function(ca,
ka){return this.ownerDocument.implementation.hasFeature(ca,ka)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(ca){for(var ka=this;ka;){var ra=ka._nsMap;if(ra)for(var Aa in ra)if(ra[Aa]==ca)return Aa;ka=ka.nodeType==K?ka.ownerDocument:ka.parentNode}return null},lookupNamespaceURI:function(ca){for(var ka=this;ka;){var ra=ka._nsMap;if(ra&&ca in ra)return ra[ca];ka=ka.nodeType==K?ka.ownerDocument:ka.parentNode}return null},isDefaultNamespace:function(ca){return null==
this.lookupPrefix(ca)}};E(R,M);E(R,M.prototype);y.prototype={nodeName:"#document",nodeType:N,doctype:null,documentElement:null,_inc:1,insertBefore:function(ca,ka){if(ca.nodeType==fa){for(var ra=ca.firstChild;ra;){var Aa=ra.nextSibling;this.insertBefore(ra,ka);ra=Aa}return ca}null==this.documentElement&&ca.nodeType==O&&(this.documentElement=ca);return k(this,ca,ka),ca.ownerDocument=this,ca},removeChild:function(ca){this.documentElement==ca&&(this.documentElement=null);return S(this,ca)},importNode:function(ca,
ka){return D(this,ca,ka)},getElementById:function(ca){var ka=null;F(this.documentElement,function(ra){if(ra.nodeType==O&&ra.getAttribute("id")==ca)return ka=ra,!0});return ka},getElementsByClassName:function(ca){var ka=new RegExp("(^|\\s)"+ca+"(\\s|$)");return new l(this,function(ra){var Aa=[];F(ra.documentElement,function(La){La!==ra&&La.nodeType==O&&ka.test(La.getAttribute("class"))&&Aa.push(La)});return Aa})},createElement:function(ca){var ka=new e;ka.ownerDocument=this;ka.nodeName=ca;ka.tagName=
ca;ka.childNodes=new W;return(ka.attributes=new p)._ownerElement=ka},createDocumentFragment:function(){var ca=new ha;ca.ownerDocument=this;ca.childNodes=new W;return ca},createTextNode:function(ca){var ka=new g;ka.ownerDocument=this;ka.appendData(ca);return ka},createComment:function(ca){var ka=new x;ka.ownerDocument=this;ka.appendData(ca);return ka},createCDATASection:function(ca){var ka=new I;ka.ownerDocument=this;ka.appendData(ca);return ka},createProcessingInstruction:function(ca,ka){var ra=new ia;
ra.ownerDocument=this;ra.tagName=ra.target=ca;ra.nodeValue=ra.data=ka;return ra},createAttribute:function(ca){var ka=new q;ka.ownerDocument=this;ka.name=ca;ka.nodeName=ca;ka.localName=ca;ka.specified=!0;return ka},createEntityReference:function(ca){var ka=new ba;ka.ownerDocument=this;ka.nodeName=ca;return ka},createElementNS:function(ca,ka){var ra=new e,Aa=ka.split(":"),La=ra.attributes=new p;ra.childNodes=new W;ra.ownerDocument=this;ra.nodeName=ka;ra.tagName=ka;ra.namespaceURI=ca;2==Aa.length?(ra.prefix=
Aa[0],ra.localName=Aa[1]):ra.localName=ka;return La._ownerElement=ra},createAttributeNS:function(ca,ka){var ra=new q,Aa=ka.split(":");ra.ownerDocument=this;ra.nodeName=ka;ra.name=ka;ra.namespaceURI=ca;ra.specified=!0;2==Aa.length?(ra.prefix=Aa[0],ra.localName=Aa[1]):ra.localName=ka;return ra}};u(y,M);e.prototype={nodeType:O,hasAttribute:function(ca){return null!=this.getAttributeNode(ca)},getAttribute:function(ca){return(ca=this.getAttributeNode(ca))&&ca.value||""},getAttributeNode:function(ca){return this.attributes.getNamedItem(ca)},
setAttribute:function(ca,ka){ca=this.ownerDocument.createAttribute(ca);ca.value=ca.nodeValue=""+ka;this.setAttributeNode(ca)},removeAttribute:function(ca){(ca=this.getAttributeNode(ca))&&this.removeAttributeNode(ca)},appendChild:function(ca){if(ca.nodeType===fa)return this.insertBefore(ca,null);var ka=ca.parentNode;ka&&ka.removeChild(ca);ka=this.lastChild;ca.parentNode=this;ca.previousSibling=ka;ca.nextSibling=null;ka?ka.nextSibling=ca:this.firstChild=ca;this.lastChild=ca;t(this.ownerDocument,this,
ca);return ca},setAttributeNode:function(ca){return this.attributes.setNamedItem(ca)},setAttributeNodeNS:function(ca){return this.attributes.setNamedItemNS(ca)},removeAttributeNode:function(ca){return this.attributes.removeNamedItem(ca.nodeName)},removeAttributeNS:function(ca,ka){(ca=this.getAttributeNodeNS(ca,ka))&&this.removeAttributeNode(ca)},hasAttributeNS:function(ca,ka){return null!=this.getAttributeNodeNS(ca,ka)},getAttributeNS:function(ca,ka){return(ca=this.getAttributeNodeNS(ca,ka))&&ca.value||
""},setAttributeNS:function(ca,ka,ra){ca=this.ownerDocument.createAttributeNS(ca,ka);ca.value=ca.nodeValue=""+ra;this.setAttributeNode(ca)},getAttributeNodeNS:function(ca,ka){return this.attributes.getNamedItemNS(ca,ka)},getElementsByTagName:function(ca){return new l(this,function(ka){var ra=[];F(ka,function(Aa){Aa===ka||Aa.nodeType!=O||"*"!==ca&&Aa.tagName!=ca||ra.push(Aa)});return ra})},getElementsByTagNameNS:function(ca,ka){return new l(this,function(ra){var Aa=[];F(ra,function(La){La===ra||La.nodeType!==
O||"*"!==ca&&La.namespaceURI!==ca||"*"!==ka&&La.localName!=ka||Aa.push(La)});return Aa})}};y.prototype.getElementsByTagName=e.prototype.getElementsByTagName;y.prototype.getElementsByTagNameNS=e.prototype.getElementsByTagNameNS;u(e,M);q.prototype.nodeType=K;u(q,M);H.prototype={data:"",substringData:function(ca,ka){return this.data.substring(ca,ca+ka)},appendData:function(ca){this.nodeValue=this.data=ca=this.data+ca;this.length=ca.length},insertData:function(ca,ka){this.replaceData(ca,0,ka)},appendChild:function(ca){throw Error(za[Ga]);
},deleteData:function(ca,ka){this.replaceData(ca,ka,"")},replaceData:function(ca,ka,ra){var Aa=this.data.substring(0,ca);ca=this.data.substring(ca+ka);this.nodeValue=this.data=ra=Aa+ra+ca;this.length=ra.length}};u(H,M);g.prototype={nodeName:"#text",nodeType:qa,splitText:function(ca){var ka=this.data,ra=ka.substring(ca);this.data=this.nodeValue=ka=ka.substring(0,ca);this.length=ka.length;ca=this.ownerDocument.createTextNode(ra);this.parentNode&&this.parentNode.insertBefore(ca,this.nextSibling);return ca}};
u(g,H);x.prototype={nodeName:"#comment",nodeType:b};u(x,H);I.prototype={nodeName:"#cdata-section",nodeType:ya};u(I,H);Q.prototype.nodeType=ja;u(Q,M);Z.prototype.nodeType=ma;u(Z,M);Y.prototype.nodeType=Da;u(Y,M);ba.prototype.nodeType=xa;u(ba,M);ha.prototype.nodeName="#document-fragment";ha.prototype.nodeType=fa;u(ha,M);ia.prototype.nodeType=ea;u(ia,M);na.prototype.serializeToString=function(ca,ka,ra){return v.call(ca,ka,ra)};M.prototype.toString=v;try{if(Object.defineProperty){var Ka=function(ca){switch(ca.nodeType){case O:case fa:var ka=
[];for(ca=ca.firstChild;ca;)7!==ca.nodeType&&8!==ca.nodeType&&ka.push(Ka(ca)),ca=ca.nextSibling;return ka.join("");default:return ca.nodeValue}};Object.defineProperty(l.prototype,"length",{get:function(){h(this);return this.$$length}});Object.defineProperty(M.prototype,"textContent",{get:function(){return Ka(this)},set:function(ca){switch(this.nodeType){case O:case fa:for(;this.firstChild;)this.removeChild(this.firstChild);(ca||String(ca))&&this.appendChild(this.ownerDocument.createTextNode(ca));
break;default:this.nodeValue=this.value=this.data=ca}}});P=function(ca,ka,ra){ca["$$"+ka]=ra}}}catch(ca){}G.Node=M;G.DOMImplementation=z;G.XMLSerializer=na},function(R,G,E){(function(u){function J(d){var T=Array.prototype.slice,da=d.length,va=function(m,U){return function(){return U.apply(this,m.concat(T.call(arguments)))}},oa=function(){var m=T.call(arguments);return m.length<da?va(m,oa):d.apply(this,T.apply(arguments,[0,da]))};return oa}function W(){if(0===arguments.length)throw Error("compose requires at least one argument");
var d=Array.prototype.slice.call(arguments).reverse(),T=d[0],da=d.slice(1);return function(){return ta(function(va,oa){return oa(va)},T.apply(null,arguments),da)}}function l(d){return function(){return d}}function h(d){return d.toString()}function p(d){for(var T=Object(d),da=1;da<arguments.length;da++){var va=arguments[da];if(null!=va)for(var oa in va)Object.prototype.hasOwnProperty.call(va,oa)&&(T[oa]=va[oa])}return T}function c(){this.init()}function f(d){this.expression=d}function r(){}function z(d){0<
arguments.length&&this.init(d)}function M(d){0<arguments.length&&this.init(d)}function A(d,T){0<arguments.length&&this.init(d,T)}function F(d,T){0<arguments.length&&this.init(d,T)}function y(d,T){0<arguments.length&&this.init(d,T)}function B(d,T){0<arguments.length&&this.init(d,T)}function t(d,T){0<arguments.length&&this.init(d,T)}function S(d,T){0<arguments.length&&this.init(d,T)}function k(d,T){0<arguments.length&&this.init(d,T)}function e(d,T){0<arguments.length&&this.init(d,T)}function q(d,T){0<
arguments.length&&this.init(d,T)}function H(d,T){0<arguments.length&&this.init(d,T)}function g(d,T){0<arguments.length&&this.init(d,T)}function x(d,T){0<arguments.length&&this.init(d,T)}function I(d,T){0<arguments.length&&this.init(d,T)}function Q(d,T){0<arguments.length&&this.init(d,T)}function Z(d,T){0<arguments.length&&this.init(d,T)}function Y(d,T,da){0<arguments.length&&this.init(d,T,da)}function ba(d,T){0<arguments.length&&this.init(d,T)}function ha(d,T,da){0<arguments.length&&this.init(d,T,
da)}function ia(d,T){0<arguments.length&&this.init(d,T)}function na(d){0<arguments.length&&this.init(d)}function v(d,T){0<arguments.length&&this.init(d,T)}function n(d){0<arguments.length&&this.init(d)}function w(d){0<arguments.length&&this.init(d)}function D(d){0<arguments.length&&this.init(d)}function V(d){this.init(d)}function P(d,T){if(d===T)return 0;if(d.compareDocumentPosition)return d=d.compareDocumentPosition(T),d&1||d&10?1:d&20?-1:0;for(var da=0,va=0,oa=d;null!=oa;oa=oa.parentNode||oa.ownerElement)da++;
for(oa=T;null!=oa;oa=oa.parentNode||oa.ownerElement)va++;if(da>va){for(;da>va;)d=d.parentNode||d.ownerElement,da--;if(d===T)return 1}else if(va>da){for(;va>da;)T=T.parentNode||T.ownerElement,va--;if(d===T)return-1}da=d.parentNode||d.ownerElement;for(va=T.parentNode||T.ownerElement;da!==va;)d=da,T=va,da=d.parentNode||d.ownerElement,va=T.parentNode||T.ownerElement;va=Ha.isAttribute(d);oa=Ha.isAttribute(T);if(va&&!oa)return-1;if(!va&&oa)return 1;if(da)for(da=va?da.attributes:da.childNodes,va=da.length,
oa=0;oa<va;oa+=1){var m=da[oa];if(m===d)return-1;if(m===T)return 1}throw Error("Unexpected: could not determine node order");}function O(){this.init()}function K(d,T,da){this.isXPathNamespace=!0;this.ownerDocument=da.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=d;this.nodeValue=this.namespaceURI=T;this.ownerElement=da;this.nodeType=K.XPATH_NAMESPACE_NODE}function qa(d,T,da){this.variableResolver=null!=d?d:new ya;this.namespaceResolver=null!=T?T:new Da;this.functionResolver=
null!=da?da:new xa}function ya(){}function xa(d){this.thisArg=null!=d?d:Ia;this.functions={};this.addStandardFunctions()}function Da(){}function ea(d,T,da){this.xpath=da.parse(d);this.context=new qa;this.context.namespaceResolver=new b(T)}function b(d){this.xpathNSResolver=d}function N(d){this.node=d;this.namespaceResolver=new Da}function ja(d,T){T==ja.ANY_TYPE&&(d.constructor===n?T=ja.STRING_TYPE:d.constructor===w?T=ja.NUMBER_TYPE:d.constructor===D?T=ja.BOOLEAN_TYPE:d.constructor===O&&(T=ja.UNORDERED_NODE_ITERATOR_TYPE));
this.resultType=T;switch(T){case ja.NUMBER_TYPE:this.numberValue=d.numberValue();return;case ja.STRING_TYPE:this.stringValue=d.stringValue();return;case ja.BOOLEAN_TYPE:this.booleanValue=d.booleanValue();return;case ja.ANY_UNORDERED_NODE_TYPE:case ja.FIRST_ORDERED_NODE_TYPE:if(d.constructor===O){this.singleNodeValue=d.first();return}break;case ja.UNORDERED_NODE_ITERATOR_TYPE:case ja.ORDERED_NODE_ITERATOR_TYPE:if(d.constructor===O){this.invalidIteratorState=!1;this.nodes=d.toArray();this.iteratorIndex=
0;return}break;case ja.UNORDERED_NODE_SNAPSHOT_TYPE:case ja.ORDERED_NODE_SNAPSHOT_TYPE:if(d.constructor===O){this.nodes=d.toArray();this.snapshotLength=this.nodes.length;return}}throw new Va(Va.TYPE_ERR);}function fa(d,T){d.createExpression=function(da,va){try{return new ea(da,va,T)}catch(oa){throw new Va(Va.INVALID_EXPRESSION_ERR,oa);}};d.createNSResolver=function(da){return new N(da)};d.evaluate=function(da,va,oa,m,U){if(0>m||9<m)throw{code:0,toString:function(){return"Request type not supported"}};
return d.createExpression(da,oa,T).evaluate(va,m,U)}}var ma=J(function(d,T){for(var da=0;da<T.length;da+=1)d(T[da],da,T)}),ta=J(function(d,T,da){var va=T;ma(function(oa,m){va=d(va,oa,m)},da);return va}),za=J(function(d,T){var da=Array(T.length);ma(function(va,oa){da[oa]=d(va)},T);return da}),Ga=J(function(d,T){var da=[];ma(function(va,oa){d(va,oa)&&da.push(va)},T);return da}),Ta=J(function(d,T){for(var da=0;da<d.length;da+=1)if(d[da]===T)return!0;return!1}),Fa=J(function(d,T){return T[d]}),Ka=J(function(d,
T){return T.join(d)}),ca=J(function(d,T,da){return d+da+T});c.prototype={};c.prototype.constructor=c;c.superclass=Object.prototype;c.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=function(d){return new F(d[0],d[2])};this.reduceActions[5]=function(d){return new y(d[0],d[2])};this.reduceActions[7]=function(d){return new B(d[0],d[2])};this.reduceActions[8]=function(d){return new t(d[0],d[2])};this.reduceActions[10]=function(d){return new S(d[0],d[2])};this.reduceActions[11]=function(d){return new k(d[0],
d[2])};this.reduceActions[12]=function(d){return new e(d[0],d[2])};this.reduceActions[13]=function(d){return new q(d[0],d[2])};this.reduceActions[15]=function(d){return new H(d[0],d[2])};this.reduceActions[16]=function(d){return new g(d[0],d[2])};this.reduceActions[18]=function(d){return new x(d[0],d[2])};this.reduceActions[19]=function(d){return new I(d[0],d[2])};this.reduceActions[20]=function(d){return new Q(d[0],d[2])};this.reduceActions[22]=function(d){return new M(d[1])};this.reduceActions[24]=
function(d){return new Z(d[0],d[2])};this.reduceActions[25]=function(d){return new Y(void 0,void 0,d[0])};this.reduceActions[27]=function(d){d[0].locationPath=d[2];return d[0]};this.reduceActions[28]=function(d){d[0].locationPath=d[2];d[0].locationPath.steps.unshift(new ha(ha.DESCENDANTORSELF,ia.nodeTest,[]));return d[0]};this.reduceActions[29]=function(d){return new Y(d[0],[],void 0)};this.reduceActions[30]=function(d){return Ha.instance_of(d[0],Y)?(void 0==d[0].filterPredicates&&(d[0].filterPredicates=
[]),d[0].filterPredicates.push(d[1]),d[0]):new Y(d[0],[d[1]],void 0)};this.reduceActions[32]=function(d){return d[1]};this.reduceActions[33]=function(d){return new n(d[0])};this.reduceActions[34]=function(d){return new w(d[0])};this.reduceActions[36]=function(d){return new v(d[0],[])};this.reduceActions[37]=function(d){return new v(d[0],d[2])};this.reduceActions[38]=function(d){return[d[0]]};this.reduceActions[39]=function(d){d[2].unshift(d[0]);return d[2]};this.reduceActions[43]=function(d){return new ba(!0,
[])};this.reduceActions[44]=function(d){d[1].absolute=!0;return d[1]};this.reduceActions[46]=function(d){return new ba(!1,[d[0]])};this.reduceActions[47]=function(d){d[0].steps.push(d[2]);return d[0]};this.reduceActions[49]=function(d){return new ha(d[0],d[1],[])};this.reduceActions[50]=function(d){return new ha(ha.CHILD,d[0],[])};this.reduceActions[51]=function(d){return new ha(d[0],d[1],d[2])};this.reduceActions[52]=function(d){return new ha(ha.CHILD,d[0],d[1])};this.reduceActions[54]=function(d){return[d[0]]};
this.reduceActions[55]=function(d){d[1].unshift(d[0]);return d[1]};this.reduceActions[56]=function(d){return"ancestor"==d[0]?ha.ANCESTOR:"ancestor-or-self"==d[0]?ha.ANCESTORORSELF:"attribute"==d[0]?ha.ATTRIBUTE:"child"==d[0]?ha.CHILD:"descendant"==d[0]?ha.DESCENDANT:"descendant-or-self"==d[0]?ha.DESCENDANTORSELF:"following"==d[0]?ha.FOLLOWING:"following-sibling"==d[0]?ha.FOLLOWINGSIBLING:"namespace"==d[0]?ha.NAMESPACE:"parent"==d[0]?ha.PARENT:"preceding"==d[0]?ha.PRECEDING:"preceding-sibling"==d[0]?
ha.PRECEDINGSIBLING:"self"==d[0]?ha.SELF:-1};this.reduceActions[57]=function(d){return ha.ATTRIBUTE};this.reduceActions[59]=function(d){return"comment"==d[0]?ia.commentTest:"text"==d[0]?ia.textTest:"processing-instruction"==d[0]?ia.anyPiTest:"node"==d[0]?ia.nodeTest:new ia(-1,void 0)};this.reduceActions[60]=function(d){return new ia.PITest(d[2])};this.reduceActions[61]=function(d){return d[1]};this.reduceActions[63]=function(d){d[1].absolute=!0;d[1].steps.unshift(new ha(ha.DESCENDANTORSELF,ia.nodeTest,
[]));return d[1]};this.reduceActions[64]=function(d){d[0].steps.push(new ha(ha.DESCENDANTORSELF,ia.nodeTest,[]));d[0].steps.push(d[2]);return d[0]};this.reduceActions[65]=function(d){return new ha(ha.SELF,ia.nodeTest,[])};this.reduceActions[66]=function(d){return new ha(ha.PARENT,ia.nodeTest,[])};this.reduceActions[67]=function(d){return new na(d[1])};this.reduceActions[68]=function(d){return ia.nameTestAny};this.reduceActions[69]=function(d){return new ia.NameTestPrefixAny(d[0].split(":")[0])};this.reduceActions[70]=
function(d){return new ia.NameTestQName(d[0])}};c.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
c.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
c.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
c.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];c.DOUBLEDOT=2;c.DOUBLECOLON=3;c.DOUBLESLASH=4;c.NOTEQUAL=5;c.LESSTHANOREQUAL=6;c.GREATERTHANOREQUAL=7;c.AND=
8;c.OR=9;c.MOD=10;c.DIV=11;c.MULTIPLYOPERATOR=12;c.FUNCTIONNAME=13;c.AXISNAME=14;c.LITERAL=15;c.NUMBER=16;c.ASTERISKNAMETEST=17;c.QNAME=18;c.NCNAMECOLONASTERISK=19;c.NODETYPE=20;c.PROCESSINGINSTRUCTIONWITHLITERAL=21;c.EQUALS=22;c.LESSTHAN=23;c.GREATERTHAN=24;c.PLUS=25;c.MINUS=26;c.BAR=27;c.SLASH=28;c.LEFTPARENTHESIS=29;c.RIGHTPARENTHESIS=30;c.COMMA=31;c.AT=32;c.LEFTBRACKET=33;c.RIGHTBRACKET=34;c.DOT=35;c.DOLLAR=36;c.prototype.tokenize=function(d){var T=[],da=[];d+="\x00";for(var va=0,oa=d.charAt(va++);;){for(;" "==
oa||"\t"==oa||"\r"==oa||"\n"==oa;)oa=d.charAt(va++);if("\x00"==oa||va>=d.length)break;if("("==oa)T.push(c.LEFTPARENTHESIS),da.push(oa),oa=d.charAt(va++);else if(")"==oa)T.push(c.RIGHTPARENTHESIS),da.push(oa),oa=d.charAt(va++);else if("["==oa)T.push(c.LEFTBRACKET),da.push(oa),oa=d.charAt(va++);else if("]"==oa)T.push(c.RIGHTBRACKET),da.push(oa),oa=d.charAt(va++);else if("@"==oa)T.push(c.AT),da.push(oa),oa=d.charAt(va++);else if(","==oa)T.push(c.COMMA),da.push(oa),oa=d.charAt(va++);else if("|"==oa)T.push(c.BAR),
da.push(oa),oa=d.charAt(va++);else if("+"==oa)T.push(c.PLUS),da.push(oa),oa=d.charAt(va++);else if("-"==oa)T.push(c.MINUS),da.push(oa),oa=d.charAt(va++);else if("="==oa)T.push(c.EQUALS),da.push(oa),oa=d.charAt(va++);else if("$"==oa)T.push(c.DOLLAR),da.push(oa),oa=d.charAt(va++);else if("."==oa)if(oa=d.charAt(va++),"."==oa)T.push(c.DOUBLEDOT),da.push(".."),oa=d.charAt(va++);else if("0"<=oa&&"9">=oa){var m="."+oa;for(oa=d.charAt(va++);"0"<=oa&&"9">=oa;)m+=oa,oa=d.charAt(va++);T.push(c.NUMBER);da.push(m)}else T.push(c.DOT),
da.push(".");else if("'"==oa||'"'==oa){m=oa;for(var U="";va<d.length&&(oa=d.charAt(va))!==m;)U+=oa,va+=1;if(oa!==m)throw Va.fromMessage("Unterminated string literal: "+m+U);va+=1;T.push(c.LITERAL);da.push(U);oa=d.charAt(va++)}else if("0"<=oa&&"9">=oa){m=oa;for(oa=d.charAt(va++);"0"<=oa&&"9">=oa;)m+=oa,oa=d.charAt(va++);if("."==oa&&"0"<=d.charAt(va)&&"9">=d.charAt(va))for(m+=oa,m+=d.charAt(va++),oa=d.charAt(va++);"0"<=oa&&"9">=oa;)m+=oa,oa=d.charAt(va++);T.push(c.NUMBER);da.push(m)}else if("*"==oa){if(0<
T.length&&(m=T[T.length-1],m!=c.AT&&m!=c.DOUBLECOLON&&m!=c.LEFTPARENTHESIS&&m!=c.LEFTBRACKET&&m!=c.AND&&m!=c.OR&&m!=c.MOD&&m!=c.DIV&&m!=c.MULTIPLYOPERATOR&&m!=c.SLASH&&m!=c.DOUBLESLASH&&m!=c.BAR&&m!=c.PLUS&&m!=c.MINUS&&m!=c.EQUALS&&m!=c.NOTEQUAL&&m!=c.LESSTHAN&&m!=c.LESSTHANOREQUAL&&m!=c.GREATERTHAN&&m!=c.GREATERTHANOREQUAL)){T.push(c.MULTIPLYOPERATOR);da.push(oa);oa=d.charAt(va++);continue}T.push(c.ASTERISKNAMETEST);da.push(oa);oa=d.charAt(va++)}else if(":"==oa&&":"==d.charAt(va))T.push(c.DOUBLECOLON),
da.push("::"),va++,oa=d.charAt(va++);else if("/"==oa)oa=d.charAt(va++),"/"==oa?(T.push(c.DOUBLESLASH),da.push("//"),oa=d.charAt(va++)):(T.push(c.SLASH),da.push("/"));else if("!"==oa&&"="==d.charAt(va))T.push(c.NOTEQUAL),da.push("!="),va++,oa=d.charAt(va++);else if("<"==oa)"="==d.charAt(va)?(T.push(c.LESSTHANOREQUAL),da.push("<="),va++):(T.push(c.LESSTHAN),da.push("<")),oa=d.charAt(va++);else if(">"==oa)"="==d.charAt(va)?(T.push(c.GREATERTHANOREQUAL),da.push(">="),va++):(T.push(c.GREATERTHAN),da.push(">")),
oa=d.charAt(va++);else if("_"==oa||Ha.isLetter(oa.charCodeAt(0))){U=oa;for(oa=d.charAt(va++);Ha.isNCNameChar(oa.charCodeAt(0));)U+=oa,oa=d.charAt(va++);if(0<T.length&&(m=T[T.length-1],m!=c.AT&&m!=c.DOUBLECOLON&&m!=c.LEFTPARENTHESIS&&m!=c.LEFTBRACKET&&m!=c.AND&&m!=c.OR&&m!=c.MOD&&m!=c.DIV&&m!=c.MULTIPLYOPERATOR&&m!=c.SLASH&&m!=c.DOUBLESLASH&&m!=c.BAR&&m!=c.PLUS&&m!=c.MINUS&&m!=c.EQUALS&&m!=c.NOTEQUAL&&m!=c.LESSTHAN&&m!=c.LESSTHANOREQUAL&&m!=c.GREATERTHAN&&m!=c.GREATERTHANOREQUAL)){if("and"==U){T.push(c.AND);
da.push(U);continue}if("or"==U){T.push(c.OR);da.push(U);continue}if("mod"==U){T.push(c.MOD);da.push(U);continue}if("div"==U){T.push(c.DIV);da.push(U);continue}}if(":"==oa){if("*"==d.charAt(va)){T.push(c.NCNAMECOLONASTERISK);da.push(U+":*");va++;oa=d.charAt(va++);continue}if("_"==d.charAt(va)||Ha.isLetter(d.charCodeAt(va))){U+=":";for(oa=d.charAt(va++);Ha.isNCNameChar(oa.charCodeAt(0));)U+=oa,oa=d.charAt(va++);if("("==oa){T.push(c.FUNCTIONNAME);da.push(U);continue}T.push(c.QNAME);da.push(U);continue}if(":"==
d.charAt(va)){T.push(c.AXISNAME);da.push(U);continue}}"("==oa?"comment"==U||"text"==U||"node"==U?T.push(c.NODETYPE):"processing-instruction"==U?")"==d.charAt(va)?T.push(c.NODETYPE):T.push(c.PROCESSINGINSTRUCTIONWITHLITERAL):T.push(c.FUNCTIONNAME):T.push(c.QNAME);da.push(U)}else throw Error("Unexpected character "+oa);}T.push(1);da.push("[EOF]");return[T,da]};c.SHIFT="s";c.REDUCE="r";c.ACCEPT="a";c.prototype.parse=function(d){d=this.tokenize(d);if(void 0!=d){var T=d[0];var da=d[1];var va=0,oa=[],m=
[],U=[],aa;oa.push(0);m.push(1);U.push("_S");var pa=T[va];for(aa=da[va++];;)switch(d=oa[oa.length-1],c.actionTable[d].charAt(pa-1)){case c.SHIFT:m.push(-pa);U.push(aa);oa.push(c.actionTableNumber[d].charCodeAt(pa-1)-32);pa=T[va];aa=da[va++];break;case c.REDUCE:for(var ua=c.productions[c.actionTableNumber[d].charCodeAt(pa-1)-32][1],Ca=[],Sa=0;Sa<ua;Sa++)m.pop(),Ca.unshift(U.pop()),oa.pop();ua=oa[oa.length-1];m.push(c.productions[c.actionTableNumber[d].charCodeAt(pa-1)-32][0]);void 0==this.reduceActions[c.actionTableNumber[d].charCodeAt(pa-
1)-32]?U.push(Ca[0]):U.push(this.reduceActions[c.actionTableNumber[d].charCodeAt(pa-1)-32](Ca));oa.push(c.gotoTable[ua].charCodeAt(c.productions[c.actionTableNumber[d].charCodeAt(pa-1)-32][0]-2)-33);break;case c.ACCEPT:return new f(U.pop());default:throw Error("XPath parse error");}}};f.prototype={};f.prototype.constructor=f;f.superclass=Object.prototype;f.prototype.toString=function(){return this.expression.toString()};f.prototype.evaluate=function(d){d.contextNode=d.expressionContextNode;d.contextSize=
1;d.contextPosition=1;d.isHtml&&("caseInsensitive"in d||(d.caseInsensitive=!0),"allowAnyNamespaceForNoPrefix"in d||(d.allowAnyNamespaceForNoPrefix=!0));"caseInsensitive"in d||(d.caseInsensitive=!1);return this.expression.evaluate(d)};f.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";f.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";r.prototype={};r.prototype.constructor=r;r.superclass=Object.prototype;r.prototype.init=function(){};r.prototype.toString=function(){return"<Expression>"};
r.prototype.evaluate=function(d){throw Error("Could not evaluate expression.");};z.prototype=new r;z.prototype.constructor=z;z.superclass=r.prototype;z.prototype.init=function(d){this.rhs=d};M.prototype=new z;M.prototype.constructor=M;M.superclass=z.prototype;M.prototype.init=function(d){M.superclass.init.call(this,d)};M.prototype.evaluate=function(d){return this.rhs.evaluate(d).number().negate()};M.prototype.toString=function(){return"-"+this.rhs.toString()};A.prototype=new r;A.prototype.constructor=
A;A.superclass=r.prototype;A.prototype.init=function(d,T){this.lhs=d;this.rhs=T};F.prototype=new A;F.prototype.constructor=F;F.superclass=A.prototype;F.prototype.init=function(d,T){F.superclass.init.call(this,d,T)};F.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};F.prototype.evaluate=function(d){var T=this.lhs.evaluate(d).bool();return T.booleanValue()?T:this.rhs.evaluate(d).bool()};y.prototype=new A;y.prototype.constructor=y;y.superclass=A.prototype;y.prototype.init=
function(d,T){y.superclass.init.call(this,d,T)};y.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};y.prototype.evaluate=function(d){var T=this.lhs.evaluate(d).bool();return T.booleanValue()?this.rhs.evaluate(d).bool():T};B.prototype=new A;B.prototype.constructor=B;B.superclass=A.prototype;B.prototype.init=function(d,T){B.superclass.init.call(this,d,T)};B.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};B.prototype.evaluate=
function(d){return this.lhs.evaluate(d).equals(this.rhs.evaluate(d))};t.prototype=new A;t.prototype.constructor=t;t.superclass=A.prototype;t.prototype.init=function(d,T){t.superclass.init.call(this,d,T)};t.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};t.prototype.evaluate=function(d){return this.lhs.evaluate(d).notequal(this.rhs.evaluate(d))};S.prototype=new A;S.prototype.constructor=S;S.superclass=A.prototype;S.prototype.init=function(d,T){S.superclass.init.call(this,
d,T)};S.prototype.evaluate=function(d){return this.lhs.evaluate(d).lessthan(this.rhs.evaluate(d))};S.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};k.prototype=new A;k.prototype.constructor=k;k.superclass=A.prototype;k.prototype.init=function(d,T){k.superclass.init.call(this,d,T)};k.prototype.evaluate=function(d){return this.lhs.evaluate(d).greaterthan(this.rhs.evaluate(d))};k.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+
")"};e.prototype=new A;e.prototype.constructor=e;e.superclass=A.prototype;e.prototype.init=function(d,T){e.superclass.init.call(this,d,T)};e.prototype.evaluate=function(d){return this.lhs.evaluate(d).lessthanorequal(this.rhs.evaluate(d))};e.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};q.prototype=new A;q.prototype.constructor=q;q.superclass=A.prototype;q.prototype.init=function(d,T){q.superclass.init.call(this,d,T)};q.prototype.evaluate=function(d){return this.lhs.evaluate(d).greaterthanorequal(this.rhs.evaluate(d))};
q.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};H.prototype=new A;H.prototype.constructor=H;H.superclass=A.prototype;H.prototype.init=function(d,T){H.superclass.init.call(this,d,T)};H.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().plus(this.rhs.evaluate(d).number())};H.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};g.prototype=new A;g.prototype.constructor=g;g.superclass=A.prototype;g.prototype.init=
function(d,T){g.superclass.init.call(this,d,T)};g.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().minus(this.rhs.evaluate(d).number())};g.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};x.prototype=new A;x.prototype.constructor=x;x.superclass=A.prototype;x.prototype.init=function(d,T){x.superclass.init.call(this,d,T)};x.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().multiply(this.rhs.evaluate(d).number())};x.prototype.toString=
function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};I.prototype=new A;I.prototype.constructor=I;I.superclass=A.prototype;I.prototype.init=function(d,T){I.superclass.init.call(this,d,T)};I.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().div(this.rhs.evaluate(d).number())};I.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};Q.prototype=new A;Q.prototype.constructor=Q;Q.superclass=A.prototype;Q.prototype.init=function(d,
T){Q.superclass.init.call(this,d,T)};Q.prototype.evaluate=function(d){return this.lhs.evaluate(d).number().mod(this.rhs.evaluate(d).number())};Q.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};Z.prototype=new A;Z.prototype.constructor=Z;Z.superclass=A.prototype;Z.prototype.init=function(d,T){Z.superclass.init.call(this,d,T)};Z.prototype.evaluate=function(d){return this.lhs.evaluate(d).nodeset().union(this.rhs.evaluate(d).nodeset())};Z.prototype.toString=
function(){return za(h,[this.lhs,this.rhs]).join(" | ")};Y.prototype=new r;Y.prototype.constructor=Y;Y.superclass=r.prototype;Y.prototype.init=function(d,T,da){Y.superclass.init.call(this);this.filter=d;this.filterPredicates=T;this.locationPath=da};Y.applyPredicates=function(d,T,da){return ta(function(va,oa){var m=T.extend({contextSize:va.length});return Ga(function(U,aa){return Y.predicateMatches(oa,m.extend({contextNode:U,contextPosition:aa+1}))},va)},da,d)};Y.getRoot=function(d,T){T=T[0];if(9===
T.nodeType)return T;if(d.virtualRoot)return d.virtualRoot;if(d=T.ownerDocument)return d;for(d=T;null!=d.parentNode;)d=d.parentNode;return d};Y.applyStep=function(d,T,da){var va=[];T.contextNode=da;switch(d.axis){case ha.ANCESTOR:if(T.contextNode===T.virtualRoot)break;for(da=2==T.contextNode.nodeType?Y.getOwnerElement(T.contextNode):T.contextNode.parentNode;null!=da;){d.nodeTest.matches(da,T)&&va.push(da);if(da===T.virtualRoot)break;da=da.parentNode}break;case ha.ANCESTORORSELF:for(da=T.contextNode;null!=
da&&(d.nodeTest.matches(da,T)&&va.push(da),da!==T.virtualRoot);da=2==da.nodeType?Y.getOwnerElement(da):da.parentNode);break;case ha.ATTRIBUTE:var oa=T.contextNode.attributes;if(null!=oa)for(var m=0;m<oa.length;m++)da=oa.item(m),d.nodeTest.matches(da,T)&&va.push(da);break;case ha.CHILD:for(da=T.contextNode.firstChild;null!=da;da=da.nextSibling)d.nodeTest.matches(da,T)&&va.push(da);break;case ha.DESCENDANT:for(oa=[T.contextNode.firstChild];0<oa.length;)for(da=oa.pop();null!=da;)d.nodeTest.matches(da,
T)&&va.push(da),null!=da.firstChild?(oa.push(da.nextSibling),da=da.firstChild):da=da.nextSibling;break;case ha.DESCENDANTORSELF:d.nodeTest.matches(T.contextNode,T)&&va.push(T.contextNode);for(oa=[T.contextNode.firstChild];0<oa.length;)for(da=oa.pop();null!=da;)d.nodeTest.matches(da,T)&&va.push(da),null!=da.firstChild?(oa.push(da.nextSibling),da=da.firstChild):da=da.nextSibling;break;case ha.FOLLOWING:if(T.contextNode===T.virtualRoot)break;oa=[];null!=T.contextNode.firstChild?oa.unshift(T.contextNode.firstChild):
oa.unshift(T.contextNode.nextSibling);for(da=T.contextNode.parentNode;null!=da&&9!=da.nodeType&&da!==T.virtualRoot;da=da.parentNode)oa.unshift(da.nextSibling);do for(da=oa.pop();null!=da;)d.nodeTest.matches(da,T)&&va.push(da),null!=da.firstChild?(oa.push(da.nextSibling),da=da.firstChild):da=da.nextSibling;while(0<oa.length);break;case ha.FOLLOWINGSIBLING:if(T.contextNode===T.virtualRoot)break;for(da=T.contextNode.nextSibling;null!=da;da=da.nextSibling)d.nodeTest.matches(da,T)&&va.push(da);break;case ha.NAMESPACE:var U=
{};if(1==T.contextNode.nodeType){U.xml=f.XML_NAMESPACE_URI;U.xmlns=f.XMLNS_NAMESPACE_URI;for(da=T.contextNode;null!=da&&1==da.nodeType;da=da.parentNode)for(m=0;m<da.attributes.length;m++){var aa=da.attributes.item(m),pa=String(aa.name);"xmlns"==pa?void 0==U[""]&&(U[""]=aa.value):6<pa.length&&"xmlns:"==pa.substring(0,6)&&(oa=pa.substring(6,pa.length),void 0==U[oa]&&(U[oa]=aa.value))}for(oa in U)da=new K(oa,U[oa],T.contextNode),d.nodeTest.matches(da,T)&&va.push(da)}break;case ha.PARENT:da=null;T.contextNode!==
T.virtualRoot&&(da=2==T.contextNode.nodeType?Y.getOwnerElement(T.contextNode):T.contextNode.parentNode);null!=da&&d.nodeTest.matches(da,T)&&va.push(da);break;case ha.PRECEDING:if(null!=T.virtualRoot)oa=[T.virtualRoot];else{for(da=T.contextNode;da&&da.parentNode;)da=da.parentNode;oa=[da]}a:for(;0<oa.length;)for(da=oa.pop();null!=da;){if(da==T.contextNode)break a;d.nodeTest.matches(da,T)&&va.unshift(da);null!=da.firstChild?(oa.push(da.nextSibling),da=da.firstChild):da=da.nextSibling}break;case ha.PRECEDINGSIBLING:if(T.contextNode===
T.virtualRoot)break;for(da=T.contextNode.previousSibling;null!=da;da=da.previousSibling)d.nodeTest.matches(da,T)&&va.push(da);break;case ha.SELF:d.nodeTest.matches(T.contextNode,T)&&va.push(T.contextNode)}return va};Y.applySteps=function(d,T,da){return ta(function(va,oa){return[].concat.apply([],za(function(m){return Y.applyPredicates(oa.predicates,T,Y.applyStep(oa,T,m))},va))},da,d)};Y.prototype.applyFilter=function(d,T){if(!this.filter)return{nodes:[d.contextNode]};d=this.filter.evaluate(d);if(!Ha.instance_of(d,
O)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:d}}return{nodes:Y.applyPredicates(this.filterPredicates||[],T,d.toUnsortedArray())}};Y.applyLocationPath=function(d,T,da){if(!d)return da;da=d.absolute?[Y.getRoot(T,da)]:da;return Y.applySteps(d.steps,T,da)};Y.prototype.evaluate=function(d){var T=p(new qa,d);d=this.applyFilter(d,T);if("nonNodes"in
d)return d.nonNodes;var da=new O;da.addArray(Y.applyLocationPath(this.locationPath,T,d.nodes));return da};Y.predicateMatches=function(d,T){d=d.evaluate(T);return Ha.instance_of(d,w)?T.contextPosition==d.numberValue():d.booleanValue()};Y.predicateString=W(ca("[","]"),h);Y.predicatesString=W(Ka(""),za(Y.predicateString));Y.prototype.toString=function(){if(void 0!=this.filter){var d=h(this.filter);return Ha.instance_of(this.filter,n)?ca("'","'",d):void 0!=this.filterPredicates&&this.filterPredicates.length?
ca("(",")",d)+Y.predicatesString(this.filterPredicates):void 0!=this.locationPath?d+(this.locationPath.absolute?"":"/")+h(this.locationPath):d}return h(this.locationPath)};Y.getOwnerElement=function(d){if(d.ownerElement)return d.ownerElement;try{if(d.selectSingleNode)return d.selectSingleNode("..")}catch(U){}for(var T=(9==d.nodeType?d:d.ownerDocument).getElementsByTagName("*"),da=0;da<T.length;da++)for(var va=T.item(da),oa=va.attributes,m=0;m<oa.length;m++)if(oa.item(m)===d)return va;return null};
ba.prototype={};ba.prototype.constructor=ba;ba.superclass=Object.prototype;ba.prototype.init=function(d,T){this.absolute=d;this.steps=T};ba.prototype.toString=function(){return(this.absolute?"/":"")+za(h,this.steps).join("/")};ha.prototype={};ha.prototype.constructor=ha;ha.superclass=Object.prototype;ha.prototype.init=function(d,T,da){this.axis=d;this.nodeTest=T;this.predicates=da};ha.prototype.toString=function(){return ha.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+Y.predicatesString(this.predicates)};
ha.ANCESTOR=0;ha.ANCESTORORSELF=1;ha.ATTRIBUTE=2;ha.CHILD=3;ha.DESCENDANT=4;ha.DESCENDANTORSELF=5;ha.FOLLOWING=6;ha.FOLLOWINGSIBLING=7;ha.NAMESPACE=8;ha.PARENT=9;ha.PRECEDING=10;ha.PRECEDINGSIBLING=11;ha.SELF=12;ha.STEPNAMES=ta(function(d,T){return d[T[0]]=T[1],d},{},[[ha.ANCESTOR,"ancestor"],[ha.ANCESTORORSELF,"ancestor-or-self"],[ha.ATTRIBUTE,"attribute"],[ha.CHILD,"child"],[ha.DESCENDANT,"descendant"],[ha.DESCENDANTORSELF,"descendant-or-self"],[ha.FOLLOWING,"following"],[ha.FOLLOWINGSIBLING,"following-sibling"],
[ha.NAMESPACE,"namespace"],[ha.PARENT,"parent"],[ha.PRECEDING,"preceding"],[ha.PRECEDINGSIBLING,"preceding-sibling"],[ha.SELF,"self"]]);ia.prototype={};ia.prototype.constructor=ia;ia.superclass=Object.prototype;ia.prototype.init=function(d,T){this.type=d;this.value=T};ia.prototype.toString=function(){return"<unknown nodetest type>"};ia.prototype.matches=function(d,T){console.warn("unknown node test type")};ia.NAMETESTANY=0;ia.NAMETESTPREFIXANY=1;ia.NAMETESTQNAME=2;ia.COMMENT=3;ia.TEXT=4;ia.PI=5;ia.NODE=
6;ia.isNodeType=function(d){return W(Ta(d),Fa("nodeType"))};ia.makeNodeTestType=function(d,T,da){da=da||function(){};da.prototype=new ia(T.type);da.prototype.constructor=d;for(var va in T)da.prototype[va]=T[va];return da};ia.makeNodeTypeTest=function(d,T,da){return new (ia.makeNodeTestType(d,{matches:ia.isNodeType(T),toString:l(da)}))};ia.hasPrefix=function(d){return d.prefix||-1!==(d.nodeName||d.tagName).indexOf(":")};ia.isElementOrAttribute=ia.isNodeType([1,2]);ia.nameSpaceMatches=function(d,T,
da){var va=da.namespaceURI||"";if(!d)return!va||T.allowAnyNamespaceForNoPrefix&&!ia.hasPrefix(da);T=T.namespaceResolver.getNamespace(d,T.expressionContextNode);if(null==T)throw Error("Cannot resolve QName "+d);return T===va};ia.localNameMatches=function(d,T,da){da=da.localName||da.nodeName;return T.caseInsensitive?d.toLowerCase()===da.toLowerCase():d===da};ia.NameTestPrefixAny=ia.makeNodeTestType(ia.NAMETESTPREFIXANY,{matches:function(d,T){return ia.isElementOrAttribute(d)&&ia.nameSpaceMatches(this.prefix,
T,d)},toString:function(){return this.prefix+":*"}},function(d){this.prefix=d});ia.NameTestQName=ia.makeNodeTestType(ia.NAMETESTQNAME,{matches:function(d,T){return ia.isNodeType([1,2,K.XPATH_NAMESPACE_NODE])(d)&&ia.nameSpaceMatches(this.prefix,T,d)&&ia.localNameMatches(this.localName,T,d)},toString:function(){return this.name}},function(d){var T=d.split(":");this.name=d;this.prefix=1<T.length?T[0]:null;this.localName=T[1<T.length?1:0]});ia.PITest=ia.makeNodeTestType(ia.PI,{matches:function(d,T){return ia.isNodeType([7])(d)&&
(d.target||d.nodeName)===this.name},toString:function(){return ca('processing-instruction("','")',this.name)}},function(d){this.name=d});ia.nameTestAny=ia.makeNodeTypeTest(ia.NAMETESTANY,[1,2,K.XPATH_NAMESPACE_NODE],"*");ia.textTest=ia.makeNodeTypeTest(ia.TEXT,[3,4],"text()");ia.commentTest=ia.makeNodeTypeTest(ia.COMMENT,[8],"comment()");ia.nodeTest=ia.makeNodeTypeTest(ia.NODE,[1,2,3,4,7,8,9],"node()");ia.anyPiTest=ia.makeNodeTypeTest(ia.PI,[7],"processing-instruction()");na.prototype=new r;na.prototype.constructor=
na;na.superclass=r.prototype;na.prototype.init=function(d){this.variable=d};na.prototype.toString=function(){return"$"+this.variable};na.prototype.evaluate=function(d){var T=Ha.resolveQName(this.variable,d.namespaceResolver,d.contextNode,!1);if(null==T[0])throw Error("Cannot resolve QName "+fn);d=d.variableResolver.getVariable(T[1],T[0]);if(!d)throw Va.fromMessage("Undeclared variable: "+this.toString());return d};v.prototype=new r;v.prototype.constructor=v;v.superclass=r.prototype;v.prototype.init=
function(d,T){this.functionName=d;this.arguments=T};v.prototype.toString=function(){for(var d=this.functionName+"(",T=0;T<this.arguments.length;T++)0<T&&(d+=", "),d+=this.arguments[T].toString();return d+")"};v.prototype.evaluate=function(d){var T=xa.getFunctionFromContext(this.functionName,d);if(!T)throw Error("Unknown function "+this.functionName);var da=[d].concat(this.arguments);return T.apply(d.functionResolver.thisArg,da)};var ka=function(d,T){return d.equals(T)},ra=function(d,T){return d.notequal(T)},
Aa=function(d,T){return d.lessthan(T)},La=function(d,T){return d.greaterthan(T)},Ua=function(d,T){return d.lessthanorequal(T)},Ra=function(d,T){return d.greaterthanorequal(T)};n.prototype=new r;n.prototype.constructor=n;n.superclass=r.prototype;n.prototype.init=function(d){this.str=String(d)};n.prototype.toString=function(){return this.str};n.prototype.evaluate=function(d){return this};n.prototype.string=function(){return this};n.prototype.number=function(){return new w(this.str)};n.prototype.bool=
function(){return new D(this.str)};n.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};n.prototype.stringValue=function(){return this.str};n.prototype.numberValue=function(){return this.number().numberValue()};n.prototype.booleanValue=function(){return this.bool().booleanValue()};n.prototype.equals=function(d){return Ha.instance_of(d,D)?this.bool().equals(d):Ha.instance_of(d,w)?this.number().equals(d):Ha.instance_of(d,O)?d.compareWithString(this,ka):new D(this.str==d.str)};
n.prototype.notequal=function(d){return Ha.instance_of(d,D)?this.bool().notequal(d):Ha.instance_of(d,w)?this.number().notequal(d):Ha.instance_of(d,O)?d.compareWithString(this,ra):new D(this.str!=d.str)};n.prototype.lessthan=function(d){return this.number().lessthan(d)};n.prototype.greaterthan=function(d){return this.number().greaterthan(d)};n.prototype.lessthanorequal=function(d){return this.number().lessthanorequal(d)};n.prototype.greaterthanorequal=function(d){return this.number().greaterthanorequal(d)};
w.prototype=new r;w.prototype.constructor=w;w.superclass=r.prototype;w.prototype.init=function(d){this.num="string"===typeof d?this.parse(d):Number(d)};w.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/;w.prototype.parse=function(d){return this.numberFormat.test(d)?parseFloat(d):Number.NaN};w.prototype.toString=function(){var d=this.num.toString();if(-1!==d.indexOf("e-")){var T=d.split("e-");d=T[0].replace(".","");T=Number(T[1]);for(var da=0;da<T-1;da+=1)d="0"+d;return"0."+d}if(-1!==d.indexOf("e")){T=
d.split("e");d=T[0].replace(".","");T=Number(T[1])+1-d.length;for(da=0;da<T;da+=1)d+="0";return d}return d};w.prototype.evaluate=function(d){return this};w.prototype.string=function(){return new n(this.toString())};w.prototype.number=function(){return this};w.prototype.bool=function(){return new D(this.num)};w.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");};w.prototype.stringValue=function(){return this.string().stringValue()};w.prototype.numberValue=function(){return this.num};
w.prototype.booleanValue=function(){return this.bool().booleanValue()};w.prototype.negate=function(){return new w(-this.num)};w.prototype.equals=function(d){return Ha.instance_of(d,D)?this.bool().equals(d):Ha.instance_of(d,n)?this.equals(d.number()):Ha.instance_of(d,O)?d.compareWithNumber(this,ka):new D(this.num==d.num)};w.prototype.notequal=function(d){return Ha.instance_of(d,D)?this.bool().notequal(d):Ha.instance_of(d,n)?this.notequal(d.number()):Ha.instance_of(d,O)?d.compareWithNumber(this,ra):
new D(this.num!=d.num)};w.prototype.lessthan=function(d){return Ha.instance_of(d,O)?d.compareWithNumber(this,La):Ha.instance_of(d,D)||Ha.instance_of(d,n)?this.lessthan(d.number()):new D(this.num<d.num)};w.prototype.greaterthan=function(d){return Ha.instance_of(d,O)?d.compareWithNumber(this,Aa):Ha.instance_of(d,D)||Ha.instance_of(d,n)?this.greaterthan(d.number()):new D(this.num>d.num)};w.prototype.lessthanorequal=function(d){return Ha.instance_of(d,O)?d.compareWithNumber(this,Ra):Ha.instance_of(d,
D)||Ha.instance_of(d,n)?this.lessthanorequal(d.number()):new D(this.num<=d.num)};w.prototype.greaterthanorequal=function(d){return Ha.instance_of(d,O)?d.compareWithNumber(this,Ua):Ha.instance_of(d,D)||Ha.instance_of(d,n)?this.greaterthanorequal(d.number()):new D(this.num>=d.num)};w.prototype.plus=function(d){return new w(this.num+d.num)};w.prototype.minus=function(d){return new w(this.num-d.num)};w.prototype.multiply=function(d){return new w(this.num*d.num)};w.prototype.div=function(d){return new w(this.num/
d.num)};w.prototype.mod=function(d){return new w(this.num%d.num)};D.prototype=new r;D.prototype.constructor=D;D.superclass=r.prototype;D.prototype.init=function(d){this.b=!!d};D.prototype.toString=function(){return this.b.toString()};D.prototype.evaluate=function(d){return this};D.prototype.string=function(){return new n(this.b)};D.prototype.number=function(){return new w(this.b)};D.prototype.bool=function(){return this};D.prototype.nodeset=function(){throw Error("Cannot convert boolean to nodeset");
};D.prototype.stringValue=function(){return this.string().stringValue()};D.prototype.numberValue=function(){return this.number().numberValue()};D.prototype.booleanValue=function(){return this.b};D.prototype.not=function(){return new D(!this.b)};D.prototype.equals=function(d){return Ha.instance_of(d,n)||Ha.instance_of(d,w)?this.equals(d.bool()):Ha.instance_of(d,O)?d.compareWithBoolean(this,ka):new D(this.b==d.b)};D.prototype.notequal=function(d){return Ha.instance_of(d,n)||Ha.instance_of(d,w)?this.notequal(d.bool()):
Ha.instance_of(d,O)?d.compareWithBoolean(this,ra):new D(this.b!=d.b)};D.prototype.lessthan=function(d){return this.number().lessthan(d)};D.prototype.greaterthan=function(d){return this.number().greaterthan(d)};D.prototype.lessthanorequal=function(d){return this.number().lessthanorequal(d)};D.prototype.greaterthanorequal=function(d){return this.number().greaterthanorequal(d)};D.true_=new D(!0);D.false_=new D(!1);V.prototype={};V.prototype.constructor=V;V.superclass=Object.prototype;V.prototype.init=
function(d){this.right=this.left=null;this.node=d;this.depth=1};V.prototype.balance=function(){var d=null==this.left?0:this.left.depth,T=null==this.right?0:this.right.depth;d>T+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):d+1<T&&((null==this.right.left?0:this.right.left.depth)>(null==this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};V.prototype.rotateLL=function(){var d=this.node,
T=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;this.right.right=T;this.right.node=d;this.right.updateInNewLocation();this.updateInNewLocation()};V.prototype.rotateRR=function(){var d=this.node,T=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;this.left.left=T;this.left.node=d;this.left.updateInNewLocation();this.updateInNewLocation()};V.prototype.updateInNewLocation=
function(){this.getDepthFromChildren()};V.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};V.prototype.add=function(d){if(d===this.node)return!1;var T=P(d,this.node),da=!1;-1==T?null==this.left?(this.left=new V(d),da=!0):(da=this.left.add(d))&&this.balance():1==T&&(null==this.right?(this.right=new V(d),da=!0):(da=this.right.add(d))&&this.balance());
da&&this.getDepthFromChildren();return da};O.prototype=new r;O.prototype.constructor=O;O.superclass=r.prototype;O.prototype.init=function(){this.tree=null;this.nodes=[];this.size=0};O.prototype.toString=function(){var d=this.first();return null==d?"":this.stringForNode(d)};O.prototype.evaluate=function(d){return this};O.prototype.string=function(){return new n(this.toString())};O.prototype.stringValue=function(){return this.toString()};O.prototype.number=function(){return new w(this.string())};O.prototype.numberValue=
function(){return Number(this.string())};O.prototype.bool=function(){return new D(this.booleanValue())};O.prototype.booleanValue=function(){return!!this.size};O.prototype.nodeset=function(){return this};O.prototype.stringForNode=function(d){return 9==d.nodeType||1==d.nodeType||11===d.nodeType?this.stringForContainerNode(d):2===d.nodeType?d.value||d.nodeValue:d.isNamespaceNode?d.namespace:d.nodeValue};O.prototype.stringForContainerNode=function(d){var T="";for(d=d.firstChild;null!=d;d=d.nextSibling){var da=
d.nodeType;if(1===da||3===da||4===da||9===da||11===da)T+=this.stringForNode(d)}return T};O.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new V(this.nodes[0]);for(var d=1;d<this.nodes.length;d+=1)this.tree.add(this.nodes[d])}return this.tree};O.prototype.first=function(){var d=this.buildTree();if(null==d)return null;for(;null!=d.left;)d=d.left;return d.node};O.prototype.add=function(d){for(var T=0;T<this.nodes.length;T+=1)if(d===this.nodes[T])return;this.tree=null;this.nodes.push(d);
this.size+=1};O.prototype.addArray=function(d){var T=this;ma(function(da){T.add(da)},d)};O.prototype.toArray=function(){var d=[];this.toArrayRec(this.buildTree(),d);return d};O.prototype.toArrayRec=function(d,T){null!=d&&(this.toArrayRec(d.left,T),T.push(d.node),this.toArrayRec(d.right,T))};O.prototype.toUnsortedArray=function(){return this.nodes.slice()};O.prototype.compareWithString=function(d,T){for(var da=this.toUnsortedArray(),va=0;va<da.length;va++){var oa=new n(this.stringForNode(da[va]));
oa=T(oa,d);if(oa.booleanValue())return oa}return new D(!1)};O.prototype.compareWithNumber=function(d,T){for(var da=this.toUnsortedArray(),va=0;va<da.length;va++){var oa=new w(this.stringForNode(da[va]));oa=T(oa,d);if(oa.booleanValue())return oa}return new D(!1)};O.prototype.compareWithBoolean=function(d,T){return T(this.bool(),d)};O.prototype.compareWithNodeSet=function(d,T){for(var da=this.toUnsortedArray(),va=function(U,aa){return T(aa,U)},oa=0;oa<da.length;oa++){var m=new n(this.stringForNode(da[oa]));
m=d.compareWithString(m,va);if(m.booleanValue())return m}return new D(!1)};O.compareWith=J(function(d,T){return Ha.instance_of(T,n)?this.compareWithString(T,d):Ha.instance_of(T,w)?this.compareWithNumber(T,d):Ha.instance_of(T,D)?this.compareWithBoolean(T,d):this.compareWithNodeSet(T,d)});O.prototype.equals=O.compareWith(ka);O.prototype.notequal=O.compareWith(ra);O.prototype.lessthan=O.compareWith(Aa);O.prototype.greaterthan=O.compareWith(La);O.prototype.lessthanorequal=O.compareWith(Ua);O.prototype.greaterthanorequal=
O.compareWith(Ra);O.prototype.union=function(d){var T=new O;T.addArray(this.toUnsortedArray());T.addArray(d.toUnsortedArray());return T};K.prototype={};K.prototype.constructor=K;K.superclass=Object.prototype;K.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};qa.prototype={};qa.prototype.constructor=qa;qa.superclass=Object.prototype;qa.prototype.extend=function(d){return p(new qa,this,d)};ya.prototype={};ya.prototype.constructor=ya;ya.superclass=Object.prototype;
ya.prototype.getVariable=function(d,T){return null};xa.prototype={};xa.prototype.constructor=xa;xa.superclass=Object.prototype;xa.prototype.addStandardFunctions=function(){this.functions["{}last"]=Ia.last;this.functions["{}position"]=Ia.position;this.functions["{}count"]=Ia.count;this.functions["{}id"]=Ia.id;this.functions["{}local-name"]=Ia.localName;this.functions["{}namespace-uri"]=Ia.namespaceURI;this.functions["{}name"]=Ia.name;this.functions["{}string"]=Ia.string;this.functions["{}concat"]=
Ia.concat;this.functions["{}starts-with"]=Ia.startsWith;this.functions["{}contains"]=Ia.contains;this.functions["{}substring-before"]=Ia.substringBefore;this.functions["{}substring-after"]=Ia.substringAfter;this.functions["{}substring"]=Ia.substring;this.functions["{}string-length"]=Ia.stringLength;this.functions["{}normalize-space"]=Ia.normalizeSpace;this.functions["{}translate"]=Ia.translate;this.functions["{}boolean"]=Ia.boolean_;this.functions["{}not"]=Ia.not;this.functions["{}true"]=Ia.true_;
this.functions["{}false"]=Ia.false_;this.functions["{}lang"]=Ia.lang;this.functions["{}number"]=Ia.number;this.functions["{}sum"]=Ia.sum;this.functions["{}floor"]=Ia.floor;this.functions["{}ceiling"]=Ia.ceiling;this.functions["{}round"]=Ia.round};xa.prototype.addFunction=function(d,T,da){this.functions["{"+d+"}"+T]=da};xa.getFunctionFromContext=function(d,T){d=Ha.resolveQName(d,T.namespaceResolver,T.contextNode,!1);if(null===d[0])throw Error("Cannot resolve QName "+name);return T.functionResolver.getFunction(d[1],
d[0])};xa.prototype.getFunction=function(d,T){return this.functions["{"+T+"}"+d]};Da.prototype={};Da.prototype.constructor=Da;Da.superclass=Object.prototype;Da.prototype.getNamespace=function(d,T){if("xml"==d)return f.XML_NAMESPACE_URI;if("xmlns"==d)return f.XMLNS_NAMESPACE_URI;9==T.nodeType?T=T.documentElement:2==T.nodeType?T=Y.getOwnerElement(T):1!=T.nodeType&&(T=T.parentNode);for(;null!=T&&1==T.nodeType;){for(var da=T.attributes,va=0;va<da.length;va++){var oa=da.item(va),m=oa.name||oa.nodeName;
if("xmlns"===m&&""===d||m==="xmlns:"+d)return String(oa.value||oa.nodeValue)}T=T.parentNode}return null};var Ia={last:function(d){if(1!=arguments.length)throw Error("Function last expects ()");return new w(d.contextSize)},position:function(d){if(1!=arguments.length)throw Error("Function position expects ()");return new w(d.contextPosition)},count:function(){var d=arguments[0],T;if(2!=arguments.length||!Ha.instance_of(T=arguments[1].evaluate(d),O))throw Error("Function count expects (node-set)");return new w(T.size)},
id:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");var T=arguments[1].evaluate(d);T=Ha.instance_of(T,O)?T.toArray().join(" "):T.stringValue();T=T.split(/[\x0d\x0a\x09\x20]+/);var da=0,va=new O;d=9==d.contextNode.nodeType?d.contextNode:d.contextNode.ownerDocument;for(var oa=0;oa<T.length;oa++){var m=d.getElementById?d.getElementById(T[oa]):Ha.getElementById(d,T[oa]);null!=m&&(va.add(m),da++)}return va},localName:function(d,T){if(1==arguments.length)var da=
d.contextNode;else if(2==arguments.length)da=T.evaluate(d).first();else throw Error("Function local-name expects (node-set?)");return null==da?new n(""):new n(da.localName||da.baseName||da.target||da.nodeName||"")},namespaceURI:function(){var d=arguments[0];if(1==arguments.length)d=d.contextNode;else if(2==arguments.length)d=arguments[1].evaluate(d).first();else throw Error("Function namespace-uri expects (node-set?)");return null==d?new n(""):new n(d.namespaceURI)},name:function(){var d=arguments[0];
if(1==arguments.length)d=d.contextNode;else if(2==arguments.length)d=arguments[1].evaluate(d).first();else throw Error("Function name expects (node-set?)");return null==d?new n(""):1==d.nodeType?new n(d.nodeName):2==d.nodeType?new n(d.name||d.nodeName):7===d.nodeType?new n(d.target||d.nodeName):null==d.localName?new n(""):new n(d.localName)},string:function(){var d=arguments[0];if(1==arguments.length)return new n(O.prototype.stringForNode(d.contextNode));if(2==arguments.length)return arguments[1].evaluate(d).string();
throw Error("Function string expects (object?)");},concat:function(d){if(3>arguments.length)throw Error("Function concat expects (string, string[, string]*)");for(var T="",da=1;da<arguments.length;da++)T+=arguments[da].evaluate(d).stringValue();return new n(T)},startsWith:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");var T=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new D(T.substring(0,d.length)==
d)},contains:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var T=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new D(-1!==T.indexOf(d))},substringBefore:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");var T=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();return new n(T.substring(0,T.indexOf(d)))},
substringAfter:function(){var d=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var T=arguments[1].evaluate(d).stringValue();d=arguments[2].evaluate(d).stringValue();if(0==d.length)return new n(T);var da=T.indexOf(d);return-1==da?new n(""):new n(T.substring(da+d.length))},substring:function(){var d=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var T=arguments[1].evaluate(d).stringValue(),
da=Math.round(arguments[2].evaluate(d).numberValue())-1;d=4==arguments.length?da+Math.round(arguments[3].evaluate(d).numberValue()):void 0;return new n(T.substring(da,d))},stringLength:function(){var d=arguments[0];if(1==arguments.length)d=O.prototype.stringForNode(d.contextNode);else if(2==arguments.length)d=arguments[1].evaluate(d).stringValue();else throw Error("Function string-length expects (string?)");return new w(d.length)},normalizeSpace:function(){var d=arguments[0];if(1==arguments.length)d=
O.prototype.stringForNode(d.contextNode);else if(2==arguments.length)d=arguments[1].evaluate(d).stringValue();else throw Error("Function normalize-space expects (string?)");for(var T=0,da=d.length-1;Ha.isSpace(d.charCodeAt(da));)da--;for(var va="";T<=da&&Ha.isSpace(d.charCodeAt(T));)T++;for(;T<=da;)if(Ha.isSpace(d.charCodeAt(T)))for(va+=" ";T<=da&&Ha.isSpace(d.charCodeAt(T));)T++;else va+=d.charAt(T),T++;return new n(va)},translate:function(d,T,da,va){if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");
var oa=T.evaluate(d).stringValue(),m=da.evaluate(d).stringValue(),U=va.evaluate(d).stringValue(),aa=ta(function(pa,ua,Ca){ua in pa||(pa[ua]=Ca>U.length?"":U[Ca]);return pa},{},m);oa=Ka("",za(function(pa){return pa in aa?aa[pa]:pa},oa));return new n(oa)},boolean_:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(d).bool()},not:function(d,T){if(2!=arguments.length)throw Error("Function not expects (object)");return T.evaluate(d).bool().not()},
true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return D.true_},false_:function(){if(1!=arguments.length)throw Error("Function false expects ()");return D.false_},lang:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var T,da=d.contextNode;null!=da&&9!=da.nodeType;da=da.parentNode){var va=da.getAttributeNS(f.XML_NAMESPACE_URI,"lang");if(null!=va){T=String(va);break}}if(null==T)return D.false_;d=arguments[1].evaluate(d).stringValue();
return new D(T.substring(0,d.length)==d&&(T.length==d.length||"-"==T.charAt(d.length)))},number:function(){var d=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");return 1==arguments.length?new w(O.prototype.stringForNode(d.contextNode)):arguments[1].evaluate(d).number()},sum:function(){var d=arguments[0],T;if(2!=arguments.length||!Ha.instance_of(T=arguments[1].evaluate(d),O))throw Error("Function sum expects (node-set)");T=T.toUnsortedArray();
for(var da=d=0;da<T.length;da++)d+=(new w(O.prototype.stringForNode(T[da]))).numberValue();return new w(d)},floor:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new w(Math.floor(arguments[1].evaluate(d).numberValue()))},ceiling:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new w(Math.ceil(arguments[1].evaluate(d).numberValue()))},round:function(){var d=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");
return new w(Math.round(arguments[1].evaluate(d).numberValue()))}},Ha={isAttribute:function(d){return d&&(2===d.nodeType||d.ownerElement)},splitQName:function(d){var T=d.indexOf(":");return-1==T?[null,d]:[d.substring(0,T),d.substring(T+1)]},resolveQName:function(d,T,da,va){d=Ha.splitQName(d);null!=d[0]?d[0]=T.getNamespace(d[0],da):va?(d[0]=T.getNamespace("",da),null==d[0]&&(d[0]="")):d[0]="";return d},isSpace:function(d){return 9==d||13==d||10==d||32==d},isLetter:function(d){return 65<=d&&90>=d||
97<=d&&122>=d||192<=d&&214>=d||216<=d&&246>=d||248<=d&&255>=d||256<=d&&305>=d||308<=d&&318>=d||321<=d&&328>=d||330<=d&&382>=d||384<=d&&451>=d||461<=d&&496>=d||500<=d&&501>=d||506<=d&&535>=d||592<=d&&680>=d||699<=d&&705>=d||902==d||904<=d&&906>=d||908==d||910<=d&&929>=d||931<=d&&974>=d||976<=d&&982>=d||986==d||988==d||990==d||992==d||994<=d&&1011>=d||1025<=d&&1036>=d||1038<=d&&1103>=d||1105<=d&&1116>=d||1118<=d&&1153>=d||1168<=d&&1220>=d||1223<=d&&1224>=d||1227<=d&&1228>=d||1232<=d&&1259>=d||1262<=
d&&1269>=d||1272<=d&&1273>=d||1329<=d&&1366>=d||1369==d||1377<=d&&1414>=d||1488<=d&&1514>=d||1520<=d&&1522>=d||1569<=d&&1594>=d||1601<=d&&1610>=d||1649<=d&&1719>=d||1722<=d&&1726>=d||1728<=d&&1742>=d||1744<=d&&1747>=d||1749==d||1765<=d&&1766>=d||2309<=d&&2361>=d||2365==d||2392<=d&&2401>=d||2437<=d&&2444>=d||2447<=d&&2448>=d||2451<=d&&2472>=d||2474<=d&&2480>=d||2482==d||2486<=d&&2489>=d||2524<=d&&2525>=d||2527<=d&&2529>=d||2544<=d&&2545>=d||2565<=d&&2570>=d||2575<=d&&2576>=d||2579<=d&&2600>=d||2602<=
d&&2608>=d||2610<=d&&2611>=d||2613<=d&&2614>=d||2616<=d&&2617>=d||2649<=d&&2652>=d||2654==d||2674<=d&&2676>=d||2693<=d&&2699>=d||2701==d||2703<=d&&2705>=d||2707<=d&&2728>=d||2730<=d&&2736>=d||2738<=d&&2739>=d||2741<=d&&2745>=d||2749==d||2784==d||2821<=d&&2828>=d||2831<=d&&2832>=d||2835<=d&&2856>=d||2858<=d&&2864>=d||2866<=d&&2867>=d||2870<=d&&2873>=d||2877==d||2908<=d&&2909>=d||2911<=d&&2913>=d||2949<=d&&2954>=d||2958<=d&&2960>=d||2962<=d&&2965>=d||2969<=d&&2970>=d||2972==d||2974<=d&&2975>=d||2979<=
d&&2980>=d||2984<=d&&2986>=d||2990<=d&&2997>=d||2999<=d&&3001>=d||3077<=d&&3084>=d||3086<=d&&3088>=d||3090<=d&&3112>=d||3114<=d&&3123>=d||3125<=d&&3129>=d||3168<=d&&3169>=d||3205<=d&&3212>=d||3214<=d&&3216>=d||3218<=d&&3240>=d||3242<=d&&3251>=d||3253<=d&&3257>=d||3294==d||3296<=d&&3297>=d||3333<=d&&3340>=d||3342<=d&&3344>=d||3346<=d&&3368>=d||3370<=d&&3385>=d||3424<=d&&3425>=d||3585<=d&&3630>=d||3632==d||3634<=d&&3635>=d||3648<=d&&3653>=d||3713<=d&&3714>=d||3716==d||3719<=d&&3720>=d||3722==d||3725==
d||3732<=d&&3735>=d||3737<=d&&3743>=d||3745<=d&&3747>=d||3749==d||3751==d||3754<=d&&3755>=d||3757<=d&&3758>=d||3760==d||3762<=d&&3763>=d||3773==d||3776<=d&&3780>=d||3904<=d&&3911>=d||3913<=d&&3945>=d||4256<=d&&4293>=d||4304<=d&&4342>=d||4352==d||4354<=d&&4355>=d||4357<=d&&4359>=d||4361==d||4363<=d&&4364>=d||4366<=d&&4370>=d||4412==d||4414==d||4416==d||4428==d||4430==d||4432==d||4436<=d&&4437>=d||4441==d||4447<=d&&4449>=d||4451==d||4453==d||4455==d||4457==d||4461<=d&&4462>=d||4466<=d&&4467>=d||4469==
d||4510==d||4520==d||4523==d||4526<=d&&4527>=d||4535<=d&&4536>=d||4538==d||4540<=d&&4546>=d||4587==d||4592==d||4601==d||7680<=d&&7835>=d||7840<=d&&7929>=d||7936<=d&&7957>=d||7960<=d&&7965>=d||7968<=d&&8005>=d||8008<=d&&8013>=d||8016<=d&&8023>=d||8025==d||8027==d||8029==d||8031<=d&&8061>=d||8064<=d&&8116>=d||8118<=d&&8124>=d||8126==d||8130<=d&&8132>=d||8134<=d&&8140>=d||8144<=d&&8147>=d||8150<=d&&8155>=d||8160<=d&&8172>=d||8178<=d&&8180>=d||8182<=d&&8188>=d||8486==d||8490<=d&&8491>=d||8494==d||8576<=
d&&8578>=d||12353<=d&&12436>=d||12449<=d&&12538>=d||12549<=d&&12588>=d||44032<=d&&55203>=d||19968<=d&&40869>=d||12295==d||12321<=d&&12329>=d},isNCNameChar:function(d){return 48<=d&&57>=d||1632<=d&&1641>=d||1776<=d&&1785>=d||2406<=d&&2415>=d||2534<=d&&2543>=d||2662<=d&&2671>=d||2790<=d&&2799>=d||2918<=d&&2927>=d||3047<=d&&3055>=d||3174<=d&&3183>=d||3302<=d&&3311>=d||3430<=d&&3439>=d||3664<=d&&3673>=d||3792<=d&&3801>=d||3872<=d&&3881>=d||46==d||45==d||95==d||Ha.isLetter(d)||768<=d&&837>=d||864<=d&&
865>=d||1155<=d&&1158>=d||1425<=d&&1441>=d||1443<=d&&1465>=d||1467<=d&&1469>=d||1471==d||1473<=d&&1474>=d||1476==d||1611<=d&&1618>=d||1648==d||1750<=d&&1756>=d||1757<=d&&1759>=d||1760<=d&&1764>=d||1767<=d&&1768>=d||1770<=d&&1773>=d||2305<=d&&2307>=d||2364==d||2366<=d&&2380>=d||2381==d||2385<=d&&2388>=d||2402<=d&&2403>=d||2433<=d&&2435>=d||2492==d||2494==d||2495==d||2496<=d&&2500>=d||2503<=d&&2504>=d||2507<=d&&2509>=d||2519==d||2530<=d&&2531>=d||2562==d||2620==d||2622==d||2623==d||2624<=d&&2626>=d||
2631<=d&&2632>=d||2635<=d&&2637>=d||2672<=d&&2673>=d||2689<=d&&2691>=d||2748==d||2750<=d&&2757>=d||2759<=d&&2761>=d||2763<=d&&2765>=d||2817<=d&&2819>=d||2876==d||2878<=d&&2883>=d||2887<=d&&2888>=d||2891<=d&&2893>=d||2902<=d&&2903>=d||2946<=d&&2947>=d||3006<=d&&3010>=d||3014<=d&&3016>=d||3018<=d&&3021>=d||3031==d||3073<=d&&3075>=d||3134<=d&&3140>=d||3142<=d&&3144>=d||3146<=d&&3149>=d||3157<=d&&3158>=d||3202<=d&&3203>=d||3262<=d&&3268>=d||3270<=d&&3272>=d||3274<=d&&3277>=d||3285<=d&&3286>=d||3330<=
d&&3331>=d||3390<=d&&3395>=d||3398<=d&&3400>=d||3402<=d&&3405>=d||3415==d||3633==d||3636<=d&&3642>=d||3655<=d&&3662>=d||3761==d||3764<=d&&3769>=d||3771<=d&&3772>=d||3784<=d&&3789>=d||3864<=d&&3865>=d||3893==d||3895==d||3897==d||3902==d||3903==d||3953<=d&&3972>=d||3974<=d&&3979>=d||3984<=d&&3989>=d||3991==d||3993<=d&&4013>=d||4017<=d&&4023>=d||4025==d||8400<=d&&8412>=d||8417==d||12330<=d&&12335>=d||12441==d||12442==d||183==d||720==d||721==d||903==d||1600==d||3654==d||3782==d||12293==d||12337<=d&&12341>=
d||12445<=d&&12446>=d||12540<=d&&12542>=d},coalesceText:function(d){for(d=d.firstChild;null!=d;d=d.nextSibling)if(3==d.nodeType||4==d.nodeType){var T=d.nodeValue,da=d;for(d=d.nextSibling;null!=d&&(3==d.nodeType||4==d.nodeType);){T+=d.nodeValue;var va=d;d=d.nextSibling;va.parentNode.removeChild(va)}if(4==da.nodeType)if(va=da.parentNode,null==da.nextSibling)va.removeChild(da),va.appendChild(va.ownerDocument.createTextNode(T));else{var oa=da.nextSibling;va.removeChild(da);va.insertBefore(va.ownerDocument.createTextNode(T),
oa)}else da.nodeValue=T;if(null==d)break}else 1==d.nodeType&&Ha.coalesceText(d)},instance_of:function(d,T){for(;null!=d;){if(d.constructor===T)return!0;if(d===Object)break;d=d.constructor.superclass}return!1},getElementById:function(d,T){if(1==d.nodeType&&(d.getAttribute("id")==T||d.getAttributeNS(null,"id")==T))return d;for(d=d.firstChild;null!=d;d=d.nextSibling){var da=Ha.getElementById(d,T);if(null!=da)return da}return null}},Va=function(){function d(T,da,va){var oa=Error,m=oa.call;a:{var U=da?
": "+da.toString():"";switch(T){case d.INVALID_EXPRESSION_ERR:U="Invalid expression"+U;break a;case d.TYPE_ERR:U="Type error"+U;break a}U=null}va=m.call(oa,this,U||va);va.code=T;va.exception=da;return va}d.prototype=Object.create(Error.prototype);d.prototype.constructor=d;d.superclass=Error;d.prototype.toString=function(){return this.message};d.fromMessage=function(T,da){return new d(null,da,T)};d.INVALID_EXPRESSION_ERR=51;d.TYPE_ERR=52;return d}();ea.prototype={};ea.prototype.constructor=ea;ea.superclass=
Object.prototype;ea.getOwnerDocument=function(d){return 9===d.nodeType?d:d.ownerDocument};ea.detectHtmlDom=function(d){if(!d)return!1;d=ea.getOwnerDocument(d);try{return d.implementation.hasFeature("HTML","2.0")}catch(T){return!0}};ea.prototype.evaluate=function(d,T,da){this.context.expressionContextNode=d;this.context.caseInsensitive=ea.detectHtmlDom(d);d=this.xpath.evaluate(this.context);return new ja(d,T)};b.prototype={};b.prototype.constructor=b;b.superclass=Object.prototype;b.prototype.getNamespace=
function(d,T){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(d)};N.prototype={};N.prototype.constructor=N;N.superclass=Object.prototype;N.prototype.lookupNamespaceURI=function(d){return this.namespaceResolver.getNamespace(d,this.node)};ja.prototype={};ja.prototype.constructor=ja;ja.superclass=Object.prototype;ja.prototype.iterateNext=function(){if(this.resultType!=ja.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=ja.ORDERED_NODE_ITERATOR_TYPE)throw new Va(Va.TYPE_ERR);
return this.nodes[this.iteratorIndex++]};ja.prototype.snapshotItem=function(d){if(this.resultType!=ja.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=ja.ORDERED_NODE_SNAPSHOT_TYPE)throw new Va(Va.TYPE_ERR);return this.nodes[d]};ja.ANY_TYPE=0;ja.NUMBER_TYPE=1;ja.STRING_TYPE=2;ja.BOOLEAN_TYPE=3;ja.UNORDERED_NODE_ITERATOR_TYPE=4;ja.ORDERED_NODE_ITERATOR_TYPE=5;ja.UNORDERED_NODE_SNAPSHOT_TYPE=6;ja.ORDERED_NODE_SNAPSHOT_TYPE=7;ja.ANY_UNORDERED_NODE_TYPE=8;ja.FIRST_ORDERED_NODE_TYPE=9;try{var Pa=!0;try{document.implementation&&
document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(Pa=!1)}catch(d){}Pa&&fa(document,new c)}catch(d){}fa(u,new c);(function(){function d(Oa){return{getNamespace:function(Za,bb){return Oa(Za,bb)||ua.getNamespace(Za,bb)}}}function T(Oa){return d(function(Za){return Oa[Za]})}function da(Oa){if(null===Oa||"undefined"===typeof Oa||Oa instanceof n||Oa instanceof D||Oa instanceof w||Oa instanceof O)return Oa;switch(typeof Oa){case "string":return new n(Oa);case "boolean":return new D(Oa);
case "number":return new w(Oa)}var Za=new O;Za.addArray([].concat(Oa));return Za}function va(Oa){return function(Za){var bb=Array.prototype.slice.call(arguments,1).map(function(Ya){return Ya.evaluate(Za)});bb=Oa.apply(this,[].concat(Za,bb));return da(bb)}}function oa(Oa){return{getFunction:function(Za,bb){var Ya=Oa(Za,bb);return Ya?va(Ya):Ca.getFunction(Za,bb)}}}function m(Oa){return oa(function(Za){return Oa[Za]})}function U(Oa){return{getVariable:function(Za,bb){Za=Oa(Za,bb);return da(Za)}}}function aa(Oa){if(Oa){if("function"===
typeof Oa.getVariable)return U(Oa.getVariable.bind(Oa));if("function"===typeof Oa)return U(Oa);if("object"===typeof Oa)return U(function(Za){return Oa[Za]})}return Sa}var pa=new c,ua=new Da,Ca=new xa,Sa=new ya,$a={evaluate:function(Oa){var Za=this.expression,bb=new qa;if(Oa){var Ya=(Ya=Oa.namespaces)&&"function"===typeof Ya.getNamespace?d(Ya.getNamespace.bind(Ya)):"function"===typeof Ya?d(Ya):"object"===typeof Ya?T(Ya):ua;bb.namespaceResolver=Ya;Ya=(Ya=Oa.functions)&&"function"===typeof Ya.getFunction?
oa(Ya.getFunction.bind(Ya)):"function"===typeof Ya?oa(Ya):"object"===typeof Ya?m(Ya):Ca;bb.functionResolver=Ya;bb.variableResolver=aa(Oa.variables);bb.expressionContextNode=Oa.node;"allowAnyNamespaceForNoPrefix"in Oa&&(bb.allowAnyNamespaceForNoPrefix=Oa.allowAnyNamespaceForNoPrefix);"isHtml"in Oa&&(bb.isHtml=Oa.isHtml)}else bb.namespaceResolver=ua;return Za.evaluate(bb)},evaluateNumber:function(Oa){return this.evaluate(Oa).numberValue()},evaluateString:function(Oa){return this.evaluate(Oa).stringValue()},
evaluateBoolean:function(Oa){return this.evaluate(Oa).booleanValue()},evaluateNodeSet:function(Oa){return this.evaluate(Oa).nodeset()},select:function(Oa){return this.evaluateNodeSet(Oa).toArray()},select1:function(Oa){return this.select(Oa)[0]}};u.parse=function(Oa){Oa=pa.parse(Oa);return Object.create($a,{expression:{value:Oa}})}})();u.XPath=f;u.XPathParser=c;u.XPathResult=ja;u.Step=ha;u.NodeTest=ia;u.BarOperation=Z;u.NamespaceResolver=Da;u.FunctionResolver=xa;u.VariableResolver=ya;u.Utilities=
Ha;u.XPathContext=qa;u.XNodeSet=O;u.XBoolean=D;u.XString=n;u.XNumber=w;u.select=function(d,T,da){return u.selectWithResolver(d,T,null,da)};u.useNamespaces=function(d){var T={mappings:d||{},lookupNamespaceURI:function(da){return this.mappings[da]}};return function(da,va,oa){return u.selectWithResolver(da,va,T,oa)}};u.selectWithResolver=function(d,T,da,va){d=(new ea(d,da,new c)).evaluate(T,ja.ANY_TYPE,null);d.resultType==ja.STRING_TYPE?d=d.stringValue:d.resultType==ja.NUMBER_TYPE?d=d.numberValue:d.resultType==
ja.BOOLEAN_TYPE?d=d.booleanValue:(d=d.nodes,va&&(d=d[0]));return d};u.select1=function(d,T){return u.select(d,T,!0)}})(G)},function(R,G,E){function u(h,p){"string"===typeof h&&(h=l.util.createBuffer(h));if(l.util.isArray(h)&&4<h.length){var c=h;h=l.util.createBuffer();for(var f=0;f<c.length;++f)h.putByte(c[f])}if(h.length()<p)throw Error("Invalid IV length; got "+h.length()+" bytes and expected "+p+" bytes.");if(!l.util.isArray(h)){c=[];p/=4;for(f=0;f<p;++f)c.push(h.getInt32());h=c}return h}function J(h){h[h.length-
1]=h[h.length-1]+1&4294967295}function W(h){return[h/4294967296|0,h&4294967295]}var l=E(5);E(7);l.cipher=l.cipher||{};R=R.exports=l.cipher.modes=l.cipher.modes||{};R.ecb=function(h){h=h||{};this.name="ECB";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};R.ecb.prototype.start=function(h){};R.ecb.prototype.encrypt=function(h,p,c){if(h.length()<this.blockSize&&!(c&&0<h.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=
h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)p.putInt32(this._outBlock[c])};R.ecb.prototype.decrypt=function(h,p,c){if(h.length()<this.blockSize&&!(c&&0<h.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)p.putInt32(this._outBlock[c])};R.ecb.prototype.pad=function(h,p){p=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();h.fillWithByte(p,p);
return!0};R.ecb.prototype.unpad=function(h,p){if(0<p.overflow)return!1;p=h.length();p=h.at(p-1);if(p>this.blockSize<<2)return!1;h.truncate(p);return!0};R.cbc=function(h){h=h||{};this.name="CBC";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints)};R.cbc.prototype.start=function(h){if(null===h.iv){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in h)this._iv=u(h.iv,
this.blockSize),this._prev=this._iv.slice(0);else throw Error("Invalid IV parameter.");};R.cbc.prototype.encrypt=function(h,p,c){if(h.length()<this.blockSize&&!(c&&0<h.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=this._prev[c]^h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)p.putInt32(this._outBlock[c]);this._prev=this._outBlock};R.cbc.prototype.decrypt=function(h,p,c){if(h.length()<this.blockSize&&!(c&&0<h.length()))return!0;for(c=0;c<this._ints;++c)this._inBlock[c]=
h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(c=0;c<this._ints;++c)p.putInt32(this._prev[c]^this._outBlock[c]);this._prev=this._inBlock.slice(0)};R.cbc.prototype.pad=function(h,p){p=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();h.fillWithByte(p,p);return!0};R.cbc.prototype.unpad=function(h,p){if(0<p.overflow)return!1;p=h.length();p=h.at(p-1);if(p>this.blockSize<<2)return!1;h.truncate(p);return!0};R.cfb=function(h){h=h||{};this.name="CFB";this.cipher=h.cipher;
this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.cfb.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.cfb.prototype.encrypt=function(h,p,c){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);
if(0===this._partialBytes&&f>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=h.getInt32()^this._outBlock[r],p.putInt32(this._inBlock[r]);else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialBlock[r]=h.getInt32()^this._outBlock[r],this._partialOutput.putInt32(this._partialBlock[r]);if(0<z)h.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];0<this._partialBytes&&
this._partialOutput.getBytes(this._partialBytes);if(0<z&&!c)return p.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;p.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.cfb.prototype.decrypt=function(h,p,c){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var r=0;r<this._ints;++r)this._inBlock[r]=h.getInt32(),p.putInt32(this._inBlock[r]^this._outBlock[r]);
else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialBlock[r]=h.getInt32(),this._partialOutput.putInt32(this._partialBlock[r]^this._outBlock[r]);if(0<z)h.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=this._partialBlock[r];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!c)return p.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,
!0;p.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.ofb=function(h){h=h||{};this.name="OFB";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.ofb.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.ofb.prototype.encrypt=
function(h,p,c){var f=h.length();if(0===h.length())return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var r=0;r<this._ints;++r)p.putInt32(h.getInt32()^this._outBlock[r]),this._inBlock[r]=this._outBlock[r];else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(h.getInt32()^this._outBlock[r]);if(0<z)h.read-=this.blockSize;else for(r=0;r<this._ints;++r)this._inBlock[r]=
this._outBlock[r];0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!c)return p.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;p.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}};R.ofb.prototype.decrypt=R.ofb.prototype.encrypt;R.ctr=function(h){h=h||{};this.name="CTR";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=Array(this._ints);
this._partialOutput=l.util.createBuffer();this._partialBytes=0};R.ctr.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");this._iv=u(h.iv,this.blockSize);this._inBlock=this._iv.slice(0);this._partialBytes=0};R.ctr.prototype.encrypt=function(h,p,c){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize)for(var r=0;r<this._ints;++r)p.putInt32(h.getInt32()^this._outBlock[r]);else{var z=(this.blockSize-
f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(h.getInt32()^this._outBlock[r]);0<z&&(h.read-=this.blockSize);0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!c)return p.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;p.putBytes(this._partialOutput.getBytes(f-this._partialBytes));this._partialBytes=0}J(this._inBlock)};R.ctr.prototype.decrypt=R.ctr.prototype.encrypt;
R.gcm=function(h){h=h||{};this.name="GCM";this.cipher=h.cipher;this.blockSize=h.blockSize||16;this._ints=this.blockSize/4;this._inBlock=Array(this._ints);this._outBlock=Array(this._ints);this._partialOutput=l.util.createBuffer();this._partialBytes=0;this._R=3774873600};R.gcm.prototype.start=function(h){if(!("iv"in h))throw Error("Invalid IV parameter.");var p=l.util.createBuffer(h.iv);this._cipherLength=0;var c="additionalData"in h?l.util.createBuffer(h.additionalData):l.util.createBuffer();this._tagLength=
"tagLength"in h?h.tagLength:128;this._tag=null;if(h.decrypt&&(this._tag=l.util.createBuffer(h.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");this._hashBlock=Array(this._ints);this.tag=null;this._hashSubkey=Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);h=p.length();if(12===h)this._j0=[p.getInt32(),p.getInt32(),p.getInt32(),
1];else{for(this._j0=[0,0,0,0];0<p.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[p.getInt32(),p.getInt32(),p.getInt32(),p.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(W(8*h)))}this._inBlock=this._j0.slice(0);J(this._inBlock);this._partialBytes=0;c=l.util.createBuffer(c);this._aDataLength=W(8*c.length());(p=c.length()%this.blockSize)&&c.fillWithByte(0,this.blockSize-p);for(this._s=[0,0,0,0];0<c.length();)this._s=this.ghash(this._hashSubkey,this._s,[c.getInt32(),
c.getInt32(),c.getInt32(),c.getInt32()])};R.gcm.prototype.encrypt=function(h,p,c){var f=h.length();if(0===f)return!0;this.cipher.encrypt(this._inBlock,this._outBlock);if(0===this._partialBytes&&f>=this.blockSize){for(var r=0;r<this._ints;++r)p.putInt32(this._outBlock[r]^=h.getInt32());this._cipherLength+=this.blockSize}else{var z=(this.blockSize-f)%this.blockSize;0<z&&(z=this.blockSize-z);this._partialOutput.clear();for(r=0;r<this._ints;++r)this._partialOutput.putInt32(h.getInt32()^this._outBlock[r]);
if(0>=z||c){c?(r=f%this.blockSize,this._cipherLength+=r,this._partialOutput.truncate(this.blockSize-r)):this._cipherLength+=this.blockSize;for(r=0;r<this._ints;++r)this._outBlock[r]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes);if(0<z&&!c)return h.read-=this.blockSize,p.putBytes(this._partialOutput.getBytes(z-this._partialBytes)),this._partialBytes=z,!0;p.putBytes(this._partialOutput.getBytes(f-this._partialBytes));
this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);J(this._inBlock)};R.gcm.prototype.decrypt=function(h,p,c){var f=h.length();if(f<this.blockSize&&!(c&&0<f))return!0;this.cipher.encrypt(this._inBlock,this._outBlock);J(this._inBlock);this._hashBlock[0]=h.getInt32();this._hashBlock[1]=h.getInt32();this._hashBlock[2]=h.getInt32();this._hashBlock[3]=h.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(h=0;h<this._ints;++h)p.putInt32(this._outBlock[h]^
this._hashBlock[h]);this._cipherLength=f<this.blockSize?this._cipherLength+f%this.blockSize:this._cipherLength+this.blockSize};R.gcm.prototype.afterFinish=function(h,p){var c=!0;p.decrypt&&p.overflow&&h.truncate(this.blockSize-p.overflow);this.tag=l.util.createBuffer();h=this._aDataLength.concat(W(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,h);h=[];this.cipher.encrypt(this._j0,h);for(var f=0;f<this._ints;++f)this.tag.putInt32(this._s[f]^h[f]);this.tag.truncate(this.tag.length()%
(this._tagLength/8));p.decrypt&&this.tag.bytes()!==this._tag&&(c=!1);return c};R.gcm.prototype.multiply=function(h,p){var c=[0,0,0,0];p=p.slice(0);for(var f=0;128>f;++f)h[f/32|0]&1<<31-f%32&&(c[0]^=p[0],c[1]^=p[1],c[2]^=p[2],c[3]^=p[3]),this.pow(p,p);return c};R.gcm.prototype.pow=function(h,p){for(var c=h[3]&1,f=3;0<f;--f)p[f]=h[f]>>>1|(h[f-1]&1)<<31;p[0]=h[0]>>>1;c&&(p[0]^=this._R)};R.gcm.prototype.tableMultiply=function(h){for(var p=[0,0,0,0],c=0;32>c;++c){var f=this._m[c][h[c/8|0]>>>4*(7-c%8)&
15];p[0]^=f[0];p[1]^=f[1];p[2]^=f[2];p[3]^=f[3]}return p};R.gcm.prototype.ghash=function(h,p,c){p[0]^=c[0];p[1]^=c[1];p[2]^=c[2];p[3]^=c[3];return this.tableMultiply(p)};R.gcm.prototype.generateHashTable=function(h,p){var c=8/p,f=4*c;c*=16;for(var r=Array(c),z=0;z<c;++z){var M=[0,0,0,0];M[z/f|0]=1<<p-1<<(f-1-z%f)*p;r[z]=this.generateSubHashTable(this.multiply(M,h),p)}return r};R.gcm.prototype.generateSubHashTable=function(h,p){p=1<<p;var c=p>>>1,f=Array(p);f[c]=h.slice(0);for(var r=c>>>1;0<r;)this.pow(f[2*
r],f[r]=[]),r>>=1;for(r=2;r<c;){for(var z=1;z<r;++z){var M=f[r],A=f[z];f[r+z]=[M[0]^A[0],M[1]^A[1],M[2]^A[2],M[3]^A[3]]}r*=2}f[0]=[0,0,0,0];for(r=c+1;r<p;++r)z=f[r^c],f[r]=[h[0]^z[0],h[1]^z[1],h[2]^z[2],h[3]^z[3]];return f}},function(R,G,E){var u=E(5);E(15);E(25);E(37);E(22);E(49);E(13);E(26);E(7);var J=function(v,n,w,D){var V=u.util.createBuffer(),P=v.length>>1,O=P+(v.length&1),K=v.substr(0,O);O=v.substr(P,O);v=u.util.createBuffer();P=u.hmac.create();w=n+w;var qa=Math.ceil(D/16);n=Math.ceil(D/20);
P.start("MD5",K);K=u.util.createBuffer();v.putBytes(w);for(var ya=0;ya<qa;++ya)P.start(null,null),P.update(v.getBytes()),v.putBuffer(P.digest()),P.start(null,null),P.update(v.bytes()+w),K.putBuffer(P.digest());P.start("SHA1",O);O=u.util.createBuffer();v.clear();v.putBytes(w);for(ya=0;ya<n;++ya)P.start(null,null),P.update(v.getBytes()),v.putBuffer(P.digest()),P.start(null,null),P.update(v.bytes()+w),O.putBuffer(P.digest());V.putBytes(u.util.xorBytes(K.getBytes(),O.getBytes(),D));return V},W=function(v,
n,w){w=!1;try{var D=v.deflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(D);n.length=D.length;w=!0}catch(V){}return w},l=function(v,n,w){w=!1;try{var D=v.inflate(n.fragment.getBytes());n.fragment=u.util.createBuffer(D);n.length=D.length;w=!0}catch(V){}return w},h=function(v,n){var w=0;switch(n){case 1:w=v.getByte();break;case 2:w=v.getInt16();break;case 3:w=v.getInt24();break;case 4:w=v.getInt32()}return u.util.createBuffer(v.getBytes(w))},p=function(v,n,w){v.putInt(w.length(),n<<3);v.putBuffer(w)},
c={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};c.SupportedVersions=[c.Versions.TLS_1_1,c.Versions.TLS_1_0];c.Version=c.SupportedVersions[0];c.MaxFragment=15360;c.ConnectionEnd={server:0,client:1};c.PRFAlgorithm={tls_prf_sha256:0};c.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};c.CipherType={stream:0,block:1,aead:2};c.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};c.CompressionMethod={none:0,deflate:1};c.ContentType=
{change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};c.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};c.Alert={};c.Alert.Level={warning:1,fatal:2};c.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,
unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};c.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};c.CipherSuites={};c.getCipherSuite=function(v){var n=null,w;for(w in c.CipherSuites){var D=c.CipherSuites[w];if(D.id[0]===v.charCodeAt(0)&&
D.id[1]===v.charCodeAt(1)){n=D;break}}return n};c.handleUnexpected=function(v,n){(v.open||v.entity!==c.ConnectionEnd.client)&&v.error(v,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})};c.handleHelloRequest=function(v,n,w){!v.handshaking&&0<v.handshakes&&(c.queue(v,c.createAlert(v,{level:c.Alert.Level.warning,description:c.Alert.Description.no_renegotiation})),c.flush(v));v.process()};c.parseHelloMessage=
function(v,n,w){var D=null,V=v.entity===c.ConnectionEnd.client;if(38>w)v.error(v,{message:V?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});else{n=n.fragment;var P=n.length();D={version:{major:n.getByte(),minor:n.getByte()},random:u.util.createBuffer(n.getBytes(32)),session_id:h(n,1),extensions:[]};V?(D.cipher_suite=n.getBytes(2),D.compression_method=n.getByte()):
(D.cipher_suites=h(n,2),D.compression_methods=h(n,1));P=w-(P-n.length());if(0<P){for(w=h(n,2);0<w.length();)D.extensions.push({type:[w.getByte(),w.getByte()],data:h(w,2)});if(!V)for(w=0;w<D.extensions.length;++w)if(n=D.extensions[w],0===n.type[0]&&0===n.type[1])for(n=h(n.data,2);0<n.length()&&0===n.getByte();)v.session.extensions.server_name.serverNameList.push(h(n,2).getBytes())}if(v.session.version&&(D.version.major!==v.session.version.major||D.version.minor!==v.session.version.minor))return v.error(v,
{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});if(V)v.session.cipherSuite=c.getCipherSuite(D.cipher_suite);else for(w=u.util.createBuffer(D.cipher_suites.bytes());0<w.length()&&(v.session.cipherSuite=c.getCipherSuite(w.getBytes(2)),null===v.session.cipherSuite););if(null===v.session.cipherSuite)return v.error(v,{message:"No cipher suites in common.",send:!0,alert:{level:c.Alert.Level.fatal,
description:c.Alert.Description.handshake_failure},cipherSuite:u.util.bytesToHex(D.cipher_suite)});v.session.compressionMethod=V?D.compression_method:c.CompressionMethod.none}return D};c.createSecurityParameters=function(v,n){var w=v.entity===c.ConnectionEnd.client,D=n.random.bytes();n=w?v.session.sp.client_random:D;w=w?D:c.createRandom().getBytes();v.session.sp={entity:v.entity,prf_algorithm:c.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,
fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:v.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:n,server_random:w}};c.handleServerHello=function(v,n,w){n=c.parseHelloMessage(v,n,w);if(!v.fail){if(n.version.minor<=v.version.minor)v.version.minor=n.version.minor;else return v.error(v,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}});
v.session.version=v.version;w=n.session_id.bytes();0<w.length&&w===v.session.id?(v.expect=A,v.session.resuming=!0,v.session.sp.server_random=n.random.bytes()):(v.expect=f,v.session.resuming=!1,c.createSecurityParameters(v,n));v.session.id=w;v.process()}};c.handleClientHello=function(v,n,w){n=c.parseHelloMessage(v,n,w);if(!v.fail){var D=n.session_id.bytes();w=null;if(v.sessionCache)if(w=v.sessionCache.getSession(D),null===w)D="";else if(w.version.major!==n.version.major||w.version.minor>n.version.minor)w=
null,D="";0===D.length&&(D=u.random.getBytes(32));v.session.id=D;v.session.clientHelloVersion=n.version;v.session.sp={};if(w)v.version=v.session.version=w.version,v.session.sp=w.sp;else{for(D=1;D<c.SupportedVersions.length;++D){var V=c.SupportedVersions[D];if(V.minor<=n.version.minor)break}v.version={major:V.major,minor:V.minor};v.session.version=v.version}null!==w?(v.expect=e,v.session.resuming=!0,v.session.sp.client_random=n.random.bytes()):(v.expect=!1!==v.verifyClient?t:S,v.session.resuming=!1,
c.createSecurityParameters(v,n));v.open=!0;c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createServerHello(v)}));v.session.resuming?(c.queue(v,c.createRecord(v,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),v.state.pending=c.createConnectionState(v),v.state.current.write=v.state.pending.write,c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createFinished(v)}))):(c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createCertificate(v)})),
v.fail||(c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createServerKeyExchange(v)})),!1!==v.verifyClient&&c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createCertificateRequest(v)})),c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createServerHelloDone(v)}))));c.flush(v);v.process()}};c.handleCertificate=function(v,n,w){if(3>w)return v.error(v,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});
w=h(n.fragment,3);n=[];try{for(;0<w.length();){var D=h(w,3);var V=u.asn1.fromDer(D);D=u.pki.certificateFromAsn1(V,!0);n.push(D)}}catch(P){return v.error(v,{message:"Could not parse certificate list.",cause:P,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}D=v.entity===c.ConnectionEnd.client;!D&&!0!==v.verifyClient||0!==n.length?0===n.length?v.expect=D?r:S:(D?v.session.serverCertificate=n[0]:v.session.clientCertificate=n[0],c.verifyCertificateChain(v,n)&&
(v.expect=D?r:S)):v.error(v,{message:D?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});v.process()};c.handleServerKeyExchange=function(v,n,w){if(0<w)return v.error(v,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});v.expect=z;v.process()};c.handleClientKeyExchange=function(v,n,
w){if(48>w)return v.error(v,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unsupported_certificate}});n=h(n.fragment,2).getBytes();w=null;if(v.getPrivateKey)try{w=v.getPrivateKey(v,v.session.serverCertificate),w=u.pki.privateKeyFromPem(w)}catch(P){v.error(v,{message:"Could not get private key.",cause:P,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}if(null===w)return v.error(v,
{message:"No private key set.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});try{var D=v.session.sp;D.pre_master_secret=w.decrypt(n);var V=v.session.clientHelloVersion;if(V.major!==D.pre_master_secret.charCodeAt(0)||V.minor!==D.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.");}catch(P){D.pre_master_secret=u.random.getBytes(48)}v.expect=e;null!==v.session.clientCertificate&&(v.expect=k);v.process()};c.handleCertificateRequest=
function(v,n,w){if(3>w)return v.error(v,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});n=n.fragment;n={certificate_types:h(n,1),certificate_authorities:h(n,2)};v.session.certificateRequest=n;v.expect=M;v.process()};c.handleCertificateVerify=function(v,n,w){if(2>w)return v.error(v,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});
w=n.fragment;w.read-=4;n=w.bytes();w.read+=4;w=h(w,2).getBytes();var D=u.util.createBuffer();D.putBuffer(v.session.md5.digest());D.putBuffer(v.session.sha1.digest());D=D.getBytes();try{if(!v.session.clientCertificate.publicKey.verify(D,w,"NONE"))throw Error("CertificateVerify signature does not match.");v.session.md5.update(n);v.session.sha1.update(n)}catch(V){return v.error(v,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.handshake_failure}})}v.expect=
e;v.process()};c.handleServerHelloDone=function(v,n,w){if(0<w)return v.error(v,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.record_overflow}});if(null===v.serverCertificate&&(n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.insufficient_security}},w=v.verify(v,n.alert.description,0,[]),!0!==w)){if(w||0===w)"object"!==typeof w||
u.util.isArray(w)?"number"===typeof w&&(n.alert.description=w):(w.message&&(n.message=w.message),w.alert&&(n.alert.description=w.alert));return v.error(v,n)}null!==v.session.certificateRequest&&(n=c.createRecord(v,{type:c.ContentType.handshake,data:c.createCertificate(v)}),c.queue(v,n));n=c.createRecord(v,{type:c.ContentType.handshake,data:c.createClientKeyExchange(v)});c.queue(v,n);v.expect=B;n=function(D,V){null!==D.session.certificateRequest&&null!==D.session.clientCertificate&&c.queue(D,c.createRecord(D,
{type:c.ContentType.handshake,data:c.createCertificateVerify(D,V)}));c.queue(D,c.createRecord(D,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()}));D.state.pending=c.createConnectionState(D);D.state.current.write=D.state.pending.write;c.queue(D,c.createRecord(D,{type:c.ContentType.handshake,data:c.createFinished(D)}));D.expect=A;c.flush(D);D.process()};if(null===v.session.certificateRequest||null===v.session.clientCertificate)return n(v,null);c.getClientSignature(v,n)};c.handleChangeCipherSpec=
function(v,n){if(1!==n.fragment.getByte())return v.error(v,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.illegal_parameter}});n=v.entity===c.ConnectionEnd.client;if(v.session.resuming&&n||!v.session.resuming&&!n)v.state.pending=c.createConnectionState(v);v.state.current.read=v.state.pending.read;if(!v.session.resuming&&n||v.session.resuming&&!n)v.state.pending=null;v.expect=n?F:q;v.process()};c.handleFinished=function(v,
n,w){w=n.fragment;w.read-=4;var D=w.bytes();w.read+=4;n=n.fragment.getBytes();w=u.util.createBuffer();w.putBuffer(v.session.md5.digest());w.putBuffer(v.session.sha1.digest());var V=v.entity===c.ConnectionEnd.client;w=J(v.session.sp.master_secret,V?"server finished":"client finished",w.getBytes(),12);if(w.getBytes()!==n)return v.error(v,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.decrypt_error}});v.session.md5.update(D);
v.session.sha1.update(D);if(v.session.resuming&&V||!v.session.resuming&&!V)c.queue(v,c.createRecord(v,{type:c.ContentType.change_cipher_spec,data:c.createChangeCipherSpec()})),v.state.current.write=v.state.pending.write,v.state.pending=null,c.queue(v,c.createRecord(v,{type:c.ContentType.handshake,data:c.createFinished(v)}));v.expect=V?y:H;v.handshaking=!1;++v.handshakes;v.peerCertificate=V?v.session.serverCertificate:v.session.clientCertificate;c.flush(v);v.isConnected=!0;v.connected(v);v.process()};
c.handleAlert=function(v,n){n=n.fragment;n={level:n.getByte(),description:n.getByte()};switch(n.description){case c.Alert.Description.close_notify:var w="Connection closed.";break;case c.Alert.Description.unexpected_message:w="Unexpected message.";break;case c.Alert.Description.bad_record_mac:w="Bad record MAC.";break;case c.Alert.Description.decryption_failed:w="Decryption failed.";break;case c.Alert.Description.record_overflow:w="Record overflow.";break;case c.Alert.Description.decompression_failure:w=
"Decompression failed.";break;case c.Alert.Description.handshake_failure:w="Handshake failure.";break;case c.Alert.Description.bad_certificate:w="Bad certificate.";break;case c.Alert.Description.unsupported_certificate:w="Unsupported certificate.";break;case c.Alert.Description.certificate_revoked:w="Certificate revoked.";break;case c.Alert.Description.certificate_expired:w="Certificate expired.";break;case c.Alert.Description.certificate_unknown:w="Certificate unknown.";break;case c.Alert.Description.illegal_parameter:w=
"Illegal parameter.";break;case c.Alert.Description.unknown_ca:w="Unknown certificate authority.";break;case c.Alert.Description.access_denied:w="Access denied.";break;case c.Alert.Description.decode_error:w="Decode error.";break;case c.Alert.Description.decrypt_error:w="Decrypt error.";break;case c.Alert.Description.export_restriction:w="Export restriction.";break;case c.Alert.Description.protocol_version:w="Unsupported protocol version.";break;case c.Alert.Description.insufficient_security:w="Insufficient security.";
break;case c.Alert.Description.internal_error:w="Internal error.";break;case c.Alert.Description.user_canceled:w="User canceled.";break;case c.Alert.Description.no_renegotiation:w="Renegotiation not supported.";break;default:w="Unknown error."}if(n.description===c.Alert.Description.close_notify)return v.close();v.error(v,{message:w,send:!1,origin:v.entity===c.ConnectionEnd.client?"server":"client",alert:n});v.process()};c.handleHandshake=function(v,n){var w=n.fragment,D=w.getByte(),V=w.getInt24();
if(V>w.length())return v.fragmented=n,n.fragment=u.util.createBuffer(),w.read-=4,v.process();v.fragmented=null;w.read-=4;var P=w.bytes(V+4);w.read+=4;D in ba[v.entity][v.expect]?(v.entity!==c.ConnectionEnd.server||v.open||v.fail||(v.handshaking=!0,v.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:u.md.md5.create(),sha1:u.md.sha1.create()}),D!==c.HandshakeType.hello_request&&D!==c.HandshakeType.certificate_verify&&
D!==c.HandshakeType.finished&&(v.session.md5.update(P),v.session.sha1.update(P)),ba[v.entity][v.expect][D](v,n,V)):c.handleUnexpected(v,n)};c.handleApplicationData=function(v,n){v.data.putBuffer(n.fragment);v.dataReady(v);v.process()};c.handleHeartbeat=function(v,n){var w=n.fragment;n=w.getByte();var D=w.getInt16();w=w.getBytes(D);if(n===c.HeartbeatMessageType.heartbeat_request){if(v.handshaking||D>w.length)return v.process();c.queue(v,c.createRecord(v,{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_response,
w)}));c.flush(v)}else if(n===c.HeartbeatMessageType.heartbeat_response){if(w!==v.expectedHeartbeatPayload)return v.process();v.heartbeatReceived&&v.heartbeatReceived(v,u.util.createBuffer(w))}v.process()};var f=1,r=2,z=3,M=4,A=5,F=6,y=7,B=8,t=1,S=2,k=3,e=4,q=5,H=6;G=c.handleUnexpected;E=c.handleChangeCipherSpec;var g=c.handleAlert,x=c.handleHandshake,I=c.handleApplicationData,Q=c.handleHeartbeat,Z=[];Z[c.ConnectionEnd.client]=[[G,g,x,G,Q],[G,g,x,G,Q],[G,g,x,G,Q],[G,g,x,G,Q],[G,g,x,G,Q],[E,g,G,G,Q],
[G,g,x,G,Q],[G,g,x,I,Q],[G,g,x,G,Q]];Z[c.ConnectionEnd.server]=[[G,g,x,G,Q],[G,g,x,G,Q],[G,g,x,G,Q],[G,g,x,G,Q],[E,g,G,G,Q],[G,g,x,G,Q],[G,g,x,I,Q],[G,g,x,G,Q]];E=c.handleHelloRequest;g=c.handleCertificate;x=c.handleServerKeyExchange;I=c.handleCertificateRequest;Q=c.handleServerHelloDone;var Y=c.handleFinished,ba=[];ba[c.ConnectionEnd.client]=[[G,G,c.handleServerHello,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,g,x,I,Q,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,G,x,I,Q,G,G,G,G,G,G],[E,G,
G,G,G,G,G,G,G,G,G,G,G,I,Q,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,G,G,G,Q,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,Y],[E,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[E,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G]];ba[c.ConnectionEnd.server]=[[G,c.handleClientHello,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,g,G,G,G,G,G,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,c.handleClientKeyExchange,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,c.handleCertificateVerify,
G,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,Y],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G],[G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G]];c.generateKeys=function(v,n){var w=n.client_random+n.server_random;v.session.resuming||(n.master_secret=J(n.pre_master_secret,"master secret",w,48).bytes(),n.pre_master_secret=null);w=n.server_random+n.client_random;var D=2*n.mac_key_length+2*n.enc_key_length;(v=v.version.major===c.Versions.TLS_1_0.major&&v.version.minor===
c.Versions.TLS_1_0.minor)&&(D+=2*n.fixed_iv_length);w=J(n.master_secret,"key expansion",w,D);D={client_write_MAC_key:w.getBytes(n.mac_key_length),server_write_MAC_key:w.getBytes(n.mac_key_length),client_write_key:w.getBytes(n.enc_key_length),server_write_key:w.getBytes(n.enc_key_length)};v&&(D.client_write_IV=w.getBytes(n.fixed_iv_length),D.server_write_IV=w.getBytes(n.fixed_iv_length));return D};c.createConnectionState=function(v){var n=v.entity===c.ConnectionEnd.client,w=function(){var V={sequenceNumber:[0,
0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(P){return!0},compressionState:null,compressFunction:function(P){return!0},updateSequenceNumber:function(){4294967295===V.sequenceNumber[1]?(V.sequenceNumber[1]=0,++V.sequenceNumber[0]):++V.sequenceNumber[1]}};return V},D={read:w(),write:w()};D.read.update=function(V,P){D.read.cipherFunction(P,D.read)?D.read.compressFunction(V,P,D.read)||V.error(V,{message:"Could not decompress record.",send:!0,alert:{level:c.Alert.Level.fatal,
description:c.Alert.Description.decompression_failure}}):V.error(V,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_record_mac}});return!V.fail};D.write.update=function(V,P){D.write.compressFunction(V,P,D.write)?D.write.cipherFunction(P,D.write)||V.error(V,{message:"Could not encrypt record.",send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):V.error(V,{message:"Could not compress record.",
send:!1,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}});return!V.fail};if(v.session)switch(w=v.session.sp,v.session.cipherSuite.initSecurityParameters(w),w.keys=c.generateKeys(v,w),D.read.macKey=n?w.keys.server_write_MAC_key:w.keys.client_write_MAC_key,D.write.macKey=n?w.keys.client_write_MAC_key:w.keys.server_write_MAC_key,v.session.cipherSuite.initConnectionState(D,v,w),w.compression_algorithm){case c.CompressionMethod.none:break;case c.CompressionMethod.deflate:D.read.compressFunction=
l;D.write.compressFunction=W;break;default:throw Error("Unsupported compression algorithm.");}return D};c.createRandom=function(){var v=new Date;v=+v+6E4*v.getTimezoneOffset();var n=u.util.createBuffer();n.putInt32(v);n.putBytes(u.random.getBytes(28));return n};c.createRecord=function(v,n){return n.data?{type:n.type,version:{major:v.version.major,minor:v.version.minor},length:n.data.length(),fragment:n.data}:null};c.createAlert=function(v,n){var w=u.util.createBuffer();w.putByte(n.level);w.putByte(n.description);
return c.createRecord(v,{type:c.ContentType.alert,data:w})};c.createClientHello=function(v){v.session.clientHelloVersion={major:v.version.major,minor:v.version.minor};for(var n=u.util.createBuffer(),w=0;w<v.cipherSuites.length;++w){var D=v.cipherSuites[w];n.putByte(D.id[0]);n.putByte(D.id[1])}var V=n.length();w=u.util.createBuffer();w.putByte(c.CompressionMethod.none);var P=w.length();D=u.util.createBuffer();if(v.virtualHost){var O=u.util.createBuffer();O.putByte(0);O.putByte(0);var K=u.util.createBuffer();
K.putByte(0);p(K,2,u.util.createBuffer(v.virtualHost));var qa=u.util.createBuffer();p(qa,2,K);p(O,2,qa);D.putBuffer(O)}O=D.length();0<O&&(O+=2);K=v.session.id;V=K.length+1+2+4+28+2+V+1+P+O;P=u.util.createBuffer();P.putByte(c.HandshakeType.client_hello);P.putInt24(V);P.putByte(v.version.major);P.putByte(v.version.minor);P.putBytes(v.session.sp.client_random);p(P,1,u.util.createBuffer(K));p(P,2,n);p(P,1,w);0<O&&p(P,2,D);return P};c.createServerHello=function(v){var n=v.session.id,w=n.length+1+2+4+28+
2+1,D=u.util.createBuffer();D.putByte(c.HandshakeType.server_hello);D.putInt24(w);D.putByte(v.version.major);D.putByte(v.version.minor);D.putBytes(v.session.sp.server_random);p(D,1,u.util.createBuffer(n));D.putByte(v.session.cipherSuite.id[0]);D.putByte(v.session.cipherSuite.id[1]);D.putByte(v.session.compressionMethod);return D};c.createCertificate=function(v){var n=v.entity===c.ConnectionEnd.client,w=null;v.getCertificate&&(w=v.getCertificate(v,n?v.session.certificateRequest:v.session.extensions.server_name.serverNameList));
var D=u.util.createBuffer();if(null!==w)try{u.util.isArray(w)||(w=[w]);for(var V=null,P=0;P<w.length;++P){var O=u.pem.decode(w[P])[0];if("CERTIFICATE"!==O.type&&"X509 CERTIFICATE"!==O.type&&"TRUSTED CERTIFICATE"!==O.type){var K=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');K.headerType=O.type;throw K;}if(O.procType&&"ENCRYPTED"===O.procType.type)throw Error("Could not convert certificate from PEM; PEM is encrypted.");
var qa=u.util.createBuffer(O.body);null===V&&(V=u.asn1.fromDer(qa.bytes(),!1));var ya=u.util.createBuffer();p(ya,3,qa);D.putBuffer(ya)}w=u.pki.certificateFromAsn1(V);n?v.session.clientCertificate=w:v.session.serverCertificate=w}catch(xa){return v.error(v,{message:"Could not send certificate list.",cause:xa,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate}})}v=3+D.length();n=u.util.createBuffer();n.putByte(c.HandshakeType.certificate);n.putInt24(v);p(n,3,D);
return n};c.createClientKeyExchange=function(v){var n=u.util.createBuffer();n.putByte(v.session.clientHelloVersion.major);n.putByte(v.session.clientHelloVersion.minor);n.putBytes(u.random.getBytes(46));var w=v.session.sp;w.pre_master_secret=n.getBytes();n=v.session.serverCertificate.publicKey.encrypt(w.pre_master_secret);v=n.length+2;w=u.util.createBuffer();w.putByte(c.HandshakeType.client_key_exchange);w.putInt24(v);w.putInt16(n.length);w.putBytes(n);return w};c.createServerKeyExchange=function(v){return u.util.createBuffer()};
c.getClientSignature=function(v,n){var w=u.util.createBuffer();w.putBuffer(v.session.md5.digest());w.putBuffer(v.session.sha1.digest());w=w.getBytes();v.getSignature=v.getSignature||function(D,V,P){var O=null;if(D.getPrivateKey)try{O=D.getPrivateKey(D,D.session.clientCertificate),O=u.pki.privateKeyFromPem(O)}catch(K){D.error(D,{message:"Could not get private key.",cause:K,send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}})}null===O?D.error(D,{message:"No private key set.",
send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.internal_error}}):V=O.sign(V,null);P(D,V)};v.getSignature(v,w,n)};c.createCertificateVerify=function(v,n){v=n.length+2;var w=u.util.createBuffer();w.putByte(c.HandshakeType.certificate_verify);w.putInt24(v);w.putInt16(n.length);w.putBytes(n);return w};c.createCertificateRequest=function(v){var n=u.util.createBuffer();n.putByte(1);var w=u.util.createBuffer();for(V in v.caStore.certs){var D=u.pki.distinguishedNameToAsn1(v.caStore.certs[V].subject);
D=u.asn1.toDer(D);w.putInt16(D.length());w.putBuffer(D)}v=1+n.length()+2+w.length();var V=u.util.createBuffer();V.putByte(c.HandshakeType.certificate_request);V.putInt24(v);p(V,1,n);p(V,2,w);return V};c.createServerHelloDone=function(v){v=u.util.createBuffer();v.putByte(c.HandshakeType.server_hello_done);v.putInt24(0);return v};c.createChangeCipherSpec=function(){var v=u.util.createBuffer();v.putByte(1);return v};c.createFinished=function(v){var n=u.util.createBuffer();n.putBuffer(v.session.md5.digest());
n.putBuffer(v.session.sha1.digest());n=J(v.session.sp.master_secret,v.entity===c.ConnectionEnd.client?"client finished":"server finished",n.getBytes(),12);v=u.util.createBuffer();v.putByte(c.HandshakeType.finished);v.putInt24(n.length());v.putBuffer(n);return v};c.createHeartbeat=function(v,n,w){"undefined"===typeof w&&(w=n.length);var D=u.util.createBuffer();D.putByte(v);D.putInt16(w);D.putBytes(n);v=D.length();D.putBytes(u.random.getBytes(Math.max(16,v-w-3)));return D};c.queue=function(v,n){if(n&&
(0!==n.fragment.length()||n.type!==c.ContentType.handshake&&n.type!==c.ContentType.alert&&n.type!==c.ContentType.change_cipher_spec)){if(n.type===c.ContentType.handshake){var w=n.fragment.bytes();v.session.md5.update(w);v.session.sha1.update(w)}if(n.fragment.length()<=c.MaxFragment)w=[n];else{w=[];for(var D=n.fragment.bytes();D.length>c.MaxFragment;)w.push(c.createRecord(v,{type:n.type,data:u.util.createBuffer(D.slice(0,c.MaxFragment))})),D=D.slice(c.MaxFragment);0<D.length&&w.push(c.createRecord(v,
{type:n.type,data:u.util.createBuffer(D)}))}for(n=0;n<w.length&&!v.fail;++n)D=w[n],v.state.current.write.update(v,D)&&v.records.push(D)}};c.flush=function(v){for(var n=0;n<v.records.length;++n){var w=v.records[n];v.tlsData.putByte(w.type);v.tlsData.putByte(w.version.major);v.tlsData.putByte(w.version.minor);v.tlsData.putInt16(w.fragment.length());v.tlsData.putBuffer(v.records[n].fragment)}v.records=[];return v.tlsDataReady(v)};var ha=function(v){switch(v){case !0:return!0;case u.pki.certificateError.bad_certificate:return c.Alert.Description.bad_certificate;
case u.pki.certificateError.unsupported_certificate:return c.Alert.Description.unsupported_certificate;case u.pki.certificateError.certificate_revoked:return c.Alert.Description.certificate_revoked;case u.pki.certificateError.certificate_expired:return c.Alert.Description.certificate_expired;case u.pki.certificateError.certificate_unknown:return c.Alert.Description.certificate_unknown;case u.pki.certificateError.unknown_ca:return c.Alert.Description.unknown_ca;default:return c.Alert.Description.bad_certificate}},
ia=function(v){switch(v){case !0:return!0;case c.Alert.Description.bad_certificate:return u.pki.certificateError.bad_certificate;case c.Alert.Description.unsupported_certificate:return u.pki.certificateError.unsupported_certificate;case c.Alert.Description.certificate_revoked:return u.pki.certificateError.certificate_revoked;case c.Alert.Description.certificate_expired:return u.pki.certificateError.certificate_expired;case c.Alert.Description.certificate_unknown:return u.pki.certificateError.certificate_unknown;
case c.Alert.Description.unknown_ca:return u.pki.certificateError.unknown_ca;default:return u.pki.certificateError.bad_certificate}};c.verifyCertificateChain=function(v,n){try{var w={},D;for(D in v.verifyOptions)w[D]=v.verifyOptions[D];w.verify=function(V,P,O){ha(V);P=v.verify(v,V,P,O);if(!0!==P){if("object"===typeof P&&!u.util.isArray(P))throw V=Error("The application rejected the certificate."),V.send=!0,V.alert={level:c.Alert.Level.fatal,description:c.Alert.Description.bad_certificate},P.message&&
(V.message=P.message),P.alert&&(V.alert.description=P.alert),V;P!==V&&(P=ia(P))}return P};u.pki.verifyCertificateChain(v.caStore,n,w)}catch(V){n=V;if("object"!==typeof n||u.util.isArray(n))n={send:!0,alert:{level:c.Alert.Level.fatal,description:ha(V)}};"send"in n||(n.send=!0);"alert"in n||(n.alert={level:c.Alert.Level.fatal,description:ha(n.error)});v.error(v,n)}return!v.fail};c.createSessionCache=function(v,n){var w=null;if(v&&v.getSession&&v.setSession&&v.order)w=v;else{w={};w.cache=v||{};w.capacity=
Math.max(n||100,1);w.order=[];for(var D in v)w.order.length<=n?w.order.push(D):delete v[D];w.getSession=function(V){var P=null,O=null;V?O=u.util.bytesToHex(V):0<w.order.length&&(O=w.order[0]);if(null!==O&&O in w.cache){P=w.cache[O];delete w.cache[O];for(var K in w.order)if(w.order[K]===O){w.order.splice(K,1);break}}return P};w.setSession=function(V,P){if(w.order.length===w.capacity){var O=w.order.shift();delete w.cache[O]}O=u.util.bytesToHex(V);w.order.push(O);w.cache[O]=P}}return w};c.createConnection=
function(v){var n=null;n=v.caStore?u.util.isArray(v.caStore)?u.pki.createCaStore(v.caStore):v.caStore:u.pki.createCaStore();var w=v.cipherSuites||null;if(null===w){w=[];for(var D in c.CipherSuites)w.push(c.CipherSuites[D])}D=v.server?c.ConnectionEnd.server:c.ConnectionEnd.client;var V=v.sessionCache?c.createSessionCache(v.sessionCache):null,P={version:{major:c.Version.major,minor:c.Version.minor},entity:D,sessionId:v.sessionId,caStore:n,sessionCache:V,cipherSuites:w,connected:v.connected,virtualHost:v.virtualHost||
null,verifyClient:v.verifyClient||!1,verify:v.verify||function(O,K,qa,ya){return K},verifyOptions:v.verifyOptions||{},getCertificate:v.getCertificate||null,getPrivateKey:v.getPrivateKey||null,getSignature:v.getSignature||null,input:u.util.createBuffer(),tlsData:u.util.createBuffer(),data:u.util.createBuffer(),tlsDataReady:v.tlsDataReady,dataReady:v.dataReady,heartbeatReceived:v.heartbeatReceived,closed:v.closed,error:function(O,K){K.origin=K.origin||(O.entity===c.ConnectionEnd.client?"client":"server");
K.send&&(c.queue(O,c.createAlert(O,K.alert)),c.flush(O));var qa=!1!==K.fatal;qa&&(O.fail=!0);v.error(O,K);qa&&O.close(!1)},deflate:v.deflate||null,inflate:v.inflate||null,reset:function(O){P.version={major:c.Version.major,minor:c.Version.minor};P.record=null;P.session=null;P.peerCertificate=null;P.state={pending:null,current:null};P.expect=0;P.fragmented=null;P.records=[];P.open=!1;P.handshakes=0;P.handshaking=!1;P.isConnected=!1;P.fail=!(O||"undefined"===typeof O);P.input.clear();P.tlsData.clear();
P.data.clear();P.state.current=c.createConnectionState(P)}};P.reset();P.handshake=function(O){if(P.entity!==c.ConnectionEnd.client)P.error(P,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(P.handshaking)P.error(P,{message:"Handshake already in progress.",fatal:!1});else{P.fail&&!P.open&&0===P.handshakes&&(P.fail=!1);P.handshaking=!0;O=O||"";var K=null;0<O.length&&(P.sessionCache&&(K=P.sessionCache.getSession(O)),null===K&&(O=""));0===O.length&&P.sessionCache&&(K=P.sessionCache.getSession(),
null!==K&&(O=K.id));P.session={id:O,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:u.md.md5.create(),sha1:u.md.sha1.create()};K&&(P.version=K.version,P.session.sp=K.sp);P.session.sp.client_random=c.createRandom().getBytes();P.open=!0;c.queue(P,c.createRecord(P,{type:c.ContentType.handshake,data:c.createClientHello(P)}));c.flush(P)}};P.process=function(O){var K=0;O&&P.input.putBytes(O);if(!P.fail){null!==P.record&&
P.record.ready&&P.record.fragment.isEmpty()&&(P.record=null);if(null===P.record){K=0;O=P.input;var qa=O.length();5>qa?K=5-qa:(P.record={type:O.getByte(),version:{major:O.getByte(),minor:O.getByte()},length:O.getInt16(),fragment:u.util.createBuffer(),ready:!1},(O=P.record.version.major===P.version.major)&&P.session&&P.session.version&&(O=P.record.version.minor===P.version.minor),O||P.error(P,{message:"Incompatible TLS version.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.protocol_version}}))}if(!P.fail&&
null!==P.record&&!P.record.ready){K=P;O=0;qa=K.input;var ya=qa.length();ya<K.record.length?O=K.record.length-ya:(K.record.fragment.putBytes(qa.getBytes(K.record.length)),qa.compact(),K.state.current.read.update(K,K.record)&&(null!==K.fragmented&&(K.fragmented.type===K.record.type?(K.fragmented.fragment.putBuffer(K.record.fragment),K.record=K.fragmented):K.error(K,{message:"Invalid fragmented record.",send:!0,alert:{level:c.Alert.Level.fatal,description:c.Alert.Description.unexpected_message}})),K.record.ready=
!0));K=O}if(!P.fail&&null!==P.record&&P.record.ready)if(O=P.record,qa=O.type-c.ContentType.change_cipher_spec,ya=Z[P.entity][P.expect],qa in ya)ya[qa](P,O);else c.handleUnexpected(P,O)}return K};P.prepare=function(O){c.queue(P,c.createRecord(P,{type:c.ContentType.application_data,data:u.util.createBuffer(O)}));return c.flush(P)};P.prepareHeartbeatRequest=function(O,K){O instanceof u.util.ByteBuffer&&(O=O.bytes());"undefined"===typeof K&&(K=O.length);P.expectedHeartbeatPayload=O;c.queue(P,c.createRecord(P,
{type:c.ContentType.heartbeat,data:c.createHeartbeat(c.HeartbeatMessageType.heartbeat_request,O,K)}));return c.flush(P)};P.close=function(O){if(!P.fail&&P.sessionCache&&P.session){var K={id:P.session.id,version:P.session.version,sp:P.session.sp};K.sp.keys=null;P.sessionCache.setSession(K.id,K)}if(P.open){P.open=!1;P.input.clear();if(P.isConnected||P.handshaking)P.isConnected=P.handshaking=!1,c.queue(P,c.createAlert(P,{level:c.Alert.Level.warning,description:c.Alert.Description.close_notify})),c.flush(P);
P.closed(P)}P.reset(O)};return P};R.exports=u.tls=u.tls||{};for(var na in c)"function"!==typeof c[na]&&(u.tls[na]=c[na]);u.tls.prf_tls1=J;u.tls.hmac_sha1=function(v,n,w){var D=u.hmac.create();D.start("SHA1",v);v=u.util.createBuffer();v.putInt32(n[0]);v.putInt32(n[1]);v.putByte(w.type);v.putByte(w.version.major);v.putByte(w.version.minor);v.putInt16(w.length);v.putBytes(w.fragment.bytes());D.update(v.getBytes());return D.digest().getBytes()};u.tls.createSessionCache=c.createSessionCache;u.tls.createConnection=
c.createConnection},function(R,G,E){var u=E(5);E(15);E(21);E(50);E(22);E(38);E(56);E(41);E(33);E(7);E(40);var J=u.asn1,W=R.exports=u.pki=u.pki||{};W.pemToDer=function(l){l=u.pem.decode(l)[0];if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert PEM to DER; PEM is encrypted.");return u.util.createBuffer(l.body)};W.privateKeyFromPem=function(l){l=u.pem.decode(l)[0];if("PRIVATE KEY"!==l.type&&"RSA PRIVATE KEY"!==l.type){var h=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');
h.headerType=l.type;throw h;}if(l.procType&&"ENCRYPTED"===l.procType.type)throw Error("Could not convert private key from PEM; PEM is encrypted.");l=J.fromDer(l.body);return W.privateKeyFromAsn1(l)};W.privateKeyToPem=function(l,h){l={type:"RSA PRIVATE KEY",body:J.toDer(W.privateKeyToAsn1(l)).getBytes()};return u.pem.encode(l,{maxline:h})};W.privateKeyInfoToPem=function(l,h){l={type:"PRIVATE KEY",body:J.toDer(l).getBytes()};return u.pem.encode(l,{maxline:h})}},function(R,G,E){function u(A,F){return A.start().update(F).digest().getBytes()}
function J(A){if(A){var F=c.oids[p.derToOid(A)];if(!F)throw F=Error("Unsupported PRF OID."),F.oid=A,F.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],F;}else F="hmacWithSHA1";return W(F)}function W(A){var F=l.md;switch(A){case "hmacWithSHA224":F=l.md.sha512;case "hmacWithSHA1":case "hmacWithSHA256":case "hmacWithSHA384":case "hmacWithSHA512":A=A.substr(8).toLowerCase();break;default:throw F=Error("Unsupported PRF algorithm."),F.algorithm=A,F.supported=
["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],F;}if(!(F&&A in F))throw Error("Unknown hash algorithm: "+A);return F[A].create()}var l=E(5);E(20);E(15);E(32);E(17);E(21);E(38);E(22);E(13);E(53);E(33);E(7);if("undefined"===typeof h)var h=l.jsbn.BigInteger;var p=l.asn1,c=l.pki=l.pki||{};R.exports=c.pbe=l.pbe=l.pbe||{};var f=c.oids,r={name:"EncryptedPrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",
tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},z={name:"PBES2Algorithms",tagClass:p.Class.UNIVERSAL,
type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",
tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",
tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},M={name:"pkcs-12PbeParams",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,
capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"iterations"}]};c.encryptPrivateKeyInfo=function(A,F,y){y=y||{};y.saltSize=y.saltSize||8;y.count=y.count||2048;y.algorithm=y.algorithm||"aes128";y.prfAlgorithm=y.prfAlgorithm||"sha1";var B=l.random.getBytesSync(y.saltSize),t=y.count,S=p.integerToDer(t),k;if(0===y.algorithm.indexOf("aes")||"des"===y.algorithm){switch(y.algorithm){case "aes128":var e=k=16;var q=f["aes128-CBC"];var H=
l.aes.createEncryptionCipher;break;case "aes192":k=24;e=16;q=f["aes192-CBC"];H=l.aes.createEncryptionCipher;break;case "aes256":k=32;e=16;q=f["aes256-CBC"];H=l.aes.createEncryptionCipher;break;case "des":e=k=8;q=f.desCBC;H=l.des.createEncryptionCipher;break;default:throw B=Error("Cannot encrypt private key. Unknown encryption algorithm."),B.algorithm=y.algorithm,B;}y="hmacWith"+y.prfAlgorithm.toUpperCase();var g=W(y);g=l.pkcs5.pbkdf2(F,B,t,k,g);F=l.random.getBytesSync(e);t=H(g);t.start(F);t.update(p.toDer(A));
t.finish();A=t.output.getBytes();B=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,B),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,S.getBytes())]);"hmacWithSHA1"!==y&&B.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,l.util.hexToBytes(k.toString(16))),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(c.oids[y]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]));B=p.create(p.Class.UNIVERSAL,
p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(f.pkcs5PBES2).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(f.pkcs5PBKDF2).getBytes()),B]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(q).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,F)])])])}else if("3des"===y.algorithm)k=24,q=new l.util.ByteBuffer(B),
g=c.pbe.generatePkcs12Key(F,q,1,t,k),F=c.pbe.generatePkcs12Key(F,q,2,t,k),t=l.des.createEncryptionCipher(g),t.start(F),t.update(p.toDer(A)),t.finish(),A=t.output.getBytes(),B=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(f["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,B),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,S.getBytes())])]);else throw B=Error("Cannot encrypt private key. Unknown encryption algorithm."),
B.algorithm=y.algorithm,B;return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[B,p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,A)])};c.decryptPrivateKeyInfo=function(A,F){var y=null,B={},t=[];if(!p.validate(A,r,B,t))throw y=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),y.errors=t,y;t=p.derToOid(B.encryptionOid);F=c.pbe.getCipher(t,B.encryptionParams,F);B=l.util.createBuffer(B.encryptedData);F.update(B);F.finish()&&(y=p.fromDer(F.output));
return y};c.encryptedPrivateKeyToPem=function(A,F){A={type:"ENCRYPTED PRIVATE KEY",body:p.toDer(A).getBytes()};return l.pem.encode(A,{maxline:F})};c.encryptedPrivateKeyFromPem=function(A){A=l.pem.decode(A)[0];if("ENCRYPTED PRIVATE KEY"!==A.type){var F=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');F.headerType=A.type;throw F;}if(A.procType&&"ENCRYPTED"===A.procType.type)throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");
return p.fromDer(A.body)};c.encryptRsaPrivateKey=function(A,F,y){y=y||{};if(!y.legacy)return A=c.wrapRsaPrivateKey(c.privateKeyToAsn1(A)),A=c.encryptPrivateKeyInfo(A,F,y),c.encryptedPrivateKeyToPem(A);switch(y.algorithm){case "aes128":y="AES-128-CBC";var B=16;var t=l.random.getBytesSync(16);var S=l.aes.createEncryptionCipher;break;case "aes192":y="AES-192-CBC";B=24;t=l.random.getBytesSync(16);S=l.aes.createEncryptionCipher;break;case "aes256":y="AES-256-CBC";B=32;t=l.random.getBytesSync(16);S=l.aes.createEncryptionCipher;
break;case "3des":y="DES-EDE3-CBC";B=24;t=l.random.getBytesSync(8);S=l.des.createEncryptionCipher;break;case "des":y="DES-CBC";B=8;t=l.random.getBytesSync(8);S=l.des.createEncryptionCipher;break;default:throw A=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+y.algorithm+'".'),A.algorithm=y.algorithm,A;}F=l.pbe.opensslDeriveBytes(F,t.substr(0,8),B);F=S(F);F.start(t);F.update(p.toDer(c.privateKeyToAsn1(A)));F.finish();A={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},
dekInfo:{algorithm:y,parameters:l.util.bytesToHex(t).toUpperCase()},body:F.output.getBytes()};return l.pem.encode(A)};c.decryptRsaPrivateKey=function(A,F){var y=null;A=l.pem.decode(A)[0];if("ENCRYPTED PRIVATE KEY"!==A.type&&"PRIVATE KEY"!==A.type&&"RSA PRIVATE KEY"!==A.type)throw F=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".'),F.headerType=F,F;if(A.procType&&"ENCRYPTED"===A.procType.type){switch(A.dekInfo.algorithm){case "DES-CBC":var B=
8;var t=l.des.createDecryptionCipher;break;case "DES-EDE3-CBC":B=24;t=l.des.createDecryptionCipher;break;case "AES-128-CBC":B=16;t=l.aes.createDecryptionCipher;break;case "AES-192-CBC":B=24;t=l.aes.createDecryptionCipher;break;case "AES-256-CBC":B=32;t=l.aes.createDecryptionCipher;break;case "RC2-40-CBC":B=5;t=function(k){return l.rc2.createDecryptionCipher(k,40)};break;case "RC2-64-CBC":B=8;t=function(k){return l.rc2.createDecryptionCipher(k,64)};break;case "RC2-128-CBC":B=16;t=function(k){return l.rc2.createDecryptionCipher(k,
128)};break;default:throw F=Error('Could not decrypt private key; unsupported encryption algorithm "'+A.dekInfo.algorithm+'".'),F.algorithm=A.dekInfo.algorithm,F;}var S=l.util.hexToBytes(A.dekInfo.parameters);B=l.pbe.opensslDeriveBytes(F,S.substr(0,8),B);t=t(B);t.start(S);t.update(l.util.createBuffer(A.body));if(t.finish())y=t.output.getBytes();else return y}else y=A.body;y="ENCRYPTED PRIVATE KEY"===A.type?c.decryptPrivateKeyInfo(p.fromDer(y),F):p.fromDer(y);null!==y&&(y=c.privateKeyFromAsn1(y));
return y};c.pbe.generatePkcs12Key=function(A,F,y,B,t,S){var k,e;if("undefined"===typeof S||null===S){if(!("sha1"in l.md))throw Error('"sha1" hash algorithm unavailable.');S=l.md.sha1.create()}var q=S.digestLength,H=S.blockLength,g=new l.util.ByteBuffer,x=new l.util.ByteBuffer;if(null!==A&&void 0!==A){for(e=0;e<A.length;e++)x.putInt16(A.charCodeAt(e));x.putInt16(0)}A=x.length();var I=F.length(),Q=new l.util.ByteBuffer;Q.fillWithByte(y,H);var Z=H*Math.ceil(I/H);y=new l.util.ByteBuffer;for(e=0;e<Z;e++)y.putByte(F.at(e%
I));Z=H*Math.ceil(A/H);F=new l.util.ByteBuffer;for(e=0;e<Z;e++)F.putByte(x.at(e%A));x=y;x.putBuffer(F);F=Math.ceil(t/q);for(y=1;y<=F;y++){Z=new l.util.ByteBuffer;Z.putBytes(Q.bytes());Z.putBytes(x.bytes());for(e=0;e<B;e++)S.start(),S.update(Z.getBytes()),Z=S.digest();var Y=new l.util.ByteBuffer;for(e=0;e<H;e++)Y.putByte(Z.at(e%q));var ba=Math.ceil(I/H)+Math.ceil(A/H),ha=new l.util.ByteBuffer;for(k=0;k<ba;k++){var ia=new l.util.ByteBuffer(x.getBytes(H)),na=511;for(e=Y.length()-1;0<=e;e--)na>>=8,na+=
Y.at(e)+ia.at(e),ia.setAt(e,na&255);ha.putBuffer(ia)}x=ha;g.putBuffer(Z)}g.truncate(g.length()-t);return g};c.pbe.getCipher=function(A,F,y){switch(A){case c.oids.pkcs5PBES2:return c.pbe.getCipherForPBES2(A,F,y);case c.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case c.oids["pbewithSHAAnd40BitRC2-CBC"]:return c.pbe.getCipherForPKCS12PBE(A,F,y);default:throw F=Error("Cannot read encrypted PBE data block. Unsupported OID."),F.oid=A,F.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],
F;}};c.pbe.getCipherForPBES2=function(A,F,y){var B={};A=[];if(!p.validate(F,z,B,A)){var t=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");t.errors=A;throw t;}A=p.derToOid(B.kdfOid);if(A!==c.oids.pkcs5PBKDF2)throw t=Error("Cannot read encrypted private key. Unsupported key derivation function OID."),t.oid=A,t.supportedOids=["pkcs5PBKDF2"],t;A=p.derToOid(B.encOid);if(A!==c.oids["aes128-CBC"]&&A!==c.oids["aes192-CBC"]&&A!==
c.oids["aes256-CBC"]&&A!==c.oids["des-EDE3-CBC"]&&A!==c.oids.desCBC)throw t=Error("Cannot read encrypted private key. Unsupported encryption scheme OID."),t.oid=A,t.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],t;F=B.kdfSalt;var S=l.util.createBuffer(B.kdfIterationCount);S=S.getInt(S.length()<<3);switch(c.oids[A]){case "aes128-CBC":var k=16;t=l.aes.createDecryptionCipher;break;case "aes192-CBC":k=24;t=l.aes.createDecryptionCipher;break;case "aes256-CBC":k=32;t=l.aes.createDecryptionCipher;
break;case "des-EDE3-CBC":k=24;t=l.des.createDecryptionCipher;break;case "desCBC":k=8,t=l.des.createDecryptionCipher}A=J(B.prfOid);y=l.pkcs5.pbkdf2(y,F,S,k,A);B=B.encIv;t=t(y);t.start(B);return t};c.pbe.getCipherForPKCS12PBE=function(A,F,y){var B={},t=[];if(!p.validate(F,M,B,t))throw y=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo."),y.errors=t,y;t=l.util.createBuffer(B.salt);F=l.util.createBuffer(B.iterations);F=F.getInt(F.length()<<
3);switch(A){case c.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var S=24;var k=8;A=l.des.startDecrypting;break;case c.oids["pbewithSHAAnd40BitRC2-CBC"]:S=5;k=8;A=function(e,q){e=l.rc2.createDecryptionCipher(e,40);e.start(q,null);return e};break;default:throw y=Error("Cannot read PKCS #12 PBE data block. Unsupported OID."),y.oid=A,y;}B=J(B.prfOid);S=c.pbe.generatePkcs12Key(y,t,1,F,S,B);B.start();y=c.pbe.generatePkcs12Key(y,t,2,F,k,B);return A(S,y)};c.pbe.opensslDeriveBytes=function(A,F,y,B){if("undefined"===
typeof B||null===B){if(!("md5"in l.md))throw Error('"md5" hash algorithm unavailable.');B=l.md.md5.create()}null===F&&(F="");for(var t=[u(B,A+F)],S=16,k=1;S<y;++k,S+=16)t.push(u(B,t[k-1]+A+F));return t.join("").substr(0,y)}},function(R,G,E){function u(p,c,f){for(var r,z,M,A,F,y,B,t,S,k,e,q,H,g=f.length();64<=g;){for(F=0;16>F;++F)c[F]=f.getInt32();for(;64>F;++F)r=c[F-2],r=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,z=c[F-15],z=(z>>>7|z<<25)^(z>>>18|z<<14)^z>>>3,c[F]=r+c[F-7]+z+c[F-16]|0;y=p.h0;B=p.h1;t=p.h2;
S=p.h3;k=p.h4;e=p.h5;q=p.h6;H=p.h7;for(F=0;64>F;++F)r=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),M=q^k&(e^q),z=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),A=y&B|t&(y^B),r=H+r+M+h[F]+c[F],z+=A,H=q,q=e,e=k,k=S+r>>>0,S=t,t=B,B=y,y=r+z>>>0;p.h0=p.h0+y|0;p.h1=p.h1+B|0;p.h2=p.h2+t|0;p.h3=p.h3+S|0;p.h4=p.h4+k|0;p.h5=p.h5+e|0;p.h6=p.h6+q|0;p.h7=p.h7+H|0;g-=64}}var J=E(5);E(17);E(7);R=R.exports=J.sha256=J.sha256||{};J.md.sha256=J.md.algorithms.sha256=R;R.create=function(){l||(W=String.fromCharCode(128),W+=
J.util.fillString(String.fromCharCode(0),64),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,
3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=!0);var p=null,c=J.util.createBuffer(),f=Array(64),r={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){r.messageLength=0;r.fullMessageLength=r.messageLength64=[];for(var z=r.messageLengthSize/4,M=
0;M<z;++M)r.fullMessageLength.push(0);c=J.util.createBuffer();p={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return r}};r.start();r.update=function(z,M){"utf8"===M&&(z=J.util.encodeUtf8(z));M=z.length;r.messageLength+=M;M=[M/4294967296>>>0,M>>>0];for(var A=r.fullMessageLength.length-1;0<=A;--A)r.fullMessageLength[A]+=M[1],M[1]=M[0]+(r.fullMessageLength[A]/4294967296>>>0),r.fullMessageLength[A]>>>=0,M[0]=M[1]/4294967296>>>0;c.putBytes(z);
u(p,f,c);(2048<c.read||0===c.length())&&c.compact();return r};r.digest=function(){var z=J.util.createBuffer();z.putBytes(c.bytes());z.putBytes(W.substr(0,r.blockLength-(r.fullMessageLength[r.fullMessageLength.length-1]+r.messageLengthSize&r.blockLength-1)));for(var M,A,F=8*r.fullMessageLength[0],y=0;y<r.fullMessageLength.length-1;++y)M=8*r.fullMessageLength[y+1],A=M/4294967296>>>0,F+=A,z.putInt32(F>>>0),F=M>>>0;z.putInt32(F);M={h0:p.h0,h1:p.h1,h2:p.h2,h3:p.h3,h4:p.h4,h5:p.h5,h6:p.h6,h7:p.h7};u(M,
f,z);z=J.util.createBuffer();z.putInt32(M.h0);z.putInt32(M.h1);z.putInt32(M.h2);z.putInt32(M.h3);z.putInt32(M.h4);z.putInt32(M.h5);z.putInt32(M.h6);z.putInt32(M.h7);return z};return r};var W=null,l=!1,h=null},function(R,G,E){(function(u){var J=E(5);E(7);var W=null;!J.util.isNodejs||J.options.usePureJavaScript||u.versions["node-webkit"]||(W=E(39));(R.exports=J.prng=J.prng||{}).create=function(l){function h(M){if(32<=f.pools[0].messageLength)return p(),M();f.seedFile(32-f.pools[0].messageLength<<5,
function(A,F){if(A)return M(A);f.collect(F);p();M()})}function p(){f.reseeds=4294967295===f.reseeds?0:f.reseeds+1;var M=f.plugin.md.create();M.update(f.keyBytes);for(var A=1,F=0;32>F;++F)0===f.reseeds%A&&(M.update(f.pools[F].digest().getBytes()),f.pools[F].start()),A<<=1;f.keyBytes=M.digest().getBytes();M.start();M.update(f.keyBytes);M=M.digest().getBytes();f.key=f.plugin.formatKey(f.keyBytes);f.seed=f.plugin.formatSeed(M);f.generated=0}function c(M){var A=null,F=J.util.globalScope,y=F.crypto||F.msCrypto;
y&&y.getRandomValues&&(A=function(S){return y.getRandomValues(S)});F=J.util.createBuffer();if(A)for(;F.length()<M;){var B=Math.max(1,Math.min(M-F.length(),65536)/4),t=new Uint32Array(Math.floor(B));try{for(A(t),B=0;B<t.length;++B)F.putInt32(t[B])}catch(S){if(!("undefined"!==typeof QuotaExceededError&&S instanceof QuotaExceededError))throw S;}}if(F.length()<M)for(A=Math.floor(65536*Math.random());F.length()<M;)for(B=16807*(A&65535),A=16807*(A>>16),B+=(A&32767)<<16,B+=A>>15,B=(B&2147483647)+(B>>31),
A=B&4294967295,B=0;3>B;++B)t=A>>>(B<<3),t^=Math.floor(256*Math.random()),F.putByte(String.fromCharCode(t&255));return F.getBytes(M)}var f={plugin:l,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};l=l.md;for(var r=Array(32),z=0;32>z;++z)r[z]=l.create();f.pools=r;f.pool=0;f.generate=function(M,A){function F(e){if(e)return A(e);if(k.length()>=M)return A(null,k.getBytes(M));1048575<f.generated&&(f.key=null);if(null===f.key)return J.util.nextTick(function(){h(F)});e=y(f.key,f.seed);f.generated+=
e.length;k.putBytes(e);f.key=t(y(f.key,B(f.seed)));f.seed=S(y(f.key,f.seed));J.util.setImmediate(F)}if(!A)return f.generateSync(M);var y=f.plugin.cipher,B=f.plugin.increment,t=f.plugin.formatKey,S=f.plugin.formatSeed,k=J.util.createBuffer();f.key=null;F()};f.generateSync=function(M){var A=f.plugin.cipher,F=f.plugin.increment,y=f.plugin.formatKey,B=f.plugin.formatSeed;f.key=null;for(var t=J.util.createBuffer();t.length()<M;){1048575<f.generated&&(f.key=null);null===f.key&&(32<=f.pools[0].messageLength||
f.collect(f.seedFileSync(32-f.pools[0].messageLength<<5)),p());var S=A(f.key,f.seed);f.generated+=S.length;t.putBytes(S);f.key=y(A(f.key,F(f.seed)));f.seed=B(A(f.key,f.seed))}return t.getBytes(M)};W?(f.seedFile=function(M,A){W.randomBytes(M,function(F,y){if(F)return A(F);A(null,y.toString())})},f.seedFileSync=function(M){return W.randomBytes(M).toString()}):(f.seedFile=function(M,A){try{A(null,c(M))}catch(F){A(F)}},f.seedFileSync=c);f.collect=function(M){for(var A=M.length,F=0;F<A;++F)f.pools[f.pool].update(M.substr(F,
1)),f.pool=31===f.pool?0:f.pool+1};f.collectInt=function(M,A){for(var F="",y=0;y<A;y+=8)F+=String.fromCharCode(M>>y&255);f.collect(F)};f.registerWorker=function(M){M===self?f.seedFile=function(A,F){function y(B){B=B.data;B.forge&&B.forge.prng&&(self.removeEventListener("message",y),F(B.forge.prng.err,B.forge.prng.bytes))}self.addEventListener("message",y);self.postMessage({forge:{prng:{needed:A}}})}:M.addEventListener("message",function(A){A=A.data;A.forge&&A.forge.prng&&f.seedFile(A.forge.prng.needed,
function(F,y){M.postMessage({forge:{prng:{err:F,bytes:y}}})})})};return f}}).call(this,E(31))},function(R,G,E){var u=E(5);E(7);var J=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,
7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,
165,156,119,10,166,32,104,254,127,193,173],W=[1,2,3,5];R.exports=u.rc2=u.rc2||{};u.rc2.expandKey=function(h,p){"string"===typeof h&&(h=u.util.createBuffer(h));p=p||128;var c=h;h=h.length();var f=p;p=Math.ceil(f/8);f=255>>(f&7);var r;for(r=h;128>r;r++)c.putByte(J[c.at(r-1)+c.at(r-h)&255]);c.setAt(128-p,J[c.at(128-p)&f]);for(r=127-p;0<=r;r--)c.setAt(r,J[c.at(r+1)^c.at(r+p)]);return c};var l=function(h,p,c){var f=!1,r=null,z=null,M=null,A,F,y=[];h=u.rc2.expandKey(h,p);for(A=0;64>A;A++)y.push(h.getInt16Le());
if(c){var B=function(k){for(A=0;4>A;A++){k[A]+=y[F]+(k[(A+3)%4]&k[(A+2)%4])+(~k[(A+3)%4]&k[(A+1)%4]);var e=k[A],q=W[A];k[A]=e<<q&65535|(e&65535)>>16-q;F++}};var t=function(k){for(A=0;4>A;A++)k[A]+=y[k[(A+3)%4]&63]}}else B=function(k){for(A=3;0<=A;A--){var e=k[A],q=W[A];k[A]=(e&65535)>>q|e<<16-q&65535;k[A]-=y[F]+(k[(A+3)%4]&k[(A+2)%4])+(~k[(A+3)%4]&k[(A+1)%4]);F--}},t=function(k){for(A=3;0<=A;A--)k[A]-=y[k[(A+3)%4]&63]};var S=null;return S={start:function(k,e){k&&"string"===typeof k&&(k=u.util.createBuffer(k));
f=!1;r=u.util.createBuffer();z=e||new u.util.createBuffer;M=k;S.output=z},update:function(k){for(f||r.putBuffer(k);8<=r.length();){k=[[5,B],[1,t],[6,B],[1,t],[5,B]];var e=[];for(A=0;4>A;A++){var q=r.getInt16Le();null!==M&&(c?q^=M.getInt16Le():M.putInt16Le(q));e.push(q&65535)}F=c?0:63;for(q=0;q<k.length;q++)for(var H=0;H<k[q][0];H++)k[q][1](e);for(A=0;4>A;A++)null!==M&&(c?M.putInt16Le(e[A]):e[A]^=M.getInt16Le()),z.putInt16Le(e[A])}},finish:function(k){var e=!0;if(c)if(k)e=k(8,r,!c);else{var q=8===
r.length()?8:8-r.length();r.fillWithByte(q,q)}e&&(f=!0,S.update());!c&&(e=0===r.length())&&(k?e=k(8,z,!c):(k=z.length(),q=z.at(k-1),q>k?e=!1:z.truncate(q)));return e}}};u.rc2.startEncrypting=function(h,p,c){h=u.rc2.createEncryptionCipher(h,128);h.start(p,c);return h};u.rc2.createEncryptionCipher=function(h,p){return l(h,p,!0)};u.rc2.startDecrypting=function(h,p,c){h=u.rc2.createDecryptionCipher(h,128);h.start(p,c);return h};u.rc2.createDecryptionCipher=function(h,p){return l(h,p,!1)}},function(R,
G,E){function u(W,l,h){h||(h=J.md.sha1.create());for(var p="",c=Math.ceil(l/h.digestLength),f=0;f<c;++f){var r=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,f&255);h.start();h.update(W+r);p+=h.digest().getBytes()}return p.substring(0,l)}var J=E(5);E(7);E(13);E(26);R=R.exports=J.pkcs1=J.pkcs1||{};R.encode_rsa_oaep=function(W,l,h,p,c){if("string"===typeof h){var f=h;var r=p||void 0;var z=c||void 0}else if(h&&(f=h.label||void 0,r=h.seed||void 0,z=h.md||void 0,h.mgf1&&h.mgf1.md))var M=h.mgf1.md;z?
z.start():z=J.md.sha1.create();M||(M=z);W=Math.ceil(W.n.bitLength()/8);h=W-2*z.digestLength-2;if(l.length>h)throw M=Error("RSAES-OAEP input message length is too long."),M.length=l.length,M.maxLength=h,M;f||(f="");z.update(f,"raw");f=z.digest();p="";h-=l.length;for(c=0;c<h;c++)p+="\x00";l=f.getBytes()+p+"\u0001"+l;if(!r)r=J.random.getBytes(z.digestLength);else if(r.length!==z.digestLength)throw M=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length."),M.seedLength=r.length,
M.digestLength=z.digestLength,M;W=u(r,W-z.digestLength-1,M);l=J.util.xorBytes(l,W,l.length);z=u(l,z.digestLength,M);return"\x00"+J.util.xorBytes(r,z,r.length)+l};R.decode_rsa_oaep=function(W,l,h,p){if("string"===typeof h){var c=h;var f=p||void 0}else if(h&&(c=h.label||void 0,f=h.md||void 0,h.mgf1&&h.mgf1.md))var r=h.mgf1.md;h=Math.ceil(W.n.bitLength()/8);if(l.length!==h)throw r=Error("RSAES-OAEP encoded message length is invalid."),r.length=l.length,r.expectedLength=h,r;void 0===f?f=J.md.sha1.create():
f.start();r||(r=f);if(h<2*f.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");c||(c="");f.update(c,"raw");c=f.digest().getBytes();W=l.charAt(0);p=l.substring(1,f.digestLength+1);l=l.substring(1+f.digestLength);var z=u(l,f.digestLength,r);p=J.util.xorBytes(p,z,p.length);r=u(p,h-f.digestLength-1,r);l=J.util.xorBytes(l,r,l.length);h=l.substring(0,f.digestLength);r="\x00"!==W;for(W=0;W<f.digestLength;++W)r|=c.charAt(W)!==h.charAt(W);c=1;for(f=W=f.digestLength;f<l.length;f++)h=
l.charCodeAt(f),p=h&1^1,r|=h&(c?65534:0),c&=p,W+=c;if(r||1!==l.charCodeAt(W))throw Error("Invalid RSAES-OAEP padding.");return l.substring(W+1)}},function(R,G,E){var u=E(5);E(7);E(34);E(13);(function(){function J(A,F,y,B){return"workers"in y?h(A,F,y,B):W(A,F,y,B)}function W(A,F,y,B){var t=p(A,F);var S=t.bitLength();S=100>=S?27:150>=S?18:200>=S?15:250>=S?12:300>=S?9:350>=S?8:400>=S?7:500>=S?6:600>=S?5:800>=S?4:1250>=S?3:2;"millerRabinTests"in y&&(S=y.millerRabinTests);var k=10;"maxBlockTime"in y&&
(k=y.maxBlockTime);l(t,A,F,0,S,k,B)}function l(A,F,y,B,t,S,k){var e=+new Date;do{A.bitLength()>F&&(A=p(F,y));if(A.isProbablePrime(t))return k(null,A);A.dAddOffset(r[B++%8],0)}while(0>S||+new Date-e<S);u.util.setImmediate(function(){l(A,F,y,B,t,S,k)})}function h(A,F,y,B){function t(){function g(Y){if(!Z){--Q;var ba=Y.data;if(ba.found){for(Y=0;Y<x.length;++Y)x[Y].terminate();Z=!0;return B(null,new f(ba.prime,16))}S.bitLength()>A&&(S=p(A,F));ba=S.toString(16);Y.target.postMessage({hex:ba,workLoad:e});
S.dAddOffset(q,0)}}k=Math.max(1,k);for(var x=[],I=0;I<k;++I)x[I]=new Worker(H);var Q=k;for(I=0;I<k;++I)x[I].addEventListener("message",g);var Z=!1}if("undefined"===typeof Worker)return W(A,F,y,B);var S=p(A,F),k=y.workers,e=y.workLoad||100,q=30*e/8,H=y.workerScript||"forge/prime.worker.js";if(-1===k)return u.util.estimateCores(function(g,x){g&&(x=2);k=x-1;t()});t()}function p(A,F){F=new f(A,F);--A;F.testBit(A)||F.bitwiseTo(f.ONE.shiftLeft(A),M,F);F.dAddOffset(31-F.mod(z).byteValue(),0);return F}if(u.prime)R.exports=
u.prime;else{var c=R.exports=u.prime=u.prime||{},f=u.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],z=new f(null);z.fromInt(30);var M=function(A,F){return A|F};c.generateProbablePrime=function(A,F,y){"function"===typeof F&&(y=F,F={});F=F||{};var B=F.algorithm||"PRIMEINC";"string"===typeof B&&(B={name:B});B.options=B.options||{};var t=F.prng||u.random;F={nextBytes:function(S){for(var k=t.getBytesSync(S.length),e=0;e<S.length;++e)S[e]=k.charCodeAt(e)}};if("PRIMEINC"===B.name)return J(A,F,B.options,y);throw Error("Invalid prime generation algorithm: "+
B.name);}}})()},function(R,G,E){function u(B,t,S,k){for(var e=[],q=0;q<B.length;q++)for(var H=0;H<B[q].safeBags.length;H++){var g=B[q].safeBags[H];if(void 0===k||g.type===k)null===t?e.push(g):void 0!==g.attributes[t]&&0<=g.attributes[t].indexOf(S)&&e.push(g)}return e}function J(B){if(B.composed||B.constructed){for(var t=p.util.createBuffer(),S=0;S<B.value.length;++S)t.putBytes(B.value[S].value);B.composed=B.constructed=!1;B.value=t.getBytes()}return B}function W(B,t,S,k){t=c.fromDer(t,S);if(t.tagClass!==
c.Class.UNIVERSAL||t.type!==c.Type.SEQUENCE||!0!==t.constructed)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var e=0;e<t.value.length;e++){var q={},H=[];if(!c.validate(t.value[e],z,q,H))throw B=Error("Cannot read ContentInfo."),B.errors=H,B;H={encrypted:!1};var g=q.content.value[0];switch(c.derToOid(q.contentType)){case f.oids.data:if(g.tagClass!==c.Class.UNIVERSAL||g.type!==c.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");
q=J(g).value;break;case f.oids.encryptedData:var x=k;q={};var I=[];if(!c.validate(g,p.pkcs7.asn1.encryptedDataValidator,q,I))throw B=Error("Cannot read EncryptedContentInfo."),B.errors=I,B;g=c.derToOid(q.contentType);if(g!==f.oids.data)throw B=Error("PKCS#12 EncryptedContentInfo ContentType is not Data."),B.oid=g,B;g=c.derToOid(q.encAlgorithm);g=f.pbe.getCipher(g,q.encParameter,x);q=J(q.encryptedContentAsn1);q=p.util.createBuffer(q.value);g.update(q);if(!g.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");
q=g.output.getBytes();H.encrypted=!0;break;default:throw B=Error("Unsupported PKCS#12 contentType."),B.contentType=c.derToOid(q.contentType),B;}H.safeBags=l(q,S,k);B.safeContents.push(H)}}function l(B,t,S){if(!t&&0===B.length)return[];B=c.fromDer(B,t);if(B.tagClass!==c.Class.UNIVERSAL||B.type!==c.Type.SEQUENCE||!0!==B.constructed)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var k=[],e=0;e<B.value.length;e++){var q={},H=[];if(!c.validate(B.value[e],A,q,H))throw B=Error("Cannot read SafeBag."),
B.errors=H,B;var g={type:c.derToOid(q.bagId),attributes:h(q.bagAttributes)};k.push(g);var x=q.bagValue.value[0];switch(g.type){case f.oids.pkcs8ShroudedKeyBag:if(x=f.decryptPrivateKeyInfo(x,S),null===x)throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case f.oids.keyBag:try{g.key=f.privateKeyFromAsn1(x)}catch(Z){g.key=null,g.asn1=x}continue;case f.oids.certBag:var I=y;var Q=function(){if(c.derToOid(q.certId)!==f.oids.x509Certificate){var Z=Error("Unsupported certificate type, only X.509 supported.");
Z.oid=c.derToOid(q.certId);throw Z;}Z=c.fromDer(q.cert,t);try{g.cert=f.certificateFromAsn1(Z,!0)}catch(Y){g.cert=null,g.asn1=Z}};break;default:throw B=Error("Unsupported PKCS#12 SafeBag type."),B.oid=g.type,B;}if(void 0!==I&&!c.validate(x,I,q,H))throw B=Error("Cannot read PKCS#12 "+I.name),B.errors=H,B;Q()}return k}function h(B){var t={};if(void 0!==B)for(var S=0;S<B.length;++S){var k={},e=[];if(!c.validate(B[S],F,k,e))throw B=Error("Cannot read PKCS#12 BagAttribute."),B.errors=e,B;e=c.derToOid(k.oid);
if(void 0!==f.oids[e]){t[f.oids[e]]=[];for(var q=0;q<k.values.length;++q)t[f.oids[e]].push(k.values[q].value)}}return t}var p=E(5);E(15);E(25);E(21);E(57);E(50);E(13);E(33);E(26);E(7);E(40);var c=p.asn1,f=p.pki,r=R.exports=p.pkcs12=p.pkcs12||{},z={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,
constructed:!0,captureAsn1:"content"}]},M={name:"PFX",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},z,{name:"PFX.macData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:c.Class.UNIVERSAL,
type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,
capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},A={name:"SafeBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,
constructed:!0,optional:!0,capture:"bagAttributes"}]},F={name:"Attribute",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,capture:"values"}]},y={name:"CertBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,
constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:c.Class.UNIVERSAL,type:c.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};r.pkcs12FromAsn1=function(B,t,S){"string"===typeof t?(S=t,t=!0):void 0===t&&(t=!0);var k={};if(!c.validate(B,M,k,[]))throw t=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX."),t.errors=t,t;var e={version:k.version.charCodeAt(0),safeContents:[],getBags:function(I){var Q=
{},Z;"localKeyId"in I?Z=I.localKeyId:"localKeyIdHex"in I&&(Z=p.util.hexToBytes(I.localKeyIdHex));void 0===Z&&!("friendlyName"in I)&&"bagType"in I&&(Q[I.bagType]=u(e.safeContents,null,null,I.bagType));void 0!==Z&&(Q.localKeyId=u(e.safeContents,"localKeyId",Z,I.bagType));"friendlyName"in I&&(Q.friendlyName=u(e.safeContents,"friendlyName",I.friendlyName,I.bagType));return Q},getBagsByFriendlyName:function(I,Q){return u(e.safeContents,"friendlyName",I,Q)},getBagsByLocalKeyId:function(I,Q){return u(e.safeContents,
"localKeyId",I,Q)}};if(3!==k.version.charCodeAt(0))throw t=Error("PKCS#12 PFX of version other than 3 not supported."),t.version=k.version.charCodeAt(0),t;if(c.derToOid(k.contentType)!==f.oids.data)throw t=Error("Only PKCS#12 PFX in password integrity mode supported."),t.oid=c.derToOid(k.contentType),t;B=k.content.value[0];if(B.tagClass!==c.Class.UNIVERSAL||B.type!==c.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");B=J(B);if(k.mac){var q=null,H=0,g=c.derToOid(k.macAlgorithm);
switch(g){case f.oids.sha1:q=p.md.sha1.create();H=20;break;case f.oids.sha256:q=p.md.sha256.create();H=32;break;case f.oids.sha384:q=p.md.sha384.create();H=48;break;case f.oids.sha512:q=p.md.sha512.create();H=64;break;case f.oids.md5:q=p.md.md5.create(),H=16}if(null===q)throw Error("PKCS#12 uses unsupported MAC algorithm: "+g);g=new p.util.ByteBuffer(k.macSalt);var x="macIterations"in k?parseInt(p.util.bytesToHex(k.macIterations),16):1;H=r.generateKey(S,g,3,x,H,q);g=p.hmac.create();g.start(q,H);g.update(B.value);
if(g.getMac().getBytes()!==k.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?");}W(e,B.value,t,S);return e};r.toPkcs12Asn1=function(B,t,S,k){k=k||{};k.saltSize=k.saltSize||8;k.count=k.count||2048;k.algorithm=k.algorithm||k.encAlgorithm||"aes128";"useMac"in k||(k.useMac=!0);"localKeyId"in k||(k.localKeyId=null);"generateLocalKeyId"in k||(k.generateLocalKeyId=!0);var e=k.localKeyId,q;if(null!==e)e=p.util.hexToBytes(e);else if(k.generateLocalKeyId)if(t){var H=p.util.isArray(t)?
t[0]:t;"string"===typeof H&&(H=f.certificateFromPem(H));e=p.md.sha1.create();e.update(c.toDer(f.certificateToAsn1(H)).getBytes());e=e.digest().getBytes()}else e=p.random.getBytes(20);H=[];null!==e&&H.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.localKeyId).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,e)])]));"friendlyName"in k&&H.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,
!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.friendlyName).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.BMPSTRING,!1,k.friendlyName)])]));0<H.length&&(q=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,H));e=[];H=[];null!==t&&(H=p.util.isArray(t)?t:[t]);for(var g=[],x=0;x<H.length;++x){t=H[x];"string"===typeof t&&(t=f.certificateFromPem(t));var I=0===x?q:void 0;t=f.certificateToAsn1(t);t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,
c.Type.OID,!1,c.oidToDer(f.oids.certBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.x509Certificate).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(t).getBytes())])])]),I]);g.push(t)}0<g.length&&(t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,g),t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,
!1,c.oidToDer(f.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(t).getBytes())])]),e.push(t));null!==B&&(B=f.wrapRsaPrivateKey(f.privateKeyToAsn1(B)),B=null===S?c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.keyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[B]),q]):c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.pkcs8ShroudedKeyBag).getBytes()),
c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[f.encryptPrivateKeyInfo(B,S,k)]),q]),B=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[B]),B=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(B).getBytes())])]),e.push(B));q=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,e);if(k.useMac){e=p.md.sha1.create();var Q=new p.util.ByteBuffer(p.random.getBytes(k.saltSize));
k=k.count;B=r.generateKey(S,Q,3,k,20);S=p.hmac.create();S.start(e,B);S.update(c.toDer(q).getBytes());S=S.getMac();Q=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.sha1).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,S.getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,Q.getBytes()),
c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(k).getBytes())])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(3).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(q).getBytes())])]),Q])};r.generateKey=p.pbe.generatePkcs12Key},function(R,
G,E){G=E(5);E(15);E(7);E=G.asn1;R=R.exports=G.pkcs7asn1=G.pkcs7asn1||{};G.pkcs7=G.pkcs7||{};G.pkcs7.asn1=R;G={name:"ContentInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};R.contentInfoValidator=G;var u={name:"EncryptedContentInfo",tagClass:E.Class.UNIVERSAL,
type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",
tagClass:E.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};R.envelopedDataValidator={name:"EnvelopedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:E.Class.UNIVERSAL,
type:E.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(u)};R.encryptedDataValidator={name:"EncryptedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"}].concat(u)};R.signedDataValidator={name:"SignedData",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,
capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:E.Class.UNIVERSAL,type:E.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},G,{name:"SignedData.Certificates",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:E.Class.UNIVERSAL,type:E.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",
tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,
constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:E.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:E.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,
optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:E.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]};R.recipientInfoValidator={name:"RecipientInfo",
tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,
constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:E.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,
capture:"encKey"}]}},function(R,G,E){var u=E(5);E(7);u.mgf=u.mgf||{};(R.exports=u.mgf.mgf1=u.mgf1=u.mgf1||{}).create=function(J){return{generate:function(W,l){for(var h=new u.util.ByteBuffer,p=Math.ceil(l/J.digestLength),c=0;c<p;c++){var f=new u.util.ByteBuffer;f.putInt32(c);J.start();J.update(W+f.getBytes());h.putBuffer(J.digest())}h.truncate(h.length()-l);return h.getBytes()}}}},function(R,G,E){var u=E(5);R.exports=u.debug=u.debug||{};u.debug.storage={};u.debug.get=function(J,W){var l;"undefined"===
typeof J?l=u.debug.storage:J in u.debug.storage&&(l="undefined"===typeof W?u.debug.storage[J]:u.debug.storage[J][W]);return l};u.debug.set=function(J,W,l){J in u.debug.storage||(u.debug.storage[J]={});u.debug.storage[J][W]=l};u.debug.clear=function(J,W){"undefined"===typeof J?u.debug.storage={}:J in u.debug.storage&&("undefined"===typeof W?delete u.debug.storage[J]:delete u.debug.storage[J][W])}},function(R,G,E){function u(f,r,z){for(var M,A,F,y,B,t,S,k,e,q,H,g,x,I,Q,Z,Y,ba,ha,ia,na,v,n,w,D,V=z.length();128<=
V;){for(D=0;16>D;++D)r[D][0]=z.getInt32()>>>0,r[D][1]=z.getInt32()>>>0;for(;80>D;++D)B=r[D-2],e=B[0],B=B[1],M=((e>>>19|B<<13)^(B>>>29|e<<3)^e>>>6)>>>0,A=((e<<13|B>>>19)^(B<<3|e>>>29)^(e<<26|B>>>6))>>>0,B=r[D-15],e=B[0],B=B[1],F=((e>>>1|B<<31)^(e>>>8|B<<24)^e>>>7)>>>0,y=((e<<31|B>>>1)^(e<<24|B>>>8)^(e<<25|B>>>7))>>>0,e=r[D-7],q=r[D-16],B=A+e[1]+y+q[1],r[D][0]=M+e[0]+F+q[0]+(B/4294967296>>>0)>>>0,r[D][1]=B>>>0;e=f[0][0];q=f[0][1];H=f[1][0];g=f[1][1];x=f[2][0];I=f[2][1];Q=f[3][0];Z=f[3][1];Y=f[4][0];
ba=f[4][1];ha=f[5][0];ia=f[5][1];na=f[6][0];v=f[6][1];n=f[7][0];w=f[7][1];for(D=0;80>D;++D)M=((Y>>>14|ba<<18)^(Y>>>18|ba<<14)^(ba>>>9|Y<<23))>>>0,B=((Y<<18|ba>>>14)^(Y<<14|ba>>>18)^(ba<<23|Y>>>9))>>>0,A=(na^Y&(ha^na))>>>0,t=(v^ba&(ia^v))>>>0,F=((e>>>28|q<<4)^(q>>>2|e<<30)^(q>>>7|e<<25))>>>0,y=((e<<4|q>>>28)^(q<<30|e>>>2)^(q<<25|e>>>7))>>>0,S=(e&H|x&(e^H))>>>0,k=(q&g|I&(q^g))>>>0,B=w+B+t+p[D][1]+r[D][1],M=n+M+A+p[D][0]+r[D][0]+(B/4294967296>>>0)>>>0,A=B>>>0,B=y+k,F=F+S+(B/4294967296>>>0)>>>0,y=B>>>
0,n=na,w=v,na=ha,v=ia,ha=Y,ia=ba,B=Z+A,Y=Q+M+(B/4294967296>>>0)>>>0,ba=B>>>0,Q=x,Z=I,x=H,I=g,H=e,g=q,B=A+y,e=M+F+(B/4294967296>>>0)>>>0,q=B>>>0;B=f[0][1]+q;f[0][0]=f[0][0]+e+(B/4294967296>>>0)>>>0;f[0][1]=B>>>0;B=f[1][1]+g;f[1][0]=f[1][0]+H+(B/4294967296>>>0)>>>0;f[1][1]=B>>>0;B=f[2][1]+I;f[2][0]=f[2][0]+x+(B/4294967296>>>0)>>>0;f[2][1]=B>>>0;B=f[3][1]+Z;f[3][0]=f[3][0]+Q+(B/4294967296>>>0)>>>0;f[3][1]=B>>>0;B=f[4][1]+ba;f[4][0]=f[4][0]+Y+(B/4294967296>>>0)>>>0;f[4][1]=B>>>0;B=f[5][1]+ia;f[5][0]=
f[5][0]+ha+(B/4294967296>>>0)>>>0;f[5][1]=B>>>0;B=f[6][1]+v;f[6][0]=f[6][0]+na+(B/4294967296>>>0)>>>0;f[6][1]=B>>>0;B=f[7][1]+w;f[7][0]=f[7][0]+n+(B/4294967296>>>0)>>>0;f[7][1]=B>>>0;V-=128}}var J=E(5);E(17);E(7);var W=R.exports=J.sha512=J.sha512||{};J.md.sha512=J.md.algorithms.sha512=W;R=J.sha384=J.sha512.sha384=J.sha512.sha384||{};R.create=function(){return W.create("SHA-384")};J.md.sha384=J.md.algorithms.sha384=R;J.sha512.sha256=J.sha512.sha256||{create:function(){return W.create("SHA-512/256")}};
J.md["sha512/256"]=J.md.algorithms["sha512/256"]=J.sha512.sha256;J.sha512.sha224=J.sha512.sha224||{create:function(){return W.create("SHA-512/224")}};J.md["sha512/224"]=J.md.algorithms["sha512/224"]=J.sha512.sha224;W.create=function(f){h||(l=String.fromCharCode(128),l+=J.util.fillString(String.fromCharCode(0),128),p=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],
[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,
2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],
[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,
587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],c={"SHA-512":[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],
[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},h=!0);"undefined"===typeof f&&
(f="SHA-512");if(!(f in c))throw Error("Invalid SHA-512 algorithm: "+f);for(var r=c[f],z=null,M=J.util.createBuffer(),A=Array(80),F=0;80>F;++F)A[F]=Array(2);F=64;switch(f){case "SHA-384":F=48;break;case "SHA-512/256":F=32;break;case "SHA-512/224":F=28}var y={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:F,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){y.messageLength=0;y.fullMessageLength=y.messageLength128=[];for(var B=y.messageLengthSize/4,
t=0;t<B;++t)y.fullMessageLength.push(0);M=J.util.createBuffer();z=Array(r.length);for(t=0;t<r.length;++t)z[t]=r[t].slice(0);return y}};y.start();y.update=function(B,t){"utf8"===t&&(B=J.util.encodeUtf8(B));t=B.length;y.messageLength+=t;t=[t/4294967296>>>0,t>>>0];for(var S=y.fullMessageLength.length-1;0<=S;--S)y.fullMessageLength[S]+=t[1],t[1]=t[0]+(y.fullMessageLength[S]/4294967296>>>0),y.fullMessageLength[S]>>>=0,t[0]=t[1]/4294967296>>>0;M.putBytes(B);u(z,A,M);(2048<M.read||0===M.length())&&M.compact();
return y};y.digest=function(){var B=J.util.createBuffer();B.putBytes(M.bytes());B.putBytes(l.substr(0,y.blockLength-(y.fullMessageLength[y.fullMessageLength.length-1]+y.messageLengthSize&y.blockLength-1)));for(var t,S,k=8*y.fullMessageLength[0],e=0;e<y.fullMessageLength.length-1;++e)t=8*y.fullMessageLength[e+1],S=t/4294967296>>>0,k+=S,B.putInt32(k>>>0),k=t>>>0;B.putInt32(k);t=Array(z.length);for(e=0;e<z.length;++e)t[e]=z[e].slice(0);u(t,A,B);B=J.util.createBuffer();S="SHA-512"===f?t.length:"SHA-384"===
f?t.length-2:t.length-4;for(e=0;e<S;++e)B.putInt32(t[e][0]),e===S-1&&"SHA-512/224"===f||B.putInt32(t[e][1]);return B};return y};var l=null,h=!1,p=null,c=null},function(R,G,E){var u=E(5);E(7);R.exports=u.log=u.log||{};u.log.levels="none error warning info debug verbose max".split(" ");var J={},W=[];R=null;u.log.LEVEL_LOCKED=2;u.log.NO_LEVEL_CHECK=4;u.log.INTERPOLATE=8;for(G=0;G<u.log.levels.length;++G)E=u.log.levels[G],J[E]={index:G,name:E.toUpperCase()};u.log.logMessage=function(h){for(var p=J[h.level].index,
c=0;c<W.length;++c){var f=W[c];f.flags&u.log.NO_LEVEL_CHECK?f.f(h):p<=J[f.level].index&&f.f(f,h)}};u.log.prepareStandard=function(h){"standard"in h||(h.standard=J[h.level].name+" ["+h.category+"] "+h.message)};u.log.prepareFull=function(h){if(!("full"in h)){var p=[h.message];p=p.concat([]);h.full=u.util.format.apply(this,p)}};u.log.prepareStandardFull=function(h){"standardFull"in h||(u.log.prepareStandard(h),h.standardFull=h.standard)};E=["error","warning","info","debug","verbose"];for(G=0;G<E.length;++G)(function(h){u.log[h]=
function(p,c){var f=Array.prototype.slice.call(arguments).slice(2);u.log.logMessage({timestamp:new Date,level:h,category:p,message:c,arguments:f})}})(E[G]);u.log.makeLogger=function(h){h={flags:0,f:h};u.log.setLevel(h,"none");return h};u.log.setLevel=function(h,p){var c=!1;if(h&&!(h.flags&u.log.LEVEL_LOCKED))for(var f=0;f<u.log.levels.length;++f)if(p==u.log.levels[f]){h.level=p;c=!0;break}return c};u.log.lock=function(h,p){h.flags="undefined"===typeof p||p?h.flags|u.log.LEVEL_LOCKED:h.flags&~u.log.LEVEL_LOCKED};
u.log.addLogger=function(h){W.push(h)};if("undefined"!==typeof console&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug){var l={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug};R=function(h,p){u.log.prepareStandard(p);h=l[p.level];var c=[p.standard];c=c.concat(p.arguments.slice());h.apply(console,c)}}else R=function(h,p){u.log.prepareStandardFull(p);console.log(p.standardFull)};R=u.log.makeLogger(R);u.log.setLevel(R,
"debug");u.log.addLogger(R)}else console={log:function(){}};null!==R&&(G=u.util.getQueryVariables(),"console.level"in G&&u.log.setLevel(R,G["console.level"].slice(-1)[0]),"console.lock"in G&&"true"==G["console.lock"].slice(-1)[0]&&u.log.lock(R));u.log.consoleLogger=R},function(R,G,E){E.d(G,"a",function(){return l});var u=E(6),J=u.Buffer.from&&u.Buffer.alloc&&u.Buffer.allocUnsafe&&u.Buffer.allocUnsafeSlow?u.Buffer.from:function(F){return new u.Buffer(F)};R=function(F,y){var B=function(t,S){return y(t,
S)>>>0};B.signed=y;B.unsigned=B;B.model=F;return B};R("crc1",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));for(var B=0,t=0;t<F.length;t++)B+=F[t];return(~~y+B%256)%256});var W=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,
136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,
159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!==typeof Int32Array&&(W=new Int32Array(W));var l=R("crc-8",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y=~~y;for(var B=0;B<F.length;B++)y=W[(y^F[B])&255]&255;return y}),h=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,
164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,
139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!==typeof Int32Array&&(h=new Int32Array(h));R("dallas-1-wire",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y=~~y;for(var B=0;B<F.length;B++)y=h[(y^F[B])&255]&255;return y});var p=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,
52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,
9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,
21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(p=new Int32Array(p));R("crc-16",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y=~~y;for(var B=0;B<F.length;B++)y=(p[(y^
F[B])&255]^y>>8)&65535;return y});var c=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,
23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,
54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,
11923,16050,3793,7920];"undefined"!==typeof Int32Array&&(c=new Int32Array(c));R("ccitt",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y="undefined"!==typeof y?~~y:65535;for(var B=0;B<F.length;B++)y=(c[(y>>8^F[B])&255]^y<<8)&65535;return y});var f=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8E3,56577,7616,7296,56385,
5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16E3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,
25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32E3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,
23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!==typeof Int32Array&&(f=new Int32Array(f));R("crc-16-modbus",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y="undefined"!==typeof y?~~y:65535;for(var B=0;B<F.length;B++)y=(f[(y^F[B])&255]^y>>8)&65535;return y});R("xmodem",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));
y="undefined"!==typeof y?~~y:0;for(var B=0;B<F.length;B++){var t=y>>>8&255;t^=F[B]&255;t^=t>>>4;y=y<<8&65535;y^=t;t=t<<5&65535;y^=t;t=t<<7&65535;y^=t}return y});var r=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,
36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,
34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,
37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!==typeof Int32Array&&(r=new Int32Array(r));R("kermit",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y="undefined"!==typeof y?~~y:0;for(var B=0;B<F.length;B++)y=(r[(y^F[B])&255]^y>>8)&65535;return y});var z=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,
5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,
2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,
10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,
9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!==typeof Int32Array&&(z=
new Int32Array(z));R("crc-24",function(F,y){u.Buffer.isBuffer(F)||(F=J(F));y="undefined"!==typeof y?~~y:11994318;for(var B=0;B<F.length;B++)y=(z[(y>>16^F[B])&255]^y<<8)&16777215;return y});var M=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,
4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,
141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,
1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,
1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,
1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(M=new Int32Array(M));R("crc-32",function(F,y){u.Buffer.isBuffer(F)||
(F=J(F));y=0===y?0:~~y^-1;for(var B=0;B<F.length;B++)y=M[(y^F[B])&255]^y>>>8;return y^-1});var A=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,
2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,
2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,
2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,
3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,
956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!==typeof Int32Array&&(A=new Int32Array(A));R("jam",function(F,y){y=void 0===y?-1:y;u.Buffer.isBuffer(F)||(F=J(F));y=0===y?0:~~y;for(var B=0;B<F.length;B++)y=A[(y^F[B])&255]^y>>>
8;return y})},function(R,G,E){function u(h){var p=h.length;if(0<p%4)throw Error("Invalid string. Length must be a multiple of 4");h=h.indexOf("=");-1===h&&(h=p);return[h,h===p?0:4-h%4]}G.byteLength=function(h){h=u(h);var p=h[1];return 3*(h[0]+p)/4-p};G.toByteArray=function(h){var p=u(h);var c=p[0];p=p[1];var f=new l(3*(c+p)/4-p),r=0,z=0<p?c-4:c,M;for(M=0;M<z;M+=4)c=W[h.charCodeAt(M)]<<18|W[h.charCodeAt(M+1)]<<12|W[h.charCodeAt(M+2)]<<6|W[h.charCodeAt(M+3)],f[r++]=c>>16&255,f[r++]=c>>8&255,f[r++]=
c&255;2===p&&(c=W[h.charCodeAt(M)]<<2|W[h.charCodeAt(M+1)]>>4,f[r++]=c&255);1===p&&(c=W[h.charCodeAt(M)]<<10|W[h.charCodeAt(M+1)]<<4|W[h.charCodeAt(M+2)]>>2,f[r++]=c>>8&255,f[r++]=c&255);return f};G.fromByteArray=function(h){for(var p=h.length,c=p%3,f=[],r=0,z=p-c;r<z;r+=16383){for(var M=f,A=M.push,F,y=h,B=r+16383>z?z:r+16383,t=[],S=r;S<B;S+=3)F=(y[S]<<16&16711680)+(y[S+1]<<8&65280)+(y[S+2]&255),t.push(J[F>>18&63]+J[F>>12&63]+J[F>>6&63]+J[F&63]);F=t.join("");A.call(M,F)}1===c?(h=h[p-1],f.push(J[h>>
2]+J[h<<4&63]+"==")):2===c&&(h=(h[p-2]<<8)+h[p-1],f.push(J[h>>10]+J[h>>4&63]+J[h<<2&63]+"="));return f.join("")};var J=[],W=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array;for(R=0;64>R;++R)J[R]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[R],W["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(R)]=R;W[45]=62;W[95]=63},function(R,G){G.read=function(E,u,J,W,l){var h=8*l-W-1;var p=(1<<h)-1,c=p>>1,f=-7;l=J?l-1:0;var r=J?-1:1,z=E[u+l];l+=r;J=z&(1<<
-f)-1;z>>=-f;for(f+=h;0<f;J=256*J+E[u+l],l+=r,f-=8);h=J&(1<<-f)-1;J>>=-f;for(f+=W;0<f;h=256*h+E[u+l],l+=r,f-=8);if(0===J)J=1-c;else{if(J===p)return h?NaN:Infinity*(z?-1:1);h+=Math.pow(2,W);J-=c}return(z?-1:1)*h*Math.pow(2,J-W)};G.write=function(E,u,J,W,l,h){var p,c=8*h-l-1,f=(1<<c)-1,r=f>>1,z=23===l?Math.pow(2,-24)-Math.pow(2,-77):0;h=W?0:h-1;var M=W?1:-1,A=0>u||0===u&&0>1/u?1:0;u=Math.abs(u);isNaN(u)||Infinity===u?(u=isNaN(u)?1:0,W=f):(W=Math.floor(Math.log(u)/Math.LN2),1>u*(p=Math.pow(2,-W))&&(W--,
p*=2),u=1<=W+r?u+z/p:u+z*Math.pow(2,1-r),2<=u*p&&(W++,p/=2),W+r>=f?(u=0,W=f):1<=W+r?(u=(u*p-1)*Math.pow(2,l),W+=r):(u=u*Math.pow(2,r-1)*Math.pow(2,l),W=0));for(;8<=l;E[J+h]=u&255,h+=M,u/=256,l-=8);W=W<<l|u;for(c+=l;0<c;E[J+h]=W&255,h+=M,W/=256,c-=8);E[J+h-M]|=128*A}},function(R,G){var E={}.toString;R.exports=Array.isArray||function(u){return"[object Array]"==E.call(u)}},function(R,G,E){function u(M){this.options=M||{locator:{}}}function J(M,A,F){function y(S){var k=M[S];!k&&t&&(k=2==M.length?function(e){M(S,
e)}:M);B[S]=k&&function(e){k("[xmldom "+S+"]\t"+e+h(F))}||function(){}}if(!M){if(A instanceof W)return A;M=A}var B={},t=M instanceof Function;F=F||{};y("warning");y("error");y("fatalError");return B}function W(){this.cdata=!1}function l(M,A){A.lineNumber=M.lineNumber;A.columnNumber=M.columnNumber}function h(M){if(M)return"\n@"+(M.systemId||"")+"#[line:"+M.lineNumber+",col:"+M.columnNumber+"]"}function p(M,A,F){return"string"==typeof M?M.substr(A,F):M.length>=A+F||A?new java.lang.String(M,A,F)+"":
M}function c(M,A){M.currentElement?M.currentElement.appendChild(A):M.doc.appendChild(A)}u.prototype.parseFromString=function(M,A){var F=this.options,y=new r,B=F.domBuilder||new W,t=F.errorHandler,S=F.locator,k=F.xmlns||{},e=(A=/\/x?html?$/.test(A))?f.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};S&&B.setDocumentLocator(S);y.errorHandler=J(t,B,S);y.domBuilder=F.domBuilder||B;A&&(k[""]="http://www.w3.org/1999/xhtml");k.xml=k.xml||"http://www.w3.org/XML/1998/namespace";M&&"string"===typeof M?y.parse(M,
k,e):y.errorHandler.error("invalid doc source");return B.doc};W.prototype={startDocument:function(){this.doc=(new z).createDocument(null,null,null);this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(M,A,F,y){var B=this.doc;A=B.createElementNS(M,F||A);var t=y.length;c(this,A);this.currentElement=A;this.locator&&l(this.locator,A);for(var S=0;S<t;S++){M=y.getURI(S);var k=y.getValue(S);F=y.getQName(S);M=B.createAttributeNS(M,F);this.locator&&l(y.getLocator(S),M);M.value=
M.nodeValue=k;A.setAttributeNode(M)}},endElement:function(M,A,F){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(M,A){},endPrefixMapping:function(M){},processingInstruction:function(M,A){M=this.doc.createProcessingInstruction(M,A);this.locator&&l(this.locator,M);c(this,M)},ignorableWhitespace:function(M,A,F){},characters:function(M,A,F){if(M=p.apply(this,arguments)){var y=this.cdata?this.doc.createCDATASection(M):this.doc.createTextNode(M);this.currentElement?this.currentElement.appendChild(y):
/^\s*$/.test(M)&&this.doc.appendChild(y);this.locator&&l(this.locator,y)}},skippedEntity:function(M){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(M){if(this.locator=M)M.lineNumber=0},comment:function(M,A,F){M=p.apply(this,arguments);var y=this.doc.createComment(M);this.locator&&l(this.locator,y);c(this,y)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(M,A,F){var y=this.doc.implementation;y&&y.createDocumentType&&(M=y.createDocumentType(M,
A,F),this.locator&&l(this.locator,M),c(this,M))},warning:function(M){console.warn("[xmldom warning]\t"+M,h(this.locator))},error:function(M){console.error("[xmldom error]\t"+M,h(this.locator))},fatalError:function(M){console.error("[xmldom fatalError]\t"+M,h(this.locator));throw M;}};"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(M){W.prototype[M]=function(){return null}});
var f=E(67),r=E(68).XMLReader,z=G.DOMImplementation=E(45).DOMImplementation;G.XMLSerializer=E(45).XMLSerializer;G.DOMParser=u},function(R,G){G.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",
Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",
oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",nbsp:"\u00a0",iexcl:"\u00a1",cent:"\u00a2",pound:"\u00a3",curren:"\u00a4",yen:"\u00a5",brvbar:"\u00a6",sect:"\u00a7",uml:"\u00a8",copy:"\u00a9",ordf:"\u00aa",laquo:"\u00ab",not:"\u00ac",shy:"\u00ad\u00ad",reg:"\u00ae",macr:"\u00af",deg:"\u00b0",plusmn:"\u00b1",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",
raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",times:"\u00d7",divide:"\u00f7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",
ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",
gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",
emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",
lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}},function(R,G){function E(){}function u(A,F,y,B,t){function S(ya){var xa=ya.slice(1,-1);if(xa in y)return y[xa];if("#"===xa.charAt(0))return ya=parseInt(xa.substr(1).replace("x","0x")),65535<ya?(ya-=65536,ya=String.fromCharCode(55296+(ya>>10),56320+(ya&1023))):ya=String.fromCharCode(ya),ya;t.error("entity not found:"+ya);return ya}function k(ya){if(ya>Q){var xa=A.substring(Q,ya).replace(/&#?\w+;/g,
S);x&&e(Q);B.characters(xa,0,ya-Q);Q=ya}}function e(ya,xa){for(;ya>=H&&(xa=g.exec(A));)q=xa.index,H=q+xa[0].length,x.lineNumber++;x.columnNumber=ya-q+1}var q=0,H=0,g=/.*(?:\r\n?|\n)|.*$/g,x=B.locator;F=[{currentNSMap:F}];for(var I={},Q=0;;){try{var Z=A.indexOf("<",Q);if(0>Z){if(!A.substr(Q).match(/^\s*$/)){var Y=B.doc,ba=Y.createTextNode(A.substr(Q));Y.appendChild(ba);B.currentElement=ba}break}Z>Q&&k(Z);switch(A.charAt(Z+1)){case "/":var ha=A.indexOf(">",Z+3),ia=A.substring(Z+2,ha),na=F.pop();0>ha?
(ia=A.substring(Z+2).replace(/[\s<].*/,""),t.error("end tag name: "+ia+" is not complete:"+na.tagName),ha=Z+1+ia.length):ia.match(/\s</)&&(ia=ia.replace(/[\s<].*/,""),t.error("end tag name: "+ia+" maybe not complete"),ha=Z+1+ia.length);var v=na.localNSMap,n=na.tagName==ia;if(n||na.tagName&&na.tagName.toLowerCase()==ia.toLowerCase()){B.endElement(na.uri,na.localName,ia);if(v)for(var w in v)B.endPrefixMapping(w);n||t.fatalError("end tag name: "+ia+" is not match the current start tagName:"+na.tagName)}else F.push(na);
ha++;break;case "?":x&&e(Z);ha=f(A,Z,B);break;case "!":x&&e(Z);ha=c(A,Z,B,t);break;default:x&&e(Z);var D=new r,V=F[F.length-1].currentNSMap;ha=W(A,Z,D,V,S,t);var P=D.length;!D.closed&&p(A,ha,D.tagName,I)&&(D.closed=!0,y.nbsp||t.warning("unclosed xml attribute"));if(x&&P){for(var O=J(x,{}),K=0;K<P;K++){var qa=D[K];e(qa.offset);qa.locator=J(x,{})}B.locator=O;l(D,B,V)&&F.push(D);B.locator=x}else l(D,B,V)&&F.push(D);"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?ha++:ha=h(A,ha,D.tagName,S,B)}}catch(ya){t.error("element parse error: "+
ya),ha=-1}ha>Q?Q=ha:k(Math.max(Z,Q)+1)}}function J(A,F){F.lineNumber=A.lineNumber;F.columnNumber=A.columnNumber;return F}function W(A,F,y,B,t,S){for(var k,e,q=++F,H=0;;){var g=A.charAt(q);switch(g){case "=":if(1===H)k=A.slice(F,q),H=3;else if(2===H)H=3;else throw Error("attribute equal must after attrName");break;case "'":case '"':if(3===H||1===H)if(1===H&&(S.warning('attribute value must after "="'),k=A.slice(F,q)),F=q+1,q=A.indexOf(g,F),0<q)e=A.slice(F,q).replace(/&#?\w+;/g,t),y.add(k,e,F-1),H=
5;else throw Error("attribute value no end '"+g+"' match");else if(4==H)e=A.slice(F,q).replace(/&#?\w+;/g,t),y.add(k,e,F),S.warning('attribute "'+k+'" missed start quot('+g+")!!"),F=q+1,H=5;else throw Error('attribute value must after "="');break;case "/":switch(H){case 0:y.setTagName(A.slice(F,q));case 5:case 6:case 7:H=7,y.closed=!0;case 4:case 1:case 2:break;default:throw Error("attribute invalid close char('/')");}break;case "":return S.error("unexpected end of input"),0==H&&y.setTagName(A.slice(F,
q)),q;case ">":switch(H){case 0:y.setTagName(A.slice(F,q));case 5:case 6:case 7:break;case 4:case 1:e=A.slice(F,q),"/"===e.slice(-1)&&(y.closed=!0,e=e.slice(0,-1));case 2:2===H&&(e=k);4==H?(S.warning('attribute "'+e+'" missed quot(")!!'),y.add(k,e.replace(/&#?\w+;/g,t),F)):("http://www.w3.org/1999/xhtml"===B[""]&&e.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+e+'" missed value!! "'+e+'" instead!!'),y.add(e,e,F));break;case 3:throw Error("attribute value missed!!");}return q;
case "\u0080":g=" ";default:if(" ">=g)switch(H){case 0:y.setTagName(A.slice(F,q));H=6;break;case 1:k=A.slice(F,q);H=2;break;case 4:e=A.slice(F,q).replace(/&#?\w+;/g,t),S.warning('attribute "'+e+'" missed quot(")!!'),y.add(k,e,F);case 5:H=6}else switch(H){case 2:"http://www.w3.org/1999/xhtml"===B[""]&&k.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+k+'" missed value!! "'+k+'" instead2!!');y.add(k,k,F);F=q;H=1;break;case 5:S.warning('attribute space is required"'+k+'"!!');case 6:H=
1;F=q;break;case 3:H=4;F=q;break;case 7:throw Error("elements closed character '/' and '>' must be connected to");}}q++}}function l(A,F,y){for(var B=A.tagName,t=null,S=A.length;S--;){var k=A[S],e=k.qName,q=k.value,H=e.indexOf(":");if(0<H){var g=k.prefix=e.slice(0,H);H=e.slice(H+1);g="xmlns"===g&&H}else H=e,g="xmlns"===e&&"";k.localName=H;if(!1!==g){if(null==t){t={};H=void 0;e=y;var x=y={};for(H in e)x[H]=e[H]}y[g]=t[g]=q;k.uri="http://www.w3.org/2000/xmlns/";F.startPrefixMapping(g,q)}}for(S=A.length;S--;)if(k=
A[S],g=k.prefix)"xml"===g&&(k.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==g&&(k.uri=y[g||""]);H=B.indexOf(":");0<H?(g=A.prefix=B.slice(0,H),H=A.localName=B.slice(H+1)):(g=null,H=A.localName=B);S=A.uri=y[g||""];F.startElement(S,H,B,A);if(A.closed){if(F.endElement(S,H,B),t)for(g in t)F.endPrefixMapping(g)}else return A.currentNSMap=y,A.localNSMap=t,!0}function h(A,F,y,B,t){if(/^(?:script|textarea)$/i.test(y)){var S=A.indexOf("</"+y+">",F);A=A.substring(F+1,S);if(/[&<]/.test(A)){if(/^script$/i.test(y))return t.characters(A,
0,A.length),S;A=A.replace(/&#?\w+;/g,B);t.characters(A,0,A.length);return S}}return F+1}function p(A,F,y,B){var t=B[y];null==t&&(t=A.lastIndexOf("</"+y+">"),t<F&&(t=A.lastIndexOf("</"+y)),B[y]=t);return t<F}function c(A,F,y,B){switch(A.charAt(F+2)){case "-":if("-"===A.charAt(F+3)){var t=A.indexOf("--\x3e",F+4);if(t>F)return y.comment(A,F+4,t-F-4),t+3;B.error("Unclosed comment")}break;default:if("CDATA["==A.substr(F+3,6))return t=A.indexOf("]]\x3e",F+9),y.startCDATA(),y.characters(A,F+9,t-F-9),y.endCDATA(),
t+3;a:{B=[];t=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;t.lastIndex=F;for(t.exec(A);F=t.exec(A);)if(B.push(F),F[1]){t=B;break a}t=void 0}var S=t.length;if(1<S&&/!doctype/i.test(t[0][0]))return A=t[1][0],B=F=!1,3<S&&(/^public$/i.test(t[2][0])?(F=t[3][0],B=4<S&&t[4][0]):/^system$/i.test(t[2][0])&&(B=t[3][0])),t=t[S-1],y.startDTD(A,F&&F.replace(/^(['"])(.*?)\1$/,"$2"),B&&B.replace(/^(['"])(.*?)\1$/,"$2")),y.endDTD(),t.index+t[0].length}return-1}function f(A,F,y){var B=A.indexOf("?>",F);return B&&
(A=A.substring(F,B).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/))?(y.processingInstruction(A[1],A[2]),B+2):-1}function r(A){}R=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var z=new RegExp("[\\-\\.0-9"+R.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),M=new RegExp("^"+R.source+z.source+"*(?::"+R.source+z.source+"*)?$");E.prototype={parse:function(A,F,y){var B=this.domBuilder;B.startDocument();
var t=F,S=F={},k;for(k in t)S[k]=t[k];u(A,F,y,B,this.errorHandler);B.endDocument()}};r.prototype={setTagName:function(A){if(!M.test(A))throw Error("invalid tagName:"+A);this.tagName=A},add:function(A,F,y){if(!M.test(A))throw Error("invalid attribute:"+A);this[this.length++]={qName:A,value:F,offset:y}},length:0,getLocalName:function(A){return this[A].localName},getLocator:function(A){return this[A].locator},getQName:function(A){return this[A].qName},getURI:function(A){return this[A].uri},getValue:function(A){return this[A].value}};
G.XMLReader=E},function(R,G){function E(){this.init()}function u(b){this.expression=b}function J(){}function W(b){0<arguments.length&&this.init(b)}function l(b){0<arguments.length&&this.init(b)}function h(b,N){0<arguments.length&&this.init(b,N)}function p(b,N){0<arguments.length&&this.init(b,N)}function c(b,N){0<arguments.length&&this.init(b,N)}function f(b,N){0<arguments.length&&this.init(b,N)}function r(b,N){0<arguments.length&&this.init(b,N)}function z(b,N){0<arguments.length&&this.init(b,N)}function M(b,
N){0<arguments.length&&this.init(b,N)}function A(b,N){0<arguments.length&&this.init(b,N)}function F(b,N){0<arguments.length&&this.init(b,N)}function y(b,N){0<arguments.length&&this.init(b,N)}function B(b,N){0<arguments.length&&this.init(b,N)}function t(b,N){0<arguments.length&&this.init(b,N)}function S(b,N){0<arguments.length&&this.init(b,N)}function k(b,N){0<arguments.length&&this.init(b,N)}function e(b,N){0<arguments.length&&this.init(b,N)}function q(b,N,ja){0<arguments.length&&this.init(b,N,ja)}
function H(b,N){0<arguments.length&&this.init(b,N)}function g(b,N,ja){0<arguments.length&&this.init(b,N,ja)}function x(b,N){0<arguments.length&&this.init(b,N)}function I(b){0<arguments.length&&this.init(b)}function Q(b,N){0<arguments.length&&this.init(b,N)}function Z(b){0<arguments.length&&this.init(b)}function Y(b){0<arguments.length&&this.init(b)}function ba(b){0<arguments.length&&this.init(b)}function ha(b){this.init(b)}function ia(){this.init()}function na(b,N,ja){this.isXPathNamespace=!0;this.ownerDocument=
ja.ownerDocument;this.nodeName="#namespace";this.localName=this.prefix=b;this.nodeValue=this.namespaceURI=N;this.ownerElement=ja;this.nodeType=na.XPATH_NAMESPACE_NODE}function v(b,N,ja){this.variableResolver=null!=b?b:new n;this.namespaceResolver=null!=N?N:new D;this.functionResolver=null!=ja?ja:new w}function n(){}function w(b){this.thisArg=null!=b?b:Da;this.functions={};this.addStandardFunctions()}function D(){}function V(b,N){this.code=b;this.exception=N}function P(b,N,ja){this.xpath=ja.parse(b);
this.context=new v;this.context.namespaceResolver=new O(N)}function O(b){this.xpathNSResolver=b}function K(b){this.node=b;this.namespaceResolver=new D}function qa(b,N){N==qa.ANY_TYPE&&(b.constructor===Z?N=qa.STRING_TYPE:b.constructor===Y?N=qa.NUMBER_TYPE:b.constructor===ba?N=qa.BOOLEAN_TYPE:b.constructor===ia&&(N=qa.UNORDERED_NODE_ITERATOR_TYPE));this.resultType=N;switch(N){case qa.NUMBER_TYPE:this.numberValue=b.numberValue();return;case qa.STRING_TYPE:this.stringValue=b.stringValue();return;case qa.BOOLEAN_TYPE:this.booleanValue=
b.booleanValue();return;case qa.ANY_UNORDERED_NODE_TYPE:case qa.FIRST_ORDERED_NODE_TYPE:if(b.constructor===ia){this.singleNodeValue=b.first();return}break;case qa.UNORDERED_NODE_ITERATOR_TYPE:case qa.ORDERED_NODE_ITERATOR_TYPE:if(b.constructor===ia){this.invalidIteratorState=!1;this.nodes=b.toArray();this.iteratorIndex=0;return}break;case qa.UNORDERED_NODE_SNAPSHOT_TYPE:case qa.ORDERED_NODE_SNAPSHOT_TYPE:if(b.constructor===ia){this.nodes=b.toArray();this.snapshotLength=this.nodes.length;return}}throw new V(V.TYPE_ERR);
}function ya(b,N){b.createExpression=function(ja,fa){try{return new P(ja,fa,N)}catch(ma){throw new V(V.INVALID_EXPRESSION_ERR,ma);}};b.createNSResolver=function(ja){return new K(ja)};b.evaluate=function(ja,fa,ma,ta,za){if(0>ta||9<ta)throw{code:0,toString:function(){return"Request type not supported"}};return b.createExpression(ja,ma,N).evaluate(fa,ta,za)}}E.prototype={};E.prototype.constructor=E;E.superclass=Object.prototype;E.prototype.init=function(){this.reduceActions=[];this.reduceActions[3]=
function(b){return new p(b[0],b[2])};this.reduceActions[5]=function(b){return new c(b[0],b[2])};this.reduceActions[7]=function(b){return new f(b[0],b[2])};this.reduceActions[8]=function(b){return new r(b[0],b[2])};this.reduceActions[10]=function(b){return new z(b[0],b[2])};this.reduceActions[11]=function(b){return new M(b[0],b[2])};this.reduceActions[12]=function(b){return new A(b[0],b[2])};this.reduceActions[13]=function(b){return new F(b[0],b[2])};this.reduceActions[15]=function(b){return new y(b[0],
b[2])};this.reduceActions[16]=function(b){return new B(b[0],b[2])};this.reduceActions[18]=function(b){return new t(b[0],b[2])};this.reduceActions[19]=function(b){return new S(b[0],b[2])};this.reduceActions[20]=function(b){return new k(b[0],b[2])};this.reduceActions[22]=function(b){return new l(b[1])};this.reduceActions[24]=function(b){return new e(b[0],b[2])};this.reduceActions[25]=function(b){return new q(void 0,void 0,b[0])};this.reduceActions[27]=function(b){b[0].locationPath=b[2];return b[0]};
this.reduceActions[28]=function(b){b[0].locationPath=b[2];b[0].locationPath.steps.unshift(new g(g.DESCENDANTORSELF,new x(x.NODE,void 0),[]));return b[0]};this.reduceActions[29]=function(b){return new q(b[0],[],void 0)};this.reduceActions[30]=function(b){return ea.instance_of(b[0],q)?(void 0==b[0].filterPredicates&&(b[0].filterPredicates=[]),b[0].filterPredicates.push(b[1]),b[0]):new q(b[0],[b[1]],void 0)};this.reduceActions[32]=function(b){return b[1]};this.reduceActions[33]=function(b){return new Z(b[0])};
this.reduceActions[34]=function(b){return new Y(b[0])};this.reduceActions[36]=function(b){return new Q(b[0],[])};this.reduceActions[37]=function(b){return new Q(b[0],b[2])};this.reduceActions[38]=function(b){return[b[0]]};this.reduceActions[39]=function(b){b[2].unshift(b[0]);return b[2]};this.reduceActions[43]=function(b){return new H(!0,[])};this.reduceActions[44]=function(b){b[1].absolute=!0;return b[1]};this.reduceActions[46]=function(b){return new H(!1,[b[0]])};this.reduceActions[47]=function(b){b[0].steps.push(b[2]);
return b[0]};this.reduceActions[49]=function(b){return new g(b[0],b[1],[])};this.reduceActions[50]=function(b){return new g(g.CHILD,b[0],[])};this.reduceActions[51]=function(b){return new g(b[0],b[1],b[2])};this.reduceActions[52]=function(b){return new g(g.CHILD,b[0],b[1])};this.reduceActions[54]=function(b){return[b[0]]};this.reduceActions[55]=function(b){b[1].unshift(b[0]);return b[1]};this.reduceActions[56]=function(b){return"ancestor"==b[0]?g.ANCESTOR:"ancestor-or-self"==b[0]?g.ANCESTORORSELF:
"attribute"==b[0]?g.ATTRIBUTE:"child"==b[0]?g.CHILD:"descendant"==b[0]?g.DESCENDANT:"descendant-or-self"==b[0]?g.DESCENDANTORSELF:"following"==b[0]?g.FOLLOWING:"following-sibling"==b[0]?g.FOLLOWINGSIBLING:"namespace"==b[0]?g.NAMESPACE:"parent"==b[0]?g.PARENT:"preceding"==b[0]?g.PRECEDING:"preceding-sibling"==b[0]?g.PRECEDINGSIBLING:"self"==b[0]?g.SELF:-1};this.reduceActions[57]=function(b){return g.ATTRIBUTE};this.reduceActions[59]=function(b){return"comment"==b[0]?new x(x.COMMENT,void 0):"text"==
b[0]?new x(x.TEXT,void 0):"processing-instruction"==b[0]?new x(x.PI,void 0):"node"==b[0]?new x(x.NODE,void 0):new x(-1,void 0)};this.reduceActions[60]=function(b){return new x(x.PI,b[2])};this.reduceActions[61]=function(b){return b[1]};this.reduceActions[63]=function(b){b[1].absolute=!0;b[1].steps.unshift(new g(g.DESCENDANTORSELF,new x(x.NODE,void 0),[]));return b[1]};this.reduceActions[64]=function(b){b[0].steps.push(new g(g.DESCENDANTORSELF,new x(x.NODE,void 0),[]));b[0].steps.push(b[2]);return b[0]};
this.reduceActions[65]=function(b){return new g(g.SELF,new x(x.NODE,void 0),[])};this.reduceActions[66]=function(b){return new g(g.PARENT,new x(x.NODE,void 0),[])};this.reduceActions[67]=function(b){return new I(b[1])};this.reduceActions[68]=function(b){return new x(x.NAMETESTANY,void 0)};this.reduceActions[69]=function(b){b=b[0].substring(0,b[0].indexOf(":"));return new x(x.NAMETESTPREFIXANY,b)};this.reduceActions[70]=function(b){return new x(x.NAMETESTQNAME,b[0])}};E.actionTable=" s s        sssssssss    s ss  s  ss;                 s                  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                rrrrr               ; s s        sssssssss    s ss  s  ss;rs  rrrrrrrr s  sssssrrrrrr  rrs rs ; s s        sssssssss    s ss  s  ss;                            s       ;                            s       ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;  s                                 ;                            s       ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr  r  ;a                                   ;r       s                    rr  r  ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrs  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  srrrrrrrr         rrrrrrs rr sr  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r   rrrrrrrr         rrrrrr  rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;                sssss               ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  srrrrrrrr         rrrrrrs rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;              s                     ;                             s      ;                rrrrr               ; s s        sssssssss    s sss s  ss;r  srrrrrrrr         rrrrrrs rr  r  ; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss    s ss  s  ss; s s        sssssssss      ss  s  ss; s s        sssssssss    s ss  s  ss; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr rr  ; s           s  sssss          s  s ; s           s  sssss          s  s ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr sr  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             s      ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ;                             rr     ;                             s      ;                             rs     ;r      sr                    rr  r  ;r   s  rr            s       rr  r  ;r   rssrr            rss     rr  r  ;r   rssrr            rss     rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrr            rrrss   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrsss         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrr   rr  r  ;r   rrrrrrrr         rrrrrr  rr  r  ;                                 r  ;                                 s  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  srrrrrrrr         rrrrrrs rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr  r  ;r  rrrrrrrrr         rrrrrrr rr rr  ;r  rrrrrrrrr         rrrrrrr rr rr  ; s s        sssssssss    s ss  s  ss;r  rrrrrrrrr         rrrrrrr rr rr  ;                             r      ".split(";");
E.actionTableNumber=" 1 0        /.-,+*)('    & %$  #  \"!{                 J                  {a  aaaaaaaaa         aaaaaaa aa  a  {                YYYYY               { 1 0        /.-,+*)('    & %$  #  \"!{K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" { 1 0        /.-,+*)('    & %$  #  \"!{                            N       {                            O       {e  eeeeeeeee         eeeeeee ee ee  {f  fffffffff         fffffff ff ff  {d  ddddddddd         ddddddd dd dd  {B  BBBBBBBBB         BBBBBBB BB BB  {A  AAAAAAAAA         AAAAAAA AA AA  {  P                                 {                            Q       { 1           .  +*)('          #  \" {b  bbbbbbbbb         bbbbbbb bb  b  {                                    {!       S                    !!  !  {\"      T\"                    \"\"  \"  {$   V  $$            U       $$  $  {&   &ZY&&            &XW     &&  &  {)   )))))            )))\\[   ))  )  {.   ....._^]         .....   ..  .  {1   11111111         11111   11  1  {5   55555555         55555`  55  5  {7   77777777         777777  77  7  {9   99999999         999999  99  9  {:  c::::::::         ::::::b :: a:  {I  fIIIIIIII         IIIIIIe II  I  {=  =========         ======= == ==  {?  ?????????         ??????? ?? ??  {C  CCCCCCCCC         CCCCCCC CC CC  {J   JJJJJJJJ         JJJJJJ  JJ  J  {M   MMMMMMMM         MMMMMM  MM  M  {N  NNNNNNNNN         NNNNNNN NN  N  {P  PPPPPPPPP         PPPPPPP PP  P  {                +*)('               {R  RRRRRRRRR         RRRRRRR RR aR  {U  UUUUUUUUU         UUUUUUU UU  U  {Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  {c  ccccccccc         ccccccc cc cc  {                             j      {L  fLLLLLLLL         LLLLLLe LL  L  {6   66666666         66666   66  6  {              k                     {                             l      {                XXXXX               { 1 0        /.-,+*)('    & %$m #  \"!{_  f________         ______e __  _  { 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1 0        /.-,+*)('      %$  #  \"!{ 1 0        /.-,+*)('    & %$  #  \"!{ 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {>  >>>>>>>>>         >>>>>>> >> >>  { 1           .  +*)('          #  \" { 1           .  +*)('          #  \" {Q  QQQQQQQQQ         QQQQQQQ QQ aQ  {V  VVVVVVVVV         VVVVVVV VV aV  {T  TTTTTTTTT         TTTTTTT TT  T  {@  @@@@@@@@@         @@@@@@@ @@ @@  {                             \u0087      {[  [[[[[[[[[         [[[[[[[ [[ [[  {D  DDDDDDDDD         DDDDDDD DD DD  {                             HH     {                             \u0088      {                             F\u0089     {#      T#                    ##  #  {%   V  %%            U       %%  %  {'   'ZY''            'XW     ''  '  {(   (ZY((            (XW     ((  (  {+   +++++            +++\\[   ++  +  {*   *****            ***\\[   **  *  {-   -----            ---\\[   --  -  {,   ,,,,,            ,,,\\[   ,,  ,  {0   00000_^]         00000   00  0  {/   /////_^]         /////   //  /  {2   22222222         22222   22  2  {3   33333333         33333   33  3  {4   44444444         44444   44  4  {8   88888888         888888  88  8  {                                 ^  {                                 \u008a  {;  f;;;;;;;;         ;;;;;;e ;;  ;  {<  f<<<<<<<<         <<<<<<e <<  <  {O  OOOOOOOOO         OOOOOOO OO  O  {`  `````````         ``````` ``  `  {S  SSSSSSSSS         SSSSSSS SS  S  {W  WWWWWWWWW         WWWWWWW WW  W  {\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  {E  EEEEEEEEE         EEEEEEE EE EE  { 1 0        /.-,+*)('    & %$  #  \"!{]  ]]]]]]]]]         ]]]]]]] ]] ]]  {                             G      ".split("{");
E.gotoTable="3456789:;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,L456789:;<=>?@ AB  CDEFGH IJ ,            M        EFGH IJ ,       N;<=>?@ AB  CDEFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,            S        EFGH IJ ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,              e              ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                        h  J ,              i          j   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ ABpqCDEFGH IJ ,                             ,  r6789:;<=>?@ AB  CDEFGH IJ ,   s789:;<=>?@ AB  CDEFGH IJ ,    t89:;<=>?@ AB  CDEFGH IJ ,    u89:;<=>?@ AB  CDEFGH IJ ,     v9:;<=>?@ AB  CDEFGH IJ ,     w9:;<=>?@ AB  CDEFGH IJ ,     x9:;<=>?@ AB  CDEFGH IJ ,     y9:;<=>?@ AB  CDEFGH IJ ,      z:;<=>?@ AB  CDEFGH IJ ,      {:;<=>?@ AB  CDEFGH IJ ,       |;<=>?@ AB  CDEFGH IJ ,       };<=>?@ AB  CDEFGH IJ ,       ~;<=>?@ AB  CDEFGH IJ ,         \u007f=>?@ AB  CDEFGH IJ ,\u0080456789:;<=>?@ AB  CDEFGH IJ\u0081,            \u0082        EFGH IJ ,            \u0083        EFGH IJ ,                             ,                     \u0084 GH IJ ,                     \u0085 GH IJ ,              i          \u0086   ,              i          \u0087   ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,                             ,o456789:;<=>?@ AB\u008cqCDEFGH IJ ,                             ,                             ".split(",");
E.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,
19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]];E.DOUBLEDOT=2;E.DOUBLECOLON=3;E.DOUBLESLASH=4;E.NOTEQUAL=5;E.LESSTHANOREQUAL=6;E.GREATERTHANOREQUAL=7;E.AND=
8;E.OR=9;E.MOD=10;E.DIV=11;E.MULTIPLYOPERATOR=12;E.FUNCTIONNAME=13;E.AXISNAME=14;E.LITERAL=15;E.NUMBER=16;E.ASTERISKNAMETEST=17;E.QNAME=18;E.NCNAMECOLONASTERISK=19;E.NODETYPE=20;E.PROCESSINGINSTRUCTIONWITHLITERAL=21;E.EQUALS=22;E.LESSTHAN=23;E.GREATERTHAN=24;E.PLUS=25;E.MINUS=26;E.BAR=27;E.SLASH=28;E.LEFTPARENTHESIS=29;E.RIGHTPARENTHESIS=30;E.COMMA=31;E.AT=32;E.LEFTBRACKET=33;E.RIGHTBRACKET=34;E.DOT=35;E.DOLLAR=36;E.prototype.tokenize=function(b){var N=[],ja=[];b+="\x00";for(var fa=0,ma=b.charAt(fa++);;){for(;" "==
ma||"\t"==ma||"\r"==ma||"\n"==ma;)ma=b.charAt(fa++);if("\x00"==ma||fa>=b.length)break;if("("==ma)N.push(E.LEFTPARENTHESIS),ja.push(ma),ma=b.charAt(fa++);else if(")"==ma)N.push(E.RIGHTPARENTHESIS),ja.push(ma),ma=b.charAt(fa++);else if("["==ma)N.push(E.LEFTBRACKET),ja.push(ma),ma=b.charAt(fa++);else if("]"==ma)N.push(E.RIGHTBRACKET),ja.push(ma),ma=b.charAt(fa++);else if("@"==ma)N.push(E.AT),ja.push(ma),ma=b.charAt(fa++);else if(","==ma)N.push(E.COMMA),ja.push(ma),ma=b.charAt(fa++);else if("|"==ma)N.push(E.BAR),
ja.push(ma),ma=b.charAt(fa++);else if("+"==ma)N.push(E.PLUS),ja.push(ma),ma=b.charAt(fa++);else if("-"==ma)N.push(E.MINUS),ja.push(ma),ma=b.charAt(fa++);else if("="==ma)N.push(E.EQUALS),ja.push(ma),ma=b.charAt(fa++);else if("$"==ma)N.push(E.DOLLAR),ja.push(ma),ma=b.charAt(fa++);else if("."==ma)if(ma=b.charAt(fa++),"."==ma)N.push(E.DOUBLEDOT),ja.push(".."),ma=b.charAt(fa++);else if("0"<=ma&&"9">=ma){var ta="."+ma;for(ma=b.charAt(fa++);"0"<=ma&&"9">=ma;)ta+=ma,ma=b.charAt(fa++);N.push(E.NUMBER);ja.push(ta)}else N.push(E.DOT),
ja.push(".");else if("'"==ma||'"'==ma){ta=ma;for(var za="";(ma=b.charAt(fa++))!=ta;)za+=ma;N.push(E.LITERAL);ja.push(za);ma=b.charAt(fa++)}else if("0"<=ma&&"9">=ma){ta=ma;for(ma=b.charAt(fa++);"0"<=ma&&"9">=ma;)ta+=ma,ma=b.charAt(fa++);if("."==ma&&"0"<=b.charAt(fa)&&"9">=b.charAt(fa))for(ta+=ma,ta+=b.charAt(fa++),ma=b.charAt(fa++);"0"<=ma&&"9">=ma;)ta+=ma,ma=b.charAt(fa++);N.push(E.NUMBER);ja.push(ta)}else if("*"==ma){if(0<N.length&&(ta=N[N.length-1],ta!=E.AT&&ta!=E.DOUBLECOLON&&ta!=E.LEFTPARENTHESIS&&
ta!=E.LEFTBRACKET&&ta!=E.AND&&ta!=E.OR&&ta!=E.MOD&&ta!=E.DIV&&ta!=E.MULTIPLYOPERATOR&&ta!=E.SLASH&&ta!=E.DOUBLESLASH&&ta!=E.BAR&&ta!=E.PLUS&&ta!=E.MINUS&&ta!=E.EQUALS&&ta!=E.NOTEQUAL&&ta!=E.LESSTHAN&&ta!=E.LESSTHANOREQUAL&&ta!=E.GREATERTHAN&&ta!=E.GREATERTHANOREQUAL)){N.push(E.MULTIPLYOPERATOR);ja.push(ma);ma=b.charAt(fa++);continue}N.push(E.ASTERISKNAMETEST);ja.push(ma);ma=b.charAt(fa++)}else if(":"==ma&&":"==b.charAt(fa))N.push(E.DOUBLECOLON),ja.push("::"),fa++,ma=b.charAt(fa++);else if("/"==ma)ma=
b.charAt(fa++),"/"==ma?(N.push(E.DOUBLESLASH),ja.push("//"),ma=b.charAt(fa++)):(N.push(E.SLASH),ja.push("/"));else if("!"==ma&&"="==b.charAt(fa))N.push(E.NOTEQUAL),ja.push("!="),fa++,ma=b.charAt(fa++);else if("<"==ma)"="==b.charAt(fa)?(N.push(E.LESSTHANOREQUAL),ja.push("<="),fa++):(N.push(E.LESSTHAN),ja.push("<")),ma=b.charAt(fa++);else if(">"==ma)"="==b.charAt(fa)?(N.push(E.GREATERTHANOREQUAL),ja.push(">="),fa++):(N.push(E.GREATERTHAN),ja.push(">")),ma=b.charAt(fa++);else if("_"==ma||ea.isLetter(ma.charCodeAt(0))){za=
ma;for(ma=b.charAt(fa++);ea.isNCNameChar(ma.charCodeAt(0));)za+=ma,ma=b.charAt(fa++);if(0<N.length&&(ta=N[N.length-1],ta!=E.AT&&ta!=E.DOUBLECOLON&&ta!=E.LEFTPARENTHESIS&&ta!=E.LEFTBRACKET&&ta!=E.AND&&ta!=E.OR&&ta!=E.MOD&&ta!=E.DIV&&ta!=E.MULTIPLYOPERATOR&&ta!=E.SLASH&&ta!=E.DOUBLESLASH&&ta!=E.BAR&&ta!=E.PLUS&&ta!=E.MINUS&&ta!=E.EQUALS&&ta!=E.NOTEQUAL&&ta!=E.LESSTHAN&&ta!=E.LESSTHANOREQUAL&&ta!=E.GREATERTHAN&&ta!=E.GREATERTHANOREQUAL)){if("and"==za){N.push(E.AND);ja.push(za);continue}if("or"==za){N.push(E.OR);
ja.push(za);continue}if("mod"==za){N.push(E.MOD);ja.push(za);continue}if("div"==za){N.push(E.DIV);ja.push(za);continue}}if(":"==ma){if("*"==b.charAt(fa)){N.push(E.NCNAMECOLONASTERISK);ja.push(za+":*");fa++;ma=b.charAt(fa++);continue}if("_"==b.charAt(fa)||ea.isLetter(b.charCodeAt(fa))){za+=":";for(ma=b.charAt(fa++);ea.isNCNameChar(ma.charCodeAt(0));)za+=ma,ma=b.charAt(fa++);if("("==ma){N.push(E.FUNCTIONNAME);ja.push(za);continue}N.push(E.QNAME);ja.push(za);continue}if(":"==b.charAt(fa)){N.push(E.AXISNAME);
ja.push(za);continue}}"("==ma?"comment"==za||"text"==za||"node"==za?N.push(E.NODETYPE):"processing-instruction"==za?")"==b.charAt(fa)?N.push(E.NODETYPE):N.push(E.PROCESSINGINSTRUCTIONWITHLITERAL):N.push(E.FUNCTIONNAME):N.push(E.QNAME);ja.push(za)}else throw Error("Unexpected character "+ma);}N.push(1);ja.push("[EOF]");return[N,ja]};E.SHIFT="s";E.REDUCE="r";E.ACCEPT="a";E.prototype.parse=function(b){b=this.tokenize(b);if(void 0!=b){var N=b[0];var ja=b[1];var fa=0,ma=[],ta=[],za=[],Ga;ma.push(0);ta.push(1);
za.push("_S");var Ta=N[fa];for(Ga=ja[fa++];;)switch(b=ma[ma.length-1],E.actionTable[b].charAt(Ta-1)){case E.SHIFT:ta.push(-Ta);za.push(Ga);ma.push(E.actionTableNumber[b].charCodeAt(Ta-1)-32);Ta=N[fa];Ga=ja[fa++];break;case E.REDUCE:for(var Fa=E.productions[E.actionTableNumber[b].charCodeAt(Ta-1)-32][1],Ka=[],ca=0;ca<Fa;ca++)ta.pop(),Ka.unshift(za.pop()),ma.pop();Fa=ma[ma.length-1];ta.push(E.productions[E.actionTableNumber[b].charCodeAt(Ta-1)-32][0]);void 0==this.reduceActions[E.actionTableNumber[b].charCodeAt(Ta-
1)-32]?za.push(Ka[0]):za.push(this.reduceActions[E.actionTableNumber[b].charCodeAt(Ta-1)-32](Ka));ma.push(E.gotoTable[Fa].charCodeAt(E.productions[E.actionTableNumber[b].charCodeAt(Ta-1)-32][0]-2)-33);break;case E.ACCEPT:return new u(za.pop());default:throw Error("XPath parse error");}}};u.prototype={};u.prototype.constructor=u;u.superclass=Object.prototype;u.prototype.toString=function(){return this.expression.toString()};u.prototype.evaluate=function(b){b.contextNode=b.expressionContextNode;b.contextSize=
1;b.contextPosition=1;b.caseInsensitive=!1;if(null!=b.contextNode){var N=b.contextNode;9!=N.nodeType&&(N=N.ownerDocument);try{b.caseInsensitive=N.implementation.hasFeature("HTML","2.0")}catch(ja){b.caseInsensitive=!0}}return this.expression.evaluate(b)};u.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace";u.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/";J.prototype={};J.prototype.constructor=J;J.superclass=Object.prototype;J.prototype.init=function(){};J.prototype.toString=function(){return"<Expression>"};
J.prototype.evaluate=function(b){throw Error("Could not evaluate expression.");};W.prototype=new J;W.prototype.constructor=W;W.superclass=J.prototype;W.prototype.init=function(b){this.rhs=b};l.prototype=new W;l.prototype.constructor=l;l.superclass=W.prototype;l.prototype.init=function(b){l.superclass.init.call(this,b)};l.prototype.evaluate=function(b){return this.rhs.evaluate(b).number().negate()};l.prototype.toString=function(){return"-"+this.rhs.toString()};h.prototype=new J;h.prototype.constructor=
h;h.superclass=J.prototype;h.prototype.init=function(b,N){this.lhs=b;this.rhs=N};p.prototype=new h;p.prototype.constructor=p;p.superclass=h.prototype;p.prototype.init=function(b,N){p.superclass.init.call(this,b,N)};p.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"};p.prototype.evaluate=function(b){var N=this.lhs.evaluate(b).bool();return N.booleanValue()?N:this.rhs.evaluate(b).bool()};c.prototype=new h;c.prototype.constructor=c;c.superclass=h.prototype;c.prototype.init=
function(b,N){c.superclass.init.call(this,b,N)};c.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"};c.prototype.evaluate=function(b){var N=this.lhs.evaluate(b).bool();return N.booleanValue()?this.rhs.evaluate(b).bool():N};f.prototype=new h;f.prototype.constructor=f;f.superclass=h.prototype;f.prototype.init=function(b,N){f.superclass.init.call(this,b,N)};f.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"};f.prototype.evaluate=
function(b){return this.lhs.evaluate(b).equals(this.rhs.evaluate(b))};r.prototype=new h;r.prototype.constructor=r;r.superclass=h.prototype;r.prototype.init=function(b,N){r.superclass.init.call(this,b,N)};r.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"};r.prototype.evaluate=function(b){return this.lhs.evaluate(b).notequal(this.rhs.evaluate(b))};z.prototype=new h;z.prototype.constructor=z;z.superclass=h.prototype;z.prototype.init=function(b,N){z.superclass.init.call(this,
b,N)};z.prototype.evaluate=function(b){return this.lhs.evaluate(b).lessthan(this.rhs.evaluate(b))};z.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"};M.prototype=new h;M.prototype.constructor=M;M.superclass=h.prototype;M.prototype.init=function(b,N){M.superclass.init.call(this,b,N)};M.prototype.evaluate=function(b){return this.lhs.evaluate(b).greaterthan(this.rhs.evaluate(b))};M.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+
")"};A.prototype=new h;A.prototype.constructor=A;A.superclass=h.prototype;A.prototype.init=function(b,N){A.superclass.init.call(this,b,N)};A.prototype.evaluate=function(b){return this.lhs.evaluate(b).lessthanorequal(this.rhs.evaluate(b))};A.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"};F.prototype=new h;F.prototype.constructor=F;F.superclass=h.prototype;F.prototype.init=function(b,N){F.superclass.init.call(this,b,N)};F.prototype.evaluate=function(b){return this.lhs.evaluate(b).greaterthanorequal(this.rhs.evaluate(b))};
F.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"};y.prototype=new h;y.prototype.constructor=y;y.superclass=h.prototype;y.prototype.init=function(b,N){y.superclass.init.call(this,b,N)};y.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().plus(this.rhs.evaluate(b).number())};y.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"};B.prototype=new h;B.prototype.constructor=B;B.superclass=h.prototype;B.prototype.init=
function(b,N){B.superclass.init.call(this,b,N)};B.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().minus(this.rhs.evaluate(b).number())};B.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"};t.prototype=new h;t.prototype.constructor=t;t.superclass=h.prototype;t.prototype.init=function(b,N){t.superclass.init.call(this,b,N)};t.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().multiply(this.rhs.evaluate(b).number())};t.prototype.toString=
function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"};S.prototype=new h;S.prototype.constructor=S;S.superclass=h.prototype;S.prototype.init=function(b,N){S.superclass.init.call(this,b,N)};S.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().div(this.rhs.evaluate(b).number())};S.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"};k.prototype=new h;k.prototype.constructor=k;k.superclass=h.prototype;k.prototype.init=function(b,
N){k.superclass.init.call(this,b,N)};k.prototype.evaluate=function(b){return this.lhs.evaluate(b).number().mod(this.rhs.evaluate(b).number())};k.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"};e.prototype=new h;e.prototype.constructor=e;e.superclass=h.prototype;e.prototype.init=function(b,N){e.superclass.init.call(this,b,N)};e.prototype.evaluate=function(b){return this.lhs.evaluate(b).nodeset().union(this.rhs.evaluate(b).nodeset())};e.prototype.toString=
function(){return this.lhs.toString()+" | "+this.rhs.toString()};q.prototype=new J;q.prototype.constructor=q;q.superclass=J.prototype;q.prototype.init=function(b,N,ja){q.superclass.init.call(this);this.filter=b;this.filterPredicates=N;this.locationPath=ja};q.prototype.evaluate=function(b){var N=new v;N.variableResolver=b.variableResolver;N.functionResolver=b.functionResolver;N.namespaceResolver=b.namespaceResolver;N.expressionContextNode=b.expressionContextNode;N.virtualRoot=b.virtualRoot;N.caseInsensitive=
b.caseInsensitive;if(null==this.filter)b=[b.contextNode];else{var ja=this.filter.evaluate(b);if(!ea.instance_of(ja,ia)){if(null!=this.filterPredicates&&0<this.filterPredicates.length||null!=this.locationPath)throw Error("Path expression filter must evaluate to a nodset if predicates or location path are used");return ja}b=ja.toArray();if(null!=this.filterPredicates)for(ja=0;ja<this.filterPredicates.length;ja++){var fa=this.filterPredicates[ja],ma=[];N.contextSize=b.length;for(N.contextPosition=1;N.contextPosition<=
N.contextSize;N.contextPosition++)N.contextNode=b[N.contextPosition-1],this.predicateMatches(fa,N)&&ma.push(N.contextNode);b=ma}}if(null!=this.locationPath){if(this.locationPath.absolute)if(9!=b[0].nodeType)if(null!=N.virtualRoot)b=[N.virtualRoot];else if(null==b[0].ownerDocument){for(var ta=b[0];null!=ta.parentNode;)ta=ta.parentNode;b=[ta]}else b=[b[0].ownerDocument];else b=[b[0]];for(var za=0;za<this.locationPath.steps.length;za++){var Ga=this.locationPath.steps[za];ma=[];var Ta=[];for(ja=0;ja<
b.length;ja++)switch(N.contextNode=b[ja],Ga.axis){case g.ANCESTOR:if(N.contextNode===N.virtualRoot)break;for(fa=2==N.contextNode.nodeType?this.getOwnerElement(N.contextNode):N.contextNode.parentNode;null!=fa;){Ga.nodeTest.matches(fa,N)&&ma.push(fa);if(fa===N.virtualRoot)break;fa=fa.parentNode}break;case g.ANCESTORORSELF:for(fa=N.contextNode;null!=fa&&(Ga.nodeTest.matches(fa,N)&&ma.push(fa),fa!==N.virtualRoot);fa=2==fa.nodeType?this.getOwnerElement(fa):fa.parentNode);break;case g.ATTRIBUTE:ta=N.contextNode.attributes;
if(null!=ta)for(var Fa=0;Fa<ta.length;Fa++)fa=ta.item(Fa),Ga.nodeTest.matches(fa,N)&&ma.push(fa);break;case g.CHILD:ta=0;var Ka=[];for(fa=N.contextNode.firstChild;null!=fa;fa=fa.nextSibling)Ga.nodeTest.matches(fa,N)&&(ma.push(fa),Ka.push({contextPosition:++ta}));for(Fa=0;Fa<Ka.length;Fa++)Ka[Fa].contextSize=ta,Ta.push(Ka[Fa]);break;case g.DESCENDANT:for(Fa=[N.contextNode.firstChild];0<Fa.length;)for(fa=Fa.pop();null!=fa;)Ga.nodeTest.matches(fa,N)&&ma.push(fa),null!=fa.firstChild?(Fa.push(fa.nextSibling),
fa=fa.firstChild):fa=fa.nextSibling;break;case g.DESCENDANTORSELF:Ga.nodeTest.matches(N.contextNode,N)&&ma.push(N.contextNode);for(Fa=[N.contextNode.firstChild];0<Fa.length;)for(fa=Fa.pop();null!=fa;)Ga.nodeTest.matches(fa,N)&&ma.push(fa),null!=fa.firstChild?(Fa.push(fa.nextSibling),fa=fa.firstChild):fa=fa.nextSibling;break;case g.FOLLOWING:if(N.contextNode===N.virtualRoot)break;Fa=[];null!=N.contextNode.firstChild?Fa.unshift(N.contextNode.firstChild):Fa.unshift(N.contextNode.nextSibling);for(fa=
N.contextNode;null!=fa&&9!=fa.nodeType&&fa!==N.virtualRoot;fa=fa.parentNode)Fa.unshift(fa.nextSibling);do for(fa=Fa.pop();null!=fa;)Ga.nodeTest.matches(fa,N)&&ma.push(fa),null!=fa.firstChild?(Fa.push(fa.nextSibling),fa=fa.firstChild):fa=fa.nextSibling;while(0<Fa.length);break;case g.FOLLOWINGSIBLING:if(N.contextNode===N.virtualRoot)break;for(fa=N.contextNode.nextSibling;null!=fa;fa=fa.nextSibling)Ga.nodeTest.matches(fa,N)&&ma.push(fa);break;case g.NAMESPACE:ta={};if(1==N.contextNode.nodeType){ta.xml=
u.XML_NAMESPACE_URI;ta.xmlns=u.XMLNS_NAMESPACE_URI;for(fa=N.contextNode;null!=fa&&1==fa.nodeType;fa=fa.parentNode)for(Fa=0;Fa<fa.attributes.length;Fa++){Ka=fa.attributes.item(Fa);var ca=String(Ka.name);if("xmlns"==ca)void 0==ta[""]&&(ta[""]=Ka.value);else if(6<ca.length&&"xmlns:"==ca.substring(0,6)){var ka=ca.substring(6,ca.length);void 0==ta[ka]&&(ta[ka]=Ka.value)}}for(ka in ta)fa=new NamespaceNode(ka,ta[ka],N.contextNode),Ga.nodeTest.matches(fa,N)&&ma.push(fa)}break;case g.PARENT:fa=null;N.contextNode!==
N.virtualRoot&&(fa=2==N.contextNode.nodeType?this.getOwnerElement(N.contextNode):N.contextNode.parentNode);null!=fa&&Ga.nodeTest.matches(fa,N)&&ma.push(fa);break;case g.PRECEDING:Fa=null!=N.virtualRoot?[N.virtualRoot]:9==N.contextNode.nodeType?[N.contextNode]:[N.contextNode.ownerDocument];a:for(;0<Fa.length;)for(fa=Fa.pop();null!=fa;){if(fa==N.contextNode)break a;Ga.nodeTest.matches(fa,N)&&ma.unshift(fa);null!=fa.firstChild?(Fa.push(fa.nextSibling),fa=fa.firstChild):fa=fa.nextSibling}break;case g.PRECEDINGSIBLING:if(N.contextNode===
N.virtualRoot)break;for(fa=N.contextNode.previousSibling;null!=fa;fa=fa.previousSibling)Ga.nodeTest.matches(fa,N)&&ma.push(fa);break;case g.SELF:Ga.nodeTest.matches(N.contextNode,N)&&ma.push(N.contextNode)}b=ma;for(ja=0;ja<Ga.predicates.length;ja++){fa=Ga.predicates[ja];ma=[];N.contextSize=b.length;for(N.contextPosition=1;N.contextPosition<=N.contextSize;N.contextPosition++)N.contextNode=b[N.contextPosition-1],Fa=0<Ta.length?this.getLocalCtx(N,Ta[N.contextPosition-1]):N,this.predicateMatches(fa,Fa)&&
ma.push(N.contextNode);b=ma}}}ja=new ia;ja.addArray(b);return ja};q.prototype.getLocalCtx=function(b,N,ja){ja=new v;ja.variableResolver=b.variableResolver;ja.functionResolver=b.functionResolver;ja.namespaceResolver=b.namespaceResolver;ja.expressionContextNode=b.expressionContextNode;ja.virtualRoot=b.virtualRoot;ja.caseInsensitive=b.caseInsensitive;ja.contextNode=b.contextNode;ja.contextPosition=N.contextPosition;ja.contextSize=N.contextSize;return ja};q.prototype.predicateMatches=function(b,N){b=
b.evaluate(N);return ea.instance_of(b,Y)?N.contextPosition==b.numberValue():b.booleanValue()};q.prototype.toString=function(){if(void 0!=this.filter){var b=this.filter.toString();ea.instance_of(this.filter,Z)&&(b="'"+b+"'");if(void 0!=this.filterPredicates)for(var N=0;N<this.filterPredicates.length;N++)b=b+"["+this.filterPredicates[N].toString()+"]";void 0!=this.locationPath&&(this.locationPath.absolute||(b+="/"),b+=this.locationPath.toString());return b}return this.locationPath.toString()};q.prototype.getOwnerElement=
function(b){if(b.ownerElement)return b.ownerElement;try{if(b.selectSingleNode)return b.selectSingleNode("..")}catch(za){}for(var N=(9==b.nodeType?b:b.ownerDocument).getElementsByTagName("*"),ja=0;ja<N.length;ja++)for(var fa=N.item(ja),ma=fa.attributes,ta=0;ta<ma.length;ta++)if(ma.item(ta)===b)return fa;return null};H.prototype={};H.prototype.constructor=H;H.superclass=Object.prototype;H.prototype.init=function(b,N){this.absolute=b;this.steps=N};H.prototype.toString=function(){var b=this.absolute?
"/":"";for(var N=0;N<this.steps.length;N++)0!=N&&(b+="/"),b+=this.steps[N].toString();return b};g.prototype={};g.prototype.constructor=g;g.superclass=Object.prototype;g.prototype.init=function(b,N,ja){this.axis=b;this.nodeTest=N;this.predicates=ja};g.prototype.toString=function(){switch(this.axis){case g.ANCESTOR:var b="ancestor";break;case g.ANCESTORORSELF:b="ancestor-or-self";break;case g.ATTRIBUTE:b="attribute";break;case g.CHILD:b="child";break;case g.DESCENDANT:b="descendant";break;case g.DESCENDANTORSELF:b=
"descendant-or-self";break;case g.FOLLOWING:b="following";break;case g.FOLLOWINGSIBLING:b="following-sibling";break;case g.NAMESPACE:b="namespace";break;case g.PARENT:b="parent";break;case g.PRECEDING:b="preceding";break;case g.PRECEDINGSIBLING:b="preceding-sibling";break;case g.SELF:b="self"}b=b+"::"+this.nodeTest.toString();for(var N=0;N<this.predicates.length;N++)b+="["+this.predicates[N].toString()+"]";return b};g.ANCESTOR=0;g.ANCESTORORSELF=1;g.ATTRIBUTE=2;g.CHILD=3;g.DESCENDANT=4;g.DESCENDANTORSELF=
5;g.FOLLOWING=6;g.FOLLOWINGSIBLING=7;g.NAMESPACE=8;g.PARENT=9;g.PRECEDING=10;g.PRECEDINGSIBLING=11;g.SELF=12;x.prototype={};x.prototype.constructor=x;x.superclass=Object.prototype;x.prototype.init=function(b,N){this.type=b;this.value=N};x.prototype.toString=function(){switch(this.type){case x.NAMETESTANY:return"*";case x.NAMETESTPREFIXANY:return this.value+":*";case x.NAMETESTRESOLVEDANY:return"{"+this.value+"}*";case x.NAMETESTQNAME:return this.value;case x.NAMETESTRESOLVEDNAME:return"{"+this.namespaceURI+
"}"+this.value;case x.COMMENT:return"comment()";case x.TEXT:return"text()";case x.PI:return void 0!=this.value?'processing-instruction("'+this.value+'")':"processing-instruction()";case x.NODE:return"node()"}return"<unknown nodetest type>"};x.prototype.matches=function(b,N){switch(this.type){case x.NAMETESTANY:if(2==b.nodeType||1==b.nodeType||b.nodeType==na.XPATH_NAMESPACE_NODE)return!0;break;case x.NAMETESTPREFIXANY:if(2==b.nodeType||1==b.nodeType){if(null==N.namespaceResolver.getNamespace(this.value,
N.expressionContextNode))throw Error("Cannot resolve QName "+this.value);return!0}break;case x.NAMETESTQNAME:if(2==b.nodeType||1==b.nodeType||b.nodeType==na.XPATH_NAMESPACE_NODE){var ja=ea.resolveQName(this.value,N.namespaceResolver,N.expressionContextNode,!1);if(null==ja[0])throw Error("Cannot resolve QName "+this.value);ja[0]=String(ja[0]);ja[1]=String(ja[1]);""==ja[0]&&(ja[0]=null);b=ea.resolveQName(b.nodeName,N.namespaceResolver,b,1==b.nodeType);b[0]=String(b[0]);b[1]=String(b[1]);""==b[0]&&(b[0]=
null);return N.caseInsensitive?ja[0]==b[0]&&String(ja[1]).toLowerCase()==String(b[1]).toLowerCase():ja[0]==b[0]&&ja[1]==b[1]}break;case x.COMMENT:return 8==b.nodeType;case x.TEXT:return 3==b.nodeType||4==b.nodeType;case x.PI:return 7==b.nodeType&&(null==this.value||b.nodeName==this.value);case x.NODE:return 9==b.nodeType||1==b.nodeType||2==b.nodeType||3==b.nodeType||4==b.nodeType||8==b.nodeType||7==b.nodeType}return!1};x.NAMETESTANY=0;x.NAMETESTPREFIXANY=1;x.NAMETESTQNAME=2;x.COMMENT=3;x.TEXT=4;x.PI=
5;x.NODE=6;I.prototype=new J;I.prototype.constructor=I;I.superclass=J.prototype;I.prototype.init=function(b){this.variable=b};I.prototype.toString=function(){return"$"+this.variable};I.prototype.evaluate=function(b){return b.variableResolver.getVariable(this.variable,b)};Q.prototype=new J;Q.prototype.constructor=Q;Q.superclass=J.prototype;Q.prototype.init=function(b,N){this.functionName=b;this.arguments=N};Q.prototype.toString=function(){for(var b=this.functionName+"(",N=0;N<this.arguments.length;N++)0<
N&&(b+=", "),b+=this.arguments[N].toString();return b+")"};Q.prototype.evaluate=function(b){var N=b.functionResolver.getFunction(this.functionName,b);if(void 0==N)throw Error("Unknown function "+this.functionName);var ja=[b].concat(this.arguments);return N.apply(b.functionResolver.thisArg,ja)};Z.prototype=new J;Z.prototype.constructor=Z;Z.superclass=J.prototype;Z.prototype.init=function(b){this.str=b};Z.prototype.toString=function(){return this.str};Z.prototype.evaluate=function(b){return this};Z.prototype.string=
function(){return this};Z.prototype.number=function(){return new Y(this.str)};Z.prototype.bool=function(){return new ba(this.str)};Z.prototype.nodeset=function(){throw Error("Cannot convert string to nodeset");};Z.prototype.stringValue=function(){return this.str};Z.prototype.numberValue=function(){return this.number().numberValue()};Z.prototype.booleanValue=function(){return this.bool().booleanValue()};Z.prototype.equals=function(b){return ea.instance_of(b,ba)?this.bool().equals(b):ea.instance_of(b,
Y)?this.number().equals(b):ea.instance_of(b,ia)?b.compareWithString(this,xa.equals):new ba(this.str==b.str)};Z.prototype.notequal=function(b){return ea.instance_of(b,ba)?this.bool().notequal(b):ea.instance_of(b,Y)?this.number().notequal(b):ea.instance_of(b,ia)?b.compareWithString(this,xa.notequal):new ba(this.str!=b.str)};Z.prototype.lessthan=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.greaterthanorequal):this.number().lessthan(b.number())};Z.prototype.greaterthan=
function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.lessthanorequal):this.number().greaterthan(b.number())};Z.prototype.lessthanorequal=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.greaterthan):this.number().lessthanorequal(b.number())};Z.prototype.greaterthanorequal=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.lessthan):this.number().greaterthanorequal(b.number())};Y.prototype=new J;Y.prototype.constructor=Y;
Y.superclass=J.prototype;Y.prototype.init=function(b){this.num=Number(b)};Y.prototype.toString=function(){return this.num};Y.prototype.evaluate=function(b){return this};Y.prototype.string=function(){return new Z(this.num)};Y.prototype.number=function(){return this};Y.prototype.bool=function(){return new ba(this.num)};Y.prototype.nodeset=function(){throw Error("Cannot convert number to nodeset");};Y.prototype.stringValue=function(){return this.string().stringValue()};Y.prototype.numberValue=function(){return this.num};
Y.prototype.booleanValue=function(){return this.bool().booleanValue()};Y.prototype.negate=function(){return new Y(-this.num)};Y.prototype.equals=function(b){return ea.instance_of(b,ba)?this.bool().equals(b):ea.instance_of(b,Z)?this.equals(b.number()):ea.instance_of(b,ia)?b.compareWithNumber(this,xa.equals):new ba(this.num==b.num)};Y.prototype.notequal=function(b){return ea.instance_of(b,ba)?this.bool().notequal(b):ea.instance_of(b,Z)?this.notequal(b.number()):ea.instance_of(b,ia)?b.compareWithNumber(this,
xa.notequal):new ba(this.num!=b.num)};Y.prototype.lessthan=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this,xa.greaterthanorequal):ea.instance_of(b,ba)||ea.instance_of(b,Z)?this.lessthan(b.number()):new ba(this.num<b.num)};Y.prototype.greaterthan=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this,xa.lessthanorequal):ea.instance_of(b,ba)||ea.instance_of(b,Z)?this.greaterthan(b.number()):new ba(this.num>b.num)};Y.prototype.lessthanorequal=function(b){return ea.instance_of(b,
ia)?b.compareWithNumber(this,xa.greaterthan):ea.instance_of(b,ba)||ea.instance_of(b,Z)?this.lessthanorequal(b.number()):new ba(this.num<=b.num)};Y.prototype.greaterthanorequal=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this,xa.lessthan):ea.instance_of(b,ba)||ea.instance_of(b,Z)?this.greaterthanorequal(b.number()):new ba(this.num>=b.num)};Y.prototype.plus=function(b){return new Y(this.num+b.num)};Y.prototype.minus=function(b){return new Y(this.num-b.num)};Y.prototype.multiply=function(b){return new Y(this.num*
b.num)};Y.prototype.div=function(b){return new Y(this.num/b.num)};Y.prototype.mod=function(b){return new Y(this.num%b.num)};ba.prototype=new J;ba.prototype.constructor=ba;ba.superclass=J.prototype;ba.prototype.init=function(b){this.b=!!b};ba.prototype.toString=function(){return this.b.toString()};ba.prototype.evaluate=function(b){return this};ba.prototype.string=function(){return new Z(this.b)};ba.prototype.number=function(){return new Y(this.b)};ba.prototype.bool=function(){return this};ba.prototype.nodeset=
function(){throw Error("Cannot convert boolean to nodeset");};ba.prototype.stringValue=function(){return this.string().stringValue()};ba.prototype.numberValue=function(){return this.num().numberValue()};ba.prototype.booleanValue=function(){return this.b};ba.prototype.not=function(){return new ba(!this.b)};ba.prototype.equals=function(b){return ea.instance_of(b,Z)||ea.instance_of(b,Y)?this.equals(b.bool()):ea.instance_of(b,ia)?b.compareWithBoolean(this,xa.equals):new ba(this.b==b.b)};ba.prototype.notequal=
function(b){return ea.instance_of(b,Z)||ea.instance_of(b,Y)?this.notequal(b.bool()):ea.instance_of(b,ia)?b.compareWithBoolean(this,xa.notequal):new ba(this.b!=b.b)};ba.prototype.lessthan=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.greaterthanorequal):this.number().lessthan(b.number())};ba.prototype.greaterthan=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.lessthanorequal):this.number().greaterthan(b.number())};ba.prototype.lessthanorequal=
function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.greaterthan):this.number().lessthanorequal(b.number())};ba.prototype.greaterthanorequal=function(b){return ea.instance_of(b,ia)?b.compareWithNumber(this.number(),xa.lessthan):this.number().greaterthanorequal(b.number())};ha.prototype={};ha.prototype.constructor=ha;ha.superclass=Object.prototype;ha.prototype.init=function(b){this.right=this.left=null;this.node=b;this.depth=1};ha.prototype.balance=function(){var b=null==this.left?
0:this.left.depth,N=null==this.right?0:this.right.depth;b>N+1?((null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL()):b+1<N&&((null==this.right.left?0:this.right.left.depth)>(null==this.right.right?0:this.right.right.depth)&&this.right.rotateLL(),this.rotateRR())};ha.prototype.rotateLL=function(){var b=this.node,N=this.right;this.node=this.left.node;this.right=this.left;this.left=this.left.left;this.right.left=this.right.right;
this.right.right=N;this.right.node=b;this.right.updateInNewLocation();this.updateInNewLocation()};ha.prototype.rotateRR=function(){var b=this.node,N=this.left;this.node=this.right.node;this.left=this.right;this.right=this.right.right;this.left.right=this.left.left;this.left.left=N;this.left.node=b;this.left.updateInNewLocation();this.updateInNewLocation()};ha.prototype.updateInNewLocation=function(){this.getDepthFromChildren()};ha.prototype.getDepthFromChildren=function(){this.depth=null==this.node?
0:1;null!=this.left&&(this.depth=this.left.depth+1);null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};ha.prototype.order=function(b,N){if(b===N)return 0;for(var ja=0,fa=0,ma=b;null!=ma;ma=ma.parentNode)ja++;for(ma=N;null!=ma;ma=ma.parentNode)fa++;if(ja>fa){for(;ja>fa;)b=b.parentNode,ja--;if(b==N)return 1}else if(fa>ja){for(;fa>ja;)N=N.parentNode,fa--;if(b==N)return-1}for(;b.parentNode!=N.parentNode;)b=b.parentNode,N=N.parentNode;for(;null!=b.previousSibling&&null!=N.previousSibling;)b=
b.previousSibling,N=N.previousSibling;return null==b.previousSibling?-1:1};ha.prototype.add=function(b){if(b===this.node)return!1;var N=this.order(b,this.node),ja=!1;-1==N?null==this.left?(this.left=new ha(b),ja=!0):(ja=this.left.add(b))&&this.balance():1==N&&(null==this.right?(this.right=new ha(b),ja=!0):(ja=this.right.add(b))&&this.balance());ja&&this.getDepthFromChildren();return ja};ia.prototype=new J;ia.prototype.constructor=ia;ia.superclass=J.prototype;ia.prototype.init=function(){this.tree=
null;this.size=0};ia.prototype.toString=function(){var b=this.first();return null==b?"":this.stringForNode(b)};ia.prototype.evaluate=function(b){return this};ia.prototype.string=function(){return new Z(this.toString())};ia.prototype.stringValue=function(){return this.toString()};ia.prototype.number=function(){return new Y(this.string())};ia.prototype.numberValue=function(){return Number(this.string())};ia.prototype.bool=function(){return new ba(null!=this.tree)};ia.prototype.booleanValue=function(){return null!=
this.tree};ia.prototype.nodeset=function(){return this};ia.prototype.stringForNode=function(b){9==b.nodeType&&(b=b.documentElement);return 1==b.nodeType?this.stringForNodeRec(b):b.isNamespaceNode?b.namespace:b.nodeValue};ia.prototype.stringForNodeRec=function(b){var N="";for(b=b.firstChild;null!=b;b=b.nextSibling)3==b.nodeType?N+=b.nodeValue:1==b.nodeType&&(N+=this.stringForNodeRec(b));return N};ia.prototype.first=function(){var b=this.tree;if(null==b)return null;for(;null!=b.left;)b=b.left;return b.node};
ia.prototype.add=function(b){null==this.tree?(this.tree=new ha(b),b=!0):b=this.tree.add(b);b&&this.size++};ia.prototype.addArray=function(b){for(var N=0;N<b.length;N++)this.add(b[N])};ia.prototype.toArray=function(){var b=[];this.toArrayRec(this.tree,b);return b};ia.prototype.toArrayRec=function(b,N){null!=b&&(this.toArrayRec(b.left,N),N.push(b.node),this.toArrayRec(b.right,N))};ia.prototype.compareWithString=function(b,N){for(var ja=this.toArray(),fa=0;fa<ja.length;fa++){var ma=new Z(this.stringForNode(ja[fa]));
ma=N(ma,b);if(ma.booleanValue())return ma}return new ba(!1)};ia.prototype.compareWithNumber=function(b,N){for(var ja=this.toArray(),fa=0;fa<ja.length;fa++){var ma=new Y(this.stringForNode(ja[fa]));ma=N(ma,b);if(ma.booleanValue())return ma}return new ba(!1)};ia.prototype.compareWithBoolean=function(b,N){return N(this.bool(),b)};ia.prototype.compareWithNodeSet=function(b,N){for(var ja=this.toArray(),fa=0;fa<ja.length;fa++)for(var ma=new Z(this.stringForNode(ja[fa])),ta=b.toArray(),za=0;za<ta.length;za++){b=
new Z(this.stringForNode(ta[za]));var Ga=N(ma,b);if(Ga.booleanValue())return Ga}return new ba(!1)};ia.prototype.equals=function(b){return ea.instance_of(b,Z)?this.compareWithString(b,xa.equals):ea.instance_of(b,Y)?this.compareWithNumber(b,xa.equals):ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.equals):this.compareWithNodeSet(b,xa.equals)};ia.prototype.notequal=function(b){return ea.instance_of(b,Z)?this.compareWithString(b,xa.notequal):ea.instance_of(b,Y)?this.compareWithNumber(b,xa.notequal):
ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.notequal):this.compareWithNodeSet(b,xa.notequal)};ia.prototype.lessthan=function(b){return ea.instance_of(b,Z)?this.compareWithNumber(b.number(),xa.lessthan):ea.instance_of(b,Y)?this.compareWithNumber(b,xa.lessthan):ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.lessthan):this.compareWithNodeSet(b,xa.lessthan)};ia.prototype.greaterthan=function(b){return ea.instance_of(b,Z)?this.compareWithNumber(b.number(),xa.greaterthan):ea.instance_of(b,Y)?this.compareWithNumber(b,
xa.greaterthan):ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.greaterthan):this.compareWithNodeSet(b,xa.greaterthan)};ia.prototype.lessthanorequal=function(b){return ea.instance_of(b,Z)?this.compareWithNumber(b.number(),xa.lessthanorequal):ea.instance_of(b,Y)?this.compareWithNumber(b,xa.lessthanorequal):ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.lessthanorequal):this.compareWithNodeSet(b,xa.lessthanorequal)};ia.prototype.greaterthanorequal=function(b){return ea.instance_of(b,Z)?this.compareWithNumber(b.number(),
xa.greaterthanorequal):ea.instance_of(b,Y)?this.compareWithNumber(b,xa.greaterthanorequal):ea.instance_of(b,ba)?this.compareWithBoolean(b,xa.greaterthanorequal):this.compareWithNodeSet(b,xa.greaterthanorequal)};ia.prototype.union=function(b){var N=new ia;N.tree=this.tree;N.size=this.size;N.addArray(b.toArray());return N};na.prototype={};na.prototype.constructor=na;na.superclass=Object.prototype;na.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};var xa={equals:function(b,
N){return b.equals(N)},notequal:function(b,N){return b.notequal(N)},lessthan:function(b,N){return b.lessthan(N)},greaterthan:function(b,N){return b.greaterthan(N)},lessthanorequal:function(b,N){return b.lessthanorequal(N)},greaterthanorequal:function(b,N){return b.greaterthanorequal(N)}};v.prototype={};v.prototype.constructor=v;v.superclass=Object.prototype;n.prototype={};n.prototype.constructor=n;n.superclass=Object.prototype;n.prototype.getVariable=function(b,N){b=ea.splitQName(b);if(null!=b[0]&&
(b[0]=N.namespaceResolver.getNamespace(b[0],N.expressionContextNode),null==b[0]))throw Error("Cannot resolve QName "+fn);return this.getVariableWithName(b[0],b[1],N.expressionContextNode)};n.prototype.getVariableWithName=function(b,N,ja){return null};w.prototype={};w.prototype.constructor=w;w.superclass=Object.prototype;w.prototype.addStandardFunctions=function(){this.functions["{}last"]=Da.last;this.functions["{}position"]=Da.position;this.functions["{}count"]=Da.count;this.functions["{}id"]=Da.id;
this.functions["{}local-name"]=Da.localName;this.functions["{}namespace-uri"]=Da.namespaceURI;this.functions["{}name"]=Da.name;this.functions["{}string"]=Da.string;this.functions["{}concat"]=Da.concat;this.functions["{}starts-with"]=Da.startsWith;this.functions["{}contains"]=Da.contains;this.functions["{}substring-before"]=Da.substringBefore;this.functions["{}substring-after"]=Da.substringAfter;this.functions["{}substring"]=Da.substring;this.functions["{}string-length"]=Da.stringLength;this.functions["{}normalize-space"]=
Da.normalizeSpace;this.functions["{}translate"]=Da.translate;this.functions["{}boolean"]=Da.boolean_;this.functions["{}not"]=Da.not;this.functions["{}true"]=Da.true_;this.functions["{}false"]=Da.false_;this.functions["{}lang"]=Da.lang;this.functions["{}number"]=Da.number;this.functions["{}sum"]=Da.sum;this.functions["{}floor"]=Da.floor;this.functions["{}ceiling"]=Da.ceiling;this.functions["{}round"]=Da.round};w.prototype.addFunction=function(b,N,ja){this.functions["{"+b+"}"+N]=ja};w.prototype.getFunction=
function(b,N){var ja=ea.resolveQName(b,N.namespaceResolver,N.contextNode,!1);if(null==ja[0])throw Error("Cannot resolve QName "+b);return this.getFunctionWithName(ja[0],ja[1],N.contextNode)};w.prototype.getFunctionWithName=function(b,N,ja){return this.functions["{"+b+"}"+N]};D.prototype={};D.prototype.constructor=D;D.superclass=Object.prototype;D.prototype.getNamespace=function(b,N){if("xml"==b)return u.XML_NAMESPACE_URI;if("xmlns"==b)return u.XMLNS_NAMESPACE_URI;9==N.nodeType?N=N.documentElement:
2==N.nodeType?N=q.prototype.getOwnerElement(N):1!=N.nodeType&&(N=N.parentNode);for(;null!=N&&1==N.nodeType;){for(var ja=N.attributes,fa=0;fa<ja.length;fa++){var ma=ja.item(fa),ta=ma.nodeName;if("xmlns"==ta&&""==b||ta=="xmlns:"+b)return String(ma.nodeValue)}N=N.parentNode}return null};var Da={last:function(){var b=arguments[0];if(1!=arguments.length)throw Error("Function last expects ()");return new Y(b.contextSize)},position:function(){var b=arguments[0];if(1!=arguments.length)throw Error("Function position expects ()");
return new Y(b.contextPosition)},count:function(){var b=arguments[0],N;if(2!=arguments.length||!ea.instance_of(N=arguments[1].evaluate(b),ia))throw Error("Function count expects (node-set)");return new Y(N.size)},id:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function id expects (object)");var N=arguments[1].evaluate(b);N=ea.instance_of(N,ia)?N.toArray().join(" "):N.stringValue();N=N.split(/[\x0d\x0a\x09\x20]+/);var ja=0,fa=new ia;b=9==b.contextNode.nodeType?b.contextNode:b.contextNode.ownerDocument;
for(var ma=0;ma<N.length;ma++){var ta=b.getElementById?b.getElementById(N[ma]):ea.getElementById(b,N[ma]);null!=ta&&(fa.add(ta),ja++)}return fa},localName:function(){var b=arguments[0];if(1==arguments.length)b=b.contextNode;else if(2==arguments.length)b=arguments[1].evaluate(b).first();else throw Error("Function local-name expects (node-set?)");return null==b?new Z(""):new Z(b.localName?b.localName:b.baseName)},namespaceURI:function(){var b=arguments[0];if(1==arguments.length)b=b.contextNode;else if(2==
arguments.length)b=arguments[1].evaluate(b).first();else throw Error("Function namespace-uri expects (node-set?)");return null==b?new Z(""):new Z(b.namespaceURI)},name:function(){var b=arguments[0];if(1==arguments.length)b=b.contextNode;else if(2==arguments.length)b=arguments[1].evaluate(b).first();else throw Error("Function name expects (node-set?)");return null==b?new Z(""):1==b.nodeType||2==b.nodeType?new Z(b.nodeName):null==b.localName?new Z(""):new Z(b.localName)},string:function(){var b=arguments[0];
if(1==arguments.length)return ia.prototype.stringForNode(b.contextNode);if(2==arguments.length)return arguments[1].evaluate(b).string();throw Error("Function string expects (object?)");},concat:function(){var b=arguments[0];if(3>arguments.length)throw Error("Function concat expects (string, string, string*)");for(var N="",ja=1;ja<arguments.length;ja++)N+=arguments[ja].evaluate(b).stringValue();return new Z(N)},startsWith:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function startsWith expects (string, string)");
var N=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return new ba(N.substring(0,b.length)==b)},contains:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function contains expects (string, string)");var N=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return new ba(-1!=N.indexOf(b))},substringBefore:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function substring-before expects (string, string)");
var N=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return new Z(N.substring(0,N.indexOf(b)))},substringAfter:function(){var b=arguments[0];if(3!=arguments.length)throw Error("Function substring-after expects (string, string)");var N=arguments[1].evaluate(b).stringValue();b=arguments[2].evaluate(b).stringValue();return 0==b.length?new Z(N):-1==N.indexOf(b)?new Z(""):new Z(N.substring(N.indexOf(b)+1))},substring:function(){var b=arguments[0];if(3!=arguments.length&&
4!=arguments.length)throw Error("Function substring expects (string, number, number?)");var N=arguments[1].evaluate(b).stringValue(),ja=Math.round(arguments[2].evaluate(b).numberValue())-1;b=4==arguments.length?ja+Math.round(arguments[3].evaluate(b).numberValue()):void 0;return new Z(N.substring(ja,b))},stringLength:function(){var b=arguments[0];if(1==arguments.length)b=ia.prototype.stringForNode(b.contextNode);else if(2==arguments.length)b=arguments[1].evaluate(b).stringValue();else throw Error("Function string-length expects (string?)");
return new Y(b.length)},normalizeSpace:function(){var b=arguments[0];if(1==arguments.length)b=ia.prototype.stringForNode(b.contextNode);else if(2==arguments.length)b=arguments[1].evaluate(b).stringValue();else throw Error("Function normalize-space expects (string?)");for(var N=0,ja=b.length-1;ea.isSpace(b.charCodeAt(ja));)ja--;for(var fa="";N<=ja&&ea.isSpace(b.charCodeAt(N));)N++;for(;N<=ja;)if(ea.isSpace(b.charCodeAt(N)))for(fa+=" ";N<=ja&&ea.isSpace(b.charCodeAt(N));)N++;else fa+=b.charAt(N),N++;
return new Z(fa)},translate:function(){var b=arguments[0];if(4!=arguments.length)throw Error("Function translate expects (string, string, string)");var N=arguments[1].evaluate(b).stringValue(),ja=arguments[2].evaluate(b).stringValue();b=arguments[3].evaluate(b).stringValue();for(var fa=[],ma=0;ma<ja.length;ma++){var ta=ja.charCodeAt(ma);if(void 0==fa[ta]){var za=ma>b.length?"":b.charAt(ma);fa[ta]=za}}ja="";for(ma=0;ma<N.length;ma++)b=N.charCodeAt(ma),b=fa[b],ja=void 0==b?ja+N.charAt(ma):ja+b;return new Z(ja)},
boolean_:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function boolean expects (object)");return arguments[1].evaluate(b).bool()},not:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function not expects (object)");return arguments[1].evaluate(b).bool().not()},true_:function(){if(1!=arguments.length)throw Error("Function true expects ()");return new ba(!0)},false_:function(){if(1!=arguments.length)throw Error("Function false expects ()");return new ba(!1)},lang:function(){var b=
arguments[0];if(2!=arguments.length)throw Error("Function lang expects (string)");for(var N,ja=b.contextNode;null!=ja&&9!=ja.nodeType;ja=ja.parentNode){var fa=ja.getAttributeNS(u.XML_NAMESPACE_URI,"lang");if(null!=fa){N=String(fa);break}}if(null==N)return new ba(!1);b=arguments[1].evaluate(b).stringValue();return new ba(N.substring(0,b.length)==b&&(N.length==b.length||"-"==N.charAt(b.length)))},number:function(){var b=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw Error("Function number expects (object?)");
return 1==arguments.length?new Y(ia.prototype.stringForNode(b.contextNode)):arguments[1].evaluate(b).number()},sum:function(){var b=arguments[0],N;if(2!=arguments.length||!ea.instance_of(N=arguments[1].evaluate(b),ia))throw Error("Function sum expects (node-set)");N=N.toArray();for(var ja=b=0;ja<N.length;ja++)b+=(new Y(ia.prototype.stringForNode(N[ja]))).numberValue();return new Y(b)},floor:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function floor expects (number)");return new Y(Math.floor(arguments[1].evaluate(b).numberValue()))},
ceiling:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function ceiling expects (number)");return new Y(Math.ceil(arguments[1].evaluate(b).numberValue()))},round:function(){var b=arguments[0];if(2!=arguments.length)throw Error("Function round expects (number)");return new Y(Math.round(arguments[1].evaluate(b).numberValue()))}},ea={splitQName:function(b){var N=b.indexOf(":");return-1==N?[null,b]:[b.substring(0,N),b.substring(N+1)]},resolveQName:function(b,N,ja,fa){b=ea.splitQName(b);
null!=b[0]?b[0]=N.getNamespace(b[0],ja):fa?(b[0]=N.getNamespace("",ja),null==b[0]&&(b[0]="")):b[0]="";return b},isSpace:function(b){return 9==b||13==b||10==b||32==b},isLetter:function(b){return 65<=b&&90>=b||97<=b&&122>=b||192<=b&&214>=b||216<=b&&246>=b||248<=b&&255>=b||256<=b&&305>=b||308<=b&&318>=b||321<=b&&328>=b||330<=b&&382>=b||384<=b&&451>=b||461<=b&&496>=b||500<=b&&501>=b||506<=b&&535>=b||592<=b&&680>=b||699<=b&&705>=b||902==b||904<=b&&906>=b||908==b||910<=b&&929>=b||931<=b&&974>=b||976<=b&&
982>=b||986==b||988==b||990==b||992==b||994<=b&&1011>=b||1025<=b&&1036>=b||1038<=b&&1103>=b||1105<=b&&1116>=b||1118<=b&&1153>=b||1168<=b&&1220>=b||1223<=b&&1224>=b||1227<=b&&1228>=b||1232<=b&&1259>=b||1262<=b&&1269>=b||1272<=b&&1273>=b||1329<=b&&1366>=b||1369==b||1377<=b&&1414>=b||1488<=b&&1514>=b||1520<=b&&1522>=b||1569<=b&&1594>=b||1601<=b&&1610>=b||1649<=b&&1719>=b||1722<=b&&1726>=b||1728<=b&&1742>=b||1744<=b&&1747>=b||1749==b||1765<=b&&1766>=b||2309<=b&&2361>=b||2365==b||2392<=b&&2401>=b||2437<=
b&&2444>=b||2447<=b&&2448>=b||2451<=b&&2472>=b||2474<=b&&2480>=b||2482==b||2486<=b&&2489>=b||2524<=b&&2525>=b||2527<=b&&2529>=b||2544<=b&&2545>=b||2565<=b&&2570>=b||2575<=b&&2576>=b||2579<=b&&2600>=b||2602<=b&&2608>=b||2610<=b&&2611>=b||2613<=b&&2614>=b||2616<=b&&2617>=b||2649<=b&&2652>=b||2654==b||2674<=b&&2676>=b||2693<=b&&2699>=b||2701==b||2703<=b&&2705>=b||2707<=b&&2728>=b||2730<=b&&2736>=b||2738<=b&&2739>=b||2741<=b&&2745>=b||2749==b||2784==b||2821<=b&&2828>=b||2831<=b&&2832>=b||2835<=b&&2856>=
b||2858<=b&&2864>=b||2866<=b&&2867>=b||2870<=b&&2873>=b||2877==b||2908<=b&&2909>=b||2911<=b&&2913>=b||2949<=b&&2954>=b||2958<=b&&2960>=b||2962<=b&&2965>=b||2969<=b&&2970>=b||2972==b||2974<=b&&2975>=b||2979<=b&&2980>=b||2984<=b&&2986>=b||2990<=b&&2997>=b||2999<=b&&3001>=b||3077<=b&&3084>=b||3086<=b&&3088>=b||3090<=b&&3112>=b||3114<=b&&3123>=b||3125<=b&&3129>=b||3168<=b&&3169>=b||3205<=b&&3212>=b||3214<=b&&3216>=b||3218<=b&&3240>=b||3242<=b&&3251>=b||3253<=b&&3257>=b||3294==b||3296<=b&&3297>=b||3333<=
b&&3340>=b||3342<=b&&3344>=b||3346<=b&&3368>=b||3370<=b&&3385>=b||3424<=b&&3425>=b||3585<=b&&3630>=b||3632==b||3634<=b&&3635>=b||3648<=b&&3653>=b||3713<=b&&3714>=b||3716==b||3719<=b&&3720>=b||3722==b||3725==b||3732<=b&&3735>=b||3737<=b&&3743>=b||3745<=b&&3747>=b||3749==b||3751==b||3754<=b&&3755>=b||3757<=b&&3758>=b||3760==b||3762<=b&&3763>=b||3773==b||3776<=b&&3780>=b||3904<=b&&3911>=b||3913<=b&&3945>=b||4256<=b&&4293>=b||4304<=b&&4342>=b||4352==b||4354<=b&&4355>=b||4357<=b&&4359>=b||4361==b||4363<=
b&&4364>=b||4366<=b&&4370>=b||4412==b||4414==b||4416==b||4428==b||4430==b||4432==b||4436<=b&&4437>=b||4441==b||4447<=b&&4449>=b||4451==b||4453==b||4455==b||4457==b||4461<=b&&4462>=b||4466<=b&&4467>=b||4469==b||4510==b||4520==b||4523==b||4526<=b&&4527>=b||4535<=b&&4536>=b||4538==b||4540<=b&&4546>=b||4587==b||4592==b||4601==b||7680<=b&&7835>=b||7840<=b&&7929>=b||7936<=b&&7957>=b||7960<=b&&7965>=b||7968<=b&&8005>=b||8008<=b&&8013>=b||8016<=b&&8023>=b||8025==b||8027==b||8029==b||8031<=b&&8061>=b||8064<=
b&&8116>=b||8118<=b&&8124>=b||8126==b||8130<=b&&8132>=b||8134<=b&&8140>=b||8144<=b&&8147>=b||8150<=b&&8155>=b||8160<=b&&8172>=b||8178<=b&&8180>=b||8182<=b&&8188>=b||8486==b||8490<=b&&8491>=b||8494==b||8576<=b&&8578>=b||12353<=b&&12436>=b||12449<=b&&12538>=b||12549<=b&&12588>=b||44032<=b&&55203>=b||19968<=b&&40869>=b||12295==b||12321<=b&&12329>=b},isNCNameChar:function(b){return 48<=b&&57>=b||1632<=b&&1641>=b||1776<=b&&1785>=b||2406<=b&&2415>=b||2534<=b&&2543>=b||2662<=b&&2671>=b||2790<=b&&2799>=b||
2918<=b&&2927>=b||3047<=b&&3055>=b||3174<=b&&3183>=b||3302<=b&&3311>=b||3430<=b&&3439>=b||3664<=b&&3673>=b||3792<=b&&3801>=b||3872<=b&&3881>=b||46==b||45==b||95==b||ea.isLetter(b)||768<=b&&837>=b||864<=b&&865>=b||1155<=b&&1158>=b||1425<=b&&1441>=b||1443<=b&&1465>=b||1467<=b&&1469>=b||1471==b||1473<=b&&1474>=b||1476==b||1611<=b&&1618>=b||1648==b||1750<=b&&1756>=b||1757<=b&&1759>=b||1760<=b&&1764>=b||1767<=b&&1768>=b||1770<=b&&1773>=b||2305<=b&&2307>=b||2364==b||2366<=b&&2380>=b||2381==b||2385<=b&&
2388>=b||2402<=b&&2403>=b||2433<=b&&2435>=b||2492==b||2494==b||2495==b||2496<=b&&2500>=b||2503<=b&&2504>=b||2507<=b&&2509>=b||2519==b||2530<=b&&2531>=b||2562==b||2620==b||2622==b||2623==b||2624<=b&&2626>=b||2631<=b&&2632>=b||2635<=b&&2637>=b||2672<=b&&2673>=b||2689<=b&&2691>=b||2748==b||2750<=b&&2757>=b||2759<=b&&2761>=b||2763<=b&&2765>=b||2817<=b&&2819>=b||2876==b||2878<=b&&2883>=b||2887<=b&&2888>=b||2891<=b&&2893>=b||2902<=b&&2903>=b||2946<=b&&2947>=b||3006<=b&&3010>=b||3014<=b&&3016>=b||3018<=
b&&3021>=b||3031==b||3073<=b&&3075>=b||3134<=b&&3140>=b||3142<=b&&3144>=b||3146<=b&&3149>=b||3157<=b&&3158>=b||3202<=b&&3203>=b||3262<=b&&3268>=b||3270<=b&&3272>=b||3274<=b&&3277>=b||3285<=b&&3286>=b||3330<=b&&3331>=b||3390<=b&&3395>=b||3398<=b&&3400>=b||3402<=b&&3405>=b||3415==b||3633==b||3636<=b&&3642>=b||3655<=b&&3662>=b||3761==b||3764<=b&&3769>=b||3771<=b&&3772>=b||3784<=b&&3789>=b||3864<=b&&3865>=b||3893==b||3895==b||3897==b||3902==b||3903==b||3953<=b&&3972>=b||3974<=b&&3979>=b||3984<=b&&3989>=
b||3991==b||3993<=b&&4013>=b||4017<=b&&4023>=b||4025==b||8400<=b&&8412>=b||8417==b||12330<=b&&12335>=b||12441==b||12442==b||183==b||720==b||721==b||903==b||1600==b||3654==b||3782==b||12293==b||12337<=b&&12341>=b||12445<=b&&12446>=b||12540<=b&&12542>=b},coalesceText:function(b){for(b=b.firstChild;null!=b;b=b.nextSibling)if(3==b.nodeType||4==b.nodeType){var N=b.nodeValue,ja=b;for(b=b.nextSibling;null!=b&&(3==b.nodeType||4==b.nodeType);){N+=b.nodeValue;var fa=b;b=b.nextSibling;fa.parentNode.removeChild(fa)}if(4==
ja.nodeType)if(fa=ja.parentNode,null==ja.nextSibling)fa.removeChild(ja),fa.appendChild(fa.ownerDocument.createTextNode(N));else{var ma=ja.nextSibling;fa.removeChild(ja);fa.insertBefore(fa.ownerDocument.createTextNode(N),ma)}else ja.nodeValue=N;if(null==b)break}else 1==b.nodeType&&ea.coalesceText(b)},instance_of:function(b,N){for(;null!=b;){if(b.constructor===N)return!0;if(b===Object)break;b=b.constructor.superclass}return!1},getElementById:function(b,N){if(1==b.nodeType&&(b.getAttribute("id")==N||
b.getAttributeNS(null,"id")==N))return b;for(b=b.firstChild;null!=b;b=b.nextSibling){var ja=ea.getElementById(b,N);if(null!=ja)return ja}return null}};V.prototype={};V.prototype.constructor=V;V.superclass=Object.prototype;V.prototype.toString=function(){var b=this.exception?": "+this.exception.toString():"";switch(this.code){case V.INVALID_EXPRESSION_ERR:return"Invalid expression"+b;case V.TYPE_ERR:return"Type error"+b}};V.INVALID_EXPRESSION_ERR=51;V.TYPE_ERR=52;P.prototype={};P.prototype.constructor=
P;P.superclass=Object.prototype;P.prototype.evaluate=function(b,N,ja){this.context.expressionContextNode=b;b=this.xpath.evaluate(this.context);return new qa(b,N)};O.prototype={};O.prototype.constructor=O;O.superclass=Object.prototype;O.prototype.getNamespace=function(b,N){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(b)};K.prototype={};K.prototype.constructor=K;K.superclass=Object.prototype;K.prototype.lookupNamespaceURI=function(b){return this.namespaceResolver.getNamespace(b,
this.node)};qa.prototype={};qa.prototype.constructor=qa;qa.superclass=Object.prototype;qa.prototype.iterateNext=function(){if(this.resultType!=qa.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=qa.ORDERED_NODE_ITERATOR_TYPE)throw new V(V.TYPE_ERR);return this.nodes[this.iteratorIndex++]};qa.prototype.snapshotItem=function(b){if(this.resultType!=qa.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=qa.ORDERED_NODE_SNAPSHOT_TYPE)throw new V(V.TYPE_ERR);return this.nodes[b]};qa.ANY_TYPE=0;qa.NUMBER_TYPE=
1;qa.STRING_TYPE=2;qa.BOOLEAN_TYPE=3;qa.UNORDERED_NODE_ITERATOR_TYPE=4;qa.ORDERED_NODE_ITERATOR_TYPE=5;qa.UNORDERED_NODE_SNAPSHOT_TYPE=6;qa.ORDERED_NODE_SNAPSHOT_TYPE=7;qa.ANY_UNORDERED_NODE_TYPE=8;qa.FIRST_ORDERED_NODE_TYPE=9;try{G=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(G=!1)}catch(b){}G&&ya(document,new E)}catch(b){}R.exports=function(b,N){N=(new E).parse(N);var ja=new v;ja.expressionContextNode=b.documentElement?b.documentElement:
b;return N.evaluate(ja).toArray()}},function(R,G,E){function u(q){return new Date(q.getTime()+6E4*q.getTimezoneOffset())}function J(q,H,g){return!1===q instanceof Object?g:H in q?q[H]:g}function W(q,H,g,x){H=void 0===H?0:H;g=void 0===g?q.byteLength-H:g;x=void 0===x?!1:x;var I="";q=$jscomp.makeIterator(new Uint8Array(q,H,g));for(H=q.next();!H.done;H=q.next())H=H.value.toString(16).toUpperCase(),1===H.length&&(I+="0"),I+=H,x&&(I+=" ");return I.trim()}function l(q,H,g,x){return!1===H instanceof ArrayBuffer?
(q.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1):0===H.byteLength?(q.error="Wrong parameter: inputBuffer has zero length",!1):0>g?(q.error="Wrong parameter: inputOffset less than zero",!1):0>x?(q.error="Wrong parameter: inputLength less than zero",!1):0>H.byteLength-g-x?(q.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0}function h(q,H){var g=0;if(1===q.length)return q[0];for(var x=q.length-1;0<=x;x--)g+=q[q.length-1-x]*
Math.pow(2,H*x);return g}function p(q,H,g){var x=void 0===g?-1:g;g=q;for(var I=Math.pow(2,H),Q=1;8>Q;Q++){if(q<I){if(0>x)q=new ArrayBuffer(Q),x=Q;else{if(x<Q)break;q=new ArrayBuffer(x)}I=new Uint8Array(q);for(--Q;0<=Q;Q--){var Z=Math.pow(2,Q*H);I[x-Q-1]=Math.floor(g/Z);g-=I[x-Q-1]*Z}return q}I*=Math.pow(2,H)}return new ArrayBuffer(0)}function c(q){for(var H=[],g=0;g<arguments.length;++g)H[g-0]=arguments[g];var x=0;g=0;for(var I=$jscomp.makeIterator(H),Q=I.next();!Q.done;Q=I.next())x+=Q.value.byteLength;
x=new ArrayBuffer(x);I=new Uint8Array(x);H=$jscomp.makeIterator(H);for(Q=H.next();!Q.done;Q=H.next())Q=Q.value,I.set(new Uint8Array(Q),g),g+=Q.byteLength;return x}function f(q){for(var H=[],g=0;g<arguments.length;++g)H[g-0]=arguments[g];var x=0;g=0;for(var I=$jscomp.makeIterator(H),Q=I.next();!Q.done;Q=I.next())x+=Q.value.length;Q=new ArrayBuffer(x);x=new Uint8Array(Q);H=$jscomp.makeIterator(H);for(Q=H.next();!Q.done;Q=H.next())Q=Q.value,x.set(Q,g),g+=Q.length;return x}function r(){var q=new Uint8Array(this.valueHex);
if(2<=this.valueHex.byteLength){var H=0===q[0]&&0===(q[1]&128);(255===q[0]&&q[1]&128||H)&&this.warnings.push("Needlessly long format")}H=new ArrayBuffer(this.valueHex.byteLength);H=new Uint8Array(H);for(var g=0;g<this.valueHex.byteLength;g++)H[g]=0;H[0]=q[0]&128;H=h(H,8);g=new ArrayBuffer(this.valueHex.byteLength);g=new Uint8Array(g);for(var x=0;x<this.valueHex.byteLength;x++)g[x]=q[x];g[0]&=127;return h(g,8)-H}function z(q){for(var H=0>q?-1*q:q,g=128,x=1;8>x;x++){if(H<=g){if(0>q)return q=p(g-H,8,
x),(new Uint8Array(q))[0]|=128,q;q=p(H,8,x);H=new Uint8Array(q);if(H[0]&128){g=q.slice(0);x=new Uint8Array(g);q=new ArrayBuffer(q.byteLength+1);H=new Uint8Array(q);for(var I=0;I<g.byteLength;I++)H[I+1]=x[I];H[0]=0}return q}g*=Math.pow(2,8)}return new ArrayBuffer(0)}function M(q,H){if(q.byteLength!==H.byteLength)return!1;q=new Uint8Array(q);H=new Uint8Array(H);for(var g=0;g<q.length;g++)if(q[g]!==H[g])return!1;return!0}function A(q,H){q=q.toString(10);if(H<q.length)return"";H-=q.length;for(var g=Array(H),
x=0;x<H;x++)g[x]="0";return g.join("").concat(q)}function F(q,H,g,x){g=void 0===g?!1:g;var I=0,Q=0,Z=0,Y="";H=(void 0===H?0:H)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(void 0===x?0:x){for(var ba=x=0;ba<q.length;ba++)if(0!==q.charCodeAt(ba)){x=ba;break}q=q.slice(x)}for(;I<q.length;){var ha=q.charCodeAt(I++);I>=q.length&&(Q=1);var ia=q.charCodeAt(I++);I>=q.length&&(Z=1);ba=q.charCodeAt(I++);x=ha>>2;ha=
(ha&3)<<4|ia>>4;ia=(ia&15)<<2|ba>>6;ba&=63;1===Q?ia=ba=64:1===Z&&(ba=64);Y=g?64===ia?Y+(""+H.charAt(x)+H.charAt(ha)):64===ba?Y+(""+H.charAt(x)+H.charAt(ha)+H.charAt(ia)):Y+(""+H.charAt(x)+H.charAt(ha)+H.charAt(ia)+H.charAt(ba)):Y+(""+H.charAt(x)+H.charAt(ha)+H.charAt(ia)+H.charAt(ba))}return Y}function y(q,H,g){function x(v){for(var n=0;64>n;n++)if(I.charAt(n)===v)return n;return 64}g=void 0===g?!1:g;var I=(void 0===H?0:H)?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
Q=0;for(H="";Q<q.length;){var Z=x(q.charAt(Q++)),Y=Q>=q.length?0:x(q.charAt(Q++)),ba=Q>=q.length?0:x(q.charAt(Q++)),ha=Q>=q.length?0:x(q.charAt(Q++)),ia=((64===Y?0:Y)&15)<<4|(64===ba?0:ba)>>2,na=((64===ba?0:ba)&3)<<6|(64===ha?0:ha);H+=String.fromCharCode((64===Z?0:Z)<<2|(64===Y?0:Y)>>4);64!==ba&&(H+=String.fromCharCode(ia));64!==ha&&(H+=String.fromCharCode(na))}if(g){q=-1;for(g=H.length-1;0<=g;g--)if(0!==H.charCodeAt(g)){q=g;break}H=-1!==q?H.slice(0,q+1):""}return H}function B(q){var H="";q=new Uint8Array(q);
q=$jscomp.makeIterator(q);for(var g=q.next();!g.done;g=q.next())H+=String.fromCharCode(g.value);return H}function t(q){for(var H=q.length,g=new ArrayBuffer(H),x=new Uint8Array(g),I=0;I<H;I++)x[I]=q.charCodeAt(I);return g}function S(q){var H=Math.log(q)/e;q=Math.floor(H);H=Math.round(H);return q===H?q:H}function k(q,H){H=$jscomp.makeIterator(H);for(var g=H.next();!g.done;g=H.next())delete q[g.value]}E.r(G);E.d(G,"getUTCDate",function(){return u});E.d(G,"getParametersValue",function(){return J});E.d(G,
"bufferToHexCodes",function(){return W});E.d(G,"checkBufferParams",function(){return l});E.d(G,"utilFromBase",function(){return h});E.d(G,"utilToBase",function(){return p});E.d(G,"utilConcatBuf",function(){return c});E.d(G,"utilConcatView",function(){return f});E.d(G,"utilDecodeTC",function(){return r});E.d(G,"utilEncodeTC",function(){return z});E.d(G,"isEqualBuffer",function(){return M});E.d(G,"padNumber",function(){return A});E.d(G,"toBase64",function(){return F});E.d(G,"fromBase64",function(){return y});
E.d(G,"arrayBufferToString",function(){return B});E.d(G,"stringToArrayBuffer",function(){return t});E.d(G,"nearestPowerOf2",function(){return S});E.d(G,"clearProps",function(){return k});var e=Math.log(2)},function(R,G,E){(function(u){function J(h,p){this._id=h;this._clearFn=p}var W="undefined"!==typeof u&&u||"undefined"!==typeof self&&self||window,l=Function.prototype.apply;G.setTimeout=function(){return new J(l.call(setTimeout,W,arguments),clearTimeout)};G.setInterval=function(){return new J(l.call(setInterval,
W,arguments),clearInterval)};G.clearTimeout=G.clearInterval=function(h){h&&h.close()};J.prototype.unref=J.prototype.ref=function(){};J.prototype.close=function(){this._clearFn.call(W,this._id)};G.enroll=function(h,p){clearTimeout(h._idleTimeoutId);h._idleTimeout=p};G.unenroll=function(h){clearTimeout(h._idleTimeoutId);h._idleTimeout=-1};G._unrefActive=G.active=function(h){clearTimeout(h._idleTimeoutId);var p=h._idleTimeout;0<=p&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},
p))};E(72);G.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof u&&u.setImmediate||this&&this.setImmediate;G.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof u&&u.clearImmediate||this&&this.clearImmediate}).call(this,E(19))},function(R,G,E){(function(u,J){(function(W,l){function h(e){delete y[e]}function p(e){if(B)setTimeout(p,0,e);else{var q=y[e];if(q){B=!0;try{var H=q.callback,g=q.args;switch(g.length){case 0:H();break;case 1:H(g[0]);
break;case 2:H(g[0],g[1]);break;case 3:H(g[0],g[1],g[2]);break;default:H.apply(l,g)}}finally{h(e),B=!1}}}}function c(){S=function(e){J.nextTick(function(){p(e)})}}function f(){if(W.postMessage&&!W.importScripts){var e=!0,q=W.onmessage;W.onmessage=function(){e=!1};W.postMessage("","*");W.onmessage=q;return e}}function r(){var e="setImmediate$"+Math.random()+"$",q=function(H){H.source===W&&"string"===typeof H.data&&0===H.data.indexOf(e)&&p(+H.data.slice(e.length))};W.addEventListener?W.addEventListener("message",
q,!1):W.attachEvent("onmessage",q);S=function(H){W.postMessage(e+H,"*")}}function z(){var e=new MessageChannel;e.port1.onmessage=function(q){p(q.data)};S=function(q){e.port2.postMessage(q)}}function M(){var e=t.documentElement;S=function(q){var H=t.createElement("script");H.onreadystatechange=function(){p(q);H.onreadystatechange=null;e.removeChild(H);H=null};e.appendChild(H)}}function A(){S=function(e){setTimeout(p,0,e)}}if(!W.setImmediate){var F=1,y={},B=!1,t=W.document,S,k=Object.getPrototypeOf&&
Object.getPrototypeOf(W);k=k&&k.setTimeout?k:W;"[object process]"==={}.toString.call(W.process)?c():f()?r():W.MessageChannel?z():t&&"onreadystatechange"in t.createElement("script")?M():A();k.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var q=Array(arguments.length-1),H=0;H<q.length;H++)q[H]=arguments[H+1];y[F]={callback:e,args:q};S(F);return F++};k.clearImmediate=h}})("undefined"===typeof self?"undefined"===typeof u?this:u:self)}).call(this,E(19),E(31))},function(R,G,
E){(function(u){var J={};R.exports=J;var W={};J.encode=function(l,h,p){if("string"!==typeof h)throw new TypeError('"alphabet" must be a string.');if(void 0!==p&&"number"!==typeof p)throw new TypeError('"maxline" must be a number.');var c="";if(l instanceof Uint8Array){var f,r=h.length,z=h.charAt(0),M=[0];for(f=0;f<l.length;++f){for(var A=0,F=l[f];A<M.length;++A)F+=M[A]<<8,M[A]=F%r,F=F/r|0;for(;0<F;)M.push(F%r),F=F/r|0}for(f=0;0===l[f]&&f<l.length-1;++f)c+=z;for(f=M.length-1;0<=f;--f)c+=h[M[f]]}else{z=
h.length;f=h.charAt(0);r=[0];for(c=0;c<l.length();++c){M=0;for(A=l.at(c);M<r.length;++M)A+=r[M]<<8,r[M]=A%z,A=A/z|0;for(;0<A;)r.push(A%z),A=A/z|0}z="";for(c=0;0===l.at(c)&&c<l.length()-1;++c)z+=f;for(c=r.length-1;0<=c;--c)z+=h[r[c]];c=z}p&&(c=c.match(new RegExp(".{1,"+p+"}","g")).join("\r\n"));return c};J.decode=function(l,h){if("string"!==typeof l)throw new TypeError('"input" must be a string.');if("string"!==typeof h)throw new TypeError('"alphabet" must be a string.');var p=W[h];if(!p){p=W[h]=[];
for(var c=0;c<h.length;++c)p[h.charCodeAt(c)]=c}l=l.replace(/\s/g,"");var f=h.length;h=h.charAt(0);var r=[0];for(c=0;c<l.length;c++){var z=p[l.charCodeAt(c)];if(void 0===z)return;for(var M=0;M<r.length;++M)z+=r[M]*f,r[M]=z&255,z>>=8;for(;0<z;)r.push(z&255),z>>=8}for(p=0;l[p]===h&&p<l.length-1;++p)r.push(0);return"undefined"!==typeof u?u.from(r.reverse()):new Uint8Array(r.reverse())}}).call(this,E(6).Buffer)},function(R,G,E){function u(f,r,z){r=r.entity===p.tls.ConnectionEnd.client;f.read.cipherState=
{init:!1,cipher:p.cipher.createDecipher("AES-CBC",r?z.keys.server_write_key:z.keys.client_write_key),iv:r?z.keys.server_write_IV:z.keys.client_write_IV};f.write.cipherState={init:!1,cipher:p.cipher.createCipher("AES-CBC",r?z.keys.client_write_key:z.keys.server_write_key),iv:r?z.keys.client_write_IV:z.keys.server_write_IV};f.read.cipherFunction=h;f.write.cipherFunction=J;f.read.macLength=f.write.macLength=z.mac_length;f.read.macFunction=f.write.macFunction=c.hmac_sha1}function J(f,r){var z=!1,M=r.macFunction(r.macKey,
r.sequenceNumber,f);f.fragment.putBytes(M);r.updateSequenceNumber();M=f.version.minor===c.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:p.random.getBytesSync(16);r.cipherState.init=!0;r=r.cipherState.cipher;r.start({iv:M});f.version.minor>=c.Versions.TLS_1_1.minor&&r.output.putBytes(M);r.update(f.fragment);r.finish(W)&&(f.fragment=r.output,f.length=f.fragment.length(),z=!0);return z}function W(f,r,z){z||(f-=r.length()%f,r.fillWithByte(f-1,f));return!0}function l(f,r,z){f=!0;if(z){z=
r.length();for(var M=r.last(),A=z-1-M;A<z-1;++A)f=f&&r.at(A)==M;f&&r.truncate(M+1)}return f}function h(f,r){var z=f.version.minor===c.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:f.fragment.getBytes(16);r.cipherState.init=!0;var M=r.cipherState.cipher;M.start({iv:z});M.update(f.fragment);z=M.finish(l);var A=r.macLength,F=p.random.getBytesSync(A),y=M.output.length();y>=A?(f.fragment=M.output.getBytes(y-A),F=M.output.getBytes(A)):f.fragment=M.output.getBytes();f.fragment=p.util.createBuffer(f.fragment);
f.length=f.fragment.length();f=r.macFunction(r.macKey,r.sequenceNumber,f);r.updateSequenceNumber();r=r.macKey;M=p.hmac.create();M.start("SHA1",r);M.update(F);F=M.digest().getBytes();M.start(null,null);M.update(f);f=M.digest().getBytes();return F===f&&z}var p=E(5);E(20);E(48);var c=R.exports=p.tls;c.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes;f.cipher_type=c.CipherType.block;
f.enc_key_length=16;f.block_length=16;f.fixed_iv_length=16;f.record_iv_length=16;f.mac_algorithm=c.MACAlgorithm.hmac_sha1;f.mac_length=20;f.mac_key_length=20},initConnectionState:u};c.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=c.BulkCipherAlgorithm.aes;f.cipher_type=c.CipherType.block;f.enc_key_length=32;f.block_length=16;f.fixed_iv_length=16;f.record_iv_length=16;f.mac_algorithm=c.MACAlgorithm.hmac_sha1;
f.mac_length=20;f.mac_key_length=20},initConnectionState:u}},function(R,G,E){G=E(5);E(58);R.exports=G.mgf=G.mgf||{};G.mgf.mgf1=G.mgf1},function(R,G,E){(function(u){function J(P){var O=P.message;if(O instanceof Uint8Array||O instanceof Y)return O;var K=P.encoding;if(void 0===O)if(P.md)O=P.md.digest().getBytes(),K="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if("string"===typeof O&&!K)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"===
typeof O){if("undefined"!==typeof u)return u.from(O,K);O=new Z(O,K)}else if(!(O instanceof Z))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');P=new Y(O.length());for(K=0;K<P.length;++K)P[K]=O.at(K);return P}function W(P,O){var K=H.md.sha512.create();P=new Z(P);K.update(P.getBytes(O),"binary");O=K.digest().getBytes();if("undefined"!==typeof u)return u.from(O,"binary");K=new Y(ba.constants.HASH_BYTE_LENGTH);
for(P=0;64>P;++P)K[P]=O.charCodeAt(P);return K}function l(P,O){var K,qa;for(K=63;32<=K;--K){var ya=0;var xa=K-32;for(qa=K-12;xa<qa;++xa)O[xa]+=ya-16*O[K]*D[xa-(K-32)],ya=O[xa]+128>>8,O[xa]-=256*ya;O[xa]+=ya;O[K]=0}for(xa=ya=0;32>xa;++xa)O[xa]+=ya-(O[31]>>4)*D[xa],ya=O[xa]>>8,O[xa]&=255;for(xa=0;32>xa;++xa)O[xa]-=ya*D[xa];for(K=0;32>K;++K)O[K+1]+=O[K]>>8,P[K]=O[K]&255}function h(P){for(var O=new Float64Array(64),K=0;64>K;++K)O[K]=P[K],P[K]=0;l(P,O)}function p(P,O){var K=S(),qa=S(),ya=S(),xa=S(),Da=
S(),ea=S(),b=S(),N=S(),ja=S();e(K,P[1],P[0]);e(ja,O[1],O[0]);q(K,K,ja);k(qa,P[0],P[1]);k(ja,O[0],O[1]);q(qa,qa,ja);q(ya,P[3],O[3]);q(ya,ya,v);q(xa,P[2],O[2]);k(xa,xa,xa);e(Da,qa,K);e(ea,xa,ya);k(b,xa,ya);k(N,qa,K);q(P[0],Da,ea);q(P[1],N,b);q(P[2],b,ea);q(P[3],Da,N)}function c(P,O){var K=S(),qa=S(),ya=S(),xa=O[2],Da=S(),ea;for(ea=0;16>ea;++ea)Da[ea]=xa[ea];for(ea=253;0<=ea;--ea)q(Da,Da,Da),2!==ea&&4!==ea&&q(Da,Da,xa);for(ea=0;16>ea;++ea)ya[ea]=Da[ea];q(K,O[0],ya);q(qa,O[1],ya);f(P,qa);P[31]^=M(K)<<
7}function f(P,O){var K,qa=S(),ya=S();for(K=0;16>K;++K)ya[K]=O[K];B(ya);B(ya);B(ya);for(O=0;2>O;++O){qa[0]=ya[0]-65517;for(K=1;15>K;++K)qa[K]=ya[K]-65535-(qa[K-1]>>16&1),qa[K-1]&=65535;qa[15]=ya[15]-32767-(qa[14]>>16&1);K=qa[15]>>16&1;qa[14]&=65535;t(ya,qa,1-K)}for(K=0;16>K;K++)P[2*K]=ya[K]&255,P[2*K+1]=ya[K]>>8}function r(P,O){var K=new Y(32),qa=new Y(32);f(K,P);f(qa,O);return z(K,0,qa,0)}function z(P,O,K,qa){var ya,xa=0;for(ya=0;32>ya;++ya)xa|=P[O+ya]^K[qa+ya];return(1&xa-1>>>8)-1}function M(P){var O=
new Y(32);f(O,P);return O[0]&1}function A(P,O,K){var qa;y(P[0],ha);y(P[1],ia);y(P[2],ia);y(P[3],ha);for(qa=255;0<=qa;--qa){var ya=K[qa/8|0]>>(qa&7)&1;for(var xa=P,Da=O,ea=ya,b=0;4>b;++b)t(xa[b],Da[b],ea);p(O,P);p(P,P);xa=P;Da=O;for(ea=0;4>ea;++ea)t(xa[ea],Da[ea],ya)}}function F(P,O){var K=[S(),S(),S(),S()];y(K[0],n);y(K[1],w);y(K[2],ia);q(K[3],n,w);A(P,K,O)}function y(P,O){var K;for(K=0;16>K;K++)P[K]=O[K]|0}function B(P){var O,K=1;for(O=0;16>O;++O){var qa=P[O]+K+65535;K=Math.floor(qa/65536);P[O]=
qa-65536*K}P[0]+=K-1+37*(K-1)}function t(P,O,K){for(var qa=~(K-1),ya=0;16>ya;++ya)K=qa&(P[ya]^O[ya]),P[ya]^=K,O[ya]^=K}function S(P){var O,K=new Float64Array(16);if(P)for(O=0;O<P.length;++O)K[O]=P[O];return K}function k(P,O,K){for(var qa=0;16>qa;++qa)P[qa]=O[qa]+K[qa]}function e(P,O,K){for(var qa=0;16>qa;++qa)P[qa]=O[qa]-K[qa]}function q(P,O,K){var qa=K[0],ya=K[1],xa=K[2],Da=K[3],ea=K[4],b=K[5],N=K[6],ja=K[7],fa=K[8],ma=K[9],ta=K[10],za=K[11],Ga=K[12],Ta=K[13],Fa=K[14],Ka=K[15];K=O[0];var ca=K*qa;
var ka=K*ya;var ra=K*xa;var Aa=K*Da;var La=K*ea;var Ua=K*b;var Ra=K*N;var Ia=K*ja;var Ha=K*fa;var Va=K*ma;var Pa=K*ta;var d=K*za;var T=K*Ga;var da=K*Ta;var va=K*Fa;var oa=K*Ka;K=O[1];ka+=K*qa;ra+=K*ya;Aa+=K*xa;La+=K*Da;Ua+=K*ea;Ra+=K*b;Ia+=K*N;Ha+=K*ja;Va+=K*fa;Pa+=K*ma;d+=K*ta;T+=K*za;da+=K*Ga;va+=K*Ta;oa+=K*Fa;var m=K*Ka;K=O[2];ra+=K*qa;Aa+=K*ya;La+=K*xa;Ua+=K*Da;Ra+=K*ea;Ia+=K*b;Ha+=K*N;Va+=K*ja;Pa+=K*fa;d+=K*ma;T+=K*ta;da+=K*za;va+=K*Ga;oa+=K*Ta;m+=K*Fa;var U=K*Ka;K=O[3];Aa+=K*qa;La+=K*ya;Ua+=
K*xa;Ra+=K*Da;Ia+=K*ea;Ha+=K*b;Va+=K*N;Pa+=K*ja;d+=K*fa;T+=K*ma;da+=K*ta;va+=K*za;oa+=K*Ga;m+=K*Ta;U+=K*Fa;var aa=K*Ka;K=O[4];La+=K*qa;Ua+=K*ya;Ra+=K*xa;Ia+=K*Da;Ha+=K*ea;Va+=K*b;Pa+=K*N;d+=K*ja;T+=K*fa;da+=K*ma;va+=K*ta;oa+=K*za;m+=K*Ga;U+=K*Ta;aa+=K*Fa;var pa=K*Ka;K=O[5];Ua+=K*qa;Ra+=K*ya;Ia+=K*xa;Ha+=K*Da;Va+=K*ea;Pa+=K*b;d+=K*N;T+=K*ja;da+=K*fa;va+=K*ma;oa+=K*ta;m+=K*za;U+=K*Ga;aa+=K*Ta;pa+=K*Fa;var ua=K*Ka;K=O[6];Ra+=K*qa;Ia+=K*ya;Ha+=K*xa;Va+=K*Da;Pa+=K*ea;d+=K*b;T+=K*N;da+=K*ja;va+=K*fa;oa+=
K*ma;m+=K*ta;U+=K*za;aa+=K*Ga;pa+=K*Ta;ua+=K*Fa;var Ca=K*Ka;K=O[7];Ia+=K*qa;Ha+=K*ya;Va+=K*xa;Pa+=K*Da;d+=K*ea;T+=K*b;da+=K*N;va+=K*ja;oa+=K*fa;m+=K*ma;U+=K*ta;aa+=K*za;pa+=K*Ga;ua+=K*Ta;Ca+=K*Fa;var Sa=K*Ka;K=O[8];Ha+=K*qa;Va+=K*ya;Pa+=K*xa;d+=K*Da;T+=K*ea;da+=K*b;va+=K*N;oa+=K*ja;m+=K*fa;U+=K*ma;aa+=K*ta;pa+=K*za;ua+=K*Ga;Ca+=K*Ta;Sa+=K*Fa;var $a=K*Ka;K=O[9];Va+=K*qa;Pa+=K*ya;d+=K*xa;T+=K*Da;da+=K*ea;va+=K*b;oa+=K*N;m+=K*ja;U+=K*fa;aa+=K*ma;pa+=K*ta;ua+=K*za;Ca+=K*Ga;Sa+=K*Ta;$a+=K*Fa;var Oa=K*
Ka;K=O[10];Pa+=K*qa;d+=K*ya;T+=K*xa;da+=K*Da;va+=K*ea;oa+=K*b;m+=K*N;U+=K*ja;aa+=K*fa;pa+=K*ma;ua+=K*ta;Ca+=K*za;Sa+=K*Ga;$a+=K*Ta;Oa+=K*Fa;var Za=K*Ka;K=O[11];d+=K*qa;T+=K*ya;da+=K*xa;va+=K*Da;oa+=K*ea;m+=K*b;U+=K*N;aa+=K*ja;pa+=K*fa;ua+=K*ma;Ca+=K*ta;Sa+=K*za;$a+=K*Ga;Oa+=K*Ta;Za+=K*Fa;var bb=K*Ka;K=O[12];T+=K*qa;da+=K*ya;va+=K*xa;oa+=K*Da;m+=K*ea;U+=K*b;aa+=K*N;pa+=K*ja;ua+=K*fa;Ca+=K*ma;Sa+=K*ta;$a+=K*za;Oa+=K*Ga;Za+=K*Ta;bb+=K*Fa;var Ya=K*Ka;K=O[13];da+=K*qa;va+=K*ya;oa+=K*xa;m+=K*Da;U+=K*ea;
aa+=K*b;pa+=K*N;ua+=K*ja;Ca+=K*fa;Sa+=K*ma;$a+=K*ta;Oa+=K*za;Za+=K*Ga;bb+=K*Ta;Ya+=K*Fa;var cb=K*Ka;K=O[14];va+=K*qa;oa+=K*ya;m+=K*xa;U+=K*Da;aa+=K*ea;pa+=K*b;ua+=K*N;Ca+=K*ja;Sa+=K*fa;$a+=K*ma;Oa+=K*ta;Za+=K*za;bb+=K*Ga;Ya+=K*Ta;cb+=K*Fa;var ab=K*Ka;K=O[15];oa+=K*qa;ka+=38*(U+K*xa);ra+=38*(aa+K*Da);Aa+=38*(pa+K*ea);La+=38*(ua+K*b);Ua+=38*(Ca+K*N);Ra+=38*(Sa+K*ja);Ia+=38*($a+K*fa);Ha+=38*(Oa+K*ma);Va+=38*(Za+K*ta);Pa+=38*(bb+K*za);d+=38*(Ya+K*Ga);T+=38*(cb+K*Ta);da+=38*(ab+K*Fa);va+=38*K*Ka;K=ca+
38*(m+K*ya)+1+65535;O=Math.floor(K/65536);ca=K-65536*O;K=ka+O+65535;O=Math.floor(K/65536);ka=K-65536*O;K=ra+O+65535;O=Math.floor(K/65536);ra=K-65536*O;K=Aa+O+65535;O=Math.floor(K/65536);Aa=K-65536*O;K=La+O+65535;O=Math.floor(K/65536);La=K-65536*O;K=Ua+O+65535;O=Math.floor(K/65536);Ua=K-65536*O;K=Ra+O+65535;O=Math.floor(K/65536);Ra=K-65536*O;K=Ia+O+65535;O=Math.floor(K/65536);Ia=K-65536*O;K=Ha+O+65535;O=Math.floor(K/65536);Ha=K-65536*O;K=Va+O+65535;O=Math.floor(K/65536);Va=K-65536*O;K=Pa+O+65535;O=
Math.floor(K/65536);Pa=K-65536*O;K=d+O+65535;O=Math.floor(K/65536);d=K-65536*O;K=T+O+65535;O=Math.floor(K/65536);T=K-65536*O;K=da+O+65535;O=Math.floor(K/65536);da=K-65536*O;K=va+O+65535;O=Math.floor(K/65536);va=K-65536*O;K=oa+O+65535;O=Math.floor(K/65536);oa=K-65536*O;ca+=O-1+37*(O-1);K=ca+1+65535;O=Math.floor(K/65536);ca=K-65536*O;K=ka+O+65535;O=Math.floor(K/65536);ka=K-65536*O;K=ra+O+65535;O=Math.floor(K/65536);ra=K-65536*O;K=Aa+O+65535;O=Math.floor(K/65536);Aa=K-65536*O;K=La+O+65535;O=Math.floor(K/
65536);La=K-65536*O;K=Ua+O+65535;O=Math.floor(K/65536);Ua=K-65536*O;K=Ra+O+65535;O=Math.floor(K/65536);Ra=K-65536*O;K=Ia+O+65535;O=Math.floor(K/65536);Ia=K-65536*O;K=Ha+O+65535;O=Math.floor(K/65536);Ha=K-65536*O;K=Va+O+65535;O=Math.floor(K/65536);Va=K-65536*O;K=Pa+O+65535;O=Math.floor(K/65536);Pa=K-65536*O;K=d+O+65535;O=Math.floor(K/65536);d=K-65536*O;K=T+O+65535;O=Math.floor(K/65536);T=K-65536*O;K=da+O+65535;O=Math.floor(K/65536);da=K-65536*O;K=va+O+65535;O=Math.floor(K/65536);va=K-65536*O;K=oa+
O+65535;O=Math.floor(K/65536);P[0]=ca+(O-1+37*(O-1));P[1]=ka;P[2]=ra;P[3]=Aa;P[4]=La;P[5]=Ua;P[6]=Ra;P[7]=Ia;P[8]=Ha;P[9]=Va;P[10]=Pa;P[11]=d;P[12]=T;P[13]=da;P[14]=va;P[15]=K-65536*O}var H=E(5);E(34);E(13);E(60);E(7);var g=E(77),x=g.publicKeyValidator,I=g.privateKeyValidator;if("undefined"===typeof Q)var Q=H.jsbn.BigInteger;var Z=H.util.ByteBuffer,Y="undefined"===typeof u?Uint8Array:u;H.pki=H.pki||{};R.exports=H.pki.ed25519=H.ed25519=H.ed25519||{};var ba=H.ed25519;ba.constants={};ba.constants.PUBLIC_KEY_BYTE_LENGTH=
32;ba.constants.PRIVATE_KEY_BYTE_LENGTH=64;ba.constants.SEED_BYTE_LENGTH=32;ba.constants.SIGN_BYTE_LENGTH=64;ba.constants.HASH_BYTE_LENGTH=64;ba.generateKeyPair=function(P){P=P||{};var O=P.seed;if(void 0===O)O=H.random.getBytesSync(ba.constants.SEED_BYTE_LENGTH);else if("string"===typeof O){if(O.length!==ba.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ba.constants.SEED_BYTE_LENGTH+" bytes in length.");}else if(!(O instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');
O=J({message:O,encoding:"binary"});P=new Y(ba.constants.PUBLIC_KEY_BYTE_LENGTH);for(var K=new Y(ba.constants.PRIVATE_KEY_BYTE_LENGTH),qa=0;32>qa;++qa)K[qa]=O[qa];O=[S(),S(),S(),S()];qa=W(K,32);qa[0]&=248;qa[31]&=127;qa[31]|=64;F(O,qa);c(P,O);for(O=0;32>O;++O)K[O+32]=P[O];return{publicKey:P,privateKey:K}};ba.privateKeyFromAsn1=function(P){var O={},K=[];if(!H.asn1.validate(P,I,O,K))throw O=Error("Invalid Key."),O.errors=K,O;K=H.asn1.derToOid(O.privateKeyOid);P=H.oids.EdDSA25519;if(K!==P)throw Error('Invalid OID "'+
K+'"; OID must be "'+P+'".');return{privateKeyBytes:J({message:H.asn1.fromDer(O.privateKey).value,encoding:"binary"})}};ba.publicKeyFromAsn1=function(P){var O={},K=[];if(!H.asn1.validate(P,x,O,K))throw O=Error("Invalid Key."),O.errors=K,O;K=H.asn1.derToOid(O.publicKeyOid);P=H.oids.EdDSA25519;if(K!==P)throw Error('Invalid OID "'+K+'"; OID must be "'+P+'".');O=O.ed25519PublicKey;if(O.length!==ba.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return J({message:O,encoding:"binary"})};
ba.publicKeyFromPrivateKey=function(P){P=P||{};P=J({message:P.privateKey,encoding:"binary"});if(P.length!==ba.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ba.constants.PRIVATE_KEY_BYTE_LENGTH);for(var O=new Y(ba.constants.PUBLIC_KEY_BYTE_LENGTH),K=0;K<O.length;++K)O[K]=P[32+K];return O};ba.sign=function(P){P=P||{};var O=J(P),K=J({message:P.privateKey,encoding:"binary"});if(K.length===ba.constants.SEED_BYTE_LENGTH)K=ba.generateKeyPair({seed:K}).privateKey;
else if(K.length!==ba.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ba.constants.SEED_BYTE_LENGTH+" or "+ba.constants.PRIVATE_KEY_BYTE_LENGTH);P=new Y(ba.constants.SIGN_BYTE_LENGTH+O.length);var qa=O.length,ya=K,xa=new Float64Array(64),Da=[S(),S(),S(),S()],ea=W(ya,32);ea[0]&=248;ea[31]&=127;ea[31]|=64;for(K=0;K<qa;++K)P[64+K]=O[K];for(K=0;32>K;++K)P[32+K]=ea[32+K];O=W(P.subarray(32),qa+32);h(O);F(Da,O);c(P,Da);for(K=32;64>K;++K)P[K]=ya[K];
qa=W(P,qa+64);h(qa);for(K=32;64>K;++K)xa[K]=0;for(K=0;32>K;++K)xa[K]=O[K];for(K=0;32>K;++K)for(O=0;32>O;O++)xa[K+O]+=qa[K]*ea[O];l(P.subarray(32),xa);K=new Y(ba.constants.SIGN_BYTE_LENGTH);for(xa=0;xa<K.length;++xa)K[xa]=P[xa];return K};ba.verify=function(P){P=P||{};var O=J(P);if(void 0===P.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var K=J({message:P.signature,encoding:"binary"});if(K.length!==ba.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+
ba.constants.SIGN_BYTE_LENGTH);var qa=J({message:P.publicKey,encoding:"binary"});if(qa.length!==ba.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ba.constants.PUBLIC_KEY_BYTE_LENGTH);P=new Y(ba.constants.SIGN_BYTE_LENGTH+O.length);var ya=new Y(ba.constants.SIGN_BYTE_LENGTH+O.length),xa;for(xa=0;xa<ba.constants.SIGN_BYTE_LENGTH;++xa)P[xa]=K[xa];for(xa=0;xa<O.length;++xa)P[xa+ba.constants.SIGN_BYTE_LENGTH]=O[xa];O=P.length;K=new Y(32);xa=[S(),
S(),S(),S()];var Da=[S(),S(),S(),S()];if(64>O)P=-1;else{var ea=S();var b=S();var N=S(),ja=S(),fa=S(),ma=S(),ta=S();y(Da[2],ia);var za=Da[1],Ga;for(Ga=0;16>Ga;++Ga)za[Ga]=qa[2*Ga]+(qa[2*Ga+1]<<8);za[15]&=32767;za=Da[1];q(N,za,za);q(ja,N,na);e(N,N,Da[2]);k(ja,Da[2],ja);q(fa,ja,ja);q(ma,fa,fa);q(ta,ma,fa);q(ea,ta,N);q(ea,ea,ja);fa=S();for(ma=0;16>ma;++ma)fa[ma]=ea[ma];for(ma=250;0<=ma;--ma)q(fa,fa,fa),1!==ma&&q(fa,fa,ea);for(ma=0;16>ma;++ma)ea[ma]=fa[ma];q(ea,ea,N);q(ea,ea,ja);q(ea,ea,ja);q(Da[0],ea,
ja);ea=Da[0];q(b,ea,ea);q(b,b,ja);r(b,N)&&q(Da[0],Da[0],V);ea=Da[0];q(b,ea,ea);q(b,b,ja);r(b,N)?b=-1:(M(Da[0])===qa[31]>>7&&e(Da[0],ha,Da[0]),q(Da[3],Da[0],Da[1]),b=0);if(b)P=-1;else{for(b=0;b<O;++b)ya[b]=P[b];for(b=0;32>b;++b)ya[b+32]=qa[b];qa=W(ya,O);h(qa);A(xa,Da,qa);F(Da,P.subarray(32));p(xa,Da);c(K,xa);O-=64;if(z(P,0,K,0)){for(b=0;b<O;++b)ya[b]=0;P=-1}else{for(b=0;b<O;++b)ya[b]=P[b+64];P=O}}}return 0<=P};var ha=S(),ia=S([1]),na=S([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,
36039,65139,11119,27886,20995]),v=S([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),n=S([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=S([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),V=S([41136,18958,6951,50414,58488,44335,6150,12099,55207,
15867,153,11085,57099,20417,9344,11139])}).call(this,E(6).Buffer)},function(R,G,E){R=E(5);E(15);E=R.asn1;G.privateKeyValidator={name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:E.Class.UNIVERSAL,type:E.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,
type:E.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};G.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:E.Class.UNIVERSAL,type:E.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:E.Class.UNIVERSAL,
type:E.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:E.Class.UNIVERSAL,type:E.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(R,G,E){function u(l,h,p,c){l.generate=function(f,r){for(var z=new J.util.ByteBuffer,M=Math.ceil(r/c)+p,A=new J.util.ByteBuffer,F=p;F<M;++F){A.putInt32(F);h.start();h.update(f+A.getBytes());var y=h.digest();z.putBytes(y.getBytes(c))}z.truncate(z.length()-r);return z.getBytes()}}var J=E(5);E(7);E(13);E(34);R.exports=
J.kem=J.kem||{};var W=J.jsbn.BigInteger;J.kem.rsa={};J.kem.rsa.create=function(l,h){h=h||{};var p=h.prng||J.random;return{encrypt:function(c,f){var r=Math.ceil(c.n.bitLength()/8);do var z=(new W(J.util.bytesToHex(p.getBytesSync(r)),16)).mod(c.n);while(0>=z.compareTo(W.ONE));z=J.util.hexToBytes(z.toString(16));r-=z.length;0<r&&(z=J.util.fillString(String.fromCharCode(0),r)+z);c=c.encrypt(z,"NONE");f=l.generate(z,f);return{encapsulation:c,key:f}},decrypt:function(c,f,r){c=c.decrypt(f,"NONE");return l.generate(c,
r)}}};J.kem.kdf1=function(l,h){u(this,l,0,h||l.digestLength)};J.kem.kdf2=function(l,h){u(this,l,1,h||l.digestLength)}},function(R,G,E){R.exports=E(17);E(37);E(26);E(51);E(60)},function(R,G,E){function u(c){if(c.type===l.pki.oids.contentType)var f=h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(c.value).getBytes());else if(c.type===l.pki.oids.messageDigest)f=h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,c.value.bytes());else if(c.type===l.pki.oids.signingTime){f=new Date("1950-01-01T00:00:00Z");
var r=new Date("2050-01-01T00:00:00Z"),z=c.value;if("string"===typeof z){var M=Date.parse(z);z=isNaN(M)?13===z.length?h.utcTimeToDate(z):h.generalizedTimeToDate(z):new Date(M)}f=z>=f&&z<r?h.create(h.Class.UNIVERSAL,h.Type.UTCTIME,!1,h.dateToUtcTime(z)):h.create(h.Class.UNIVERSAL,h.Type.GENERALIZEDTIME,!1,h.dateToGeneralizedTime(z))}return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(c.type).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,
[f])])}function J(c,f,r){var z={};if(!h.validate(f,r,z,[]))throw c=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message."),c.errors=c,c;if(h.derToOid(z.contentType)!==l.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(z.encryptedContent){f="";if(l.util.isArray(z.encryptedContent))for(r=0;r<z.encryptedContent.length;++r){if(z.encryptedContent[r].type!==h.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");
f+=z.encryptedContent[r].value}else f=z.encryptedContent;c.encryptedContent={algorithm:h.derToOid(z.encAlgorithm),parameter:l.util.createBuffer(z.encParameter.value),content:l.util.createBuffer(f)}}if(z.content){f="";if(l.util.isArray(z.content))for(r=0;r<z.content.length;++r){if(z.content[r].type!==h.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=z.content[r].value}else f=z.content;c.content=l.util.createBuffer(f)}c.version=
z.version.charCodeAt(0);return c.rawCapture=z}function W(c){if(void 0===c.encryptedContent.key)throw Error("Symmetric key not available.");if(void 0===c.content){switch(c.encryptedContent.algorithm){case l.pki.oids["aes128-CBC"]:case l.pki.oids["aes192-CBC"]:case l.pki.oids["aes256-CBC"]:var f=l.aes.createDecryptionCipher(c.encryptedContent.key);break;case l.pki.oids.desCBC:case l.pki.oids["des-EDE3-CBC"]:f=l.des.createDecryptionCipher(c.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+
c.encryptedContent.algorithm);}f.start(c.encryptedContent.parameter);f.update(c.encryptedContent.content);if(!f.finish())throw Error("Symmetric decryption failed.");c.content=f.output}}var l=E(5);E(20);E(15);E(32);E(21);E(22);E(57);E(13);E(7);E(40);var h=l.asn1,p=R.exports=l.pkcs7=l.pkcs7||{};p.messageFromPem=function(c){c=l.pem.decode(c)[0];if("PKCS7"!==c.type){var f=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');f.headerType=c.type;throw f;}if(c.procType&&"ENCRYPTED"===
c.procType.type)throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");c=h.fromDer(c.body);return p.messageFromAsn1(c)};p.messageToPem=function(c,f){c={type:"PKCS7",body:h.toDer(c.toAsn1()).getBytes()};return l.pem.encode(c,{maxline:f})};p.messageFromAsn1=function(c){var f={},r=[];if(!h.validate(c,p.asn1.contentInfoValidator,f,r))throw f=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo."),f.errors=r,f;r=h.derToOid(f.contentType);switch(r){case l.pki.oids.envelopedData:r=
p.createEnvelopedData();break;case l.pki.oids.encryptedData:r=p.createEncryptedData();break;case l.pki.oids.signedData:r=p.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+r+" is not (yet) supported.");}r.fromAsn1(f.content.value[0]);return r};p.createSignedData=function(){var c=null;return c={type:l.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(f){J(c,
f,p.asn1.signedDataValidator);c.certificates=[];c.crls=[];c.digestAlgorithmIdentifiers=[];c.contentInfo=null;c.signerInfos=[];if(c.rawCapture.certificates){f=c.rawCapture.certificates.value;for(var r=0;r<f.length;++r)c.certificates.push(l.pki.certificateFromAsn1(f[r]))}},toAsn1:function(){c.contentInfo||c.sign();for(var f=[],r=0;r<c.certificates.length;++r)f.push(l.pki.certificateToAsn1(c.certificates[r]));r=[];var z=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,
!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(c.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SET,!0,c.digestAlgorithmIdentifiers),c.contentInfo])]);0<f.length&&z.value[0].value.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,f));0<r.length&&z.value[0].value.push(h.create(h.Class.CONTEXT_SPECIFIC,1,!0,r));z.value[0].value.push(h.create(h.Class.UNIVERSAL,h.Type.SET,!0,c.signerInfos));return h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,
!1,h.oidToDer(c.type).getBytes()),z])},addSigner:function(f){var r=f.issuer,z=f.serialNumber;f.certificate&&(z=f.certificate,"string"===typeof z&&(z=l.pki.certificateFromPem(z)),r=z.issuer.attributes,z=z.serialNumber);var M=f.key;if(!M)throw Error("Could not add PKCS#7 signer; no private key specified.");"string"===typeof M&&(M=l.pki.privateKeyFromPem(M));var A=f.digestAlgorithm||l.pki.oids.sha1;switch(A){case l.pki.oids.sha1:case l.pki.oids.sha256:case l.pki.oids.sha384:case l.pki.oids.sha512:case l.pki.oids.md5:break;
default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+A);}f=f.authenticatedAttributes||[];if(0<f.length){for(var F=!1,y=!1,B=0;B<f.length;++B){var t=f[B];if(!F&&t.type===l.pki.oids.contentType){if(F=!0,y)break}else if(!y&&t.type===l.pki.oids.messageDigest&&(y=!0,F))break}if(!F||!y)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.");
}c.signers.push({key:M,version:1,issuer:r,serialNumber:z,digestAlgorithm:A,signatureAlgorithm:l.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(f){f=f||{};if("object"!==typeof c.content||null===c.contentInfo)if(c.contentInfo=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(l.pki.oids.data).getBytes())]),"content"in c){var r;c.content instanceof l.util.ByteBuffer?r=c.content.bytes():"string"===
typeof c.content&&(r=l.util.encodeUtf8(c.content));f.detached?c.detachedContent=h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,r):c.contentInfo.value.push(h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,r)]))}if(0!==c.signers.length){f={};for(r=0;r<c.signers.length;++r){var z=c.signers[r],M=z.digestAlgorithm;M in f||(f[M]=l.md[l.pki.oids[M]].create());z.md=0===z.authenticatedAttributes.length?f[M]:l.md[l.pki.oids[M]].create()}c.digestAlgorithmIdentifiers=
[];for(M in f)c.digestAlgorithmIdentifiers.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(M).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")]));c.detachedContent?r=c.detachedContent:(r=c.contentInfo.value[1],r=r.value[0]);if(!r)throw Error("Could not sign PKCS#7 message; there is no content to sign.");M=h.derToOid(c.contentInfo.value[0].value);var A=h.toDer(r);A.getByte();h.getBerValueLength(A);A=A.getBytes();for(var F in f)f[F].start().update(A);
F=new Date;for(r=0;r<c.signers.length;++r){z=c.signers[r];if(0===z.authenticatedAttributes.length){if(M!==l.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.");}else{z.authenticatedAttributesAsn1=h.create(h.Class.CONTEXT_SPECIFIC,0,!0,[]);A=h.create(h.Class.UNIVERSAL,h.Type.SET,!0,[]);for(var y=0;y<z.authenticatedAttributes.length;++y){var B=z.authenticatedAttributes[y];B.type===l.pki.oids.messageDigest?B.value=
f[z.digestAlgorithm].digest():B.type!==l.pki.oids.signingTime||B.value||(B.value=F);A.value.push(u(B));z.authenticatedAttributesAsn1.value.push(u(B))}A=h.toDer(A).getBytes();z.md.start().update(A)}z.signature=z.key.sign(z.md,"RSASSA-PKCS1-V1_5")}f=c;M=c.signers;F=[];for(r=0;r<M.length;++r){z=F;A=z.push;y=M[r];B=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(y.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[l.pki.distinguishedNameToAsn1({attributes:y.issuer}),
h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,l.util.hexToBytes(y.serialNumber))]),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(y.digestAlgorithm).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.NULL,!1,"")])]);y.authenticatedAttributesAsn1&&B.value.push(y.authenticatedAttributesAsn1);B.value.push(h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(y.signatureAlgorithm).getBytes()),h.create(h.Class.UNIVERSAL,
h.Type.NULL,!1,"")]));B.value.push(h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,y.signature));if(0<y.unauthenticatedAttributes.length){for(var t=h.create(h.Class.CONTEXT_SPECIFIC,1,!0,[]),S=0;S<y.unauthenticatedAttributes.length;++S)t.values.push(u(y.unauthenticatedAttributes[S]));B.value.push(t)}A.call(z,B)}f.signerInfos=F}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.");},addCertificate:function(f){"string"===typeof f&&(f=l.pki.certificateFromPem(f));c.certificates.push(f)},
addCertificateRevokationList:function(f){throw Error("PKCS#7 CRL support not yet implemented.");}}};p.createEncryptedData=function(){var c=null;return c={type:l.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:l.pki.oids["aes256-CBC"]},fromAsn1:function(f){J(c,f,p.asn1.encryptedDataValidator)},decrypt:function(f){void 0!==f&&(c.encryptedContent.key=f);W(c)}}};p.createEnvelopedData=function(){var c=null;return c={type:l.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:l.pki.oids["aes256-CBC"]},
fromAsn1:function(f){var r=J(c,f,p.asn1.envelopedDataValidator);f=c;r=r.recipientInfos.value;for(var z=[],M=0;M<r.length;++M){var A=z,F=A.push,y={};var B=[];if(!h.validate(r[M],p.asn1.recipientInfoValidator,y,B))throw f=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo."),f.errors=B,f;B={version:y.version.charCodeAt(0),issuer:l.pki.RDNAttributesAsArray(y.issuer),serialNumber:l.util.createBuffer(y.serial).toHex(),encryptedContent:{algorithm:h.derToOid(y.encAlgorithm),
parameter:y.encParameter.value,content:y.encKey}};F.call(A,B)}f.recipients=z},toAsn1:function(){for(var f=h,r=f.create,z=h.Class.UNIVERSAL,M=h.Type.SEQUENCE,A=h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(c.type).getBytes()),F=h,y=F.create,B=h.Class.CONTEXT_SPECIFIC,t=h,S=t.create,k=h.Class.UNIVERSAL,e=h.Type.SEQUENCE,q=h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(c.version).getBytes()),H=h,g=H.create,x=h.Class.UNIVERSAL,I=h.Type.SET,Q=c.recipients,Z=[],Y=0;Y<Q.length;++Y){var ba=
Z,ha=ba.push;var ia=Q[Y];ia=h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,h.integerToDer(ia.version).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[l.pki.distinguishedNameToAsn1({attributes:ia.issuer}),h.create(h.Class.UNIVERSAL,h.Type.INTEGER,!1,l.util.hexToBytes(ia.serialNumber))]),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(ia.encryptedContent.algorithm).getBytes()),h.create(h.Class.UNIVERSAL,
h.Type.NULL,!1,"")]),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,ia.encryptedContent.content)]);ha.call(ba,ia)}H=g.call(H,x,I,!0,Z);g=h;x=g.create;I=h.Class.UNIVERSAL;Q=h.Type.SEQUENCE;Z=c.encryptedContent;Z=[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(l.pki.oids.data).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.SEQUENCE,!0,[h.create(h.Class.UNIVERSAL,h.Type.OID,!1,h.oidToDer(Z.algorithm).getBytes()),h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,Z.parameter.getBytes())]),h.create(h.Class.CONTEXT_SPECIFIC,
0,!0,[h.create(h.Class.UNIVERSAL,h.Type.OCTETSTRING,!1,Z.content.getBytes())])];return r.call(f,z,M,!0,[A,y.call(F,B,0,!0,[S.call(t,k,e,!0,[q,H,x.call(g,I,Q,!0,Z)])])])},findRecipient:function(f){for(var r=f.issuer.attributes,z=0;z<c.recipients.length;++z){var M=c.recipients[z],A=M.issuer;if(M.serialNumber===f.serialNumber&&A.length===r.length){for(var F=!0,y=0;y<r.length;++y)if(A[y].type!==r[y].type||A[y].value!==r[y].value){F=!1;break}if(F)return M}}return null},decrypt:function(f,r){if(void 0===
c.encryptedContent.key&&void 0!==f&&void 0!==r)switch(f.encryptedContent.algorithm){case l.pki.oids.rsaEncryption:case l.pki.oids.desCBC:f=r.decrypt(f.encryptedContent.content);c.encryptedContent.key=l.util.createBuffer(f);break;default:throw Error("Unsupported asymmetric cipher, OID "+f.encryptedContent.algorithm);}W(c)},addRecipient:function(f){c.recipients.push({version:0,issuer:f.issuer.attributes,serialNumber:f.serialNumber,encryptedContent:{algorithm:l.pki.oids.rsaEncryption,key:f.publicKey}})},
encrypt:function(f,r){if(void 0===c.encryptedContent.content){r=r||c.encryptedContent.algorithm;f=f||c.encryptedContent.key;var z;switch(r){case l.pki.oids["aes128-CBC"]:var M=z=16;var A=l.aes.createEncryptionCipher;break;case l.pki.oids["aes192-CBC"]:z=24;M=16;A=l.aes.createEncryptionCipher;break;case l.pki.oids["aes256-CBC"]:z=32;M=16;A=l.aes.createEncryptionCipher;break;case l.pki.oids["des-EDE3-CBC"]:z=24;M=8;A=l.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+
r);}if(void 0===f)f=l.util.createBuffer(l.random.getBytes(z));else if(f.length()!=z)throw Error("Symmetric key has wrong length; got "+f.length()+" bytes, expected "+z+".");c.encryptedContent.algorithm=r;c.encryptedContent.key=f;c.encryptedContent.parameter=l.util.createBuffer(l.random.getBytes(M));f=A(f);f.start(c.encryptedContent.parameter.copy());f.update(c.content);if(!f.finish())throw Error("Symmetric encryption failed.");c.encryptedContent.content=f.output}for(f=0;f<c.recipients.length;++f)if(r=
c.recipients[f],void 0===r.encryptedContent.content)switch(r.encryptedContent.algorithm){case l.pki.oids.rsaEncryption:r.encryptedContent.content=r.encryptedContent.key.encrypt(c.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+r.encryptedContent.algorithm);}}}}},function(R,G,E){function u(h,p){p=p.toString(16);"8"<=p[0]&&(p="00"+p);p=l.util.hexToBytes(p);h.putInt32(p.length);h.putBytes(p)}function J(h,p){h.putInt32(p.length);h.putString(p)}function W(){for(var h=
l.md.sha1.create(),p=arguments.length,c=0;c<p;++c)h.update(arguments[c]);return h.digest()}var l=E(5);E(20);E(25);E(37);E(26);E(7);R=R.exports=l.ssh=l.ssh||{};R.privateKeyToPutty=function(h,p,c){c=c||"";p=p||"";var f=""===p?"none":"aes256-cbc";var r="PuTTY-User-Key-File-2: ssh-rsa\r\nEncryption: "+(f+"\r\nComment: ")+(c+"\r\n");var z=l.util.createBuffer();J(z,"ssh-rsa");u(z,h.e);u(z,h.n);var M=l.util.encode64(z.bytes(),64),A=Math.floor(M.length/66)+1;r+="Public-Lines: "+A+"\r\n";r+=M;M=l.util.createBuffer();
u(M,h.d);u(M,h.p);u(M,h.q);u(M,h.qInv);p?(A=M.length()+16-1,A-=A%16,h=W(M.bytes()),h.truncate(h.length()-A+M.length()),M.putBuffer(h),A=l.util.createBuffer(),A.putBuffer(W("\x00\x00\x00\x00",p)),A.putBuffer(W("\x00\x00\x00\u0001",p)),A=l.aes.createEncryptionCipher(A.truncate(8),"CBC"),A.start(l.util.createBuffer().fillWithByte(0,16)),A.update(M.copy()),A.finish(),A=A.output,A.truncate(16),h=l.util.encode64(A.bytes(),64)):h=l.util.encode64(M.bytes(),64);A=Math.floor(h.length/66)+1;r+="\r\nPrivate-Lines: "+
A+"\r\n";r+=h;p=W("putty-private-key-file-mac-key",p);A=l.util.createBuffer();J(A,"ssh-rsa");J(A,f);J(A,c);A.putInt32(z.length());A.putBuffer(z);A.putInt32(M.length());A.putBuffer(M);c=l.hmac.create();c.start("sha1",p);c.update(A.bytes());return r+="\r\nPrivate-MAC: "+c.digest().toHex()+"\r\n"};R.publicKeyToOpenSSH=function(h,p){p=p||"";var c=l.util.createBuffer();J(c,"ssh-rsa");u(c,h.e);u(c,h.n);return"ssh-rsa "+l.util.encode64(c.bytes())+" "+p};R.privateKeyToOpenSSH=function(h,p){return p?l.pki.encryptRsaPrivateKey(h,
p,{legacy:!0,algorithm:"aes128"}):l.pki.privateKeyToPem(h)};R.getPublicKeyFingerprint=function(h,p){p=p||{};var c=p.md||l.md.md5.create(),f=l.util.createBuffer();J(f,"ssh-rsa");u(f,h.e);u(f,h.n);c.start();c.update(f.getBytes());h=c.digest();if("hex"===p.encoding)return h=h.toHex(),p.delimiter?h.match(/.{2}/g).join(p.delimiter):h;if("binary"===p.encoding)return h.getBytes();if(p.encoding)throw Error('Unknown encoding "'+p.encoding+'".');return h}},function(R,G,E){var u=E(5);E(59);E(61);E(7);var J=
{},W=0;u.debug.set("forge.task","tasks",J);var l={};u.debug.set("forge.task","queues",l);var h={ready:{}};h.ready.stop="ready";h.ready.start="running";h.ready.cancel="done";h.ready.fail="error";h.running={};h.running.stop="ready";h.running.start="running";h.running.block="blocked";h.running.unblock="running";h.running.sleep="sleeping";h.running.wakeup="running";h.running.cancel="done";h.running.fail="error";h.blocked={};h.blocked.stop="blocked";h.blocked.start="blocked";h.blocked.block="blocked";
h.blocked.unblock="blocked";h.blocked.sleep="blocked";h.blocked.wakeup="blocked";h.blocked.cancel="done";h.blocked.fail="error";h.sleeping={};h.sleeping.stop="sleeping";h.sleeping.start="sleeping";h.sleeping.block="sleeping";h.sleeping.unblock="sleeping";h.sleeping.sleep="sleeping";h.sleeping.wakeup="sleeping";h.sleeping.cancel="done";h.sleeping.fail="error";h.done={};h.done.stop="done";h.done.start="done";h.done.block="done";h.done.unblock="done";h.done.sleep="done";h.done.wakeup="done";h.done.cancel=
"done";h.done.fail="error";h.error={};h.error.stop="error";h.error.start="error";h.error.block="error";h.error.unblock="error";h.error.sleep="error";h.error.wakeup="error";h.error.cancel="error";h.error.fail="error";var p=function(z){this.id=-1;this.name=z.name||"?";this.parent=z.parent||null;this.run=z.run;this.subtasks=[];this.error=!1;this.state="ready";this.blocks=0;this.userData=this.swapTime=this.timeoutId=null;this.id=W++;J[this.id]=this};p.prototype.debug=function(z){u.log.debug("forge.task",
z||"","[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",l)};p.prototype.next=function(z,M){"function"===typeof z&&(M=z,z=this.name);z=new p({run:M,name:z,parent:this});z.state="running";z.type=this.type;z.successCallback=this.successCallback||null;z.failureCallback=this.failureCallback||null;this.subtasks.push(z);return this};p.prototype.parallel=function(z,M){u.util.isArray(z)&&(M=z,z=this.name);return this.next(z,function(A){A.block(M.length);for(var F=function(B,
t){u.task.start({type:B,run:function(S){M[t](S)},success:function(S){A.unblock()},failure:function(S){A.unblock()}})},y=0;y<M.length;y++)F(z+"__parallel-"+A.id+"-"+y,y)})};p.prototype.stop=function(){this.state=h[this.state].stop};p.prototype.start=function(){this.error=!1;this.state=h[this.state].start;"running"===this.state&&(this.start=new Date,this.run(this),f(this,0))};p.prototype.block=function(z){this.blocks+="undefined"===typeof z?1:z;0<this.blocks&&(this.state=h[this.state].block)};p.prototype.unblock=
function(z){this.blocks-="undefined"===typeof z?1:z;0===this.blocks&&"done"!==this.state&&(this.state="running",f(this,0));return this.blocks};p.prototype.sleep=function(z){this.state=h[this.state].sleep;var M=this;this.timeoutId=setTimeout(function(){M.timeoutId=null;M.state="running";f(M,0)},"undefined"===typeof z?0:z)};p.prototype.wait=function(z){z.wait(this)};p.prototype.wakeup=function(){"sleeping"===this.state&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state="running",f(this,
0))};p.prototype.cancel=function(){this.state=h[this.state].cancel;this.permitsNeeded=0;null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null);this.subtasks=[]};p.prototype.fail=function(z){this.error=!0;r(this,!0);if(z)z.error=this.error,z.swapTime=this.swapTime,z.userData=this.userData,f(z,0);else{if(null!==this.parent){for(z=this.parent;null!==z.parent;)z.error=this.error,z.swapTime=this.swapTime,z.userData=this.userData,z=z.parent;r(z,!0)}this.failureCallback&&this.failureCallback(this)}};
var c=function(z){z.error=!1;z.state=h[z.state].start;setTimeout(function(){"running"===z.state&&(z.swapTime=+new Date,z.run(z),f(z,0))},0)},f=function(z,M){var A=30<M||20<+new Date-z.swapTime,F=function(y){y++;if("running"===z.state)if(A&&(z.swapTime=+new Date),0<z.subtasks.length){var B=z.subtasks.shift();B.error=z.error;B.swapTime=z.swapTime;B.userData=z.userData;B.run(B);B.error||f(B,y)}else r(z),z.error||null===z.parent||(z.parent.error=z.error,z.parent.swapTime=z.swapTime,z.parent.userData=
z.userData,f(z.parent,y))};A?setTimeout(F,0):F(M)},r=function(z,M){z.state="done";delete J[z.id];null===z.parent&&(z.type in l?0===l[z.type].length?u.log.error("forge.task","[%s][%s] task queue empty [%s]",z.id,z.name,z.type):l[z.type][0]!==z?u.log.error("forge.task","[%s][%s] task not first in queue [%s]",z.id,z.name,z.type):(l[z.type].shift(),0===l[z.type].length?delete l[z.type]:l[z.type][0].start()):u.log.error("forge.task","[%s][%s] task queue missing [%s]",z.id,z.name,z.type),M||(z.error&&z.failureCallback?
z.failureCallback(z):!z.error&&z.successCallback&&z.successCallback(z)))};R.exports=u.task=u.task||{};u.task.start=function(z){var M=new p({run:z.run,name:z.name||"?"});M.type=z.type;M.successCallback=z.success||null;M.failureCallback=z.failure||null;M.type in l?l[z.type].push(M):(l[M.type]=[M],c(M))};u.task.cancel=function(z){z in l&&(l[z]=[l[z][0]])};u.task.createCondition=function(){var z={tasks:{},wait:function(M){M.id in z.tasks||(M.block(),z.tasks[M.id]=M)},notify:function(){var M=z.tasks;z.tasks=
{};for(var A in M)M[A].unblock()}};return z}},function(R,G,E){function u(ea){return void 0===ea||null===ea?"":ea.toString()}function J(ea){return function(b){var N=u(b);if(N.length>ea)throw Error("Value ".concat(b," is longer thant ").concat(ea,"."));return N}}function W(ea){return function(b){var N=u(b);if(!ea.test(N))throw N=ea.toString(),Error("Value ".concat(b," does not match ").concat(N,"."));return N}}function l(ea){if(ea instanceof Date){var b=("00"+ea.getDate()).slice(-2),N=("00"+(ea.getMonth()+
1)).slice(-2);ea=ea.getFullYear().toString();return"".concat(b,"-").concat(N,"-").concat(ea)}throw Error("Date expected and ".concat(ea," found."));}function h(ea){if(ea instanceof Date){var b=("00"+ea.getHours()).slice(-2),N=("00"+ea.getMinutes()).slice(-2);ea=("00"+ea.getSeconds()).slice(-2);return"".concat(b,":").concat(N,":").concat(ea)}throw Error("Date expected and ".concat(ea," found."));}function p(ea){var b=.01;if(ea){if(!b||0>b)b=1;ea/=b;var N=Math.pow(2,Math.log(Math.abs(ea))/Math.log(2)-
52);ea+=0<=ea?N:-N;b*=(0>ea?-1:1)*Math.round(Math.abs(ea))}else b=0;return b}function c(ea){if("number"===typeof ea)return p(ea).toFixed(2);throw Error("Number expected and ".concat(ea," found."));}function f(ea,b){var N;if("undefined"===typeof Symbol||null==ea[Symbol.iterator]){if(Array.isArray(ea)||(N=r(ea))||b&&ea&&"number"===typeof ea.length){N&&(ea=N);var ja=0;b=function(){};return{s:b,n:function(){return ja>=ea.length?{done:!0}:{done:!1,value:ea[ja++]}},e:function(za){throw za;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var fa=!0,ma=!1,ta;return{s:function(){N=ea[Symbol.iterator]()},n:function(){var za=N.next();fa=za.done;return za},e:function(za){ma=!0;ta=za},f:function(){try{if(!fa&&null!=N["return"])N["return"]()}finally{if(ma)throw ta;}}}}function r(ea,b){if(ea){if("string"===typeof ea)return z(ea,b);var N=Object.prototype.toString.call(ea).slice(8,-1);"Object"===N&&ea.constructor&&(N=ea.constructor.name);if("Map"===N||"Set"===N)return Array.from(ea);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return z(ea,
b)}}function z(ea,b){if(null==b||b>ea.length)b=ea.length;for(var N=0,ja=Array(b);N<b;N++)ja[N]=ea[N];return ja}function M(ea,b){b=f(b);var N;try{for(b.s();!(N=b.n()).done;){var ja=N.value,fa,ma;var ta=ja;var za=Array.isArray(ta)?ta:void 0;if(!(ma=za))if(ta=void 0,"undefined"!==typeof Symbol&&Symbol.iterator in Object(ja)){var Ga=[],Ta=!0,Fa=!1,Ka=void 0;try{for(var ca=ja[Symbol.iterator]();!(Ta=(ta=ca.next()).done)&&(Ga.push(ta.value),3!==Ga.length);Ta=!0);}catch(Ua){Fa=!0,Ka=Ua}finally{try{if(!Ta&&
null!=ca["return"])ca["return"]()}finally{if(Fa)throw Ka;}}ma=Ga}else ma=void 0;if(!(fa=ma||r(ja,3)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");var ka=fa;var ra=ka[1],Aa=ka[2],La=Object(ia.a)(ea,ka[0]);La&&(void 0===ra&&La.parentNode?La.parentNode.removeChild(La):La.textContent=Aa(ra))}}catch(Ua){b.e(Ua)}finally{b.f()}}function A(ea){return ea.parentNode?(ea.parentNode.removeChild(ea),
!0):!1}function F(ea,b,N,ja){var fa=ja?function(ta,za){if(ta in za)return za[ta];throw Error("VAT "+ta+" not found in "+JSON.stringify(za));}:function(ta,za){return 0};var ma=ja||{};return ea.map(function(ta){var za=ta.vat||b,Ga=ta.retention||N||0;if(void 0===za)throw Error("Found invoice line without VAT and no default VAT defined");var Ta=fa(c(za),ma),Fa=p(ta.quantity),Ka=ta.price,ca=ta.discount||0,ka=ta.amount||Fa*Ka*(1-ca/100),ra=ta.amountWithVat||ka*(1+za/100)*(1+Ta/100)-ka*Ga/100,Aa=ta.discountAmount||
ca/100*Ka*Fa;return{description:ta.description,quantity:Fa,price:p(Ka),discount:p(ca),amount:p(ka),amountWithVat:p(ra),discountAmount:p(Aa),vat:za,vat2:Ta,retention:Ga,exemptionReason:ta.exemptionReason,notSubjectToVatReason:ta.notSubjectToVatReason,notExemptionType:ta.notExemptionType,merchandiseOrService:ta.merchandiseOrService,isUsingSimplifiedRegime:ta.isUsingSimplifiedRegime||!1,raw:{price:Ka,discount:ca,amount:ka}}})}function y(ea){return ea.map(function(b){var N=void 0===b.amount?p(b.base)*
p(b.rate)/100:b.amount;return{base:p(b.base),rate:p(b.rate),amount:p(N),rate2:p(b.rate2||0),amount2:p(b.amount2||0),exemptionReason:b.exemptionReason,notExemptionType:b.notExemptionType,notSubjectToVatReason:b.notSubjectToVatReason,merchandiseOrService:b.merchandiseOrService,isUsingSimplifiedRegime:b.isUsingSimplifiedRegime||!1}})}function B(ea){return ea.map(function(b){var N=void 0===b.amount?p(b.base)*p(b.rate)/100:b.amount;return{base:p(b.base),rate:p(b.rate),amount:p(N)}})}function t(ea){return Object.values(ea.reduce(function(b,
N){var ja=N.amount,fa=N.vat,ma=fa+"-"+N.isUsingSimplifiedRegime;fa=p(ja*fa/100);var ta=N.vat2||0,za=p(ja*ta/100);b[ma]?(b[ma].base+=ja,b[ma].amount+=fa,b[ma].amount2+=za):b[ma]={base:ja,rate:N.vat,rate2:ta,amount:fa,amount2:za,exemptionReason:N.exemptionReason,notExemptionType:N.notExemptionType,notSubjectToVatReason:N.notSubjectToVatReason,merchandiseOrService:N.merchandiseOrService,isUsingSimplifiedRegime:N.isUsingSimplifiedRegime};return b},{}))}function S(ea){return Object.values(ea.reduce(function(b,
N){var ja=N.amount,fa=N.retention,ma=p(ja*fa/100);b[fa]?(b[fa].base+=ja,b[fa].amount+=ma):b[fa]={base:ja,rate:N.retention,amount:ma};return b},{}))}function k(ea){return Object.values(ea.reduce(function(b,N){var ja=N.raw.amount,fa=N.vat,ma=fa+"-"+N.isUsingSimplifiedRegime;fa=ja*fa/100;var ta=N.vat2||0,za=ja*ta/100;b[ma]?(b[ma].base+=ja,b[ma].amount+=fa,b[ma].amount2+=za):b[ma]={base:ja,rate:N.vat,rate2:ta,amount:fa,amount2:za,exemptionReason:N.exemptionReason,notExemptionType:N.notExemptionType,notSubjectToVatReason:N.notSubjectToVatReason,
merchandiseOrService:N.merchandiseOrService,isUsingSimplifiedRegime:N.isUsingSimplifiedRegime};return b},{}))}function e(ea){return Object.values(ea.reduce(function(b,N){var ja=N.raw.amount,fa=N.retention,ma=ja*fa/100;b[fa]?(b[fa].base+=ja,b[fa].amount+=ma):b[fa]={base:ja,rate:N.retention,amount:ma};return b},{}))}function q(ea){return ea.reduce(function(b,N){return b+N.amount},0)}function H(ea,b){return ea.reduce(function(N,ja){return N+ja.base+ja.amount},0)-q(b)}function g(ea,b,N){ea="\n<IDFacturaRectificadaSustituida>\n    <SerieFactura/>\n    <NumFactura/>\n    <FechaExpedicionFactura/>\n</IDFacturaRectificadaSustituida>\n".replace(/>\s+</g,
"><");ea=(new DOMParser).parseFromString(ea,"application/xml");M(ea,[["SerieFactura",N.serie,v],["NumFactura",N.number,v],["FechaExpedicionFactura",N.issuedTime,l]]);N.serie||Object(ia.b)(ea,"SerieFactura").forEach(A);b.appendChild(ea.documentElement)}function x(ea,b,N){var ja=ea.createElement("DetalleIVA"),fa=ea.createElement("BaseImponible"),ma=ea.createElement("TipoImpositivo"),ta=ea.createElement("CuotaImpuesto");fa.textContent=c(N.base);ma.textContent=c(N.rate);ta.textContent=c(N.amount);b.appendChild(ja);
ja.appendChild(fa);ja.appendChild(ma);ja.appendChild(ta);N.isUsingSimplifiedRegime&&(ea=ea.createElement("OperacionEnRecargoDeEquivalenciaORegimenSimplificado"),ea.textContent="S",ja.appendChild(ea))}function I(ea,b,N){var ja=[],fa=[],ma=[],ta=[],za=ea.createElement("Sujeta"),Ga=ea.createElement("Exenta"),Ta=ea.createElement("NoExenta"),Fa=ea.createElement("DetalleNoExenta"),Ka=ea.createElement("TipoNoExenta"),ca=ea.createElement("DesgloseIVA"),ka=ea.createElement("DetalleNoExenta"),ra=ea.createElement("TipoNoExenta"),
Aa=ea.createElement("DesgloseIVA"),La=ea.createElement("NoSujeta");N=f(N);var Ua;try{for(N.s();!(Ua=N.n()).done;){var Ra=Ua.value;Ra.notSubjectToVatReason?ta.push(Ra):Ra.exemptionReason?ja.push(Ra):Ra.notExemptionType&&"S1"!==Ra.notExemptionType?"S2"===Ra.notExemptionType&&ma.push(Ra):fa.push(Ra)}}catch(ua){N.e(ua)}finally{N.f()}Ua=fa.length+ma.length;if(7<ja.length)throw Error("Exempted VAT max. occurs is 7");if(6<Ua)throw Error("Not exempted VAT max. occurs is 6");if(2<ta.length)throw Error("Not subject to VAT max. occurs is 2");
if(0<ja.length||0<Ua){b.appendChild(za);if(0<ja.length){za.appendChild(Ga);ja=f(ja);var Ia;try{for(ja.s();!(Ia=ja.n()).done;){Ra=ea;N=Ga;var Ha=Ia.value,Va=Ra.createElement("DetalleExenta"),Pa=Ra.createElement("CausaExencion"),d=Ra.createElement("BaseImponible");if(Ha.exemptionReason)Pa.textContent=Ha.exemptionReason;else throw Error("Exemption reason is required.");d.textContent=c(Ha.base);N.appendChild(Va);Va.appendChild(Pa);Va.appendChild(d);if(Ha.isUsingSimplifiedRegime){var T=Ra.createElement("OperacionEnRecargoDeEquivalenciaORegimenSimplificado");
T.textContent="S";Va.appendChild(T)}}}catch(ua){ja.e(ua)}finally{ja.f()}}if(0<Ua){za.appendChild(Ta);if(0<fa.length){Ta.appendChild(Fa);Ka.textContent="S1";Fa.appendChild(Ka);Fa.appendChild(ca);fa=f(fa);var da;try{for(fa.s();!(da=fa.n()).done;)x(ea,ca,da.value)}catch(ua){fa.e(ua)}finally{fa.f()}}if(0<ma.length){Ta.appendChild(ka);ra.textContent="S2";ka.appendChild(ra);ka.appendChild(Aa);ma=f(ma);var va;try{for(ma.s();!(va=ma.n()).done;)x(ea,Aa,va.value)}catch(ua){ma.e(ua)}finally{ma.f()}}}}if(0<ta.length){b.appendChild(La);
b=f(ta);var oa;try{for(b.s();!(oa=b.n()).done;){ta=ea;Aa=La;var m=oa.value,U=ta.createElement("DetalleNoSujeta"),aa=ta.createElement("Causa"),pa=ta.createElement("Importe");if(m.notSubjectToVatReason)aa.textContent=m.notSubjectToVatReason;else throw Error("Not subject to VAT reason is required.");pa.textContent=c(m.base);Aa.appendChild(U);U.appendChild(aa);U.appendChild(pa)}}catch(ua){b.e(ua)}finally{b.f()}}}function Q(ea,b,N){N=N||{};var ja=(new DOMParser).parseFromString(xa,"application/xml");if(!ea.issuer||
!ea.issuer.irsId||!ea.issuer.name)throw Error("Issuer ID and fiscal name are required.");if(!ea.id||!ea.id.number||!ea.id.issuedTime)throw Error("Invoice number and expedition date are required.");if(!(b&&b.license&&b.name&&b.version&&b.developerIrsId))throw Error("Software license, name, version and Software Developer fiscal ID are required.");ea=[["Emisor>NIF",ea.issuer.irsId,P],["ApellidosNombreRazonSocial",ea.issuer.name,D],["CabeceraFactura>SerieFactura",ea.id.serie,v],["CabeceraFactura>NumFactura",
ea.id.number,v],["CabeceraFactura>FechaExpedicionFactura",ea.id.issuedTime,l],["Software>LicenciaTBAI",b.license,v],["Software>Nombre",b.name,D],["Software>Version",b.version,v],["EntidadDesarrolladora>NIF",b.developerIrsId,P]];N.deviceId?ea=ea.concat([["NumSerieDispositivo",N.deviceId,n]]):Object(ia.b)(ja,"NumSerieDispositivo").forEach(A);M(ja,ea);return ja}function Z(ea,b,N,ja){var fa=F(ea.lines||[],ea.vat,ea.retention,void 0);ja=ja||{};if(!ea.recipient&&!ea.simple)throw Error("Invoice without recipients and without simplified invoice check.");
if(!ea.issuer||!ea.issuer.irsId||!ea.issuer.name)throw Error("Issuer ID and fiscal name are required.");if(!ea.id||!ea.id.number||!ea.id.issuedTime)throw Error("Invoice number and expedition date are required.");if(!(N&&N.license&&N.name&&N.version&&N.developerIrsId))throw Error("Software license, name, version and Software Developer fiscal ID are required.");if(ea.lines){var ma=ea.description||{text:"",operationDate:ea.id.issuedTime};var ta=ea.vatLines?y(ea.vatLines):ja.roundTaxGlobally?y(k(fa)):
y(t(fa));var za=ea.retentionLines?B(ea.retentionLines):ja.roundTaxGlobally?B(e(fa)):B(S(fa))}else if(ea.vatLines&&ea.description)ta=y(ea.vatLines),ma=ea.description,za=ea.retentionLines?B(ea.retentionLines):[];else throw Error("Either lines or description + vat details must be provided.");if(void 0!==ea.retentionAmount&&0<za.length)throw Error("You cannot set Retention Amount and Retention rates (IRPF) at the same time!");var Ga=void 0!==ea.total?ea.total:H(ta,za)-(ea.retentionAmount||0);var Ta=ea.retentionAmount||
q(za);za=(new DOMParser).parseFromString(Da,"application/xml");N=[["Emisor>NIF",ea.issuer.irsId,P],["Emisor>ApellidosNombreRazonSocial",ea.issuer.name,D],["CabeceraFactura>SerieFactura",ea.id.serie,v],["CabeceraFactura>NumFactura",ea.id.number,v],["CabeceraFactura>FechaExpedicionFactura",ea.id.issuedTime,l],["CabeceraFactura>HoraExpedicionFactura",ea.id.issuedTime,h],["DescripcionFactura",ma.text,V],["ImporteTotalFactura",Ga,c],["RetencionSoportada",Ta,c],["Software>LicenciaTBAI",N.license,v],["Software>Nombre",
N.name,D],["Software>Version",N.version,v],["EntidadDesarrolladora>NIF",N.developerIrsId,P]];b?N=N.concat([["SerieFacturaAnterior",b.serie,v],["NumFacturaAnterior",b.number,v],["FechaExpedicionFacturaAnterior",b.issuedTime,l],["SignatureValueFirmaFacturaAnterior",b.hash,w]]):Object(ia.b)(za,"EncadenamientoFacturaAnterior").forEach(A);Ga=ea.lines||[];b=ea.vatLines||[];if(ea.recipient&&"ES"!=ea.recipient.country){Ga=f(Ga);var Fa;try{for(Ga.s();!(Fa=Ga.n()).done;)if(!Fa.value.merchandiseOrService)throw Error("merchandiseOrService is required for foreign receivers");
}catch(m){Ga.e(m)}finally{Ga.f()}Fa=f(b);var Ka;try{for(Fa.s();!(Ka=Fa.n()).done;)if(!Ka.value.merchandiseOrService)throw Error("merchandiseOrService is required for foreign receivers");}catch(m){Fa.e(m)}finally{Fa.f()}}if(Ka=ea.recipient)if(Ka.idType){Fa="\n<IDDestinatario>\n    <IDOtro>\n        <CodigoPais/>\n        <IDType/>\n        <ID/>\n    </IDOtro>\n    <ApellidosNombreRazonSocial/>\n    <CodigoPostal/>\n    <Direccion/>\n</IDDestinatario>\n".replace(/>\s+</g,"><");Fa=(new DOMParser).parseFromString(Fa,
"application/xml");M(Fa,[["IDOtro>CodigoPais",Ka.country,na],["IDOtro>IDType",Ka.idType,na],["IDOtro>ID",Ka.id,v],["ApellidosNombreRazonSocial",Ka.name,D],["CodigoPostal",Ka.postal,v],["Direccion",Ka.address,V]]);Ka.postal||Object(ia.b)(Fa,"CodigoPostal").forEach(A);Ka.address||Object(ia.b)(Fa,"Direccion").forEach(A);Ka=Object(ia.a)(za,"Destinatarios");if(!Ka)throw Error("Missing Destinatarios element");Ka.appendChild(Fa.documentElement)}else{Fa="\n<IDDestinatario>\n    <NIF/>\n    <ApellidosNombreRazonSocial/>\n    <CodigoPostal/>\n    <Direccion/>\n</IDDestinatario>\n".replace(/>\s+</g,
"><");Fa=(new DOMParser).parseFromString(Fa,"application/xml");M(Fa,[["NIF",Ka.irsId,P],["ApellidosNombreRazonSocial",Ka.name,D],["CodigoPostal",Ka.postal,O],["Direccion",Ka.address,V]]);Ka.postal||Object(ia.b)(Fa,"CodigoPostal").forEach(A);Ka.address||Object(ia.b)(Fa,"Direccion").forEach(A);Ka=Object(ia.a)(za,"Destinatarios");if(!Ka)throw Error("Missing Destinatarios element");Ka.appendChild(Fa.documentElement)}else Object(ia.b)(za,"Destinatarios").forEach(A);ea.simple||Object(ia.b)(za,"FacturaSimplificada").forEach(A);
ja.deviceId?N=N.concat([["NumSerieDispositivo",ja.deviceId,n]]):Object(ia.b)(za,"NumSerieDispositivo").forEach(A);M(za,N);if(N=ja=Object(ia.a)(za,"TipoDesglose"))N=(N=ea.recipient)&&"ES"==N.country||!N?!0:!1;if(N){var ca=ta,ka=za.createElement("DesgloseFactura");ja.appendChild(ka);I(za,ka,ca)}else if(ja){Ga=ta;ta=[];N=[];Ka=za.createElement("DesgloseTipoOperacion");Fa=za.createElement("PrestacionServicios");b=za.createElement("Entrega");ja.appendChild(Ka);ja=f(Ga);try{for(ja.s();!(ca=ja.n()).done;)if(ka=
ca.value,"merchandise"===ka.merchandiseOrService)N.push(ka);else if("service"===ka.merchandiseOrService)ta.push(ka);else throw Error("You must set merchandise or service for non spanish customers VAT lines.");}catch(m){ja.e(m)}finally{ja.f()}0<ta.length&&(Ka.appendChild(Fa),I(za,Fa,ta));0<N.length&&(Ka.appendChild(b),I(za,b,N))}else throw Error("TipoDesglose XML node is required.");ea.replacesTicket||ea.creditNote||Object(ia.b)(za,"FacturasRectificadasSustituidas").forEach(A);if(!ea.replacesTicket)Object(ia.b)(za,
"FacturaEmitidaSustitucionSimplificada").forEach(A);else if(ea.replacedTicketIds){if(ea.replacedTicketIds.length>qa)throw Error("Only up to 100 replaced invoices allowed");ca=Object(ia.a)(za,"FacturasRectificadasSustituidas");ka=f(ea.replacedTicketIds);var ra;try{for(ka.s();!(ra=ka.n()).done;)g(za,ca,ra.value)}catch(m){ka.e(m)}finally{ka.f()}}if(ra=ea.creditNote){ca="\n<FacturaRectificativa>\n    <Codigo/>\n    <Tipo/>\n    <ImporteRectificacionSustitutiva>\n        <BaseRectificada/>\n        <CuotaRectificada/>\n        <CuotaRecargoRectificada/>\n    </ImporteRectificacionSustitutiva>\n</FacturaRectificativa>\n".replace(/>\s+</g,
"><");ca=(new DOMParser).parseFromString(ca,"application/xml");M(ca,[["Codigo",ra.reason,u],["Tipo",ra.style,u],["ImporteRectificacionSustitutiva>BaseRectificada",ra.creditBase,c],["ImporteRectificacionSustitutiva>CuotaRectificada",ra.creditVat,c],["ImporteRectificacionSustitutiva>CuotaRecargoRectificada",ra.creditRecharge,c]]);ra.creditRecharge||Object(ia.b)(za,"CuotaRecargoRectificada").forEach(A);"I"==ra.style&&Object(ia.b)(za,"ImporteRectificacionSustitutiva").forEach(A);ka=Object(ia.a)(za,"CabeceraFactura");
if(!ka)throw Error("Missing CabeceraFactura element");ta=Object(ia.a)(za,"FacturaRectificativa");if(!ta)throw Error("Missing FacturaRectificativa element");ka.replaceChild(ca.documentElement,ta);if(ra.ids.length>qa)throw Error("Only up to 100 rectified invoices allowed");ca=Object(ia.a)(za,"FacturasRectificadasSustituidas");ra=f(ra.ids);var Aa;try{for(ra.s();!(Aa=ra.n()).done;)g(za,ca,Aa.value)}catch(m){ra.e(m)}finally{ra.f()}}else Object(ia.b)(za,"FacturaRectificativa").forEach(A);if(fa.length>ya)throw Error("Only up to 1000 invoice lines allowed");
if(0<fa.length){Aa=Object(ia.a)(za,"DetallesFactura");if(!Aa)throw Error("Missing DetallesFactura element");fa=f(fa);var La;try{for(fa.s();!(La=fa.n()).done;){ra=za;ca=Aa;var Ua=La.value,Ra=ra.createElement("IDDetalleFactura"),Ia=ra.createElement("DescripcionDetalle"),Ha=ra.createElement("Cantidad"),Va=ra.createElement("ImporteUnitario"),Pa=ra.createElement("Descuento"),d=ra.createElement("ImporteTotal");Ia.textContent=V(Ua.description);Ha.textContent=c(Ua.quantity);Va.textContent=c(Ua.price);Pa.textContent=
c(Ua.discountAmount);d.textContent=c(Ua.amountWithVat);ca.appendChild(Ra);Ra.appendChild(Ia);Ra.appendChild(Ha);Ra.appendChild(Va);Ra.appendChild(Pa);Ra.appendChild(d)}}catch(m){fa.e(m)}finally{fa.f()}}else Object(ia.b)(za,"DetallesFactura").forEach(A);La=ea.vatKeys||["01"];if(La.length>K)throw Error("Only up to three VAT keys allowed");ea=Object(ia.a)(za,"Claves");if(!ea)throw Error("Missing Claves element");La=f(La);var T;try{for(La.s();!(T=La.n()).done;){Ua=za;Ra=ea;var da=T.value,va=Ua.createElement("IDClave"),
oa=Ua.createElement("ClaveRegimenIvaOpTrascendencia");oa.textContent=da;Ra.appendChild(va);va.appendChild(oa)}}catch(m){La.e(m)}finally{La.f()}return za}function Y(ea,b,N){ea=Q(ea,b,N);return(new XMLSerializer).serializeToString(ea)}function ba(ea,b,N,ja){ea=Z(ea,b,N,ja);return(new XMLSerializer).serializeToString(ea)}E.r(G);E.d(G,"getTbaiId",function(){return ha.d});E.d(G,"getTbaiChainInfo",function(){return ha.c});E.d(G,"Irs",function(){return ha.a});E.d(G,"getTbaiUrlFromBaseURL",function(){return ha.f});
E.d(G,"getTbaiUrl",function(){return ha.e});E.d(G,"TbaiSigner",function(){return ha.b});E.d(G,"cancelInvoiceToXmlDocument",function(){return Q});E.d(G,"toXmlDocument",function(){return Z});E.d(G,"cancelInvoiceToXml",function(){return Y});E.d(G,"toXml",function(){return ba});var ha=E(43);E(44);var ia=E(9),na=J(2),v=J(20),n=J(30),w=function(ea){return function(b){return u(b).substr(0,ea)}}(100),D=J(120),V=J(250),P=W(/^(([a-z|A-Z]{1}\d{7}[a-z|A-Z]{1})|(\d{8}[a-z|A-Z]{1})|([a-z|A-Z]{1}\d{8}))$/),O=W(/^\d{5}$/),
K=3,qa=100,ya=1E3,xa='\n<tbai:AnulaTicketBai xmlns:tbai="urn:ticketbai:anulacion">\n    <Cabecera>\n        <IDVersionTBAI>1.2</IDVersionTBAI>\n    </Cabecera>\n    <IDFactura>\n        <Emisor>\n            <NIF>????</NIF>\n            <ApellidosNombreRazonSocial>????</ApellidosNombreRazonSocial>\n        </Emisor>\n        <CabeceraFactura>\n            <SerieFactura>????</SerieFactura>\n            <NumFactura>????</NumFactura>\n            <FechaExpedicionFactura>????</FechaExpedicionFactura>\n        </CabeceraFactura>\n    </IDFactura>\n    <HuellaTBAI>\n        <Software>\n            <LicenciaTBAI>????</LicenciaTBAI>\n            <EntidadDesarrolladora>\n                <NIF>????</NIF>\n            </EntidadDesarrolladora>\n            <Nombre>????</Nombre>\n            <Version>????</Version>\n        </Software>\n        <NumSerieDispositivo>????</NumSerieDispositivo>\n    </HuellaTBAI>\n</tbai:AnulaTicketBai>'.replace(/>\s+</g,
"><").replace(/\s*xmlns/g," xmlns"),Da='\n<tbai:TicketBai xmlns:tbai="urn:ticketbai:emision">\n    <Cabecera>\n        <IDVersionTBAI>1.2</IDVersionTBAI>\n    </Cabecera>\n    <Sujetos>\n        <Emisor>\n            <NIF>????</NIF>\n            <ApellidosNombreRazonSocial>????</ApellidosNombreRazonSocial>\n        </Emisor>\n        <Destinatarios/>\n    </Sujetos>\n    <Factura>\n        <CabeceraFactura>\n            <SerieFactura>????</SerieFactura>\n            <NumFactura>????</NumFactura>\n            <FechaExpedicionFactura>????</FechaExpedicionFactura>\n            <HoraExpedicionFactura>????</HoraExpedicionFactura>\n            <FacturaSimplificada>S</FacturaSimplificada>\n            <FacturaEmitidaSustitucionSimplificada>S</FacturaEmitidaSustitucionSimplificada>\n            <FacturaRectificativa/>\n            <FacturasRectificadasSustituidas/>\n        </CabeceraFactura>\n        <DatosFactura>\n            <DescripcionFactura>????</DescripcionFactura>\n            <DetallesFactura></DetallesFactura>\n            <ImporteTotalFactura>????</ImporteTotalFactura>\n            <RetencionSoportada>????</RetencionSoportada>\n            <Claves></Claves>\n        </DatosFactura>\n        <TipoDesglose/>\n    </Factura>\n    <HuellaTBAI>\n        <EncadenamientoFacturaAnterior>\n            <SerieFacturaAnterior>????</SerieFacturaAnterior>\n            <NumFacturaAnterior>????</NumFacturaAnterior>\n            <FechaExpedicionFacturaAnterior>????</FechaExpedicionFacturaAnterior>\n            <SignatureValueFirmaFacturaAnterior>????</SignatureValueFirmaFacturaAnterior>\n        </EncadenamientoFacturaAnterior>\n        <Software>\n            <LicenciaTBAI>????</LicenciaTBAI>\n            <EntidadDesarrolladora>\n                <NIF>????</NIF>\n            </EntidadDesarrolladora>\n            <Nombre>????</Nombre>\n            <Version>????</Version>\n        </Software>\n        <NumSerieDispositivo>????</NumSerieDispositivo>\n    </HuellaTBAI>\n</tbai:TicketBai>'.replace(/>\s+</g,
"><").replace(/\s*xmlns/g," xmlns")}])});}).call(this || window)
