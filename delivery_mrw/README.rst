============
Delivery MRW
============

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--spain-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-spain/tree/14.0/delivery_gls_asm
    :alt: OCA/l10n-spain
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-spain-14-0/l10n-spain-14-0-delivery_gls_asm
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/189/14.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5|

Este módulo integra la API de MRW España con Odoo. No es válido para integraciones de
MRW en otros países, que podrían usar otras APIs.


**Table of contents**

.. contents::
   :local:

Installation
============

Este módulo depende de los módulos de OCA/delivery-carrier `delivery_package_number`
y `delivery_state`.

Configuration
=============

Para configurar el transportista:

#. Vaya a *Inventario > Configuración > Entrega > Método de envío* y cree uno
   nuevo.
#. Escoja *MRW* Como proveedor.
#. Configure los datos de servicio que tiene contratados y el producto de
   envío que desea utilizar.

Si no tiene credenciales todavía, puede usar el transportista de demo "MRW Test".

Se debe tener en cuenta que este método de envío solo está disponible para envío con
origen y destino dentro de España.

Usage
=====

Estas son las distintas operaciones posibles con este módulo:

Crear envío
~~~~~~~~~~~~~~~~

  #. Al confirmar el albarán, el envío se creará en MRW.
  #. Con la respuesta, se registrará en el chatter la referencia de envío y
     las etiquetas correspondientes.
  #. Para gestionar los bultos del envío, se puede utilizar el campo de número
     de bultos que añade `delivery_package_number` (ver el README para mayor
     información) o bien el flujo nativo de Odoo con paquetes de envío. El
     módulo mandará a la API de MRW el número correspondiente y podremos
     descargar las etiquetas en PDF con su correspondiente numeración.

Cancelar envíos
~~~~~~~~~~~~~~~~~~

  #. Al igual que en otros métodos de envío, en los albaranes de salida podemos
     cancelar un envío determinado mediante la acción correspondiente en la
     pestaña de *Información Adicional*, sección *Información de entrega* una
     vez el pedido esté confirmado y la expedición generada.
  #. Podremos generar una nueva expedición una vez cancelado si fuese necesario.

Obtener etiquetas
~~~~~~~~~~~~~~~~~~

  #. Si por error hubiésemos eliminado el adjunto de las etiquetas que obtuvimos
     en la grabación del servicio, podemos obtenerlas de nuevo pulsando en el
     botón "Etiqueta MRW" que tenemos en la parte superior de la vista
     formulario del albarán.

Seguimiento de envíos
~~~~~~~~~~~~~~~~~~~~~

  #. El módulo incorpora el botón 'Seguimiento' en el albarán que redirige a la página
     de MRW del envío en cuestión. También se puede usar el botón "Actualizar estado de
     Pedido" para cargar directamente en odoo el estado del pedido usando la API de MRW.

Manifiesto de envíos
~~~~~~~~~~~~~~~~~~~~

  #. Para obtener el manifiesto de expediciones que firmaría el repartidor,
     puede ir al menú *Inventario > Informes > Manifiesto de Envíos MRW*.
  #. También puede obtener el manifiesto desde un smart button en el formulario
     del transportista.
  #. En el asistente, seleccione el servicio MRW del cual quiere sacar el
     manifiesto (si se deja vacío cogerá todos) y la fecha en la cual desea listar los envíos.
  #. Pulse en el botón "Descargar Manifiesto" para obtener un listado en PDF de los
     envíos del servicio seleccionado.

Depuración de errores
~~~~~~~~~~~~~~~~~~~~~

  #. Es importante tener en cuenta que solo funcionará para envíos dentro de España.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-spain/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-spain/issues/new?body=module:%20delivery_gls_asm%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Roadmap
=======

* La API no facilita métodos para cotizar el coste real de los envíos, por lo
  que siempre ahora se cotizan con el precio de producto de envío seleccionado
  según la Tarifa seleccionada en el Pedido de Venta.

* En la documentación SAGEC versión 2.5 se recogía la información necesaria para crear
  un envío internacional.

  Pero en la documentación más reciente (v 4.1) parece que esta funcionalidad ya no se
  soporta. De todas formas, se ha mantenido el código por si lo volvieran a incluir y se
  ha escondido el botón "Envío Internacional" del formulario del método de envío para
  que no pueda ser seleccionado.

Credits
=======

Authors
~~~~~~~

* ForgeFlow

Contributors
~~~~~~~~~~~~

* `ForgeFlow S.L. <https://www.forgeflow.com>`_:

  * Maria de Luna <maria.de.luna@forgeflow.com>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/l10n-spain <https://github.com/OCA/l10n-spain/tree/14.0/delivery_gls_asm>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
